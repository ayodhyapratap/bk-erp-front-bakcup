(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1036:function(e,t,a){"use strict";var n=a(1),i=a.n(n),l=a(18),r=a(1593),s=a(1105),o=a(436),c=a.n(o),m=(a(440),a(437)),u=a(434),d=a(435),p=a(1608),h=a(433),b=a(1587),f=a(1578),g=a(1600),E=a(1183),y=a(1580),v=a(448),k=a(503),P=a(1609),O=a(1605),w=a(1568),S=a(763),C=a(461),D=a(441),_=a(460),x=a(809),T=a(127),A=a.n(T);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const L=r.a.Item,H=p.a.Meta;class R extends i.a.Component{constructor(e){super(e),M(this,"setClassState",(e,t)=>{this.setState({[e]:t})}),M(this,"loadPracticeTiming",()=>{const e=this;Object(d.c)(Object(d.g)(u.Q,[this.props.active_practiceId]),(function(t){let a={};t.length&&(a=t[0]);const n={};D.D.forEach((function(e){n[e]={},a.visting_hour_same_week?(n[e].startTime=c()(a.first_start_time,"HH:mm:ss"),n[e].endTime=c()(a.second_end_time,"HH:mm:ss"),a.is_two_sessions?(n[e].lunch=!0,n[e].lunchStartTime=c()(a.first_end_time,"HH:mm:ss"),n[e].lunchEndTime=c()(a.second_start_time,"HH:mm:ss")):n[e].lunch=!1):a[e]?(n[e].startTime=c()(a["first_start_time_".concat(e)],"HH:mm:ss"),n[e].endTime=c()(a["second_end_time_".concat(e)],"HH:mm:ss"),a["is_two_sessions_".concat(e)]?(n[e].lunch=!0,n[e].lunchStartTime=c()(a["first_end_time_".concat(e)],"HH:mm:ss"),n[e].lunchEndTime=c()(a["second_start_time_".concat(e)],"HH:mm:ss")):n[e].lunch=!1):n[e]=null})),e.setState({calendarTimings:N({},n)},(function(){e.findOutsidePracticeTiming()}))}),(function(){e.setState({calendarTimings:{}})}))}),M(this,"loadDoctorsTiming",()=>{const e=this;e.state.timeToCheckBlock.doctor&&Object(d.c)(Object(d.g)(u.pb,[this.props.active_practiceId]),(function(t){let a={};t.length&&(a=t[0]);const n={};D.D.forEach((function(e){n[e]={},a.visting_hour_same_week?(n[e].startTime=c()(a.first_start_time,"HH:mm:ss"),n[e].endTime=c()(a.second_end_time,"HH:mm:ss"),a.is_two_sessions?(n[e].lunch=!0,n[e].lunchStartTime=c()(a.first_end_time,"HH:mm:ss"),n[e].lunchEndTime=c()(a.second_start_time,"HH:mm:ss")):n[e].lunch=!1):a[e]?(n[e].startTime=c()(a["first_start_time_".concat(e)],"HH:mm:ss"),n[e].endTime=c()(a["second_end_time_".concat(e)],"HH:mm:ss"),a["is_two_sessions_".concat(e)]?(n[e].lunch=!0,n[e].lunchStartTime=c()(a["first_end_time_".concat(e)],"HH:mm:ss"),n[e].lunchEndTime=c()(a["second_start_time_".concat(e)],"HH:mm:ss")):n[e].lunch=!1):n[e]=null})),e.setState({doctorTimings:N({},n)},(function(){e.findOutsideDoctorTiming()}))}),(function(){}),{doctor:e.state.timeToCheckBlock.doctor})}),M(this,"setBlockedTiming",(e,t)=>{const a=this;e&&this.setState((function(a){return{timeToCheckBlock:N(N({},a.timeToCheckBlock),{},{[e]:t})}}),(function(){a.loadAppointmentList(),a.findBlockedTiming(),a.findOutsidePracticeTiming(),"doctor"==e?a.loadDoctorsTiming():a.findOutsideDoctorTiming()}))}),M(this,"findBlockedTiming",()=>{const e=this;Object(d.c)(u.D,(function(t){t.forEach((function(t){null==t.doctor?e.setState({practiceBlock:!0}):t.doctor==e.props.timeToCheckBlock.doctor&&e.setState({doctorBlock:!0})}))}),(function(){}),{practice:this.props.active_practiceId,cal_fdate:c()(e.state.timeToCheckBlock.schedule_at).format(),cal_tdate:c()(e.state.timeToCheckBlock.schedule_at).add(e.state.timeToCheckBlock.slot,"minutes").format()})}),M(this,"findOutsidePracticeTiming",()=>{const e=this;let t=!0;if(e.state.timeToCheckBlock.schedule_at&&e.state.timeToCheckBlock.slot){const a=e.state.timeToCheckBlock.schedule_at,n=e.state.calendarTimings,i=c()(a).isValid()?c()(a).format("dddd").toLowerCase():null;if(n&&i&&n[i]){const e=n[i];e.lunch?(c()(a,"HH:mm:ss").format("HH:mm:ss")<=e.startTime.format("HH:mm:ss")||c()(a,"HH:mm:ss").format("HH:mm:ss")>e.endTime.format("HH:mm:ss")||c()(a,"HH:mm:ss").format("HH:mm:ss")<e.lunchEndTime.format("HH:mm:ss")&&c()(a,"HH:mm:ss").format("HH:mm:ss")>=e.lunchStartTime.format("HH:mm:ss"))&&(t=!1):(c()(a,"HH:mm:ss").format("HH:mm:ss")<=e.startTime.format("HH:mm:ss")||c()(a,"HH:mm:ss").format("HH:mm:ss")>e.endTime.format("HH:mm:ss"))&&(t=!1)}else i&&!n[i]&&(t=!1)}e.setState({practiceOutsideAvailableTiming:!t})}),M(this,"findOutsideDoctorTiming",()=>{const e=this;let t=!0;if(e.state.timeToCheckBlock.schedule_at&&e.state.timeToCheckBlock.slot){const a=e.state.timeToCheckBlock.schedule_at,n=e.state.doctorTimings,i=c()(a).isValid()?c()(a).format("dddd").toLowerCase():null;if(n&&i&&n[i]){const e=n[i];e.lunch?(c()(a,"HH:mm:ss").format("HH:mm:ss")<=e.startTime.format("HH:mm:ss")||c()(a,"HH:mm:ss").format("HH:mm:ss")>e.endTime.format("HH:mm:ss")||c()(a,"HH:mm:ss").format("HH:mm:ss")<e.lunchEndTime.format("HH:mm:ss")&&c()(a,"HH:mm:ss").format("HH:mm:ss")>=e.lunchStartTime.format("HH:mm:ss"))&&(t=!1):(c()(a,"HH:mm:ss").format("HH:mm:ss")<=e.startTime.format("HH:mm:ss")||c()(a,"HH:mm:ss").format("HH:mm:ss")>e.endTime.format("HH:mm:ss"))&&(t=!1)}else i&&n&&!n[i]&&(t=!1)}e.setState({doctorOutsideAvailableTiming:!t})}),M(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){t.setState({saving:!0});const e=N({},a);e.patient={user:{}},this.state.patientDetails?e.patient=this.state.patientDetails:(e.patient.user.first_name=e.patient_name,e.patient.user.email=e.patient_email,e.patient.user.mobile=e.patient_mobile,e.patient_email=void 0,e.patient_name=void 0,e.patient_mobile=void 0),e.practice=t.props.active_practiceId;const n=function(e){t.setState({saving:!1}),t.props.history&&(t.props.history.goBack(),t.props.history.replace("/patients/appointments")),t.props.loadData&&t.props.loadData(),e&&Object(d.a)(m.sc,"Appointment Created Successfully")},i=function(){t.setState({saving:!1})};this.state.appointment?Object(d.m)(Object(d.g)(u.r,[this.state.appointment.id]),e,n,i):Object(d.k)(u.i,e,n,i)}})}),M(this,"handlePatientSelect",e=>{if(e){const t=this,a=function(e){t.setState({unAllowedPatientData:e,patientDetails:e.is_active?e:null,unAllowedPatient:!e.is_active&&e.id})},n=function(){},i=this.props.activePracticePermissions.ViewAllClinics?{}:{perm_practice:this.props.active_practiceId};Object(d.c)(Object(d.g)(u.td,[e]),a,n,i)}}),M(this,"handleClick",e=>{this.setState({patientDetails:null})}),this.state={redirect:!1,practice_doctors:[],appointmentCategories:null,procedure_category:null,treatmentNotes:null,practice_staff:[],appointment:null,loading:!1,patientListData:[],patientDetails:null,appointmentDetail:null,saving:!1,doctorBlock:!1,doctorOutsideAvailableTiming:!1,practiceBlock:!1,practiceOutsideAvailableTiming:!1,timeToCheckBlock:{schedule_at:c()(),slot:10},procedureObjectsById:{},startTime:this.props.startTime,unAllowedPatient:!1},this.changeRedirect=this.changeRedirect.bind(this),this.loadDoctors=this.loadDoctors.bind(this),this.loadProcedureCategory=this.loadProcedureCategory.bind(this),this.loadTreatmentNotes=this.loadTreatmentNotes.bind(this),this.searchPatient=A()(this.searchPatient.bind(this),500),this.handleSubmit=this.handleSubmit.bind(this),this.loadAppointment=this.loadAppointment.bind(this),this.loadAppointmentList=this.loadAppointmentList.bind(this)}componentDidMount(){const e=this;if(this.loadDoctors(),this.loadTreatmentNotes(),this.loadAppointmentCategories(),this.loadPracticeTiming(),this.props.match.params.appointmentid?e.loadAppointment():e.loadAppointmentList(),this.props.history&&this.props.history.location.search){const t=this.props.history.location.search.substr(1).split("&");t.length&&t.forEach((function(t){const a=t.split("=");a&&2==a.length&&("patient"==a[0]&&a[1]?e.handlePatientSelect(a[1]):"status"==a[0]&&"cancel"==a[1]&&e.setState({appointment_status:D.w}),"startTime"==a[0]&&a[1]&&c()(a[1]).isValid()&&e.setState({startTime:c()(a[1])}))}))}}loadAppointment(){const e=this;this.setState({loading:!0});Object(d.c)(Object(d.g)(u.r,[this.props.match.params.appointmentid]),(function(t){e.setState((function(e){return{appointment:t,patientDetails:t.patient,timeToCheckBlock:t,loading:!1,appointment_status:e.appointment_status?e.appointment_status:t.status,appointment_cancel_reason:t.cancel_by}}),(function(){e.findBlockedTiming(),e.findOutsideDoctorTiming(),e.loadDoctorsTiming(),e.loadAppointmentList()}))}),(function(){e.setState({loading:!1})}))}loadDoctors(){const e=this;Object(d.c)(Object(d.g)(u.Dd,[this.props.active_practiceId]),(function(t){const a=[];let n={};t.staff.forEach((function(t){t.role==m.Q&&(a.push(t),e.props.user.id==t.user.id&&(n=t))})),e.setState((function(e){return{selectedDoctor:a.length&&!n.id?a[0].id:n.id,practice_doctors:a,timeToCheckBlock:N(N({},e.timeToCheckBlock),{},{doctor:a.length&&!n.id?a[0].id:n.id})}}),(function(){e.findBlockedTiming(),e.loadDoctorsTiming()}))}),(function(){}))}loadProcedureCategory(){const e=this;Object(d.c)(Object(d.g)(u.Kd,[this.props.active_practiceId]),(function(t){const a={};t.forEach((function(e){a[e.id]=e})),e.setState({procedure_category:t,procedureObjectsById:N({},a)})}),(function(){}),{pagination:!1})}loadTreatmentNotes(){const e=this;Object(d.c)(Object(d.g)(u.Db,[this.props.active_practiceId]),(function(t){e.setState({treatmentNotes:t})}),(function(){}))}loadAppointmentCategories(){const e=this;Object(d.c)(Object(d.g)(u.t,[this.props.active_practiceId]),(function(t){e.setState({appointmentCategories:t})}),(function(){}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}searchPatient(e){const t=this;this.setState({searchPatientString:e});const a=function(a){t.setState((function(t){if(t.searchPatientString==e)return a.current>1?{patientListData:[...t.patientListData,...a.results]}:{patientListData:[...a.results]}}))},n=function(e){t.setState({searchPatientString:null})};e&&Object(d.c)(Object(d.g)(u.ce,[e]),a,n,{perm_practice:this.props.active_practiceId})}loadAppointmentList(){const e=this,t={start_time:c()(this.state.timeToCheckBlock.schedule_at).format(),end_time:c()(this.state.timeToCheckBlock.schedule_at).add(this.state.timeToCheckBlock.slot,"minutes").format(),doctor:this.state.timeToCheckBlock.doctor};Object(d.c)(Object(d.g)(u.w,[this.props.active_practiceId]),(function(t){e.setState({appointmentList:t})}),(function(e){}),t)}render(){const e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:6},wrapperCol:{span:14}},a=this.props.formLayout?this.props.formLayout:{wrapperCol:{offset:6,span:14}},n=this.props.form.getFieldDecorator,l=[];this.state.treatmentNotes&&this.state.treatmentNotes.forEach((function(e){l.push({label:e.name,value:e.id})}));const o=[];this.state.appointmentCategories&&this.state.appointmentCategories.forEach((function(e){o.push({label:e.name,value:e.id})}));let m=this.state.appointment?this.state.appointment.schedule_at:this.state.startTime;m||(m=new c.a(new Date).format());return i.a.createElement(p.a,null,i.a.createElement(h.a,{spinning:this.state.saving},this.state.unAllowedPatient?i.a.createElement(x.a,I({key:this.state.unAllowedPatient},this.props,{patientData:this.state.unAllowedPatientData,loadData:()=>this.handlePatientSelect(this.state.unAllowedPatientData.id)})):null,i.a.createElement(r.a,{onSubmit:this.handleSubmit},this.props.title?i.a.createElement("h2",null,this.props.title):null,i.a.createElement(L,I({key:"schedule_at",label:"Appointment Schedule"},t),n("schedule_at",{initialValue:m?c()(m):c()(this.props.startTime),rules:[{required:!0,message:C.k}]})(i.a.createElement(b.a,{showTime:{use12Hours:!0},format:"YYYY/MM/DD hh:mm a",allowClear:!1,onChange:e=>this.setBlockedTiming("schedule_at",e)})),this.state.practiceOutsideAvailableTiming?i.a.createElement(f.a,{message:"Selected time is outside available clinic time!!",type:"warning",showIcon:!0}):null,this.state.practiceBlock?i.a.createElement(f.a,{message:"Selected time is blocked in this clinic !!",type:"warning",showIcon:!0}):null),i.a.createElement(L,I({key:"slot"},t,{label:"Time Slot"}),n("slot",{initialValue:this.state.appointment?this.state.appointment.slot:10,rules:[{required:!0,message:C.k}]})(i.a.createElement(g.a,{min:1,onChange:e=>this.setBlockedTiming("slot",e)})),i.a.createElement("span",{className:"ant-form-text"},"mins",i.a.createElement(s.a,{style:{float:"right"}},i.a.createElement(E.a,{span:24},this.state.appointmentList&&this.state.appointmentList.length>0?i.a.createElement("div",{span:5,style:{float:"right"}},i.a.createElement("ul",{style:{listStyle:"none",display:"inline-flex",paddingLeft:"15px",paddingRight:"10px"}},e.state.appointmentList.map(e=>i.a.createElement("li",{style:{border:"1px solid #bbb",marginLeft:"13px",padding:" 0.01em 14px"}},i.a.createElement("span",{style:{width:"calc(100% - 60px)"}},i.a.createElement("b",null,c()(e.schedule_at).format("LT"))," ",e.patient.user.first_name)," ",i.a.createElement("b",null,"with"),"  ",e.doctor_data?e.doctor_data.user.first_name:"--")))):null))),this.state.appointmentList&&this.state.appointmentList.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{message:"Selected time slot have assigned someone else !! please select another slot.",type:"warning",showIcon:!0})):null),e.state.patientDetails?i.a.createElement(L,I({key:"id",value:this.state.patientDetails.id},a),i.a.createElement(p.a,{bordered:!1,style:{background:"#ECECEC"}},i.a.createElement(H,{avatar:this.state.patientDetails.image?i.a.createElement(y.a,{src:Object(d.h)(this.state.patientDetails.image)}):i.a.createElement(y.a,{style:{backgroundColor:"#87d068"}},this.state.patientDetails.user.first_name?this.state.patientDetails.user.first_name.charAt(0):i.a.createElement(v.a,{type:"user"})),title:this.state.patientDetails.user.first_name,description:i.a.createElement("span",null,e.props.activePracticePermissions.PatientPhoneNumber?this.state.patientDetails.user.mobile:Object(_.b)(this.state.patientDetails.user.mobile),i.a.createElement("br",null),i.a.createElement(k.a,{type:"primary",style:{float:"right"},onClick:this.handleClick},"Add New Patient"))}))):i.a.createElement("div",null,i.a.createElement(L,I({key:"patient_name",label:"Patient Name"},t),n("patient_name",{initialValue:this.state.appointment?this.state.appointment.patient.user.first_name:null,rules:[{required:!0,message:C.k}]})(i.a.createElement(P.a,{placeholder:"Patient Name",showSearch:!0,onSearch:this.searchPatient,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSelect:this.handlePatientSelect},this.state.patientListData.map(t=>i.a.createElement(P.a.Option,{value:t.id.toString()},i.a.createElement(O.a.Item,{style:{padding:0}},i.a.createElement(O.a.Item.Meta,{avatar:t.image?i.a.createElement(y.a,{src:Object(d.h)(t.image)}):i.a.createElement(y.a,{style:{backgroundColor:"#87d068"}},t.user.first_name?t.user.first_name.charAt(0):i.a.createElement(v.a,{type:"user"})),title:"".concat(t.user.first_name," (ID:").concat(t.custom_id?t.custom_id:t.user.id,")"),description:e.props.activePracticePermissions.PatientPhoneNumber?t.user.mobile:Object(_.b)(t.user.mobile)}))))))),i.a.createElement(L,I({key:"patient_mobile",label:"Mobile Number"},t),n("patient_mobile",{initialValue:this.state.appointment?this.state.appointment.patient.user.mobile:null,rules:[{required:!0,message:C.k}]})(i.a.createElement(w.a,{placeholder:"Mobile Number"}))),i.a.createElement(L,I({key:"patient_email",label:"Email Address"},t),n("patient_email",{initialValue:this.state.appointment?this.state.appointment.patient.user.email:null,rules:[{type:"email",message:"The input is not valid E-mail!"}]})(i.a.createElement(w.a,{placeholder:"Email Address"})))),i.a.createElement(L,I({key:"doctor"},t,{label:"Doctor"}),n("doctor",{initialValue:this.state.appointment?this.state.appointment.doctor:this.state.selectedDoctor},{rules:[{required:!0,message:C.k}]})(i.a.createElement(S.a,{optionFilterProp:"children",showSearch:!0,placeholder:"Doctor",onChange:e=>this.setBlockedTiming("doctor",e)},this.state.practice_doctors.map(e=>i.a.createElement(S.a.Option,{value:e.id},"".concat(e.user.first_name,"(").concat(e.user.email,")"))))),this.state.doctorBlock?i.a.createElement(f.a,{message:"Selected time is blocked for selected doctor in this clinic!!",type:"warning",showIcon:!0}):null,this.state.doctorOutsideAvailableTiming?i.a.createElement(f.a,{message:"Selected time is out of doctor's visit time in this clinic!!",type:"warning",showIcon:!0}):null,this.state.appointmentList&&this.state.appointmentList.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{message:"Selected time doctor's busy on other patients in  this clinic!!",type:"warning",showIcon:!0})):null),i.a.createElement(L,I({key:"category"},t,{label:"Category"}),n("category",{initialValue:this.state.appointment?this.state.appointment.category:null,rules:[{required:!0,message:C.k}]})(i.a.createElement(S.a,{placeholder:"Category",optionFilterProp:"children",showSearch:!0},o.map(e=>i.a.createElement(S.a.Option,{value:e.value},e.label))))),this.state.appointment?i.a.createElement(L,I({key:"status"},t,{label:"Status"}),n("status",{initialValue:this.state.appointment_status?this.state.appointment_status:this.state.appointment.status,rules:[{required:!0,message:C.k}]})(i.a.createElement(S.a,{placeholder:"Status",onChange:e=>this.setClassState("appointment_status",e)},D.k.map(e=>i.a.createElement(S.a.Option,{value:e.value},e.label))))):null,this.state.appointment&&this.state.appointment_status==D.w?i.a.createElement(L,I({key:"cancel_by"},t,{label:"Cancellation Reason"}),n("cancel_by",{initialValue:this.state.appointment.cancel_by,rules:[{required:!0,message:C.k}]})(i.a.createElement(S.a,{placeholder:"Cancellation Reason",onChange:e=>this.setClassState("appointment_cancel_reason",e)},D.h.map(e=>i.a.createElement(S.a.Option,{value:e.value},e.label))))):null,this.state.appointment&&this.state.appointment_status==D.w&&"OTHERS"==this.state.appointment_cancel_reason?i.a.createElement(L,I({key:"cancel_reason"},t,{label:"Other Cancellation Reason"}),n("cancel_reason",{initialValue:this.state.appointment.cancel_reason,rules:[{required:!0,message:C.k}]})(i.a.createElement(w.a,{placeholder:"Reason"}))):null,i.a.createElement(L,I({key:"notes"},t,{label:"Notes"}),n("notes",{initialValue:this.state.appointment?this.state.appointment.notes:null},{rules:[{required:!0,message:C.k}]})(i.a.createElement(w.a,{placeholder:"Notes"}))),i.a.createElement(L,t,i.a.createElement(k.a,{loading:e.state.saving,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),e.props.history?i.a.createElement(k.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null))))}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class F extends i.a.Component{constructor(e){super(e),this.state={}}render(){u.i;const e=[{key:"practice",value:this.props.active_practiceId}];const t=r.a.create()(R);return(i.a.createElement(s.a,null,i.a.createElement(l.b,{exact:!0,path:"/calendar/:appointmentid/edit-appointment",render:a=>this.props.match.params.appointmentid?i.a.createElement(t,V({},a,this.props,{defaultValues:e,title:"Edit Appointment",changeRedirect:this.changeRedirect})):i.a.createElement(l.a,{to:"/patients/appointments/"})}),i.a.createElement(l.b,{exact:!0,path:"/calendar/create-appointment",render:a=>i.a.createElement(t,V({},this.props,{defaultValues:e,changeRedirect:this.changeRedirect},a,{title:"ADD Appointment "}))})))}}t.a=F},1423:function(e,t,a){var n=a(125),i=a(1424);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var l={insert:"head",singleton:!1};n(i,l);e.exports=i.locals||{}},1424:function(e,t,a){(t=a(126)(!1)).push([e.i,".PrintPatientForm table{width:100%;border-collapse:collapse}.PrintPatientForm body{font-family:Helvetica, Arial, sans-serif;font-size:90%;width:1024px}.PrintPatientForm h1,.PrintPatientForm h2,.PrintPatientForm h4{margin:10px 0}.PrintPatientForm .centeralign{text-align:center}.PrintPatientForm .rightalign{text-align:right}.PrintPatientForm .strong{font-weight:bold}.PrintPatientForm td{padding:7px 20px}.PrintPatientForm .grey_bk{background-color:#CFCFCF}.PrintPatientForm .textfield{width:500px;height:25px;float:left;border:1px solid #848484;display:inline-block;padding-top:5px}.PrintPatientForm .radio{width:25px;height:25px;float:left;border:1px solid #848484;display:inline-block;padding-top:5px}.PrintPatientForm label{float:left;line-height:25px;margin-left:5px;margin-right:20px}.PrintPatientForm .textarea{width:500px;height:100px;float:left;border:1px solid #848484;display:inline-block}.PrintPatientForm .signature{padding:5px 30px;border-top:1px solid #000;margin-left:50%;margin-bottom:20px;display:inline-block}.PrintPatientForm .date{padding:5px 40px;border-top:1px solid #000;display:inline-block;margin-bottom:20px}.PrintPatientForm .leftrightmargin_10{margin:0px 10px}.PrintPatientForm .currentDate{padding:5px 20px;margin-top:70px}.PrintPatientForm .agreement{margin-top:20px;padding:0px 0px 0px 153px;text-align:justify}.PrintPatientForm .imagefield{width:500px;float:left;border:1px solid #ffffff;display:inline-block}.inlinelabel{margin-left:20px !important;margin-right:10px !important}.textValue{width:100px !important}\n",""]),e.exports=t},1588:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(18),r=a(433),s=a(1577),o=a(503),c=a(1567),m=a(448),u=a(1596),d=a(1568),p=a(1609),h=a(1605),b=a(1580),f=a(763),g=a(1572),E=a(1028),y=a(115),v=a(435),k=a(434),P=a(460),O=a(486),w=a(437),S=a(441);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const x=s.a.Header;class T extends i.a.Component{constructor(e){super(e),_(this,"searchPatient",e=>{const t=this;this.setState((function(t){return{searchPatientString:e}}));const a=function(a){t.setState((function(t){return t.searchPatientString==e?{patientListData:[...a.results]}:{}}))},n=function(e){t.setState({searchPatientString:null})};e&&Object(v.c)(Object(v.g)(k.ce,[e]),a,n)}),_(this,"switchPortal",()=>{const e=this;Object(v.c)(Object(v.g)(k.be,[e.props.user.id]),(function(t){t&&e.setUserCredentials(t.login,t.password)}),(function(){Object(v.a)(w.T,"Something went wrong.")}))}),_(this,"handlePatientSelect",e=>{e&&(this.props.history.push("/patient/".concat(e.replace(S.C,""),"/profile")),this.setState({searchPatientString:null}))}),_(this,"handleSwitchUser",()=>this.setState(D(D({},this.state),{},{showSwitchUserModal:!0}))),_(this,"handleSwitchUserMobileChange",e=>{this.setState(D(D({},this.state),{},{phoneNum:e.target.value})),console.log(this.state.phoneNum)}),_(this,"handleSwitchUserSubmit",()=>{const e=this.state.phoneNum;console.log(e);const t=this;Object(O.c)(e,(function(){const e=Object(O.g)(!0);t.setState({user:e}),window.location.reload(!1)}),(function(){}))}),_(this,"handleSwitchUserCancel",()=>{this.setState(D(D({},this.state),{},{showSwitchUserModal:!1}))}),this.state={patientListData:[],showSwitchUserModal:!1,phoneNum:0}}setUserCredentials(e,t){const a=Object(v.p)("Waiting for authentication from server...");sessionStorage.removeItem("token");const n={email:e,password:t},i=function(e){e.success&&(Object(v.q)(a,w.sc," Authentication Successfully!!"),sessionStorage.setItem("token",e.token)),sessionStorage.getItem("token")?window.open("/task/"):Object(v.q)(a,w.T,"Authentication failed. User not found.")},l=function(){};null==sessionStorage.getItem("token")&&Object(v.l)(k.nb,n,i,l)}render(){const e=this,t=i.a.createElement(c.a,null,i.a.createElement(c.a.Item,{key:"profile"},i.a.createElement(y.b,{to:"/profile"},"Profile")),i.a.createElement(c.a.Divider,null),this.props.user.is_superuser?i.a.createElement(c.a.Item,{key:"switchUser"},i.a.createElement("a",{onClick:this.handleSwitchUser},"Switch User")):null,i.a.createElement(c.a.Divider,null),i.a.createElement(c.a.Item,{key:"logout"},i.a.createElement("a",{onClick:this.props.logout},"Log out")));return i.a.createElement(x,{style:{background:"#fff",padding:0,boxShadow:"0 2px 4px 0 rgba(38,50,69,.2)",zIndex:1}},i.a.createElement("div",{style:{float:"left",margin:"0px 20px"}},i.a.createElement(m.a,{className:"trigger",type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:()=>this.props.toggleSider(!this.props.collapsed)})),i.a.createElement(u.a,{title:"Enter Mobile Number",visible:this.state.showSwitchUserModal,onOk:this.handleSwitchUserSubmit,onCancel:this.handleSwitchUserCancel},i.a.createElement(d.a,{size:"large",prefix:i.a.createElement(m.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Mobile Number",onChange:this.handleSwitchUserMobileChange})),i.a.createElement(c.a,{mode:"horizontal",style:{lineHeight:"64px"}},i.a.createElement(c.a.Item,{key:"5"},i.a.createElement(p.a,{placeholder:"Patient Name",showSearch:!0,dropdownMatchSelectWidth:!1,dropdownStyle:{width:400},onSearch:this.searchPatient,defaultActiveFirstOption:!1,showArrow:!1,value:this.state.searchPatientString,filterOption:!1,onSelect:this.handlePatientSelect},this.state.patientListData.map(t=>i.a.createElement(p.a.Option,{value:t.id.toString()+S.C},i.a.createElement(h.a.Item,{style:{padding:0}},i.a.createElement(h.a.Item.Meta,{avatar:t.image?i.a.createElement(b.a,{src:Object(v.h)(t.image)}):i.a.createElement(b.a,{style:{backgroundColor:"#87d068"}},t.user.first_name?t.user.first_name.charAt(0):i.a.createElement(m.a,{type:"user"})),title:t.user.first_name,description:e.props.activePracticePermissions.PatientPhoneNumber?t.user.mobile:Object(P.b)(t.user.mobile)}),i.a.createElement("div",null,t.custom_id?t.custom_id:t.user.id)))))),i.a.createElement(c.a.Item,{key:"4"},i.a.createElement(o.a.Group,null,e.props.activePracticePermissions.AddPatient||e.props.allowAllPermissions?i.a.createElement(y.b,{to:"/patients/profile/add"},i.a.createElement(o.a,{type:"primary"},i.a.createElement(m.a,{type:"plus"}),"Add Patient")):null,e.props.activePracticePermissions.MergePatients||e.props.allowAllPermissions?i.a.createElement(y.b,{to:"/patients/merge"},i.a.createElement(o.a,{type:"primary"},i.a.createElement(m.a,{type:"user-add"}),"Merge Patients")):null)),i.a.createElement(c.a.Item,{key:"3"},i.a.createElement(f.a,{onChange:this.props.switchPractice,defaultValue:this.props.active_practiceId,value:this.props.active_practiceId,style:{width:"300px",maxWidth:"70vw"},optionFilterProp:"children",showSearch:!0},this.props.practiceList&&this.props.practiceList.map(e=>i.a.createElement(f.a.Option,{key:e.practice.id,value:e.practice.id},e.practice.name)))),i.a.createElement("div",{style:{float:"right",margin:"0px 20px"}},this.props.user&&this.props.user.is_superuser?i.a.createElement(g.a,{color:"red"},"SuperUser"):null,i.a.createElement(E.a,{overlay:t,placement:"bottomRight"},i.a.createElement("span",null,i.a.createElement(b.a,{style:{backgroundColor:"#87d068",marginRight:5},icon:"user"}),this.props.user&&this.props.user.first_name?i.a.createElement(g.a,null,this.props.user.first_name.split(" ")[0]):null)))))}}var A=T,I=a(1027),j=a(772);const N=s.a.Sider,M=c.a.SubMenu;c.a.ItemGroup;class L extends i.a.Component{constructor(e){var t,a,n;super(e),n=e=>{const t=e.find(e=>-1===this.state.openKeys.indexOf(e));-1===["sub1","sub2"].indexOf(t)?this.setState({openKeys:e}):this.setState({openKeys:t?[t]:[]})},(a="onOpenChange")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={openKeys:[]},this.onHotKeyDown=this.onHotKeyDown.bind(this)}onHotKeyDown(e){console.log(e);const t=this;switch(e){case"alt+c":t.props.history.push("/calendar");break;case"alt+p":t.props.history.push("/patients/profile");break;case"alt+r":t.props.history.push("/reports/appointments");break;case"alt+s":t.props.history.push("/settings/clinics");break;case"alt+b":t.props.history.push("/inventory");break;case"alt+w":t.props.history.push("/web/videos")}}render(){const e=this;return(i.a.createElement(I.a,{keyName:S.yb,onKeyDown:e=>this.onHotKeyDown(e)},i.a.createElement(N,{className:this.props.collapsed?"home-sider":"",trigger:null,collapsible:!0,collapsed:this.props.collapsed,style:{zIndex:1},breakpoint:"xxl",onBreakpoint:t=>{e.props.toggleSider(t)},onCollapse:(e,t)=>{}},i.a.createElement("img",{src:j.a,alt:"",style:{width:"100%",padding:"20px"}}),i.a.createElement(c.a,{mode:"inline",defaultSelectedKeys:["1"],openKeys:this.state.openKeys,onOpenChange:this.onOpenChange,theme:"dark"},this.props.activePracticePermissions.ViewCalendar?i.a.createElement(c.a.Item,{key:"1"},i.a.createElement(y.b,{to:"/calendar"},i.a.createElement(m.a,{type:"schedule"}),i.a.createElement("span",{className:"nav-text"},i.a.createElement("span",{className:"shortcutLetterHighlight"},"C"),"alendar"))):null,i.a.createElement(c.a.Item,{key:"26"},i.a.createElement(y.b,{to:this.props.currentPatient?"/patient/".concat(this.props.currentPatient.id,"/profile"):"/patients/profile"},i.a.createElement(m.a,{type:"user"}),i.a.createElement("span",{className:"nav-text"},i.a.createElement("span",{className:"shortcutLetterHighlight"},"P"),"atients"))),i.a.createElement(c.a.Item,{key:"27"},i.a.createElement(y.b,{to:"/reports/appointments"},i.a.createElement(m.a,{type:"bar-chart"}),i.a.createElement("span",{className:"nav-text"},i.a.createElement("span",{className:"shortcutLetterHighlight"},"R"),"eports"))),i.a.createElement(c.a.Item,{key:"5"},i.a.createElement(y.b,{to:"/settings/clinics"},i.a.createElement(m.a,{type:"setting"}),i.a.createElement("span",{className:"nav-text"},i.a.createElement("span",{className:"shortcutLetterHighlight"},"S"),"ettings"))),i.a.createElement(M,{key:"sub1",title:i.a.createElement("span",null,i.a.createElement(m.a,{type:"gold"}),i.a.createElement("span",null,i.a.createElement("span",{className:"shortcutLetterHighlight"},"B"),"ack Office"))},i.a.createElement(c.a.Item,{key:"6"},i.a.createElement(y.b,{to:"/inventory/expenses"},i.a.createElement(m.a,{type:"credit-card"}),i.a.createElement("span",{className:"nav-text"},"Expenses"))),i.a.createElement(c.a.Item,{key:"7"},i.a.createElement(y.b,{to:"/inventory/activity"},i.a.createElement(m.a,{type:"bell"}),i.a.createElement("span",{className:"nav-text"},"Activities"))),i.a.createElement(c.a.Item,{key:"8"},i.a.createElement(y.b,{to:"/inventory/manufacture"},i.a.createElement(m.a,{type:"database"}),i.a.createElement("span",{className:"nav-text"},"Manufacturers"))),i.a.createElement(c.a.Item,{key:"42"},i.a.createElement(y.b,{to:"/inventory/vendor"},i.a.createElement(m.a,{type:"database"}),i.a.createElement("span",{className:"nav-text"},"Vendor"))),i.a.createElement(c.a.Item,{key:"10"},i.a.createElement(y.b,{to:"/inventory"},i.a.createElement(m.a,{type:"gold"}),i.a.createElement("span",{className:"nav-text"},"Inventory"))),i.a.createElement(c.a.Item,null,i.a.createElement(y.b,{to:"/inventory/permission"},i.a.createElement(m.a,{type:"database"}),i.a.createElement("span",{className:"nav-text"},"User Permission")))),this.props.activePracticePermissions.WebAdmin?i.a.createElement(c.a.Item,{key:"web-1"},i.a.createElement(y.b,{to:"/web/videos"},i.a.createElement(m.a,{type:"google"}),i.a.createElement("span",{className:"nav-text"},i.a.createElement("span",{className:"shortcutLetterHighlight"},"W"),"eb Admin"))):null,i.a.createElement(c.a.Item,{key:"11"},i.a.createElement(y.b,{to:"/meeting-booking"},i.a.createElement(m.a,{type:"reconciliation"}),i.a.createElement("span",{className:"nav-text"},"Meeting Booking"))),this.props.activePracticePermissions.SettingsAgents?i.a.createElement(c.a.Item,{key:"adv-1"},i.a.createElement(y.b,{to:"/advisors/"},i.a.createElement(m.a,{type:"apartment"}),i.a.createElement("span",{className:"nav-text"},"Advisors"))):null,i.a.createElement(c.a.Item,{key:"13"},i.a.createElement(y.b,{to:"/tasktracker/mytask"},i.a.createElement(m.a,{type:"check-circle"}),i.a.createElement("span",{className:"nav-text"},"Task Tracker"))),i.a.createElement(c.a.Item,{key:"12"},i.a.createElement(y.b,{to:"/conversion"},i.a.createElement(m.a,{type:"swap"}),i.a.createElement("span",{className:"nav-text"},"Allopath to Ayurveda"))),i.a.createElement(c.a.Item,{key:"help"},i.a.createElement("a",{href:"https://confluence.plutonic.co.in/display/BK/Staff+Web+Application",target:"__blank"},i.a.createElement("span",null,i.a.createElement(m.a,{type:"question-circle"}),i.a.createElement("span",null,"Help")))),i.a.createElement(c.a.Item,{key:"suggestion"},i.a.createElement("a",{onClick:e.props.showDrawer},i.a.createElement(m.a,{type:"mail"}),i.a.createElement("span",null,"Suggestion")))))))}}var H=L,R=a(539),V=a(1593),F=a(1105),B=a(1183),U=a(1608),Y=a(1579),q=a(1575),W=a(543);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function G(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const K=V.a.Item;class Z extends i.a.Component{constructor(e){super(e),G(this,"handleSubmit",e=>{e.preventDefault();const t=this;this.props.form.validateFieldsAndScroll((e,a)=>{if(!e){t.setState({changePassLoading:!0});const e={[W.d]:a.oldPass,[W.c]:a.newPass},n=function(e){q.a.success(e.message),t.setState({changePassLoading:!1})},i=function(){t.setState({changePassLoading:!1})};Object(v.k)(k.W,e,n,i)}})}),G(this,"handleConfirmBlur",e=>{const t=e.target.value;this.setState({confirmDirty:this.state.confirmDirty||!!t})}),G(this,"compareToFirstPassword",(e,t,a)=>{const n=this.props.form;t&&t!=n.getFieldValue("newPass")?a("Two passwords that you enter is inconsistent!"):a()}),G(this,"validateToNextPassword",(e,t,a)=>{a(Object(v.r)(e,t,a))}),this.state={confirmDirty:!1,changePassLoading:!1},this.handleSubmit=this.handleSubmit.bind(this)}render(){const e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator;return i.a.createElement(V.a,{onSubmit:this.handleSubmit},i.a.createElement(K,z({label:"Old Password"},e),t("oldPass",{rules:[{required:!0,message:"Please enter your old Password!"}]})(i.a.createElement(d.a,{prefix:i.a.createElement(m.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Old Password"}))),i.a.createElement(K,z({label:"New Password"},e),t("newPass",{rules:[{required:!0,message:"Please enter your new Password!"},{validator:this.validateToNextPassword}]})(i.a.createElement(d.a,{prefix:i.a.createElement(m.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"New Password"}))),i.a.createElement(K,z({label:"Confirm Password"},e),t("confirmPass",{rules:[{required:!0,message:"Please confirm your new Password!"},{validator:this.compareToFirstPassword}]})(i.a.createElement(d.a,{prefix:i.a.createElement(m.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password",onBlur:this.handleConfirmBlur}))),i.a.createElement(K,null,i.a.createElement(o.a,{loading:this.state.changePassLoading,type:"primary",htmlType:"submit",className:"login-form-button"},"Change Password")))}}const Q=s.a.Content;class X extends i.a.Component{constructor(e){super(e),this.state={},console.log(this.state)}loadProfile(){const e=this;Object(v.c)(k.lf,(function(t){e.setState({userProfile:t,loading:!1})}),(function(){e.setState({loading:!1})}))}render(){const e=V.a.create()(Z);return i.a.createElement(Q,{className:"main-container",style:{margin:"24px 16px",minHeight:280}},i.a.createElement(F.a,null,i.a.createElement(B.a,{span:12},i.a.createElement(U.a,{title:"Change Password"},i.a.createElement(e,null))),i.a.createElement(B.a,{span:12},i.a.createElement(U.a,{title:"My Permissions"},i.a.createElement(h.a,{size:"small",dataSource:this.props.activePracticeData?this.props.activePracticeData.permissions_data:[],renderItem:e=>i.a.createElement(h.a.Item,null,e.name)}))),i.a.createElement(Y.a,null),i.a.createElement(B.a,{span:12},i.a.createElement(U.a,{title:"My Profile"},i.a.createElement(F.a,{gutter:16},i.a.createElement(B.a,{span:6},i.a.createElement(J,{label:"Name ",value:this.props.user.first_name}),i.a.createElement(J,{label:"Email Id ",value:this.props.user.email}),i.a.createElement(J,{label:"Contact No.",value:this.props.user.mobile})))))))}}function J(e){return i.a.createElement(F.a,{gutter:16,style:{marginBottom:"5px"}},i.a.createElement(B.a,{span:12,style:{textAlign:"right"}},e.label,":"),i.a.createElement(B.a,{span:12},i.a.createElement("strong",null,e.value)))}var $=a(803),ee=a(436),te=a.n(ee),ae=a(1587),ne=a(1581),ie=(a(1425),a(440),a(438)),le=a(808),re=a(461);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){me(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function me(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ue extends i.a.Component{constructor(e){super(e),me(this,"changeParamsForBlockedAppointments",(e,t)=>{const a=this;this.setState((function(a){return{blockedAppointmentParams:ce(ce({},a.blockedAppointmentParams),{},{[e]:t})}}),(function(){a.retrieveBlockingAppointments()}))}),me(this,"retrieveBlockingAppointments",()=>{const e=this;e.setState({loading:!0});this.state.blockedAppointmentParams.block_from&&this.state.blockedAppointmentParams.block_to&&Object(v.c)(Object(v.g)(k.u,[this.props.active_practiceId]),(function(t){e.setState((function(e){return{blockingAppointments:t,loading:!1}}))}),(function(){e.setState({loading:!1})}),{start:te()(e.state.blockedAppointmentParams.block_from).format("YYYY-MM-DD"),end:te()(e.state.blockedAppointmentParams.block_to).format("YYYY-MM-DD"),doctor:e.state.blockedAppointmentParams.doctor})}),me(this,"handleSubmit",e=>{const t=this;e.preventDefault();let a={};this.props.form.validateFields((e,t)=>{e||(a=ce(ce({},t),{},{practice:this.props.active_practiceId}))});Object(v.k)(k.D,a,(function(e){t.props.history&&t.props.history.replace("/calendar")}),(function(){}))}),this.state={practiceDoctors:[],blockedAppointmentParams:{block_from:te()(),block_to:te()()}},Object(ie.e)(this)}render(){const e=this,t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:4}};return i.a.createElement(U.a,{title:"Block Calendar"},i.a.createElement(F.a,null,i.a.createElement(B.a,{span:18},i.a.createElement(V.a,{onSubmit:this.handleSubmit},i.a.createElement(V.a.Item,se({label:"Block From"},a),t("block_from",{initialValue:te()(),rules:[{required:!0,message:re.k}]})(i.a.createElement(ae.a,{showTime:{use12Hours:!0},format:"YYYY-MM-DD hh:mm a",allowClear:!1,onChange:e=>this.changeParamsForBlockedAppointments("block_from",e)}))),i.a.createElement(V.a.Item,se({label:"Block To"},a),t("block_to",{initialValue:te()(),rules:[{required:!0,message:re.k}]})(i.a.createElement(ae.a,{showTime:{use12Hours:!0},format:"YYYY-MM-DD hh:mm a",allowClear:!1,onChange:e=>this.changeParamsForBlockedAppointments("block_to",e)}))),i.a.createElement(V.a.Item,se({label:"Event Name"},a),t("event",{})(i.a.createElement(d.a,{placeholder:"Event Name"}))),i.a.createElement(V.a.Item,se({label:"Doctor"},a),t("doctor",{initialValue:6})(i.a.createElement(f.a,{placeholder:"Doctor List",onChange:e=>this.changeParamsForBlockedAppointments("doctor",e)},this.state.practiceDoctors.map(e=>i.a.createElement(f.a.Option,{value:e.id,key:e.id},e.user.first_name))))),i.a.createElement(V.a.Item,null,i.a.createElement(o.a,{style:{margin:5},type:"primary",htmlType:"submit"},"Submit"),e.props.history?i.a.createElement(o.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null))),i.a.createElement(B.a,{span:6},i.a.createElement(h.a,{size:"small",dataSource:this.state.blockingAppointments,renderItem:t=>t.status==S.w?i.a.createElement("div",null):i.a.createElement(h.a.Item,{color:"transparent",style:{padding:0}},i.a.createElement("div",{style:{border:"1px solid #ddd",borderRadius:"5px",textDecoration:t.status==S.w?"line-through":"inherit",backgroundColor:t.status==S.w?"#aaa":"#eee",width:"100%",marginTop:"2px",borderLeft:"5px solid".concat(t.doctor&&e.state.practice_doctors&&e.state.practice_doctors[t.doctor]?e.props.doctors_object[t.doctor].calendar_colour:"transparent")}},i.a.createElement(pe,se({},t,{changeAppointmentStatus:this.changeAppointmentStatus},this.props))))}))))}}var de=V.a.create()(ue);function pe(e){return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{marginBottom:0}},i.a.createElement(Y.a,{type:"vertical"}),i.a.createElement(ne.a,{placement:"right",content:i.a.createElement(le.a,se({appointmentId:e.id,key:e.id},e))},i.a.createElement("span",{style:{width:"calc(100% - 60px)"}},i.a.createElement("b",null,te()(e.schedule_at).format("LLL"))," ",e.patient.user.first_name),i.a.createElement("p",{style:{color:e.doctor_data?e.doctor_data.calendar_colour:null}},i.a.createElement(Y.a,{type:"vertical"}),i.a.createElement("span",null,e.doctor_data?e.doctor_data.user.first_name:null)))))}var he=a(459);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ge=d.a.TextArea;class Ee extends i.a.Component{constructor(e){super(e),fe(this,"onClose",()=>{this.props.close()}),fe(this,"handleSubmit",e=>{e.preventDefault();const t=this;this.props.form.validateFieldsAndScroll((e,a)=>{if(!e){const e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){fe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a),n=function(e){Object(v.a)(w.sc,"Save Your Suggestions"),t.props.close()},i=function(){};Object(v.k)(k.Oe,e,n,i)}})}),this.state={}}render(){const e=this.props.form.getFieldDecorator;return i.a.createElement("div",null,i.a.createElement(u.a,{title:"Your Suggestion",width:720,onClose:this.onClose,visible:this.props.visible,footer:null},i.a.createElement(V.a,{layout:"vertical",onSubmit:this.handleSubmit},i.a.createElement(F.a,{gutter:16},i.a.createElement(B.a,{span:12},i.a.createElement(V.a.Item,{label:"Name"},e("name",{rules:[{required:!0,message:"Please enter  name"}]})(i.a.createElement(d.a,{placeholder:"Please enter user name"})))),i.a.createElement(B.a,{span:12},i.a.createElement(V.a.Item,{label:"Email"},e("email",{rules:[{required:!0,message:"Please enter Email"}]})(i.a.createElement(d.a,{style:{width:"100%"},placeholder:"Please enter Email"}))))),i.a.createElement(F.a,{gutter:16},i.a.createElement(B.a,{span:12},i.a.createElement(V.a.Item,{label:"Mobile"},e("mobile")(i.a.createElement(d.a,{placeholder:"Please enter Mobile"})))),i.a.createElement(B.a,{span:12},i.a.createElement(V.a.Item,{label:"Subject"},e("subject")(i.a.createElement(d.a,{style:{width:"100%"},placeholder:"Please enter Email"}))))),i.a.createElement(F.a,{gutter:16},i.a.createElement(B.a,{span:24},i.a.createElement(V.a.Item,{label:"Description"},e("description")(i.a.createElement(ge,{placeholder:"Please enter description",autosize:{minRows:4,maxRows:6}}))))),i.a.createElement(Y.a,null),i.a.createElement("div",{style:{textAlign:"-webkit-center"}},i.a.createElement(o.a,{onClick:this.onClose,style:{marginRight:8}},"Cancel"),i.a.createElement(o.a,{htmlType:"submit",onSubmit:this.handleSubmit,type:"primary"},"Submit")))))}}var ye=V.a.create()(Ee),ve=a(1602),ke=a(562);class Pe extends i.a.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){var t,a,n;super(e),n=()=>{window.location.replace("/")},(a="redirectToHome")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={hasError:!1}}componentDidCatch(e,t){console.log(e),function(e,t){const a={text:e.toString(),attachments:[{color:"#36a64f",author_name:window.location.hostname,author_link:"http://flickr.com/bobby/",author_icon:"".concat(window.location.hostname,"/favicon.ico"),title:"BK ERP Admin Application Crash Error",text:t.componentStack,fields:[{title:"Priority",value:"High",short:!1},{title:"Domain",value:window.location.hostname,short:!1},{title:"Path",value:window.location.pathname,short:!1},{title:"User",value:Object(O.g)(),short:!1},{title:"Build Veriosn",value:"1.1.80",short:!1}],ts:te()().format("X")}]},n=function(){console.log("The above error has been notified to devs.")},i=function(){console.log("The above error notifications failed")};(ke.a.prodDomain&&ke.a.crashHandling.slack.sendOnProduction&&ke.a.prodDomain.indexOf(window.location.hostname)>-1||ke.a.crashHandling.slack.sendOnDevelopment)&&Object(v.l)(ke.a.crashHandling.slack.webHookUrl,a,n,i,{"Content-type":"application/x-www-form-urlencoded"})}(e,t)}render(){return this.state.hasError?i.a.createElement(ve.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong.",extra:i.a.createElement(o.a,{type:"primary",onClick:this.redirectToHome},"Back Home")}):this.props.children}}var Oe=a(1594);const we=Oe.a.Text,Se=s.a.Footer;class Ce extends i.a.Component{constructor(e){super(e)}render(){return i.a.createElement(Se,{style:{background:"white",boxShadow:"rgba(38, 50, 69, 0.2) 0px -4px 5px 2px",zIndex:1,padding:"5px 10px"}},i.a.createElement("span",{style:{float:"left"}},"Version: ",i.a.createElement(we,{type:"secondary"},"1.1.80")),i.a.createElement("span",{style:{float:"right"}},"Powered by: ",i.a.createElement("a",{target:"__blank",href:"https://plutonic.co.in"},"Plutonic Services")))}}var De=Ce,_e=a(1565),xe=a(1595);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ie=xe.a.Panel,je=(Oe.a.Paragraph,Oe.a.Title);class Ne extends i.a.Component{constructor(e){super(e),Ae(this,"loadConversionMedicineList",()=>{const e=this;Object(v.c)(k.jb,(function(t){e.setState({medicineList:t.results})}),(function(){Object(v.a)(w.T,"Medicine List Loading Failed.")}),{medicine_type:S.e})}),Ae(this,"loadAvailableConversion",e=>{this.setState((function(t){let a=null;return t.medicineList.forEach((function(t){t.id==e&&(a=t)})),{selectedMedicine:a,medicineMappingLoading:!0}}));const t=this;Object(v.c)(k.eb,(function(e){const a={};e.results.forEach((function(e){e.ayurveda_data.forEach((function(e){a[e.id]=e}))})),t.setState({medicineMappingList:e.results,medicineMappingLoading:!1,medicineObject:a})}),(function(){t.setState({medicineMappingLoading:!1}),Object(v.a)(w.T,"Medicine Mapping List Loading Failed.")}),{allopath:e})}),Ae(this,"searchOperation",(e,t)=>{const a=this,n={medicine_type:e,name_contains:t};Object(v.c)(k.jb,(function(e){a.setState((function(t){return{medicineList:e.results}}))}),(function(){Object(v.a)(w.T,"Something went wrong!!")}),n)}),this.state={medicineList:[],medicineMappingList:[],medicineMappingLoading:!1,medicineObject:{}}}componentDidMount(){this.loadConversionMedicineList()}render(){const e=this.state,t=e.medicineList,a=e.medicineMappingLoading,n=e.selectedMedicine,l=e.medicineObject,s=Object.keys(l).map(e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(a),!0).forEach((function(t){Ae(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l[e]));return i.a.createElement("div",null,i.a.createElement(F.a,{gutter:16},i.a.createElement(B.a,{xs:24,sm:24,md:0,lg:0},i.a.createElement("h3",null,"Allopath Medicine")),i.a.createElement(B.a,{xs:0,sm:0,md:8,lg:8},i.a.createElement("h3",{style:{textAlign:"right"}},"Allopath Medicine")),i.a.createElement(B.a,{xs:24,sm:24,md:12,lg:12},i.a.createElement(f.a,{style:{width:"100%"},onChange:e=>this.loadAvailableConversion(e),showSearch:!0,filterOption:!1,onSearch:e=>this.searchOperation(S.e,e)},t.map(e=>i.a.createElement(f.a.Option,{value:e.id},e.name))))),i.a.createElement(r.a,{spinning:a},i.a.createElement(i.a.Fragment,null,n?i.a.createElement("div",null,i.a.createElement(Y.a,null),i.a.createElement(je,{level:3},n.name),i.a.createElement(h.a.Item,{key:n.id,extra:i.a.createElement("img",{width:272,alt:n.name,style:{float:"right"},src:Object(v.h)(n.image)})},i.a.createElement("div",null,i.a.createElement(F.a,null,i.a.createElement(B.a,{span:24},i.a.createElement(je,{level:4},"Description"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.description}})),i.a.createElement(B.a,{span:24},i.a.createElement(je,{level:4},"Side Effects"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.benefit}})))))):null,s.length?i.a.createElement(Y.a,null,i.a.createElement(je,{level:3},"Recommended Ayurveda Suggestions")):i.a.createElement(ve.a,{title:"Select Allopath medicine for suggested Ayurveda Medicine"}),i.a.createElement(xe.a,{accordion:!0,bordered:!1,className:"site-collapse-custom-collapse"},s.map(e=>i.a.createElement(Ie,{header:i.a.createElement(je,{level:3},e.name),key:e.id,className:"site-collapse-custom-panel"},i.a.createElement("img",{width:272,alt:e.name,style:{float:"right"},src:Object(v.h)(e.image)}),i.a.createElement(F.a,null,i.a.createElement(B.a,{span:24},i.a.createElement(je,{level:4},"Description"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}})),i.a.createElement(B.a,{span:24},i.a.createElement(je,{level:4},"Benefits"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.benefit}})))))))))}}function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const He=xe.a.Panel,Re=(Oe.a.Paragraph,Oe.a.Title);class Ve extends i.a.Component{constructor(e){super(e),Le(this,"loadConversionDiseaseList",()=>{const e=this;Object(v.c)(k.hb,(function(t){e.setState({diseaseList:t})}),(function(){Object(v.a)(w.T,"Disease List Loading Failed.")}))}),Le(this,"loadAvailableConversion",e=>{const t=this;t.setState({medicineMappingLoading:!0});const a=function(e){const a={};e.results.forEach((function(e){e.ayurveda_data.forEach((function(e){a[e.id]=e}))})),t.setState({medicineMappingList:e.results,medicineMappingLoading:!1,medicineObject:a})},n=function(){t.setState({medicineMappingLoading:!1}),Object(v.a)(w.T,"Medicine Mapping List Loading Failed.")};e.length?Object(v.c)(k.eb,a,n,{diseases:e.join(",")}):this.setState({medicineMappingList:[],medicineMappingLoading:!1,medicineObject:{}})}),this.state={medicineMappingList:[],medicineMappingLoading:!1,medicineObject:{},diseaseList:[]}}componentDidMount(){this.loadConversionDiseaseList()}render(){const e=this.state,t=e.diseaseList,a=e.medicineMappingLoading,n=e.medicineObject,l=Object.keys(n).map(e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){Le(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n[e]));return i.a.createElement("div",null,i.a.createElement(F.a,{gutter:16},i.a.createElement(B.a,{xs:24,sm:24,md:0,lg:0},i.a.createElement("h3",null,"Allopath Medicine")),i.a.createElement(B.a,{xs:0,sm:0,md:8,lg:8},i.a.createElement("h3",{style:{textAlign:"right"}},"Disease")),i.a.createElement(B.a,{xs:24,sm:24,md:12,lg:12},i.a.createElement(f.a,{style:{width:"100%"},mode:"multiple",showSearch:!0,onChange:e=>this.loadAvailableConversion(e),optionFilterProp:"label"},t.map(e=>i.a.createElement(f.a.Option,{value:e.id,label:e.name},e.name))))),i.a.createElement(r.a,{spinning:a},i.a.createElement(i.a.Fragment,null,l.length?i.a.createElement(Y.a,null,i.a.createElement(Re,{level:3},"Recommended Ayurveda Suggestions")):i.a.createElement(ve.a,{title:"Select Diseases for suggested Ayurveda Medicine"}),i.a.createElement(xe.a,{accordion:!0,bordered:!1,className:"site-collapse-custom-collapse"},l.map(e=>i.a.createElement(He,{header:i.a.createElement(Re,{level:3},e.name),key:e.id,className:"site-collapse-custom-panel"},i.a.createElement("img",{width:272,alt:e.name,style:{float:"right"},src:Object(v.h)(e.image)}),i.a.createElement(Re,{level:4},"Description"),i.a.createElement(F.a,null,i.a.createElement(B.a,{span:24},i.a.createElement(Re,{level:4},"Description"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}})),i.a.createElement(B.a,{span:24},i.a.createElement(Re,{level:4},"Benefits"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.benefit}})))))))))}}function Fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}xe.a.Panel,Oe.a.Paragraph;const Be=Oe.a.Title;class Ue extends i.a.Component{constructor(e){super(e),Fe(this,"loadConversionMedicineList",()=>{const e=this;Object(v.c)(k.jb,(function(t){e.setState({medicineList:t.results})}),(function(){Object(v.a)(w.T,"Medicine List Loading Failed.")}),{medicine_type:S.l})}),Fe(this,"loadAvailableConversion",e=>{this.setState((function(t){let a=null;return t.medicineList.forEach((function(t){t.id==e&&(a=t)})),{selectedMedicine:a}}))}),Fe(this,"searchOperation",(e,t)=>{const a=this,n={medicine_type:e,name_contains:t};Object(v.c)(k.jb,(function(e){a.setState((function(t){return{medicineList:e.results}}))}),(function(){Object(v.a)(w.T,"Something went wrong!!")}),n)}),this.state={medicineList:[],medicineMappingList:[],medicineMappingLoading:!1,medicineObject:{}}}componentDidMount(){this.loadConversionMedicineList()}render(){const e=this.state,t=e.medicineList,a=e.medicineMappingLoading,n=e.selectedMedicine;return(i.a.createElement("div",null,i.a.createElement(F.a,{gutter:16},i.a.createElement(B.a,{xs:24,sm:24,md:0,lg:0},i.a.createElement("h3",null,"Ayurveda Medicine")),i.a.createElement(B.a,{xs:0,sm:0,md:8,lg:8},i.a.createElement("h3",{style:{textAlign:"right"}},"Ayurveda Medicine")),i.a.createElement(B.a,{xs:24,sm:24,md:12,lg:12},i.a.createElement(f.a,{style:{width:"100%"},onChange:e=>this.loadAvailableConversion(e),showSearch:!0,onSearch:e=>this.searchOperation(S.l,e),filterOption:!1},t.map(e=>i.a.createElement(f.a.Option,{value:e.id},e.name))))),i.a.createElement(r.a,{spinning:a},i.a.createElement(i.a.Fragment,null,n?i.a.createElement("div",null,i.a.createElement(Y.a,null),i.a.createElement(Be,{level:3},n.name),i.a.createElement(h.a.Item,{key:n.id,extra:i.a.createElement("img",{width:272,alt:n.name,style:{float:"right"},src:Object(v.h)(n.image)})},i.a.createElement("div",null,i.a.createElement(F.a,null,i.a.createElement(B.a,{span:24},i.a.createElement(Be,{level:4},"Description"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.description}})),i.a.createElement(B.a,{span:24},i.a.createElement(Be,{level:4},"Benefits"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.benefit}})))))):i.a.createElement(ve.a,{title:"Select Ayurveda medicine for details"})))))}}const Ye=s.a.Content,qe=_e.a.TabPane;class We extends i.a.Component{constructor(e){super(e),this.state={}}render(){return i.a.createElement(Ye,{className:"main-container",style:{margin:"24px 16px",minHeight:280}},i.a.createElement("div",null,i.a.createElement("h2",null,"Allopath to Ayurveda Conversion Panel"),i.a.createElement(U.a,null,i.a.createElement(_e.a,{size:"large"},i.a.createElement(qe,{tab:"Search by Allopath",key:1},i.a.createElement(Ne,null)),i.a.createElement(qe,{tab:"Search by Disease",key:2},i.a.createElement(Ve,null)),i.a.createElement(qe,{tab:"Search by Ayurveda",key:3},i.a.createElement(Ue,null))))))}}class ze extends i.a.Component{constructor(e){super(e),this.state={meetingId:null}}componentDidMount(){this.meeting=null,this.props.match.params&&this.props.match.params.meetingId&&this.setState({meetingId:this.props.match.params.meetingId})}render(){const e=this.state.meetingId,t=Object(O.a)();return i.a.createElement("iframe",{src:"/meeting/".concat(e,"?token=").concat(t),style:{width:"100%",height:"calc(100vh - 90px)",textAlign:"center"},allow:"microphone; camera"})}}var Ge=a(1036);class Ke extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{let e=this;u.a.warning({title:w.dc,content:w.cc,onOk(){e.props.onCancel()},style:{background:"red",padding:20}})},(a="error")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={}}render(){return i.a.createElement("div",null,this.error())}}var Ze=Ke;function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xe(e,t,a,n,i,l,r){try{var s=e[l](r),o=s.value}catch(e){return void a(e)}s.done?t(o):Promise.resolve(o).then(n,i)}function Je(e){return function(){var t=this,a=arguments;return new Promise((function(n,i){var l=e.apply(t,a);function r(e){Xe(l,n,i,r,s,"next",e)}function s(e){Xe(l,n,i,r,s,"throw",e)}r(void 0)}))}}function $e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const et=i.a.lazy(()=>Promise.all([a.e(0),a.e(16),a.e(24)]).then(a.bind(null,1592))),tt=i.a.lazy(()=>Promise.all([a.e(6),a.e(26)]).then(a.bind(null,1603))),at=i.a.lazy(()=>Promise.all([a.e(0),a.e(1),a.e(7),a.e(15)]).then(a.bind(null,1582))),nt=i.a.lazy(()=>Promise.all([a.e(0),a.e(14),a.e(25)]).then(a.bind(null,1585))),it=i.a.lazy(()=>Promise.all([a.e(0),a.e(1),a.e(3),a.e(8),a.e(27)]).then(a.bind(null,1590))),lt=i.a.lazy(()=>Promise.all([a.e(6),a.e(28)]).then(a.bind(null,1597))),rt=i.a.lazy(()=>Promise.all([a.e(0),a.e(1),a.e(22)]).then(a.bind(null,1583))),st=i.a.lazy(()=>Promise.all([a.e(0),a.e(1),a.e(3),a.e(7),a.e(20)]).then(a.bind(null,1584))),ot=i.a.lazy(()=>Promise.all([a.e(0),a.e(1),a.e(3),a.e(8),a.e(19)]).then(a.bind(null,1586)));class ct extends i.a.Component{constructor(e){var t;super(e),t=this,$e(this,"componentDidMount",Je(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=te()("11:00 am","HH:mm a"),n=te()().format("HH"),t.activeData(),e.next=5,Object(ie.d)(t,["config_date_time"]);case 5:n>=te()(a).format("HH")&&setInterval(t.checkTaskTracker,w.Xb);case 6:case"end":return e.stop()}}),e)})))),$e(this,"checkTaskTracker",Je(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.d)(t,["config_date_time"]);case 2:return e.next=4,t.loadSummary();case 4:case"end":return e.stop()}}),e)})))),$e(this,"loadSummary",Je(regeneratorRuntime.mark((function e(){var a,n,i,l,r,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(a=t).state,i=n.config_date_time,l=n.visibleRemainderTaskTracker,r=function(e){let t=e[e.length-1],n=te()(i).diff(te()(t.time),"hours");console.log("hours",n),n>=w.bc&&a.setState({visibleRemainderTaskTracker:!l})},s=function(){},o={date:te()().format("YYYY-MM-DD"),user:t.props.user.id},t.props.user&&Object(v.c)(k.vb,r,s,o);case 6:case"end":return e.stop()}}),e)})))),$e(this,"handleCancelRemainderTaskTracker",()=>{let e=this.state.visibleRemainderTaskTracker;this.setState({visibleRemainderTaskTracker:!e})}),$e(this,"toggleSider",e=>{this.setState({collapsed:!!e})}),$e(this,"showDrawer",()=>{this.setState({visible:!0})}),$e(this,"onClose",()=>{this.setState({visible:!1})}),this.state={collapsed:!1,active_practiceId:Object(O.i)(),practiceList:Object(O.h)(),activePracticeData:null,activePracticePermissions:{},specialisations:null,allowAllPermissions:!1,loadingPermissions:!0,visible:!1,visibleRemainderTaskTracker:!1},this.activeData=this.activeData.bind(this),this.switchPractice=this.switchPractice.bind(this)}activeData(){const e=this,t=function(t){e.setState((function(e){const a={};return t.practice_permissions.forEach((function(e){a[e.codename]=e})),t.global_permissions.forEach((function(e){a[e.codename]=e})),{activePracticePermissions:a,loadingPermissions:!1,practiceList:Object(O.h)()}}),(function(){e.props.updateUserInfo()}))},a=function(){e.setState({loadingPermissions:!1})};e.setState((function(e){let t=null;return e.practiceList.forEach((function(a){a.practice.id==e.active_practiceId&&(t=a.practice)})),t||!e.practiceList.length?{activePracticeData:t,loadingPermissions:!0}:(Object(O.k)(e.practiceList[0].practice.id),{activePracticeData:e.practiceList[0].practice,active_practiceId:e.practiceList[0].practice.id,loadingPermissions:!0})}),(function(){Object(O.b)(e.state.active_practiceId,t,a)}))}switchPractice(e){const t=this;t.setState((function(t){return{active_practiceId:e}}),(function(){Object(O.k)(e),t.activeData()}))}render(){const e=this;let t=e.state.visibleRemainderTaskTracker;return this.state.loadingPermissions?i.a.createElement(r.a,{spinning:this.state.loadingPermissions,tip:"Loading Permissions...."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}})):i.a.createElement(s.a,{style:{minHeight:"100vh"}},t?i.a.createElement(Ze,{onCancel:e.handleCancelRemainderTaskTracker}):null,i.a.createElement(Pe,null,i.a.createElement("div",{style:{position:"fixed",left:"20px",bottom:"20px",zIndex:"20"}},i.a.createElement(o.a,{type:"primary",shape:"circle",icon:"mail",size:"large",onClick:this.showDrawer})),i.a.createElement(l.d,null,i.a.createElement(l.b,{path:"/patients/:id/patientprintform",render:t=>i.a.createElement($.a,Qe({},this.state,this.props,{key:e.state.active_practiceId},t))}),i.a.createElement(l.b,{path:"/patients/patientprintform",render:t=>i.a.createElement($.a,Qe({},this.state,{key:e.state.active_practiceId}))}),i.a.createElement(l.b,null,i.a.createElement(s.a,null,i.a.createElement(H,Qe({showDrawer:this.showDrawer,toggleSider:this.toggleSider},this.state,{key:e.state.active_practiceId},this.props)),i.a.createElement(s.a,null,i.a.createElement(A,Qe({},this.props,this.state,{switchPractice:this.switchPractice,toggleSider:this.toggleSider})),i.a.createElement("div",{style:{minHeight:"calc(100vh - 95px)"}},i.a.createElement(l.d,null,this.state.activePracticePermissions.SettingsAgents?i.a.createElement(l.b,{path:"/advisors",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Advisor Panel...."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(et,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})))}):null,i.a.createElement(l.b,{exact:!0,path:"/webcall/:meetingId",render:e=>i.a.createElement(ze,Qe({},this.state,this.props,e))}),this.state.activePracticePermissions.WebAdmin?i.a.createElement(l.b,{path:"/web",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Web Admin Panel...."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(nt,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})))}):null,this.state.activePracticePermissions.WebAdmin?i.a.createElement(l.b,{path:"/mission",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Web Admin Panel...."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(nt,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})))}):null,i.a.createElement(l.b,{exact:!0,path:"/calendar/create-appointment",render:t=>e.state.activePracticePermissions.AddAppointment||e.state.allowAllPermissions?i.a.createElement(Ge.a,Qe({},this.state,this.props,t,{startTime:this.state.startTime})):i.a.createElement(he.a,null)}),i.a.createElement(l.b,{exact:!0,path:"/calendar/:appointmentid/edit-appointment",render:t=>e.state.activePracticePermissions.EditAppointment||e.state.allowAllPermissions?i.a.createElement(Ge.a,Qe({},this.state,this.props,t,{startTime:this.state.startTime})):i.a.createElement(he.a,null)}),i.a.createElement(l.b,{exact:!0,path:"/calendar/blockcalendar",render:t=>e.state.activePracticePermissions.BlockCalendar||e.state.allowAllPermissions?i.a.createElement(de,Qe({},this.state,this.props,t)):i.a.createElement(he.a,null)}),i.a.createElement(l.b,{path:"/calendar",render:t=>e.state.activePracticePermissions.ViewCalendar?i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Calendar..."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(tt,Qe({},e.state,e.props,t,{key:e.state.active_practiceId}))):i.a.createElement(he.a,null)}),i.a.createElement(l.b,{path:"/patient/:id",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Patient Panel..."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(st,Qe({},this.state,this.props,t,{key:"".concat(e.state.active_practiceId,"|").concat(t.match.params.id)})))}),i.a.createElement(l.b,{path:"/settings",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Settings Panel..."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(rt,Qe({},this.state,this.props,t,{key:e.state.active_practiceId,refreshClinicData:this.activeData})))}),i.a.createElement(l.b,{path:"/inventory",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Inventory..."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(it,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})))}),i.a.createElement(l.b,{path:"/reports/:type",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Reports..."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(at,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})))}),i.a.createElement(l.b,{path:"/profile",render:t=>i.a.createElement(X,Qe({},this.state,this.props,t,{key:e.state.active_practiceId}))}),i.a.createElement(l.b,{path:"/meeting-booking",render:t=>this.state.activePracticePermissions.ViewMeeting||this.state.allowAllPermissions?i.a.createElement(lt,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})):i.a.createElement(he.a,null)}),i.a.createElement(l.b,{path:"/conversion",render:t=>i.a.createElement(We,Qe({},this.state,this.props,t,{key:e.state.active_practiceId}))}),i.a.createElement(l.b,{path:"/tasktracker",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Task Track..."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(ot,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})))}),this.state.activePracticePermissions.ViewCalendar?i.a.createElement(l.b,{exact:!0,path:"/",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Calendar..."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(tt,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})))}):null,i.a.createElement(l.b,{path:"/",render:t=>i.a.createElement(n.Suspense,{fallback:i.a.createElement(r.a,{spinning:!0,tip:"Loading Patient Panel...."},i.a.createElement("div",{style:{width:"100vw",height:"100vh"}}))},i.a.createElement(st,Qe({},this.state,this.props,t,{key:e.state.active_practiceId})))}),i.a.createElement(l.b,{component:R.a}))),i.a.createElement(De,null))))),i.a.createElement(ye,Qe({},this.state,{close:this.onClose}))))}}t.default=ct},438:function(e,t,a){"use strict";a.d(t,"e",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"h",(function(){return E})),a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return v})),a.d(t,"d",(function(){return k})),a.d(t,"f",(function(){return P})),a.d(t,"j",(function(){return O})),a.d(t,"i",(function(){return w}));var n=a(1),i=a.n(n),l=a(115),r=a(1596),s=a(1567),o=a(434),c=a(435),m=a(437),u=a(461);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const h=r.a.confirm,b=function(e){Object(c.c)(Object(c.g)(o.Dd,[e.props.active_practiceId]),(function(t){const a=[];let n={};t.staff.forEach((function(t){(t.role.indexOf(parseInt(m.Q))>-1||t.role.indexOf(m.Q)>-1)&&(a.push(t),e.props.activePracticeData.default_doctor&&e.props.activePracticeData.default_doctor==t.id&&(n=t))})),e.setState({practiceDoctors:a,selectedDoctor:a.length&&!n.id?a[0]:n})}),(function(){}))},f=function(e){Object(c.c)(Object(c.g)(o.Dd,[e.props.active_practiceId]),(function(t){e.setState({practiceStaff:t.staff})}),(function(){}))},g=function(e){Object(c.c)(Object(c.g)(o.Dd,[e.props.active_practiceId]),(function(t){const a=[];t.staff.forEach((function(e){(e.role.indexOf(parseInt(m.Q))>-1||e.role.indexOf(m.Q)>-1)&&a.push(e)})),e.setState({practiceDoctors:a})}),(function(){}),{all:!0})},E=i.a.createElement(s.a,null,i.a.createElement(s.a.Item,{key:"1"},i.a.createElement(l.b,{to:"/settings/prescriptions"},"Add/Edit Drugs")),i.a.createElement(s.a.Item,{key:"2"},i.a.createElement(l.b,{to:"/settings/procedures"},"Add/Edit Procedures")),i.a.createElement(s.a.Item,{key:"3"},i.a.createElement(l.b,{to:"/settings/emr#treatmentnotes"},"Add/Edit Clinical Notes")),i.a.createElement(s.a.Item,{key:"4"},i.a.createElement(l.b,{to:"/settings/printout"},"Modify EMR/Billing Printout")),i.a.createElement(s.a.Item,{key:"5"},i.a.createElement(l.b,{to:"/settings/billing#taxcatalog"},"Add/Edit taxes")),i.a.createElement(s.a.Item,{key:"6"},i.a.createElement(l.b,{to:"/settings/billing#paymentmodes"},"Add/Edit Payment Modes"))),y=function(e){let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<6)-t),t=(t>>6)+t;return t},v=function(e){const t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t},k=function(e,t=[],a){const n=t.join(",");Object(c.c)(o.fb,(function(t){e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t)),a&&a()}),(function(){}),{parameters:n})},P=function(e){e.setState({loadingMailingUserList:!0});Object(c.c)(o.mc,(function(t){e.setState({mailingUsersList:t,loadingMailingUserList:!1})}),(function(){e.setState({loadingMailingUserList:!1})}))},O=function(e,t,a,n){h({title:"Are you sure send mail?",content:"Email Id :".concat(t.mail_to),okText:"Yes",okType:"danger",cancelText:"No",onOk(){Object(c.c)(e,(function(){a&&Object(c.a)(u.l,"".concat(u.e,"to").concat(t.mail_to))}),(function(){n&&Object(c.a)(m.T,u.d)}),t)},onCancel(){}})},w=function(e,t){Object(c.c)(e,(function(){}),(function(){}),t)}},440:function(e,t,a){"use strict";var n=a(1),i=a.n(n),l=a(1568),r=a(1593),s=a(1029),o=a(837),c=a(1596),m=a(448),u=a(763),d=a(1600),p=a(1587),h=a(1572),b=a(1579),f=a(1570),g=a(1575),E=a(1591),y=a(503),v=a(1580),k=a(1601),P=a(436),O=a.n(P),w=a(896),S=a.n(w),C=a(716),D=a(717),_=(a(728),a(538)),x=a(729),T=a.n(x),A=a(730),I=a.n(A),j=a(434),N=a(461),M=a(437),L=a(435);function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){F(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function F(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const B=l.a.TextArea,U=r.a.Item,Y=s.a.Group,q=o.a.Group;class W extends i.a.Component{constructor(e){super(e),F(this,"fieldDecorators",(e,t)=>{const a=this.state.urlInitialValues;return e.type==M.xb?{initialValue:t[e.key]?t[e.key]:a[e.key]?a[e.key]:t[e.key],rules:[{required:e.required,message:N.k,type:"array"}]}:{initialValue:t[e.key]?t[e.key]:a[e.key]?a[e.key]:t[e.key],rules:[{required:e.required,message:N.k}]}}),F(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll((e,a)=>{e||(this.props.defaultValues&&(console.log(this.props.defaultValues),this.props.defaultValues.forEach((function(e){a=V({[e.key]:e.value},a)}))),this.state.colorPickerKey&&(a[this.state.colorPickerKey]=this.state.colorPickerColor),t.props.fields.forEach((function(e){if(e.type==M.oc){const t=e.key;a[t]&&a[t].file&&a[t].file.response?a[t]=a[t].file.response.image_path:a[t]=e.initialValue}else if(e.type==M.wb){const t=e.key;a[t]&&a[t].file&&a[t].file.response?a[t]=a[t].fileList.map(e=>e.response.image_path):a[t]=e.initialValue}else if(e.type==M.wc||e.type==M.N||e.type==M.O){const t=e.key;e.format&&(a[t]=O()(a[t]).isValid()?O()(a[t]).format(e.format):null)}else if(e.type==M.Tb){const n=e.key;a[n]=t.state.editorState[n]?T()(Object(_.convertToRaw)(t.state.editorState[n].getCurrentContent())):e.initialValue}})),t.state.formProp.beforeSend&&(a=t.state.formProp.beforeSend(a)),t.state.formProp.confirm?c.a.confirm({title:t.state.formProp.confirmText||"Are you sure to submit?",onOk(){t.submitForm(a)},onCancel(){}}):t.submitForm(a))})}),F(this,"addMailTemplateTag",(e,t)=>{this.setState((function(a){let n=a.editorState[e]?T()(Object(_.convertToRaw)(a.editorState[e].getCurrentContent())):"";return n+=t,{editorState:V(V({},a.editorState),{},{[e]:_.EditorState.createWithContent(_.ContentState.createFromBlockArray(I()(n)))})}}))}),F(this,"toggleWebCam",(e,t)=>{this.setState((function(a){return{webCamState:V(V({},a.webCamState),{},{[e]:t})}}))}),F(this,"getImageandUpload",(e,t)=>{const a=this,n=new FormData;n.append("image",t),n.append("name","file");Object(L.k)(j.Mb,n,(function(t){a.props.form.setFieldsValue({[e]:{file:{response:t}}}),Object(L.a)(M.sc,"Image Captured and processed."),a.setState((function(t){return{webCamState:V(V({},t.webCamState),{},{[e]:!1})}}))}),(function(){}),{"content-type":"multipart/form-data"})}),F(this,"onEditorStateChange",(e,t)=>{this.setState((function(a){return{editorState:V(V({},a.editorState),{},{[e]:t})}}))}),F(this,"searchOperation",(e,t)=>{const a=this,n=this.state.searchFields[e],i=V(V({},n.searchDefaultParams),{},{[n.searchKey]:t});Object(L.c)(n.searchAPI,(function(t){a.setState((function(a){return{searchResults:V(V({},a.searchResults),{},{[e]:t.results})}}))}),(function(e){Object(L.a)(M.T,"Something went wrong!!")}),i)}),F(this,"handleBackendErrors",e=>{const t=this;if(this.state.fields){let a={};this.state.fields.forEach((function(t){e[t.key]&&e[t.key].length&&(a[t.key]=e[t.key][0])})),this.setState({formErrors:a},(function(){t.props.form.validateFieldsAndScroll()}))}}),this.state={fields:this.props.fields,formData:{},formProp:V({authorisation:!0},this.props.formProp),disabled:!1,loading:!1,countryOptions:[],stateOptions:[],cityOptions:[],smsFields:{},urlInitialValues:{},webCamState:{},editorState:{},searchResults:{},searchFields:{},formErrors:{}},this.resetFormData=this.resetFormData.bind(this),this.submitForm=this.submitForm.bind(this),this.colorChange=this.colorChange.bind(this),this.loadCountryData=this.loadCountryData.bind(this),this.addSMSTag=this.addSMSTag.bind(this)}componentWillReceiveProps(e){}componentDidMount(){const e=this;if(this.resetFormData(),this.props.fields.forEach((function(t){t.type==M.E&&e.loadCountryData(),t.type==M.kc&&e.setState((function(e){return{searchResults:V(V({},e.searchResults),{},{[t.key]:t.searchInitialFields||[]}),searchFields:V(V({},e.searchFields),{},{[t.key]:t})}}))})),this.props.history&&this.props.history.location.search){const e=this.props.history.location.search.substr(1).split("&");if(e.length){const t={};e.forEach((function(e){const a=e.split("=");a&&2==a.length&&(isNaN(a[1])||-1==a[1].toString().indexOf(".")?isNaN(a[1])?t[a[0]]=a[1]:t[a[0]]=parseInt(a[1]):t[a[0]]=parseFloat(a[1]))})),this.setState({urlInitialValues:t})}}}resetFormData(){const e={};this.state.fields.forEach((function(t){e[t.key]=t.initialValue})),this.setState({formData:e})}submitForm(e){const t=this;this.setState({disabled:!0,loading:!0});const a=function(e){t.state.formProp.successFn(e),t.setState({disabled:!1,loading:!1}),t.props.changeRedirect&&t.props.changeRedirect()},n=function(e){t.handleBackendErrors(e),t.state.formProp.errorFn(e),t.setState({disabled:!1,loading:!1})},i={};t.state.formProp.authorisation||(i.Authorization=void 0),"post"==this.props.formProp.method?Object(L.k)(this.props.formProp.action,e,a,n,V({},i)):"put"==this.props.formProp.method?Object(L.m)(this.props.formProp.action,e,a,n,V({},i)):"get"==this.props.formProp.method&&Object(L.c)(this.props.formProp.action,a,n,e,V({},i))}colorChange(e,t){const a=this;this.setState({colorPickerKey:t,colorPickerColor:e.hex},(function(){a.props.form.setFieldsValue({[t]:e.hex})}))}setAddressField(e,t){"country"==e?this.setState((function(e){let a=[];return e.countryOptions.forEach((function(e){e.id==t&&(a=e.states)})),{stateOptions:a}})):this.setState((function(e){let a=[];return e.stateOptions.forEach((function(e){e.id==t&&(a=e.cities)})),{cityOptions:a}}))}loadCountryData(){const e=this;Object(L.c)(j.Kb,(function(t){e.setState({countryOptions:t.country})}),(function(){}))}addSMSTag(e,t){const a=this.props.form.getFieldValue(e)||"";this.props.form.setFieldsValue({[e]:a+t})}render(){const e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:8},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator,n=this.state,P=n.searchResults,w=n.formErrors;return i.a.createElement("div",null,i.a.createElement(r.a,{onSubmit:this.handleSubmit},this.props.title?i.a.createElement("h2",null,this.props.title):null,this.state.fields?this.state.fields.map((function(n){switch(n.type){case M.Eb:return i.a.createElement(r.a.Item,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(l.a,{prefix:i.a.createElement(m.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:n.placeholder,onChange:e=>function(){n.onChange&&n.onChange(e)},disabled:n.disabled?n.disabled:e.state.disabled})));case M.db:return i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(l.a,{placeholder:n.placeholder,onChange:e=>function(){n.onChange&&n.onChange(e)},disabled:n.disabled?n.disabled:e.state.disabled})),n.follow?i.a.createElement("span",{className:"ant-form-text"},n.follow):null);case M.kc:return i.a.createElement(U,H({key:n.key},t,{label:n.label,extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(u.a,{onSearch:t=>e.searchOperation(n.key,t),placeholder:n.placeholder,filterOption:!1,showSearch:!0,disabled:n.disabled?n.disabled:e.state.disabled,mode:n.mode?n.mode:"default"},P[n.key]&&P[n.key].map(e=>i.a.createElement(u.a.Option,{value:e[n.options.value]},e[n.options.label])))),n.follow?i.a.createElement("span",{className:"ant-form-text"},n.follow):null);case M.mc:return i.a.createElement(U,H({key:n.key},t,{label:n.label,extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(u.a,{style:{width:n.width},placeholder:n.placeholder,disabled:n.disabled?n.disabled:e.state.disabled,mode:n.mode?n.mode:"default",optionFilterProp:"children",showSearch:!0},n.options.map(e=>i.a.createElement(u.a.Option,{label:e.label,value:e.value},e.label)))),n.follow?i.a.createElement("span",{className:"ant-form-text"},n.follow):null);case M.xb:return i.a.createElement(U,H({key:n.key},t,{label:n.label,extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,V({},e.fieldDecorators(n,e.state.formData)))(i.a.createElement(u.a,{mode:"multiple",placeholder:n.placeholder,showSearch:n.showSearch?n.showSearch:null,disabled:n.disabled?n.disabled:e.state.disabled,optionFilterProp:"label"},n.options.map(e=>i.a.createElement(u.a.Option,{label:e.label,value:e.value},e.label)))),n.follow?i.a.createElement("span",{className:"ant-form-text"},n.follow):null);case M.Ub:return i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(Y,{disabled:n.disabled?n.disabled:e.state.disabled},n.options.map(e=>i.a.createElement(s.a,{value:e.value},e.label)))));case M.A:return i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(q,{options:n.options,disabled:n.disabled?n.disabled:e.state.disabled})));case M.nc:return i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,{valuePropName:"checked",initialValue:n.initialValue},{rules:[{required:n.required,message:N.k}]})(i.a.createElement(o.a,{disabled:n.disabled?n.disabled:e.state.disabled},n.follow)));case M.Bb:return i.a.createElement(U,H({key:n.key},t,{label:n.label,extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(d.a,{min:n.min,max:n.max,disabled:n.disabled?n.disabled:e.state.disabled})),i.a.createElement("span",{className:"ant-form-text"},n.follow));case M.N:return i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,{initialValue:n.initialValue?O()(n.initialValue):null,rules:[{required:n.required,message:N.k}]})(i.a.createElement(p.a,{format:n.format,allowClear:!1})));case M.O:return i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,{initialValue:n.initialValue?O()(n.initialValue):null},{rules:[{required:n.required,message:N.k}]})(i.a.createElement(p.a,{format:n.format,showTime:!0,onChange:e=>n.onChange?n.onChange(e):function(){}})));case M.vc:return i.a.createElement("div",{key:n.key},i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(B,{autosize:{minRows:n.minRows,maxRows:n.maxRows},placeholder:n.placeholder,disabled:n.disabled?n.disabled:e.state.disabled,onChange:e.inputChange}))));case M.pc:return i.a.createElement("div",null,i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(B,{autosize:{minRows:n.minRows,maxRows:n.maxRows},placeholder:n.placeholder,disabled:n.disabled?n.disabled:e.state.disabled})),n.options&&n.options.map(t=>i.a.createElement(h.a,{color:"#108ee9",onClick:()=>e.addSMSTag(n.key,t.value)},t.label))));case M.gb:return i.a.createElement("div",null,i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra}),a(n.key,{initialValue:n.initialValue&&n.initialValue.length?n.initialValue:"",rules:[{required:n.required,message:N.k}]})(i.a.createElement("div",{style:{border:"1px solid #eee"}},i.a.createElement(D.Editor,{editorState:e.state.editorState[n.key]?e.state.editorState[n.key]:n.initialValue?_.EditorState.createWithContent(_.ContentState.createFromBlockArray(I()(n.initialValue))):_.EditorState.createEmpty(),onEditorStateChange:t=>e.onEditorStateChange(n.key,t)}))),n.options&&n.options.map(t=>i.a.createElement(h.a,{color:"#108ee9",onClick:()=>e.addMailTemplateTag(n.key,t.value)},t.label)),n.preview?i.a.createElement("div",null,i.a.createElement(b.a,null,"Preview"),i.a.createElement("div",{style:{maxHeight:200,overflowY:"scroll"},dangerouslySetInnerHTML:{__html:"".concat(e.state.editorState[n.key]?T()(Object(_.convertToRaw)(e.state.editorState[n.key].getCurrentContent())):n.initialValue)||""}}),i.a.createElement(b.a,null)):null),n.iframe?i.a.createElement("iframe",{src:n.iframe_url,style:{marginLeft:"50px",width:"70%",height:"70%",minHeight:"600px",boxShadow:"-2px 0px 4px #B8B8B8"}}):null);case M.Z:return i.a.createElement("div",null,i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra}),a(n.key,{initialValue:n.initialValue&&n.initialValue.length?n.initialValue:"",rules:[{required:n.required,message:N.k}]})),n.iframe?i.a.createElement("iframe",{src:n.iframe_url,style:{marginLeft:"50px",width:"70%",height:"70%",minHeight:"600px",boxShadow:"-2px 0px 4px #B8B8B8"}}):null);case M.Tb:return i.a.createElement("div",null,i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,{initialValue:n.initialValue&&n.initialValue.length?n.initialValue:"",rules:[]})(i.a.createElement("div",{style:{border:"1px solid #eee"}},i.a.createElement(D.Editor,{editorState:e.state.editorState[n.key]?e.state.editorState[n.key]:n.initialValue?_.EditorState.createWithContent(_.ContentState.createFromBlockArray(I()(n.initialValue))):_.EditorState.createEmpty(),onEditorStateChange:t=>e.onEditorStateChange(n.key,t)}))),n.preview?i.a.createElement("div",null,i.a.createElement(b.a,null,"Preview"),i.a.createElement("div",{style:{maxHeight:200,overflowY:"scroll"},dangerouslySetInnerHTML:{__html:"".concat(e.state.editorState[n.key]?T()(Object(_.convertToRaw)(e.state.editorState[n.key].getCurrentContent())):n.initialValue)||""}}),i.a.createElement(b.a,null)):null));case M.wc:return i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,{initialValue:n.initialValue?O()(n.initialValue,n.format):null,rules:[{required:n.required,message:N.k}]})(i.a.createElement(f.a,{format:n.format})));case M.D:return i.a.createElement(U,H({key:n.key,label:n.label},t,{extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement("div",null,i.a.createElement(S.a,{style:{width:"100%"},onChange:t=>e.colorChange(t,n.key)}),e.state.colorPickerKey?i.a.createElement("div",{style:{margin:"10px",backgroundColor:e.state.colorPickerColor,height:"40px",width:"40px"}}):e.state.formData[n.key]?i.a.createElement("div",{style:{margin:"10px",backgroundColor:e.state.formData[n.key],height:"40px",width:"40px"}}):null)));case M.oc:const x={name:"image",data:{name:"hello"},action:Object(L.i)(j.Lb),headers:{authorization:"authorization-text"},onChange(e){e.file.status,"done"===e.file.status?g.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&g.a.error("".concat(e.file.name," file upload failed."))}};return(i.a.createElement(r.a.Item,H({key:n.key},t,{label:n.label,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData),{valuePropName:n.key})(i.a.createElement(E.a,x,i.a.createElement(y.a,null,i.a.createElement(m.a,{type:"upload"})," Select File"),n.initialValue?i.a.createElement(v.a,{size:64,src:Object(L.h)(n.initialValue)}):null)),n.allowWebcam?i.a.createElement("span",{className:"ant-form-text"},i.a.createElement("a",{onClick:()=>e.toggleWebCam(n.key,Math.random())},"Open Webcam")):null,i.a.createElement(c.a,{footer:null,onCancel:()=>e.toggleWebCam(n.key,!1),visible:!!e.state.webCamState[n.key],width:680,key:e.state.webCamState[n.key]},i.a.createElement(C.a,{getScreenShot:t=>e.getImageandUpload(n.key,t)}))));case M.wb:const A={name:"image",multiple:!0,data:{name:"hello"},action:Object(L.i)(j.Lb),headers:{authorization:"authorization-text"},onChange(e){e.file.status,"done"===e.file.status?g.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&g.a.error("".concat(e.file.name," file upload failed."))}};return(i.a.createElement(r.a.Item,H({key:n.key},t,{label:n.label,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,{valuePropName:n.key})(i.a.createElement(E.a,H({},A,{multiple:!0}),i.a.createElement(y.a,null,i.a.createElement(m.a,{type:"upload"})," Select Multiple File"),n.initialValue&&n.initialValue.length?n.initialValue.map(e=>i.a.createElement("img",{src:e,style:{maxWidth:"100%"}})):null))));case M.E:return i.a.createElement(U,H({key:n.key},t,{label:n.label,extra:n.extra}),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(u.a,{placeholder:n.placeholder,disabled:n.disabled?n.disabled:e.state.disabled,mode:n.mode?n.mode:"default",onChange:t=>e.setAddressField("country",t)},e.state.countryOptions.map(e=>i.a.createElement(u.a.Option,{value:e.id},e.name)))));case M.rc:return i.a.createElement(U,H({key:n.key},t,{label:n.label,extra:n.extra}),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(u.a,{placeholder:n.placeholder,disabled:n.disabled?n.disabled:e.state.disabled,mode:n.mode?n.mode:"default",onChange:t=>e.setAddressField("state",t)},e.state.stateOptions.map(e=>i.a.createElement(u.a.Option,{value:e.id},e.name)))));case M.S:return i.a.createElement(r.a.Item,H({key:n.key},t,{label:n.label,extra:n.extra}),a(n.key,{initialValue:e.state.formData[n.key],rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(i.a.createElement(l.a,{placeholder:n.placeholder,disabled:n.disabled?n.disabled:e.state.disabled,onChange:e.inputChange})));case M.C:return i.a.createElement(U,H({key:n.key},t,{label:n.label,extra:n.extra}),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(u.a,{placeholder:n.placeholder,disabled:n.disabled?n.disabled:e.state.disabled,mode:n.mode?n.mode:"default"},e.state.cityOptions.map(e=>i.a.createElement(u.a.Option,{value:e.id},e.name)))));case M.P:return i.a.createElement(b.a,{style:{margin:4}});case M.fb:return i.a.createElement(U,H({key:n.key},t,{label:n.label,extra:n.extra}),n.follow?i.a.createElement("span",{className:"ant-form-text"},n.follow):null);case M.Vb:return i.a.createElement(r.a.Item,H({key:n.key},t,{label:n.label,extra:n.extra,help:w[n.key]},w[n.key]?{validateStatus:"error"}:null),a(n.key,e.fieldDecorators(n,e.state.formData))(i.a.createElement(k.a,{allowHalf:n.allowHalf})),n.follow?i.a.createElement("span",{className:"ant-form-text"},n.follow):null);default:return null}})):null,i.a.createElement(U,V(V({},t),{},{wrapperCol:{offset:8,span:16}}),i.a.createElement(y.a,{loading:e.state.loading,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),e.props.history?i.a.createElement(y.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null)))}}t.a=W},441:function(e,t,a){"use strict";a.d(t,"Jb",(function(){return l})),a.d(t,"Fb",(function(){return r})),a.d(t,"J",(function(){return s})),a.d(t,"L",(function(){return o})),a.d(t,"V",(function(){return c})),a.d(t,"Wb",(function(){return m})),a.d(t,"Nb",(function(){return u})),a.d(t,"Lb",(function(){return d})),a.d(t,"nb",(function(){return p})),a.d(t,"ob",(function(){return h})),a.d(t,"a",(function(){return b})),a.d(t,"y",(function(){return f})),a.d(t,"i",(function(){return g})),a.d(t,"Hb",(function(){return E})),a.d(t,"T",(function(){return y})),a.d(t,"o",(function(){return v})),a.d(t,"S",(function(){return k})),a.d(t,"n",(function(){return P})),a.d(t,"B",(function(){return O})),a.d(t,"Ab",(function(){return w})),a.d(t,"zb",(function(){return S})),a.d(t,"Mb",(function(){return C})),a.d(t,"jb",(function(){return D})),a.d(t,"tb",(function(){return _})),a.d(t,"rb",(function(){return x})),a.d(t,"sb",(function(){return T})),a.d(t,"Db",(function(){return A})),a.d(t,"W",(function(){return I})),a.d(t,"Ub",(function(){return j})),a.d(t,"Q",(function(){return N})),a.d(t,"p",(function(){return M})),a.d(t,"M",(function(){return L})),a.d(t,"K",(function(){return H})),a.d(t,"Tb",(function(){return R})),a.d(t,"fc",(function(){return V})),a.d(t,"U",(function(){return F})),a.d(t,"x",(function(){return B})),a.d(t,"w",(function(){return U})),a.d(t,"ec",(function(){return Y})),a.d(t,"C",(function(){return q})),a.d(t,"D",(function(){return W})),a.d(t,"wb",(function(){return z})),a.d(t,"F",(function(){return G})),a.d(t,"G",(function(){return K})),a.d(t,"E",(function(){return Z})),a.d(t,"k",(function(){return Q})),a.d(t,"h",(function(){return X})),a.d(t,"Ib",(function(){return J})),a.d(t,"xb",(function(){return $})),a.d(t,"Bb",(function(){return ee})),a.d(t,"j",(function(){return te})),a.d(t,"R",(function(){return ae})),a.d(t,"f",(function(){return ne})),a.d(t,"Xb",(function(){return ie})),a.d(t,"cc",(function(){return le})),a.d(t,"q",(function(){return re})),a.d(t,"bb",(function(){return se})),a.d(t,"X",(function(){return oe})),a.d(t,"pb",(function(){return ce})),a.d(t,"m",(function(){return me})),a.d(t,"ub",(function(){return ue})),a.d(t,"Gb",(function(){return de})),a.d(t,"kb",(function(){return pe})),a.d(t,"qb",(function(){return he})),a.d(t,"Rb",(function(){return be})),a.d(t,"I",(function(){return fe})),a.d(t,"Sb",(function(){return ge})),a.d(t,"Cb",(function(){return Ee})),a.d(t,"yb",(function(){return ye})),a.d(t,"mb",(function(){return ve})),a.d(t,"b",(function(){return ke})),a.d(t,"db",(function(){return Pe})),a.d(t,"eb",(function(){return Oe})),a.d(t,"cb",(function(){return we})),a.d(t,"fb",(function(){return Se})),a.d(t,"gb",(function(){return Ce})),a.d(t,"hb",(function(){return De})),a.d(t,"ib",(function(){return _e})),a.d(t,"Pb",(function(){return xe})),a.d(t,"ab",(function(){return Te})),a.d(t,"A",(function(){return Ae})),a.d(t,"v",(function(){return Ie})),a.d(t,"u",(function(){return je})),a.d(t,"Qb",(function(){return Ne})),a.d(t,"Ob",(function(){return Me})),a.d(t,"r",(function(){return Le})),a.d(t,"Eb",(function(){return He})),a.d(t,"Vb",(function(){return Re})),a.d(t,"gc",(function(){return Ve})),a.d(t,"Y",(function(){return Fe})),a.d(t,"Z",(function(){return Be})),a.d(t,"dc",(function(){return Ue})),a.d(t,"t",(function(){return Ye})),a.d(t,"s",(function(){return qe})),a.d(t,"c",(function(){return We})),a.d(t,"d",(function(){return ze})),a.d(t,"lb",(function(){return Ge})),a.d(t,"Kb",(function(){return Ke})),a.d(t,"z",(function(){return Ze})),a.d(t,"vb",(function(){return Qe})),a.d(t,"H",(function(){return Xe})),a.d(t,"e",(function(){return Je})),a.d(t,"l",(function(){return $e})),a.d(t,"Zb",(function(){return et})),a.d(t,"bc",(function(){return tt})),a.d(t,"ac",(function(){return at})),a.d(t,"Yb",(function(){return nt})),a.d(t,"N",(function(){return it})),a.d(t,"P",(function(){return lt})),a.d(t,"O",(function(){return rt})),a.d(t,"g",(function(){return st}));var n=a(437),i=a(434);const l=[{label:"cash",value:"cash"},{label:"cheque",value:"cheque"},{label:"card",value:"card"},{label:"netbanking",value:"netbanking"},{label:"unknown",value:"unknown"}],r="Cash",s=[{label:"Kidney Disease",value:"Kidney Disease"},{label:"Cancer Disease",value:"Cancer Disease"},{label:"Other Disease",value:"Other Disease"}],o="Medicine",c="Equipment",m="Supplies",u="Procedure",d="Prescriptions",p="Inventory",h=[{label:o,value:o},{label:c,value:c},{label:m,value:m}],b="ADD",f="CONSUME",g=[{label:"PATIENT ID",value:"{{PATIENT_ID}}"},{label:"CLINIC CONTACT",value:"{{CLINICCONTACTNUMBER}}"},{label:"CLINIC NAME",value:"{{CLINIC}}"},{label:"PATIENT NAME",value:"{{PATIENT}}"},{label:"APPOINTMENT CATEGORY",value:"{{CATEGORY}}"},{label:"DATE",value:"{{DATE}}"},{label:"TIME",value:"{{TIME}}"}],E=[{label:"PATIENT ID",value:"{{PATIENT_ID}}"},{label:"CLINIC CONTACT",value:"{{CLINICCONTACTNUMBER}}"},{label:"CLINIC NAME",value:"{{CLINIC}}"},{label:"PATIENT NAME",value:"{{PATIENT}}"},{label:"DATE",value:"{{DATE}}"},{label:"PAYMENT ID",value:"{{PAYMENT_ID}}"},{label:"INVOICE ID",value:"{{INVOICE_ID}}"},{label:"PAYMENT AMOUNT",value:"{{PAYMENT_AMOUNT}}"},{label:"ADVANCE AMOUNT",value:"{{ADVANCE_AMOUNT}}"}],y="EMR",v="BILLING",k=[{title:"PRESCRIPTION"},{title:"TREATMENT PLAN"},{title:"CASE SHEET"},{title:"MEDICAL LEAVE"},{title:"REPORT MANUAL"},{title:"LAB ORDER"},{title:"CLINICAL NOTES"}],P=[{title:"INVOICE"},{title:"BOOKING"},{title:"RECEIPTS"},{title:"RETURN"},{title:"PROFORMA"}],O=["PAGE","HEADER","PATIENT","FOOTER"],w=["A2","A3","A4","A5"],S=[{value:"PORTRAIT"},{value:"LANDSCAPE"}],C=[{value:"COLOR"},{value:"BLACK"}],D=[{title:"Yes",value:!0},{title:"No , I already have a letter head.",value:!1}],_=[{value:"Square"},{value:"Narrow"},{value:"Wide"}],x=[{value:"RIGHT"},{value:"LEFT"},{value:"CENTRE"}],T=[{title:"Yes",value:!0},{title:"No",value:!1}],A=[{value:"Exclude Medical History"},{value:"Exclude Patient Number"},{value:"Exclude address"},{value:"Exclude Blood Group"}],I="Exclude Patient Gender & DOB",j=[{title:"Yes",value:!0},{title:"No",value:!1}],N=[{title:"Yes",value:!0},{title:"No",value:!1}],M=[{title:"Yes",value:!0},{title:"No",value:!1}],L=[{label:"day(s)",value:"day(s)"},{label:"week(s)",value:"week(s)"},{label:"month(s)",value:"month(s)"},{label:"year(s)",value:"year(s)"}],H=[{label:"twice daily",value:"twice daily"},{label:"three times a day",value:"three times a day"},{label:"four times a day",value:"four times a day"},{label:"every four hours",value:"every four hours"},{label:"as needed",value:"as needed"},{label:"every 2 hour(s)",value:"every 2 hour(s)"},{label:"every other hour",value:"every other hour"},{label:"every day",value:"every day"},{label:"every other day",value:"every other day"}],R="Scheduled",V="Waiting",F="Engaged",B="CheckOut",U="Cancelled",Y=[{label:"Sales",value:"SALES"},{label:"Services",value:"SERVICES"},{label:"Damaged",value:"DAMAGED"},{label:"Returned",value:"RETURNED"},{label:"Adjustment",value:"ADJUSTMENT"}],q="$_$",W=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],z=[{label:"Valid for absence from court attendance",value:"valid_court"},{label:"Invalid for absence from court attendance",value:"invalid_court"},{label:"Dont mention",value:"no_mention"}],G=[{label:"Degree Fahrenheit",value:"Degree Fahrenheit"},{label:"Degree Celsius",value:"Degree Celsius"}],K=[{label:"Armpit",value:"Armpit"},{label:"Forehead",value:"Forehead"},{label:"Anus",value:"Anus"},{label:"Mouth",value:"Mouth"},{label:"Ear",value:"Ear"}],Z=[{label:"Sitting",value:"Sitting"},{label:"Standing",value:"Standing"}],Q=[{label:"Scheduled",value:R},{label:"Cancelled",value:U},{label:"Engaged",value:F}],X=[{label:"Cancelled By Doctor",value:"Cancelled By Doctor"},{label:"Cancelled By Patient",value:"Cancelled By Patient"},{label:"OTHERS",value:"OTHERS"}],J=[{label:"Success",value:"SUCCESSFUL"},{label:"Failed",value:"FAILED"},{label:"Pending",value:"PENDING"}],$=[{label:"OPD",value:"OPD"},{label:"IPD",value:"IPD"}],ee=[{name:"Daily New Patients",value:n.K},{name:"Expiring Membership",value:n.V},{name:"Expiring Registration",value:n.W},{name:"Patients First Appointment",value:n.Fb},{name:"Monthly New Patients",value:n.tb},{name:"New Registration",value:n.Ab},{name:"New Membership",value:n.yb},{name:"Active Patients",value:n.a},{name:"Source Wise Patients",value:n.qc},{name:"Follow Up Report",value:n.Y},{name:"Medicine Report",value:n.jb},{name:"PD Doctor wise patient",value:n.Ob},{name:"Medical History wise Patient",value:n.ib},{name:"Religion Wise Patient",value:n.ac},{name:"Group Wise Report",value:n.bb},{name:"Call Notes",value:n.Hb}],te=[{name:"Appointments For Each Category",value:n.o},{name:"Cancellation Numbers",value:n.z},{name:"Cancel Appointments",value:n.n},{name:"Average Waiting/engaged Time Day Wise",value:n.u},{name:"Average Waiting/engaged Time Month Wise",value:n.v},{name:"Daily Appointment Count",value:n.F},{name:"Appointments For Each Doctor",value:n.p},{name:"Monthly Appointment Count",value:n.ob},{name:"Appointment For Each Patient Group",value:n.q},{name:"Patient Conversion",value:n.r}],ae=[{name:"Daily Treatments Count",value:n.L},{name:"Treatments For Each Doctor",value:n.zc},{name:"Monthly Treatments Count",value:n.ub},{name:"Treatments For Each Category",value:n.Ac}],ne=[{name:"Ageing Amount Due",value:n.b},{name:"Amount Due Per Doctor",value:n.m}],ie=[{name:"Avg Rating",value:n.w},{name:"Department Summary",value:n.tc},{name:"All User Target Summary",value:n.l},{name:"User Wise Target Summary",value:n.Bc}],le=[{name:"Completed Task",value:"false"},{name:"Ongoing Task",value:"true"}],re=[{name:"A+",value:"A+"},{name:"A-",value:"A-"},{name:"B+",value:"B+"},{name:"B-",value:"B-"},{name:"AB+",value:"AB+"},{name:"AB-",value:"AB-"},{name:"O+",value:"O+"},{name:"O-",value:"O-"}],se=[{name:"All Male",value:"male"},{name:"All Female",value:"female"},{name:"Male Over 30",value:"over30m"},{name:"Female Over 30",value:"over30f"},{name:"Male Under 30",value:"under30m"},{name:"Female Under 30",value:"under30f"}],oe=[{name:"Daily Expenses",value:n.H},{name:"Expenses For Each Type",value:n.U},{name:"Monthly Expenses",value:n.qb}],ce=[{name:"Daily Stock Consumption Item Wise",value:n.J},{name:"Monthly Stock Consumption Item Wise",value:n.sb},{name:"Top 10 Consumed Items",value:n.xc},{name:"Mismanaged Stock Consumption",value:n.mb}],me=[{name:"Daily Booking Count",value:n.G},{name:"Monthly Booking Count",value:n.pb},{name:"Medicine Usage Count",value:n.kb},{name:"Bed Booking Package Count",value:n.x}],ue=[{name:"Margin Type wise",value:n.hb},{name:"Wallet Balance Amount",value:n.Cc},{name:"Agent Tree View",value:n.c},{name:"Advisor Referred Patients",value:n.lc}],de=[{name:"Payment Received From Each Patient Group",value:n.Jb},{name:"Patients With Unsettled Advance, As Of Today",value:n.Gb},{name:"Modes Of Payment",value:n.nb},{name:"Payment Received Per Day",value:n.Kb},{name:"Payment Received Per Doctor",value:n.Lb},{name:"Payment Received Per Month",value:n.Mb}],pe=[{name:"Daily Invoiced Income",value:n.I},{name:"Monthly Invoiced Income",value:n.rb},{name:"Taxed Invoiced Income",value:n.uc},{name:"Invoiced Income For Each Doctor",value:n.R},{name:"Invoiced Income For Each Procedure",value:n.Qb},{name:"Invoiced Income For Each Patient Group",value:n.Ib},{name:"Invoiced Income For Each Product",value:n.Rb}],he=[{name:"Day wise Return Invoice",value:n.M},{name:"Monthly wise Return Invoice",value:n.vb},{name:"Return Invoice For Each Tax",value:n.ic},{name:"Return Invoice For Each Procedure",value:n.gc},{name:"Return Invoice For Each Product",value:n.hc},{name:"Return Invoice For Each Doctor",value:n.ec},{name:"Return Invoice For Each Patient Groups",value:n.fc}],be=[{label:"All ",value:""},{label:"Services",value:"SERVICES"},{label:"Products",value:"PRODUCTS"},{label:"Bookings",value:"RESERVATION"}],fe=[{label:"Zero",value:"ZERO"},{label:"Non Zero",value:"NON_ZERO"}],ge=[{label:"all payments",value:"SALES"},{label:"Only advance payments",value:"SERVICES"},{label:"Payment for services",value:"DAMAGED"},{label:"Payment for products",value:"RETURNED"}],Ee=[{label:"DOB",value:"DOB"},{label:"Age",value:"AGE"}],ye="alt+c ,alt+p, alt+r, alt+s, alt+b ,alt+w",ve="alt+f ,alt+a, alt+o, alt+m, alt+l ,alt+i,alt+e ,alt+n ,alt+y ,alt+t,alt+s ,alt+k, alt+g,alt+u,alt+w",ke=[{label:"Patient Name",value:"name"},{label:"Contact No",value:"phone"},{label:"Age is ",value:"age"},{label:"Age more than ",value:"age_gte"},{label:"Age Less Than",value:"age_lte"},{label:"Has Age ",value:"has_age"},{label:"Date of Birth is ",value:"dob"},{label:"Date of Birth is more than ",value:"dob_gte"},{label:"Date of Birth is less than",value:"dob_lte"},{label:"Birthday is in",value:"dob_month"},{label:"Has Date of Birth",value:"has_dob"},{label:"Patient Id",value:"patient_id"},{label:"Has Aadhar Id",value:"has_aadhar"},{label:"Aadhar Id",value:"aadhar"},{label:"Email",value:"email"},{label:"Has Email",value:"has_email"},{label:"Gender is",value:"gender"},{label:"Has Gender",value:"has_gender"},{label:"Pincode",value:"pincode"},{label:"Has Pincode",value:"has_pincode"},{label:"Has Street Address",value:"has_street"},{label:"Street Address ",value:"street"},{label:"Blood Group",value:"blood_group"},{label:"Referal Source",value:"source"},{label:"Refered by Agent",value:"agent_referal"}],Pe=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],Oe=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],we=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],Se=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],Ce=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],De=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],_e=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],xe=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],Te=[{label:"Female",value:"female"},{label:"Male",value:"male"},{label:"Other",value:"other"}],Ae=[{label:"Percent",value:"%"},{label:"Rupees",value:"INR"}],Ie=[{name:"Audio",value:"Audio"},{name:"Video",value:"Video"}],je=[{name:"Not Connected",value:"NotConnected"},{name:"Converted",value:"Converted"},{name:"Non Converted",value:"Non Converted"}],Ne=["/patients/profile/add","/patient/:id/emr/vitalsigns/add","/patient/:id/emr/vitalsigns/edit","/patient/:id/emr/clinicnotes/add","/patient/:id/emr/clinicnotes/edit","/patient/:id/emr/plans/add","/patient/:id/emr/plans/edit","/patient/:id/emr/workdone/add","/patient/:id/emr/workdone/edit","/patient/:id/emr/prescriptions/add","/patient/:id/emr/prescriptions/edit","/patient/:id/prescriptions/template/add","/patient/:id/billing/invoices/add","/patient/:id/billing/invoices/edit","/patient/:id/billing/payments/add","/patient/:id/billing/payments/edit","/patient/:id/allopath/addbulk"],Me=[{label:"PATIENT NAME",value:"{{PATIENT}}"},{label:"PATIENT ID",value:"{{PATIENT_ID}}"},{label:"CLINIC CONTACT",value:"{{CLINICCONTACTNUMBER}}"},{label:"CLINIC NAME",value:"{{CLINIC}}"},{label:"EXPIRY DATE",value:"{{EXPIRY}}"},{label:"VALUE",value:"{{VALUE}}"},{label:"MAX VALUE",value:"{{MAX_VALUE}}"},{label:"MIN PURCHASE",value:"{{MIN_PURCHASE}}"},{label:"PROMO CODE",value:"{{CODE}}"}],Le="config_blood_group",He="config_source",Re="config_sms_language",Ve="config_wish_sms",Fe="config_family_relation",Be="config_gender",Ue="config_date_only",Ye="config_call_types",qe="config_call_response",We="config_advisor_department",ze="config_advisor_designation",Ge=[{label:"Services",value:"SERVICES"},{label:"Products",value:"PRODUCTS"}],Ke="pdf",Ze="Added",Qe="Modified",Xe="Deleted",Je="Allopath",$e="Ayurveda",et=(i.Sb,i.Sb,"Open"),tt="In Progress",at="Paused",nt="Completed",it="Career",lt="Openings",rt="Career",st=["Applied","Rejected","Interviewing","Hired"]},459:function(e,t,a){"use strict";var n=a(1),i=a.n(n),l=a(1105),r=a(1602),s=a(503),o=a(115);class c extends i.a.Component{render(){return i.a.createElement(l.a,{style:{marginTop:"20px"}},i.a.createElement(r.a,{status:"403",title:i.a.createElement("span",null,i.a.createElement("h1",null,i.a.createElement("b",null,"403")),i.a.createElement("h2",null,"Permission Denied")),subTitle:"You don't have permission to view this page.",extra:i.a.createElement(o.b,{to:"/"},i.a.createElement(s.a,{type:"primary"},"Go to Home"))}))}}t.a=c},460:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const n=function(e){return e&&e.length>8?e.substring(0,3)+"*".repeat(e.length-5)+e.substring(e.length-2):e},i=function(e){return e&&e.length>8?e.substring(0,3)+"*".repeat(e.length-e.indexOf("@")-4)+e.substring(e.length-e.indexOf("@")-4):e}},539:function(e,t,a){"use strict";var n=a(1),i=a.n(n),l=a(1105),r=a(1602),s=a(503),o=a(115);class c extends i.a.Component{render(){return i.a.createElement(l.a,{style:{marginTop:"20px"},gutter:24},i.a.createElement(r.a,{status:"404",title:i.a.createElement("span",null,i.a.createElement("h1",null,i.a.createElement("b",null,"404")),i.a.createElement("h2",null,"Page Not Found")),subTitle:"The page you are looking for has been temporarily moved or did not exist.",extra:i.a.createElement(o.b,{to:"/"},i.a.createElement(s.a,{type:"primary"},"Go to Home"))}))}}t.a=c},716:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1),i=a.n(n),l=a(922),r=a.n(l),s=a(503);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends i.a.Component{constructor(e){super(e),o(this,"setRef",e=>{this.webcam=e}),o(this,"capture",()=>{const e=this.webcam.getScreenshot();this.props.getScreenShot&&this.props.getScreenShot(e)}),this.state={}}render(){return i.a.createElement("div",{style:{width:680}},i.a.createElement(r.a,{audio:!1,height:480,width:640,ref:this.setRef,videoConstraints:{width:1280,height:720,facingMode:"user"},screenshotFormat:"image/jpeg"}),i.a.createElement(s.a,{onClick:this.capture},"Capture photo"))}}},772:function(e,t,a){"use strict";t.a=a.p+"950c19fe951f7fd976c52a4a3929c619.png"},803:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(1),i=a.n(n),l=(a(448),a(1423),a(435)),r=(a(434),a(436)),s=a.n(r),o=a(509),c=a.n(o);a(804);class m extends i.a.Component{constructor(e){super(e),this.state={patientProfile:c.a.get("patientProfile"),activePracticeData:this.props.activePracticeData}}componentDidMount(){setTimeout((function(){window.print()}),1e3)}render(){let e=this.state,t=e.patientProfile,a=e.activePracticeData;return console.log(t),console.log(a),this.props.activePracticeData?i.a.createElement("html",{className:"PrintPatientForm"},i.a.createElement("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),i.a.createElement("body",{style:{margin:"0 auto",marginTop:"20px"}},i.a.createElement("div",{style:{margin:"0px 10%"}},i.a.createElement("table",{style:{borderBottom:"1px solid #000",width:"100%"}},i.a.createElement("tr",null,i.a.createElement("td",{style:{width:"150px"}},i.a.createElement("img",{style:{width:"150px"},src:Object(l.h)(this.props.activePracticeData.logo)})),i.a.createElement("td",null,i.a.createElement("h2",{style:{margin:"5px"}},this.props.activePracticeData.name),i.a.createElement("p",{style:{margin:"5px",fontSize:"11px"}},this.props.activePracticeData.address,i.a.createElement("br",null),this.props.activePracticeData.locality,i.a.createElement("br",null),this.props.activePracticeData.city,", ",this.props.activePracticeData.state,"-",this.props.activePracticeData.pincode," ",this.props.activePracticeData.country),i.a.createElement("div",{style:{margin:"5px",fontSize:"11px"}},"Email : ",i.a.createElement("strong",null,this.props.activePracticeData.email),i.a.createElement("br",null),"Phone : ",i.a.createElement("strong",null,"8081222333"),i.a.createElement("br",null),"Website : ",i.a.createElement("strong",null,this.props.activePracticeData.website),i.a.createElement("br",null))),i.a.createElement("td",{style:{width:"150px"}},i.a.createElement("img",{style:{width:"150px"},src:Object(l.h)(t.image)})))),i.a.createElement("h3",{className:"centeralign"},"Patient Information"),i.a.createElement("table",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"},i.a.createElement("h4",null,"Personal Details :- "))),i.a.createElement(u,{key:1,label:"Patient Name",value:t?t.first_name:""}),i.a.createElement(p,{label:"Patient ID",isValue:!0,value:t?t.custom_id:"",data:[{label:t.is_age?"Age":"D.O.B",value:t.is_age?s()().diff(t.dob,"years"):t.dob},{label:"Gender",value:t.gender}]}),i.a.createElement(p,{label:"Attendee Name",isValue:!0,value:t?t.attendee1:"",data:[{label:"Relation",value:t.family_relation1}]}),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"},i.a.createElement("h4",null,"Contact Details :- "))),i.a.createElement(u,{label:"Mobile Number",value:t?t.mobile:""}),i.a.createElement(u,{label:"Email",value:t?t.email:""}),i.a.createElement("tr",null,i.a.createElement("td",{className:"rightalign"},"Address"),i.a.createElement("td",null,i.a.createElement("div",{className:"textarea",style:{height:55}},t?t.address+", ":"",t&&t.city?t.city_data.name+", ":"",t&&t.state?t.state_data.name+"- ":"",t&&t.pincode?t.pincode+", ":"",t&&t.country?t.country_data.name:""))),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"},i.a.createElement("h4",null,"General Details :- "))),i.a.createElement(p,{label:"Weight",value:t?t.weight:"",isValue:!0,data:[{label:"Height",value:"".concat(t.weight)}]}),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"},i.a.createElement("h4",null,"Medical Details :- "))),i.a.createElement(p,{label:"Blood Sugar",value:t?t.blood_sugar:"",isValue:!0,data:[{label:"BP",value:"".concat(t.blood_pressure)},{label:"Cr",value:"".concat(t.cr)}]}),i.a.createElement(p,{label:"Dialysis",value:t?t.on_dialysis:"",isValue:!0,data:[{label:"Urea",value:"".concat(t.urea)}]}),i.a.createElement(d,{label:"Others",style:{height:45},value:t?t.other:""}),i.a.createElement(d,{label:"Taken treatment before here",style:{height:55},value:t?t.treatment_before:""}),i.a.createElement(p,{label:"Medicine type and duration",isValue:!1,data:[]}),i.a.createElement("tr",null,i.a.createElement("td",{className:"rightalign",style:{width:"20%"}}),i.a.createElement("td",null,i.a.createElement("label",{style:{width:"12%",marginLeft:20}},"Tick "),i.a.createElement("label",{style:{width:"16%",marginLeft:0}},"Description "))),i.a.createElement("tr",null,i.a.createElement("td",{className:"rightalign",style:{width:"20%"}}),i.a.createElement("label",{style:{width:"7%"}},"Allopath "),i.a.createElement("div",{className:"radio",style:{marginRight:20,paddingLeft:40,marginBottom:10}}),i.a.createElement("div",{className:"radio",style:{marginRight:20,paddingLeft:385}})),i.a.createElement("tr",null,i.a.createElement("td",{className:"rightalign",style:{width:"20%"}}),i.a.createElement("label",{style:{width:"7%"}},"Ayurveda "),i.a.createElement("div",{className:"radio",style:{marginRight:20,paddingLeft:40,marginBottom:10}}),i.a.createElement("div",{className:"radio",style:{marginRight:20,paddingLeft:385}})),i.a.createElement("tr",null,i.a.createElement("td",{className:"rightalign",style:{width:"20%"}}),i.a.createElement("label",{style:{width:"7%"}},"Other "),i.a.createElement("div",{className:"radio",style:{marginRight:20,paddingLeft:40}}),i.a.createElement("div",{className:"radio",style:{marginRight:20,paddingLeft:385}})),i.a.createElement(d,{label:"Any bad habit",style:{height:55},value:t?t.bad_habit:""})),i.a.createElement("p",{className:"agreement"}," I am voluntarily taking Treatments and Ayurvedic Medicines for My patient under the above doctor with my own consent I know my patient/I is/am in serious condition, if there shall be any bad incident during the period of treatment Or my patient/I become more serious for that I undertake my own responsibility. I have got good faith in my doctor and in his ayurvedic treatment. During the treatment If the doctor finds that the patient’s condition is beyond control, he may refer the patient for better treatment. During the treatment, all expenses and deposits shall not be refundable. I accept & agree to term and condition to BK Arogyam and Research Pvt. Ltd."),i.a.createElement("div",{className:"currentDate"},s()().format("DD-MM-YYYY")),i.a.createElement("div",{className:"date"}," Date"),i.a.createElement("div",{className:"signature"},"Authorized signature patient/attendee")),i.a.createElement("script",null))):null}}function u(e){return console.log("personan details",e),i.a.createElement("tr",{id:e.key},i.a.createElement("td",{className:"rightalign",style:{width:"20%"}},e.label),i.a.createElement("td",null,i.a.createElement("div",{className:"textfield"},e.value),i.a.createElement("span",{className:"leftrightmargin_10"},e.leftElement?e.leftElement:"")))}function d(e){return i.a.createElement("tr",{id:e.key},i.a.createElement("td",{className:"rightalign"},e.label),i.a.createElement("td",null,i.a.createElement("div",{className:"textarea",style:e.style},e.value),i.a.createElement("span",{className:"leftrightmargin_10"},e.leftElement?e.leftElement:"")))}function p(e){return console.log("props",e),i.a.createElement("tr",{id:e.key},i.a.createElement("td",{className:"rightalign",style:{width:"20%"}},e.label),i.a.createElement("td",null,e.isValue&&i.a.createElement("div",{className:"radio textValue"},e.value),e.data.map(e=>i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:"inlinelabel"},e.label," "),i.a.createElement("div",{className:"radio textValue"},e.value)))))}},804:function(e,t,a){"use strict";var n=a(1),i=a.n(n),l=a(441),r=a(1596),s=a(1593),o=a(1568),c=a(763),m=a(837),u=a(503),d=a(437),p=a(438),h=a(509),b=a.n(h);a(803);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class E extends i.a.Component{constructor(e){super(e),g(this,"cancelPrintPatientForm",e=>{this.setState({addPrintPatientFormModal:!1})}),g(this,"onChangeCheckboxa",()=>{this.setState({allopath_Checked:!this.state.allopath_Checked})}),g(this,"handleRelation",e=>{e?this.setState({relation_text:!1}):this.setState({relation_text:!0})}),g(this,"handlePrintPatientSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFields((e,a)=>{e?console.log(e):(console.log("Received values of form: ",a),b.a.set("patientProfile",a),t.setState({onTime:!0}),t.props.history.push("/patients/".concat(t.state.currentPatient.id,"/patientprintform")))}),this.props.onCancelModal()}),this.state={currentPatient:this.props.currentPatient,activePracticeData:this.props.activePracticeData,[l.r]:[],[l.Y]:[],[l.Z]:[],onTime:!1}}componentDidMount(){Object(p.d)(this,[l.r,l.Y,l.Z])}render(){const e=this,t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:18}},n=this.props,p=n.visibleModal,h=(n.currentPatient,n.onTime,n.patientProfile,n.activePracticeData);return console.log(h),i.a.createElement("div",null,i.a.createElement(r.a,{visible:p,onCancel:()=>e.props.onCancelModal(),footer:null,title:"Edit Print Patient Form"},i.a.createElement(s.a,{title:"Edit Value",onSubmit:this.handlePrintPatientSubmit,key:"printForm"},i.a.createElement(s.a.Item,f({label:"Name"},a),t("first_name",{initialValue:this.state.currentPatient?this.state.currentPatient.user.first_name:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Patient Id"},a),t("custom_id",{initialValue:this.state.currentPatient?this.state.currentPatient.custom_id:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Patient Address"},a),t("address",{initialValue:this.state.currentPatient?this.state.currentPatient.address:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Blood Group"},a),t("blood_group",{initialValue:this.state.currentPatient?this.state.currentPatient.blood_group:null})(i.a.createElement(c.a,{placeholder:"Blood Group"},this.state[l.r].map(e=>i.a.createElement(c.a.Option,{value:e},e))))),i.a.createElement(s.a.Item,f({label:"D.O.B"},a),t("dob",{initialValue:this.state.currentPatient?this.state.currentPatient.dob:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Gender"},a),t("gender",{initialValue:this.state.currentPatient?this.state.currentPatient.gender:null})(i.a.createElement(c.a,{placeholder:"Select Gender"},this.state[l.Z].map(e=>i.a.createElement(c.a.Option,{value:e.value},e.label))))),i.a.createElement(s.a.Item,f({label:"Attendee Name"},a),t("attendee1",{initialValue:this.state.currentPatient?this.state.currentPatient.attendee1:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Attendee Relation"},a),t("family_relation1",{initialValue:this.state.currentPatient&&null!=this.state.currentPatient.family_relation1?this.state.currentPatient.family_relation1:d.Zb})(i.a.createElement(c.a,{onChange:e=>this.handleRelation(e)},i.a.createElement(c.a.Option,{value:""},d.Zb),this.state[l.Y].map(e=>i.a.createElement(c.a.Option,{value:e.value},e.name))))),i.a.createElement(s.a.Item,f({label:"Email"},a),t("email",{initialValue:this.state.currentPatient?this.state.currentPatient.user.email:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Weight"},a),t("weight",{initialValue:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Height"},a),t("height",{initialValue:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Blood Sugar"},a),t("blood_sugar",{initialValue:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Blood Pressure"},a),t("blood_pressure",{initialValue:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"cr"},a),t("cr",{initialValue:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Dialysis"},a),t("on_dialysis",{initialValue:this.state.currentPatient.on_dialysis?"Yes":"No"})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Urea"},a),t("urea",{initialValue:null})(i.a.createElement(o.a,null))),i.a.createElement(s.a.Item,f({label:"Other"},a),t("other",{initialValue:null})(i.a.createElement(o.a.TextArea,{rows:3}))),i.a.createElement(s.a.Item,f({label:"Taken treatment before here:"},a),i.a.createElement("br",null),t("treatment_before",{initialValue:null})(i.a.createElement(o.a.TextArea,{rows:3}))),i.a.createElement(s.a.Item,f({label:"Allopath"},a),t("allopath_Checked",{initialValue:null})(i.a.createElement(m.a,{onChange:e=>this.onChangeCheckboxa(e)})),t("allopath_Desp",{initialValue:null})(i.a.createElement(o.a.TextArea,{rows:3}))),i.a.createElement(s.a.Item,f({label:"Any bad habit"},a),t("bad_habit",{initialValue:null})(i.a.createElement(o.a.TextArea,{rows:3}))),i.a.createElement(s.a.Item,a,i.a.createElement(u.a,{type:"primary",htmlType:"submit",style:{marginLeft:210},loading:this.state.formLoading},"Submit")))))}}t.a=s.a.create()(E)},808:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(1),i=a.n(n),l=a(433),r=a(1105),s=a(1183),o=a(1580),c=a(448),m=a(1579),u=a(1572),d=a(503),p=a(115),h=a(436),b=a.n(h),f=a(435),g=a(434),E=a(441),y=a(437);function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class k extends i.a.Component{constructor(e){super(e),v(this,"loadAppointmentDetails",()=>{this.setState({loading:!0});const e=this;Object(f.c)(Object(f.g)(g.r,[this.props.appointmentId]),(function(t){e.setState({appointment:t,loading:!1}),console.log("event",t)}),(function(){e.setState({loading:!1})}))}),v(this,"updateAppointmentStatus",(e,t,a)=>{const n=this,i={status:a};a==E.fc?i.waiting=b()().format():a==E.U?i.engaged=b()().format():a==E.x&&(i.checkout=b()().format());Object(f.m)(Object(f.g)(g.r,[e]),i,(function(e){Object(f.a)(y.sc,"Appointment Status Changed Successfully!!"),n.loadAppointmentDetails()}),(function(){}))}),v(this,"changeAppointmentStatus",(e,t,a)=>{const n=this;Object(f.c)(Object(f.g)(g.r,[e]),(function(i){i.status==t?n.updateAppointmentStatus(e,t,a):(Object(f.a)(y.T,"Appointment status has already changed. Updating Appointments..."),n.loadAppointmentDetails())}),(function(){}))}),this.state={loading:!0,appointment:null}}componentDidMount(){this.props.appointmentId?this.loadAppointmentDetails():this.setState({loading:!1})}render(){const e=this,t=this.state.appointment;return i.a.createElement("div",{style:{width:"300px",minHeight:"200px"}},i.a.createElement(l.a,{spinning:this.state.loading},this.state.appointment?i.a.createElement("div",null,i.a.createElement(r.a,null,i.a.createElement(s.a,{span:8},this.state.appointment.patient.image?i.a.createElement(o.a,{src:this.state.appointment.patient.image,size:80}):i.a.createElement(o.a,{style:{backgroundColor:"#87d068"},size:80},this.state.appointment.patient.user.first_name?i.a.createElement("h1",null,this.state.appointment.patient.user.first_name.charAt(0)):i.a.createElement(c.a,{type:"user"}))),i.a.createElement(s.a,{span:16},i.a.createElement(p.b,{to:"/patient/".concat(this.state.appointment.patient.id,"/profile"),target:"_blank"},i.a.createElement("h3",null,this.state.appointment.patient.user.first_name,i.a.createElement("br",null),i.a.createElement("small",null,"Patient ID: ",this.state.appointment.patient.custom_id," , ",this.state.appointment.patient.gender,i.a.createElement("br",null),this.state.appointment.patient.user.mobile))))),i.a.createElement(m.a,{style:{margin:0}}),this.state.appointment.first_appointment?i.a.createElement(u.a,{color:"#108ee9"},"This is Patient's first apppointment"):"",i.a.createElement("br",null),i.a.createElement("small",null,"Status: ",this.state.appointment.status),i.a.createElement("br",null),i.a.createElement("small",null,i.a.createElement(c.a,{type:"clock-circle"})," ",b()(this.state.appointment.schedule_at).format("HH:mm A on MMMM Do")," for ",this.state.appointment.slot," mins."),function(e){switch(e.status){case E.fc:return i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("small",null,"Checked in At ",b()(e.waiting).format("lll")));case E.U:return i.a.createElement("div",null,i.a.createElement("small",null,"Waiting Time ",b()(e.engaged).from(b()(e.waiting))),i.a.createElement("br",null),i.a.createElement("small",null,"Engaged At ",b()(e.engaged).format("lll")));case E.x:return i.a.createElement("div",null,i.a.createElement("small",null,"Waiting Time ",b()(e.engaged).from(b()(e.waiting))),i.a.createElement("br",null),i.a.createElement("small",null,"Engaged Time ",b()(e.checkout).from(b()(e.engaged))),i.a.createElement("br",null),i.a.createElement("small",null,"Total Stay Time ",b()(e.checkout).from(b()(e.waiting))))}return null}(t),i.a.createElement(r.a,{style:{height:"100px",overflow:"scroll",backgroundColor:"#eee",padding:5}},i.a.createElement("div",null,t.status==E.Tb?i.a.createElement("span",{style:{width:"70px",float:"right"}},i.a.createElement("a",{onClick:()=>e.changeAppointmentStatus(t.id,E.Tb,E.fc),disabled:!e.props.activePracticePermissions.ChangeAppointmentStatus}," Check In")):null,t.status==E.fc?i.a.createElement("span",{style:{width:"70px",float:"right"}},i.a.createElement("a",{onClick:()=>e.changeAppointmentStatus(t.id,E.fc,E.U),disabled:!e.props.activePracticePermissions.ChangeAppointmentStatus}," Engage")):null,t.status==E.U?i.a.createElement("span",{style:{width:"70px",float:"right"}},i.a.createElement("a",{onClick:()=>e.changeAppointmentStatus(t.id,E.U,E.x),disabled:!e.props.activePracticePermissions.ChangeAppointmentStatus}," Check Out")):null,t.status==E.x?i.a.createElement("span",{style:{width:"70px",float:"right"}},i.a.createElement("small",null,"Checked Out")):null,this.state.appointment.doctor_data?i.a.createElement(u.a,{color:this.state.appointment.doctor_data?this.state.appointment.doctor_data.calendar_colour:null},i.a.createElement("b",null,"With ".concat(this.state.appointment.doctor_data.user.first_name)," ")):null),i.a.createElement(m.a,{style:{margin:0}}),i.a.createElement("b",null,"Category:"),this.state.appointment.category_data?this.state.appointment.category_data.name:null),i.a.createElement(m.a,{style:{margin:0}}),i.a.createElement(r.a,{style:{textAlign:"right"}},i.a.createElement(d.a.Group,{size:"small"},e.props.activePracticePermissions.EditAppointment||e.props.allowAllPermissions?i.a.createElement(d.a,null,i.a.createElement(p.b,{to:"/calendar/".concat(this.state.appointment.id,"/edit-appointment")},i.a.createElement(c.a,{type:"edit"})," Edit")):null,e.props.activePracticePermissions.ChangeAppointmentStatus||e.props.allowAllPermissions?i.a.createElement(d.a,{type:"danger"},i.a.createElement(p.b,{to:"/calendar/".concat(this.state.appointment.id,"/edit-appointment?status=cancel")},i.a.createElement(c.a,{type:"cross"})," Cancel")):null))):i.a.createElement("h4",null,"No Patient Found")))}}},809:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(1),i=a.n(n),l=a(1593),r=a(1596),s=a(1105),o=a(1183),c=a(1602),m=a(503),u=a(1605),d=a(440),p=a(437),h=a(435),b=a(434);function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends i.a.Component{constructor(e){super(e),f(this,"sendOTP",e=>{if(this.setState({otpModalVisible:!!e}),e){const e={type:"Access Patient Data to ".concat(this.props.activePracticeData.name," "),patient:this.props.patientData.id},t=function(e){Object(h.a)(p.sc,"OTP Sent Successfully!!")},a=function(){Object(h.a)(p.T,"OTP Sending Failed!!")};Object(h.k)(b.S,e,t,a)}}),f(this,"toggleVisibilty",e=>{this.setState({visible:!!e})}),this.state={patientData:{},otpModalVisible:!1}}componentDidMount(){const e=this;this.props.patientData&&this.setState({patientData:e.props.patientData}),this.toggleVisibilty(!0)}reSendOTP(){Object(h.c)(b.T,(function(e){}),(function(){}))}render(){const e=this,t=this.state,a=t.otpModalVisible,n=t.patientData,f=l.a.create()(d.a),g=[{label:"OTP",type:p.db,required:!0,key:"otp"}],E=[{key:"patient",value:n.id}],y={successFn(){const t={practices:[...n.practices,{practice:e.props.active_practiceId,pd_doctor:null}]};Object(h.m)(Object(h.g)(b.td,[n.id]),t,(function(){Object(h.a)(p.sc,"Patient Access added to the practice!"),e.toggleVisibilty(!1),e.props.loadData&&e.props.loadData()}),(function(){Object(h.a)(p.sc,"Patient Access adding failed!")}))},errorFn(){Object(h.a)(p.T,"OTP Verification Failed!!")},action:b.U,method:"post"};return i.a.createElement(r.a,{style:{top:20},footer:null,visible:this.state.visible,onCancel:()=>this.toggleVisibilty(!1)},i.a.createElement(s.a,null,i.a.createElement(o.a,{span:24},i.a.createElement(c.a,{status:403,title:"Permission Denied",subTitle:"Sorry, your practice is not authorized to access this patient. To Access this patient,",extra:i.a.createElement(m.a,{type:"primary",onClick:()=>this.sendOTP(!0)},"Send OTP to Patient")}),i.a.createElement(u.a,{size:"small",bordered:!0,header:"Or ask any practice from below for access:",dataSource:n.practices_data,renderItem:e=>i.a.createElement(u.a.Item,null,i.a.createElement(u.a.Item.Meta,{title:e.practice_name}))}))),i.a.createElement(r.a,{closable:!1,visible:a,centered:!0,footer:null,title:"Enter the OTP sent to Patient:"},i.a.createElement(f,{fields:g,defaultValues:E,formProp:y}),i.a.createElement(m.a,{style:{float:"right"},type:"link",onClick:()=>this.reSendOTP()},"Re Send OTP?"),i.a.createElement(m.a,{onClick:()=>this.sendOTP(!1)},"Cancel")))}}}}]);