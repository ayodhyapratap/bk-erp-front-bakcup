(this["webpackJsonpbk-erp-front"]=this["webpackJsonpbk-erp-front"]||[]).push([[15],{1219:function(t,e,a){t.exports=a(1220)},1220:function(t,e,a){var n=function(t){"use strict";var e=Object.prototype,a=e.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(t,e,a,n){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),i=new _(n||[]);return o._invoke=function(t,e,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return O()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var s=v(i,a);if(s){if(s===c)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var p=l(t,e,a);if("normal"===p.type){if(n=a.done?"completed":"suspendedYield",p.arg===c)continue;return{value:p.arg,done:a.done}}"throw"===p.type&&(n="completed",a.method="throw",a.arg=p.arg)}}}(t,a,i),o}function l(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(n){return{type:"throw",arg:n}}}t.wrap=s;var c={};function p(){}function u(){}function d(){}var m={};m[r]=function(){return this};var h=Object.getPrototypeOf,f=h&&h(h(x([])));f&&f!==e&&a.call(f,r)&&(m=f);var g=d.prototype=p.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t){var e;this._invoke=function(n,r){function o(){return new Promise((function(e,o){!function e(n,r,o,i){var s=l(t[n],t,r);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"===typeof p&&a.call(p,"__await")?Promise.resolve(p.__await).then((function(t){e("next",t,o,i)}),(function(t){e("throw",t,o,i)})):Promise.resolve(p).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,i)}))}i(s.arg)}(n,r,e,o)}))}return e=e?e.then(o,o):o()}}function v(t,e){var a=t.iterator[e.method];if(void 0===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,v(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=l(a,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,c;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function x(t){if(t){var e=t[r];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(a.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return u.prototype=g.constructor=d,d.constructor=u,d[i]=u.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},E(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,a,n,r){var o=new y(s(e,a,n,r));return t.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(g),g[i]="Generator",g[r]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(a,n){return i.type="throw",i.arg=t,e.next=a,n&&(e.method="next",e.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),b(a),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var r=n.arg;b(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:x(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},1224:function(t,e,a){"use strict";var n=a(0);t.exports=function(t){var e=t.tree,a=t.NodeComponent;return n.createElement("div",{className:"reactOrgChart"},function t(e){var r=function(t){return(e.children||[]).length>t+1},o=function(t){return t>0},i=n.createElement("td",{colSpan:2*(e.children||[]).length,className:"nodeGroupCellLines"},n.createElement("table",{className:"nodeLineTable"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"nodeLineCell nodeGroupLineVerticalMiddle"}),n.createElement("td",{colSpan:2,className:"nodeLineCell"}))))),s=(e.children||[]).map((function(t,e){return n.createElement("td",{colSpan:"2",className:"nodeGroupCellLines",key:e},n.createElement("table",{className:"nodeLineTable"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"nodeLineCell nodeGroupLineVerticalMiddle"+(o(e)?" nodeLineBorderTop":"")}),n.createElement("td",{colSpan:2,className:"nodeLineCell"+(r(e)?" nodeLineBorderTop":"")})))))})),l=(e.children||[]).map((function(e,a){return n.createElement("td",{colSpan:"2",className:"nodeGroupCell",key:a},t(e))}));return n.createElement("table",{className:"orgNodeChildGroup"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"nodeCell",colSpan:2*(e.children||[]).length},n.createElement(a,{node:e}))),n.createElement("tr",null,(e.children||[]).length>0&&i),n.createElement("tr",null,s),n.createElement("tr",null,l)))}(e))}},1225:function(t,e,a){},1253:function(t,e,a){"use strict";a.r(e);var n=a(62),r=a(61),o=a(64),i=a(63),s=a(18),l=a(65),c=(a(183),a(122)),p=a(0),u=a.n(p),d=a(37),m=a(322),h=a.n(m),f=(a(324),a(323)),g=(a(366),a(367)),E=c.a.Header,y=g.a.RangePicker,v=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).changeReport=a.changeReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"changeReport",value:function(t){this.props.history.push(t)}},{key:"render",value:function(){var t=this,e=[{name:"Daily Summary",value:"/reports/summary",active:t.props.activePracticePermissions.ReportsDailySummary||t.props.allowAllPermissions},{name:"Income",value:"/reports/income",active:t.props.activePracticePermissions.ReportsIncome||t.props.allowAllPermissions},{name:"Payments",value:"/reports/payments",active:t.props.activePracticePermissions.ReportsPayments||t.props.allowAllPermissions},{name:"Appointment",value:"/reports/appointments",active:t.props.activePracticePermissions.ReportsAppointments||t.props.allowAllPermissions},{name:"Patients",value:"/reports/patients",active:t.props.activePracticePermissions.ReportsPatients||t.props.allowAllPermissions},{name:"Amount Due",value:"/reports/amountdue",active:t.props.activePracticePermissions.ReportsAmountDue||t.props.allowAllPermissions},{name:"Expenses",value:"/reports/expenses",active:t.props.activePracticePermissions.ReportsExpenses||t.props.allowAllPermissions},{name:"Inventory",value:"/reports/inventory",active:t.props.activePracticePermissions.ReportsInventory||t.props.allowAllPermissions},{name:"EMR",value:"/reports/emr",active:t.props.activePracticePermissions.ReportsEMR||t.props.allowAllPermissions},{name:"Bed Booking",value:"/reports/bed_booking",active:t.props.activePracticePermissions.ReportsBedBooking||t.props.allowAllPermissions},{name:"Inventory Retails",value:"/reports/inventoryretails",active:t.props.activePracticePermissions.ReportsInventoryRetail||t.props.allowAllPermissions},{name:"MLM ",value:"/reports/mlm",active:t.props.activePracticePermissions.ReportsMLMReport||t.props.allowAllPermissions},{name:"Invoice Returns ",value:"/reports/invoice-return",active:t.props.activePracticePermissions.ReportsInventoryRetail||t.props.allowAllPermissions},{name:"Suggestions",value:"/reports/suggestions",active:t.props.activePracticePermissions.ReportsSuggestions||t.props.allowAllPermissions}];return u.a.createElement(E,{style:{background:"#fff"}},u.a.createElement("ul",{style:{listStyle:"none"}},u.a.createElement("li",{style:{display:"inline"}},"Select Report Category \xa0"),u.a.createElement("li",{style:{display:"inline"}},u.a.createElement(f.a,{style:{minWidth:"200px"},defaultValue:e[3].name,value:this.props.history.location.pathname,onChange:this.changeReport},e.map((function(t){return u.a.createElement(f.a.Option,{value:t.value,disabled:!t.active},t.name)})))),u.a.createElement("li",{style:{display:"inline",float:"right"}},u.a.createElement(y,{allowClear:!1,onChange:function(e,a){return t.props.reportsDateRange(a)},defaultValue:[h()(),h()()],format:"DD/MM/YYYY"}))))}}]),e}(u.a.Component),D=(a(181),a(57)),b=(a(119),a(34)),_=(a(358),a(356)),x=(a(121),a(15)),O=(a(180),a(120)),S=a(46),M=a(35),Y=a(337),j=a(16),k=a(4),I=(a(335),a(336)),R=(a(340),a(341)),P=a(325),C=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={practice:a.props.active_practiceId,type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.m,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.m,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[],mailingUsersList:[]},a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e,a){return u.a.createElement("span",null,a+1)},width:50},{title:"Invoice Date",key:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("DD MMM YYYY"))}},{title:"Invoice Number",key:"invoice_id",dataIndex:"invoice_id"},{title:"Patient",dataIndex:"first_name",key:"first_name"},{title:"Patient ID",dataIndex:"custom_id",key:"custom_id"},{title:"Doctor Name",dataIndex:"doctor_name",key:"doctor_name"},{title:"Invoice Amount(INR)",key:"total",dataIndex:"total",render:function(t){return t.toFixed(2)}},{title:"Amount Due(INR)",dataIndex:"amount_due",key:"amount_due",render:function(t){return t.toFixed(2)}}],o=a.reduce((function(t,e){return t+e.amount_due}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Total Amount Due ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Amount Due For Listed Invoices(INR)",value:o.toFixed(2)}),u.a.createElement("br",null),u.a.createElement("p",null,"*Advance payments are not considered here. Amounts may vary slightly."))),u.a.createElement(I.a,{loading:n,columns:r,pagination:!1,dataSource:a}))}}]),e}(u.a.Component),A=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={practice:a.props.active_practiceId,type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.m,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.m,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[],mailingUsersList:[]},a.loadReport=a.loadReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=0,o=0,i=0,s=0,l=0,c=0;a.map((function(t){r+=t["0_29"],o+=t["30_59"],i+=t["60_89"],s+=t["89_364"],l+=t[365],c=r+o+i+s+l}));var p=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e,a){return u.a.createElement("span",null,a+1)},width:50},{title:"Name",dataIndex:"first_name",key:"first_name"},{title:"for 0-29 days (INR)",dataIndex:"0_29",key:"0_29",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"for 30-59 days (INR)",dataIndex:"30_59",key:"30_59",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"for 60-89 days (INR)",dataIndex:"60_89",key:"60_89",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"for 89-364 days (INR)",dataIndex:"89_364",key:"89_364",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"for more than 364 days (INR)",dataIndex:"365",key:"365",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"Total (INR)",key:"total",render:function(t,e){return u.a.createElement("span",null,(e["0_29"]+e["30_59"]+e["60_89"]+e["89_364"]+e[365]).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Ageing Amount Due ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:22,offset:1},u.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"*Unpaid Invoice Amount."),u.a.createElement(D.a,{title:"Summary",bordered:!1,type:"inner"},u.a.createElement(b.a,null,u.a.createElement(x.a,{span:4},u.a.createElement(R.a,{title:"for 0-29 days (INR)",value:r.toFixed(2)})),u.a.createElement(x.a,{span:4},u.a.createElement(R.a,{title:"for 30-59 days (INR)",value:o.toFixed(2)})),u.a.createElement(x.a,{span:4},u.a.createElement(R.a,{title:"for 60-89 days (INR)",value:i.toFixed(2)})),u.a.createElement(x.a,{span:4},u.a.createElement(R.a,{title:"for 89-364 days (INR)",value:s.toFixed(2)})),u.a.createElement(x.a,{span:4},u.a.createElement(R.a,{title:"for more than 364 days (INR)",value:l.toFixed(2)})),u.a.createElement(x.a,{span:4},u.a.createElement(R.a,{title:"Total (INR)",value:c.toFixed(2)})))))),u.a.createElement(b.a,{gutter:16},u.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"*Unpaid Invoice Amount."),u.a.createElement(D.a,{title:"Summary",bordered:!1,type:"inner",bodyStyle:{padding:0}},u.a.createElement(I.a,{loading:n,columns:p,pagination:!1,dataSource:a}))))}}]),e}(u.a.Component),w=(a(332),a(333)),F=(a(343),a(47)),L=a(346),T=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};e.mail_to=t,Object(P.h)(M.m,e)},a.state={reportEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,activeIndex:0,mailingUsersList:[]},a.loadReport=a.loadReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}},{key:"loadReport",value:function(){var t=this;t.setState({loading:!0});var e={practice:this.props.active_practiceId,type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};Object(j.c)(M.m,(function(e){t.setState({reportEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=this.state,a=e.reportEachDoctor,n=e.loading,r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50,render:function(t,e,a){return u.a.createElement("span",null,a+1)}},{title:"Doctor",key:"doctor",dataIndex:"doctor_name"},{title:"Invoiced (INR)",key:"invoiced",dataIndex:"invoiced",render:function(t){return t.toFixed(2)}},{title:"Received (INR)",key:"received_amount",dataIndex:"received_amount",render:function(t,e){return u.a.createElement("span",null,(e.invoiced-e.amount_due).toFixed(2))}},{title:"Total Amount Due (INR)",key:"amount_due",dataIndex:"amount_due",render:function(t){return t.toFixed(2)}}],o=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Amount Due Per Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.doctor_name,", ")+"INR ".concat(p.invoiced.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"amount_due",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(I.a,{loading:n,columns:r,pagination:!1,dataSource:a}))}}]),e}(u.a.Component),N=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.state={sidePanelColSpan:4,patientGroup:[],practiceDoctors:[],type:"ALL",advancedOptionShow:!0},Object(P.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var t=this;Object(j.c)(Object(j.f)(M.rc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this,e=this.state,a=e.type,n=e.sidePanelColSpan,r=e.advancedOptionShow,o=e.patientGroup,i=e.practiceDoctors;return u.a.createElement("div",null,u.a.createElement("h2",null,"Amount Due Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:n?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(n)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-n},a==k.Xb?u.a.createElement(C,Object.assign({},this.state,this.props)):null,a==k.b?u.a.createElement(A,Object.assign({},this.state,this.props)):null,a==k.l?u.a.createElement(T,Object.assign({},this.state,this.props)):null),u.a.createElement(x.a,{span:n},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.Xb,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Patients"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.Xb},"Total Amount Due"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.c.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==k.Xb||this.state.type==k.b?u.a.createElement(u.a.Fragment,null,r?u.a.createElement(u.a.Fragment,null,u.a.createElement("a",{href:"#",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options"),u.a.createElement(x.a,null," ",u.a.createElement("br",null),this.state.type!=k.b?u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},o.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null)):null,u.a.createElement("h4",null,"Doctors"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},i.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))))):u.a.createElement("a",{href:"#",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options")):null))))}}]),e}(u.a.Component),B=(a(363),a(360)),U=a(21),G=a(331),W=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentReport=function(){var t=Object(s.a)(a),e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled,practice:t.props.active_practiceId};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(Object(j.f)(M.r,[t.props.active_practiceId]),(function(e){t.setState({appointmentReports:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){console.log(t);var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(n.categories=a.props.categories.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),n.mail_to=t,Object(P.h)(Object(j.f)(M.r,[e.props.active_practiceId]),n)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,appointmentCategory:[],appointmentReports:[],activeIndex:0,mailingUsersList:[]},a.loadAppointmentReport=a.loadAppointmentReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentReport()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentReports,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.schedule_at).format("DD MMM YYYY"))},export:function(t,e){return h()(e.schedule_at).format("ll")}},{title:"Scheduled At\t",key:"time",dataIndex:"time",render:function(t,e){return u.a.createElement("span",null,h()(e.schedule_at).format("HH:mm"))},export:function(t,e){return h()(e.schedule_at).format("HH:mm")}},{title:"Patient",dataIndex:"patient",key:"patient_name",render:function(t,e){return u.a.createElement("span",null,t.user.first_name)},export:function(t,e){return t.user.first_name}},{title:"Patient Id",dataIndex:"patient",key:"patient_name",render:function(t,e){return u.a.createElement("span",null,t.custom_id)},export:function(t,e){return t.custom_id}},{title:"Current Status",key:"status",dataIndex:"status"},{title:"Doctor",dataIndex:"doctor",key:"address",render:function(t,e){return u.a.createElement("span",null,e.doctor_data?e.doctor_data.user.first_name:null)},export:function(t,e){return e.doctor_data?e.doctor_data.user.first_name:null}},{title:"Check-in At",dataIndex:"waiting",key:"waiting",render:function(t,e){return u.a.createElement("span",null,e.waiting?h()(e.waiting).format("lll"):"")},export:function(t,e){return h()(e.schedule_at).format("HH:mm")}},{title:"Waited For (hh:mm:ss)",dataIndex:"age",key:"age",render:function(t,e){return u.a.createElement("span",null,e.engaged?h()(e.engaged).from(h()(e.waiting)):"")},export:function(t,e){return e.engaged?h()(e.engaged).from(h()(e.waiting)):""}},{title:"Engaged At",dataIndex:"engaged",key:"engaged",render:function(t,e){return u.a.createElement("span",null,e.engaged?h()(e.engaged).format("lll"):"")},export:function(t,e){return e.engaged?h()(e.engaged).format("lll"):""}},{title:"Checkout At",dataIndex:"checkout",key:"checkout",render:function(t,e){return u.a.createElement("span",null,e.checkout?h()(e.checkout).format("lll"):"")},export:function(t,e){return e.checkout?h()(e.checkout).format("lll"):""}},{title:"Category",dataIndex:"category",key:"address",render:function(t,e){return u.a.createElement("span",null,e.category_data?e.category_data.name:null)},export:function(t,e){return e.category_data?e.category_data.name:null}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Appointments Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Appointments",value:this.state.total}),u.a.createElement("br",null))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),z=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentWithCategory=function(){var t=Object(s.a)(a);t.setState({loading:!0}),a.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.mc,(function(e){t.setState({appointmentCategory:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,appointmentCategory:[],activeIndex:0,mailingUsersList:[]},a.loadAppointmentWithCategory=a.loadAppointmentWithCategory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentWithCategory(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentWithCategory()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentCategory,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment By Category",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.category,",").concat(p.count)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Category",key:"category",dataIndex:"category"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),e}(u.a.Component),K=(a(326),a(327)),H=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentEachDoctor=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.mc,(function(e){t.setState({appointmentEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.state={appointmentEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentEachDoctor=a.loadAppointmentEachDoctor.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentEachDoctor(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentEachDoctor()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentEachDoctor,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"],o=a.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment For Each Patient Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.doctor,",").concat(p.count)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:o})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),e}(u.a.Component),V=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentPatientGroup=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.mc,(function(e){t.setState({appointmentGroup:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.state={appointmentGroup:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentPatientGroup=a.loadAppointmentPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentPatientGroup(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentPatientGroup()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentGroup,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment For Each Patient Group",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement("text",{x:a,y:n,dy:8,textAnchor:"middle",fill:c},p.patient_group),u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.patient_group,",").concat(p.count)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Group",key:"patient_group",dataIndex:"patient_group"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),e}(u.a.Component),J=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentDayWait=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.mc,(function(e){t.setState({appointmentDayWait:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.state={appointmentDayWait:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentDayWait=a.loadAppointmentDayWait.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentDayWait(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentDayWait()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentDayWait,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Time Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("DD MMM YYYY"))},export:function(t,e){return h()(e.date).format("DD MMM YYYY")}},{title:"Avg. waiting Time(hh:mm:ss)",key:"wait",dataIndex:"wait",render:function(t,e){return u.a.createElement("span",null,e.wait?h()().add(e.wait,"second").fromNow():"")},export:function(t,e){return e.wait?h()().add(e.wait,"second").fromNow():""}},{title:"Avg. engaged Time(hh:mm:ss)",key:"engage",dataIndex:"engage",render:function(t,e){return u.a.createElement("span",null,e.engage?h()().add(e.engage,"second").fromNow():"")},export:function(t,e){return e.engage?h()().add(e.engage,"second").fromNow():""}},{title:"Avg. stay Time (hh:mm:ss)",key:"stay",dataIndex:"stay",render:function(t,e){return u.a.createElement("span",null,e.stay?h()().add(e.stay,"second").fromNow():"")},export:function(t,e){return e.stay?h()().add(e.stay,"second").fromNow():""}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Average Waiting/engaged Time Day Wise",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),q=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentMonthWait=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.mc,(function(e){t.setState({appointmentMonthWait:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.state={appointmentMonthWait:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentMonthWait=a.loadAppointmentMonthWait.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentMonthWait(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentMonthWait()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentMonthWait,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Time Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("DD MMM YYYY"))},export:function(t,e){return h()(e.date).format("DD MMM YYYY")}},{title:"Avg. waiting Time(hh:mm:ss)",key:"wait",dataIndex:"wait",render:function(t,e){return u.a.createElement("span",null,e.wait?h()().add(e.wait,"second").fromNow():"")},export:function(t,e){return e.wait?h()().add(e.wait,"second").fromNow():""}},{title:"Avg. engaged Time(hh:mm:ss)",key:"engage",dataIndex:"engage",render:function(t,e){return u.a.createElement("span",null,e.engage?h()().add(e.engage,"second").fromNow():"")},export:function(t,e){return e.engage?h()().add(e.engage,"second").fromNow():""}},{title:"Avg. stay Time (hh:mm:ss)",key:"stay",dataIndex:"stay",render:function(t,e){return u.a.createElement("span",null,e.stay?h()().add(e.stay,"second").fromNow():"")},export:function(t,e){return e.stay?h()().add(e.stay,"second").fromNow():""}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Average Waiting/engaged Time Month Wise",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),Q=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentCancellation=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.mc,(function(e){console.log(Object.entries(e)),t.setState({appointmentCancel:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={appointmentCancel:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentCancellation=a.loadAppointmentCancellation.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentCancellation(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentCancellation()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentCancel,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=["#FFBB28","#FF8042"],o=a.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Cancellations Numbers",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0&&o?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.type,",").concat(p.count)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},a.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:o})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Status",key:"type",dataIndex:"type"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),e}(u.a.Component),X=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentDaily=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.mc,(function(e){t.setState({appointmentDaily:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.state={appointmentDaily:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentDaily=a.loadAppointmentDaily.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentDaily(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentDaily()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentDaily,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("DD MMM "))},export:function(t,e){return h()(e.date).format("DD MMM ")}},{title:"Total Appointments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Appointment Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:[].concat(a).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Appointments",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#1DA57A",strokeWidth:4,label:u.a.createElement((function(t){var e=t.x,a=t.y,n=(t.stroke,t.value);return u.a.createElement("text",{x:e,y:a,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n)}),null)})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),Z=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentMonthly=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(M.mc,(function(e){t.setState({appointmentMonthly:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.state={appointmentMonthly:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentMonthly=a.loadAppointmentMonthly.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentMonthly(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentMonthly()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentMonthly,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("MMMM YYYY"))},export:function(t,e){return h()(e.date).format("DD MMM YYYY")}},{title:"Total Appointments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Appointment Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:[].concat(a).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),$=(u.a.Component,a(379)),tt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(P.h)(M.mc,e)},a.state={patient_conversion:[],distinct_patients:"",startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadPatientConversion=a.loadPatientConversion.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientConversion(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPatientConversion()}))}},{key:"loadPatientConversion",value:function(){var t=this;t.setState({loading:!0});var e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(j.c)(M.mc,(function(e){t.setState({patient_conversion:e.data,distinct_patients:e.distinct_patients,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.patient_conversion,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",dataIndex:"date"},{title:"Patient Id",key:"custom_id",dataIndex:"custom_id"},{title:"Patient Name",key:"patient_name",dataIndex:"patient_name"},{title:"Gender",key:"gender",dataIndex:"gender"},{title:"Contact Number",key:"mobile",dataIndex:"mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},exports:function(t){return t}},{title:"Email",key:"email",dataIndex:"email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},exports:function(t){return t}},{title:"Address",key:"address",dataIndex:"address"},{title:"Source",key:"source",dataIndex:"source"},{title:"Appointment",key:"appointment",dataIndex:"appointment",render:function(t){return u.a.createElement("span",null,h()(t).format("DD MMM YYYY HH:mm"))}},{title:"Appointment Status",key:"status",dataIndex:"status"},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Last Patient Note",key:"last_note",dataIndex:"last_note",render:function(t,e){return u.a.createElement("span",null,e.last_note?"".concat(e.last_note,"( ").concat(e.note_by,")"):"")}},{title:"Last Payments",key:"invoice_total",dataIndex:"invoice_total"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Conversion",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Conversions",value:this.state.distinct_patients}))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component),et=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.state={sidePanelColSpan:4,appointmentReports:[],type:"ALL",advancedOptionShow:!0,appointmentCategory:[],categories:"",practiceDoctors:[]},a.loadAppointmentCategory=a.loadAppointmentCategory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentCategory(),Object(P.d)(this)}},{key:"loadAppointmentCategory",value:function(){var t=this;Object(j.c)(Object(j.f)(M.p,[this.props.active_practiceId]),(function(e){t.setState({appointmentCategory:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this,e=this.state,a=e.sidePanelColSpan,n=e.type,r=e.advancedOptionShow,o=e.practiceDoctors,i=e.appointmentCategory;return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointments Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:a?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(a)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-a},n==k.e?u.a.createElement(W,Object.assign({type:k.e},this.state,this.props)):null,n==k.m?u.a.createElement(z,Object.assign({},this.state,this.props)):null,n==k.n?u.a.createElement(H,Object.assign({},this.state,this.props)):null,n==k.o?u.a.createElement(V,Object.assign({},this.state,this.props)):null,n==k.s?u.a.createElement(J,Object.assign({},this.state,this.props)):null,n==k.t?u.a.createElement(q,Object.assign({},this.state,this.props)):null,n==k.w?u.a.createElement(Q,Object.assign({},this.state,this.props)):null,n==k.C?u.a.createElement(X,Object.assign({},this.state,this.props)):null,n==k.db?u.a.createElement(Z,Object.assign({},this.state,this.props)):null,n==k.p?u.a.createElement(tt,Object.assign({},this.props,this.state)):null),u.a.createElement(x.a,{span:a},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.e,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Appointments"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.e},"All Appointments"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.e.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),r?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},o.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Appointment Categories"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Category",onChange:function(e){return t.handleChangeOption("categories",e)}},i.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Exclude Cancelled"))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),at=a(338),nt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadTreatmentEachDoctor=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(Object(j.f)(M.jb,[t.props.active_practiceId]),(function(e){t.setState({treatmentEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(P.h)(Object(j.f)(M.jb,[e.props.active_practiceId]),n)},a.state={treatmentEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadTreatmentEachDoctor=a.loadTreatmentEachDoctor.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTreatmentEachDoctor(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentEachDoctor()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Total Treatments",key:"count",dataIndex:"count"}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.treatmentEachDoctor.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Treatments For Each Patient Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.treatmentEachDoctor.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.doctor,",").concat(p.count)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:Object(at.a)(this.state.treatmentEachDoctor).reverse(),cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.treatmentEachDoctor.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.treatmentEachDoctor}))}}]),e}(u.a.Component),rt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(P.h)(Object(j.f)(M.jb,[e.props.active_practiceId]),n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyTreatments=a.loadDailyTreatments.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyTreatments(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyTreatments()}))}},{key:"loadDailyTreatments",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),is_complete:!!this.props.is_complete};this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(j.c)(Object(j.f)(M.jb,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"abcd",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("ll"))},export:function(t,e){return h()(e.date).format("ll")}},{title:"Total Treatments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Treatments Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:Object(at.a)(this.state.report).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Treatments",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:4})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),ot=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadTreatmentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(Object(j.f)(M.jb,[t.props.active_practiceId]),(function(e){t.setState({treatmentPerformed:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(P.h)(Object(j.f)(M.jb,[e.props.active_practiceId]),n)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,treatmentPerformed:[],mailingUsersList:[]},a.loadTreatmentsReport=a.loadTreatmentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTreatmentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Performed On",key:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.schedule_at).format("DD MMM YYYY"))},export:function(t,e){return h()(e.schedule_at).format("DD MMM YYYY")}},{title:"Name",dataIndex:"procedure_name",key:"procedure_name"},{title:"Performed by",key:"doctor",dataIndex:"doctor"},{title:"Total Treatments",key:"quantity",dataIndex:"quantity"}],n=this.state.treatmentPerformed.reduce((function(t,e){return t+e.quantity}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"All Treatments Performed",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Treatments",value:n}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.treatmentPerformed}))}}]),e}(u.a.Component),it=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadTreatmentMonthly=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(Object(j.f)(M.jb,[t.props.active_practiceId]),(function(e){t.setState({treatmentMonthly:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(P.h)(Object(j.f)(M.jb,[e.props.active_practiceId]),n)},a.state={treatmentMonthly:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadTreatmentMonthly=a.loadTreatmentMonthly.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTreatmentMonthly(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentMonthly()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"date",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("MMMM YYYY"))},export:function(t,e){h()(e.date).format("ll")}},{title:"Total Treatments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Treatments Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.treatmentMonthly.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(at.a)(this.state.treatmentMonthly).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:this.state.total})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.treatmentMonthly}))}}]),e}(u.a.Component),st=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadTreatmentWithCategory=function(){var t=Object(s.a)(a);a.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(j.c)(Object(j.f)(M.jb,[t.props.active_practiceId]),(function(e){t.setState({treatmentCategory:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(P.h)(Object(j.f)(M.jb,[e.props.active_practiceId]),n)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,treatmentCategory:[],activeIndex:0,mailingUsersList:[]},a.loadTreatmentWithCategory=a.loadTreatmentWithCategory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTreatmentWithCategory(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentWithCategory()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Treatment Category",key:"procedure_name",dataIndex:"procedure_name"},{title:"Total Treatments",key:"count",dataIndex:"count"}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Treatments By Category",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.treatmentCategory.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.procedure_name,",").concat(p.count)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:Object(at.a)(this.state.treatmentCategory).reverse(),cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.treatmentCategory.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.treatmentCategory}))}}]),e}(u.a.Component),lt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({is_complete:!a.state.is_complete})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,practiceDoctors:[]},Object(P.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"EMR Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.k?u.a.createElement(ot,Object.assign({},this.state,this.props)):null,this.state.type==k.I?u.a.createElement(rt,Object.assign({},this.state,this.props)):null,this.state.type==k.Yb?u.a.createElement(nt,Object.assign({},this.state,this.props)):null,this.state.type==k.jb?u.a.createElement(it,Object.assign({},this.state,this.props)):null,this.state.type==k.Zb?u.a.createElement(st,Object.assign({},this.state,this.props)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.k,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Treatments"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.k},"All Treatments Performed"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.C.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Only Completed"))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),ct=a(1219),pt=a.n(ct);function ut(t,e,a,n,r,o,i){try{var s=t[o](i),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(n,r)}function dt(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function i(t){ut(o,n,r,i,s,"next",t)}function s(t){ut(o,n,r,i,s,"throw",t)}i(void 0)}))}}var mt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).componentDidMount=dt(pt.a.mark((function t(){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.ExpenseReport();case 2:Object(P.e)(Object(s.a)(a));case 3:case"end":return t.stop()}}),t)}))),a.ExpenseReport=dt(pt.a.mark((function t(){var e,n,r,o;return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(s.a)(a),a.setState({loading:!0}),n=function(t){e.setState({report:t,loading:!1})},r=function(){e.setState({loading:!1})},o={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId},a.props.payment_mode&&(o.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(o.expense_type=a.props.expense_type.toString()),Object(j.c)(M.ob,n,r,o);case 8:case"end":return t.stop()}}),t)}))),a.sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};a.props.payment_mode&&(n.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(n.expense_type=a.props.expense_type.toString()),n.mail_to=t,Object(P.h)(M.ob,n,!0,!0)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.ExpenseReport=a.ExpenseReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.ExpenseReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Date",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.expense_date).format("DD MMM YYYY"))},export:function(t,e){return h()(e.expense_date).format("ll")}},{title:"\tExpense Type",dataIndex:"expense_type.name",key:"name",export:function(t,e){return e.expense_type.name}},{title:"Expense Amount (INR)",dataIndex:"amount",key:"amount"},{title:"Mode Of Payment",dataIndex:"payment_mode.mode",key:"payment_mode",export:function(t,e){return e.payment_mode.mode}},{title:"Vendor",dataIndex:"vendor.name",key:"vendor.name",export:function(t,e){return e.vendor.name}},{title:"Notes",dataIndex:"remark",key:"remark"}],n=this.state.report.reduce((function(t,e){return t+e.amount}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Expense (INR)",value:n}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),ht=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};a.props.payment_mode&&(n.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(n.expense_type=a.props.expense_type.toString()),n.mail_to=t,Object(P.h)(M.pb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyExpense=a.loadDailyExpense.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyExpense(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyExpense()}))}},{key:"loadDailyExpense",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(j.c)(M.pb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("DD MMM"))},export:function(t,e){return h()(e.date).format("DD MMM")}},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],n=this.state.report.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Expense",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(at.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Expenses(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"total",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:n})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),ft=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};a.props.payment_mode&&(n.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(n.expense_type=a.props.expense_type.toString()),n.mail_to=t,Object(P.h)(M.pb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyExpense=a.loadMonthlyExpense.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMonthlyExpense(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyExpense()}))}},{key:"loadMonthlyExpense",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(j.c)(M.pb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("MMMM YYYY"))},export:function(t,e){return h()(e.date).format("MMM YYYY")}},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],n=this.state.report.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Expense",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(at.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("MMM YY")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Expenses(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"total",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:n})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),gt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};a.props.payment_mode&&(n.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(n.expense_type=a.props.expense_type.toString()),n.mail_to=t,Object(P.h)(M.pb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadExpenseEachType=a.loadExpenseEachType.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadExpenseEachType(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadExpenseEachType()}))}},{key:"loadExpenseEachType",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(j.c)(M.pb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Expense Name",key:"expense",dataIndex:"expense"},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],n=["#89b9d8","#8fc6eb","#81dac9","#f39e94","#bb98c9","#73c1c1"],r=this.state.report.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses Type",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0&&r?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.expense,",").concat(p.total)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Et=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.state={advancedOptionShow:!0,expenseTypeOption:[],paymentModeOption:[],sidePanelColSpan:4,type:"ALL"},a.loadExpenseType=a.loadExpenseType.bind(Object(s.a)(a)),a.loadPaymentMode=a.loadPaymentMode.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadExpenseType(),this.loadPaymentMode()}},{key:"loadExpenseType",value:function(){var t=this;Object(j.c)(Object(j.f)(M.qb,[this.props.active_practiceId]),(function(e){t.setState({expenseTypeOption:e})}),(function(){}))}},{key:"loadPaymentMode",value:function(){var t=this;Object(j.c)(Object(j.f)(M.Ac,[this.props.active_practiceId]),(function(e){t.setState({paymentModeOption:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.f?u.a.createElement(mt,Object.assign({},this.props,this.state)):null,this.state.type==k.E?u.a.createElement(ht,Object.assign({},this.props,this.state)):null,this.state.type==k.fb?u.a.createElement(ft,Object.assign({},this.props,this.state)):null,this.state.type==k.R?u.a.createElement(gt,Object.assign({},this.props,this.state)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.f,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Expenses"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.f},"All Expenses"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.I.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Expense Type"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Expense Type",onChange:function(e){return t.handleChangeOption("expense_type",e)}},this.state.expenseTypeOption.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Modes"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Payment Modes",onChange:function(e){return t.handleChangeOption("payment_mode",e)}},this.state.paymentModeOption.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.mode)}))))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),yt=(a(350),a(351)),vt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadInvoices=function(){var t=Object(s.a)(a),e={practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!a.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.products&&(e.products=a.props.products.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(j.c)(M.wb,(function(e){t.setState({invoiceReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(P.h)(M.wb,n)},a.state={inventoryReports:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,invoiceReports:[],mailingUsersList:[]},a.loadInvoices=a.loadInvoices.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadInvoices(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadInvoices()}))}},{key:"render",value:function(){for(var t=this,e=this.state.invoiceReports,a=[],n=0,r=0,o=0,i=0,s=0,l=0;l<e.length;l++)r+=e[l].cost,o+=e[l].taxes,n+=e[l].total,i+=e[l].total-e[l].cost,s+=e[l].total-e[l].cost-e[l].taxes;a.push({sale_amount:n,tax_amount:o,cost_amount:r,profit_before_tax:i,profit_after_tax:s});var c=[],p=[];e.map((function(t){if(t.reservation){var e=t.reservation_data.medicines.map((function(t){return Object(U.a)({},t,{unit:1,total:t.final_price,unit_cost:t.price,discount:0})})),a={NORMAL:{total:"final_normal_price",tax:"normal_tax_value",unit_cost:"normal_price"},TATKAL:{total:"final_tatkal_price",tax:"tatkal_tax_value",unit_cost:"tatkal_price"}};c=[].concat(Object(at.a)(c),[Object(U.a)({},t.reservation_data.bed_package,{unit:1,total:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].total]:null,tax_value:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].tax]:null,unit_cost:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].unit_cost]:null})],Object(at.a)(e))}p.push(Object(U.a)({},t,{treatment:[].concat(Object(at.a)(c),Object(at.a)(t.procedure),Object(at.a)(t.inventory))}))}));var d=1,m=[{title:"Total Sales (INR)",key:"sale_amount",dataIndex:"sale_amount",render:function(t,e){return u.a.createElement("span",null,e.sale_amount.toFixed(2))},export:function(t,e){return e.sale_amount.toFixed(2)}},{title:"Total Cost (INR)",key:"cost_amount",dataIndex:"cost_amount",render:function(t,e){return u.a.createElement("span",null,e.cost_amount.toFixed(2))},export:function(t,e){return e.cost_amount.toFixed(2)}},{title:"Total Profit before Tax(INR)",key:"tax_with_out",dataIndex:"profit_before_tax",render:function(t,e){return u.a.createElement("span",null,e.profit_before_tax.toFixed(2))},export:function(t,e){return e.profit_before_tax.toFixed(2)}},{title:"Total Tax(INR)",key:"tax_amount",dataIndex:"tax_amount",render:function(t,e){return u.a.createElement("span",null,e.tax_amount.toFixed(2))},export:function(t,e){return e.tax_amount.toFixed(2)}},{title:"Total Profit after Tax(INR)",key:"tax_with",dataIndex:"profit_after_tax",render:function(t,e){return u.a.createElement("span",null,e.profit_after_tax.toFixed(2))},export:function(t,e){return e.profit_after_tax.toFixed(2)}}],g=[{title:"S. No",key:"sno",render:function(t,e){return u.a.createElement("span",null," ",d++)},width:50},{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.created_at).format("ll"))},export:function(t,e){return h()(e.created_at).format("ll")}},{title:"Invoice Number",key:"invoice_id",dataIndex:"invoice_id"},{title:"Patient",key:"patient",dataIndex:"patient",render:function(t,e){return u.a.createElement("span",null,e.patient?e.patient.user.first_name:e.patient)},export:function(t,e){return e.patient?e.patient.user.first_name:e.patient}},{title:"Treatments & Products",key:"treatments",render:function(t,e){return u.a.createElement("span",null,e.treatment.map((function(t){return u.a.createElement(yt.a,null,t.name)})))},export:function(t,e){return e.treatment.map((function(t){return"".concat(t.name,",")}))}}];return"PRODUCTS"==this.props.income_type&&g.push({title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))},export:function(t,e){return e.cost.toFixed(2)}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))},export:function(t,e){return e.discount.toFixed(2)}},{title:"tax(INR)",key:"tax",dataIndex:"taxes",render:function(t,e){return u.a.createElement("span",null,e.taxes.toFixed(2))},export:function(t,e){return e.taxes.toFixed(2)}},{title:"Invoice Amount(INR)",key:"amount",dataIndex:"total",render:function(t,e){return u.a.createElement("span",null,e.total.toFixed(2))},export:function(t,e){return e.total.toFixed(2)}},{title:"Amount Paid(INR)",key:"tax",dataIndex:"tax"}),u.a.createElement("div",null,u.a.createElement("h2",null,"All Invoices",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(I.a,{loading:this.state.loading,columns:m,pagination:!1,dataSource:a}),u.a.createElement(G.a,{loading:this.state.loading,columns:g,pagination:!1,dataSource:p}))}}]),e}(u.a.Component),Dt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(P.h)(M.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyIncome=a.loadDailyIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyIncome(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyIncome()}))}},{key:"loadDailyIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(j.c)(M.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("ll"))},export:function(t,e){return h()(e.date).format("ll")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Income after Discount(INR)",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}},{title:"Income Amount(INR)",key:"income_amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Invoiced Income",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.report,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("ll")}}),u.a.createElement(L.o,{label:{value:"Income(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r.toFixed(2))}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,hideReport:!0,dataSource:this.state.report}))}}]),e}(u.a.Component),bt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(P.h)(M.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyIncome=a.loadDailyIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyIncome(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyIncome()}))}},{key:"loadDailyIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(j.c)(M.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("MM YYYY"))},export:function(t,e){return h()(e.date).format("MM YYYY")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Income after Discount(INR)",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}},{title:"Income Amount(INR)",key:"income_amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Invoiced Income",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.report,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("MM YYYY")}}),u.a.createElement(L.o,{label:{value:"Income(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r.toFixed(2))}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report,hideReport:!0}))}}]),e}(u.a.Component),_t=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(P.h)(M.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadTaxedIncome=a.loadTaxedIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTaxedIncome(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTaxedIncome()}))}},{key:"loadTaxedIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(j.c)(M.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Tax Name",key:"name",dataIndex:"name",render:function(t,e){return u.a.createElement("span",null,e.name," @ ",e.tax_value,"%")}},{title:"Tax (INR)",key:"tax",dataIndex:"total",render:function(t,e){return u.a.createElement("span",null,e.total.toFixed(2))}}],n=["#FFBB28","#FF8042","#1DA57A"],r=this.state.report.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Taxed Invoiced Income",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0&&r?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,"@").concat(p.tax_value,"% ,").concat(p.total.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report,hideReport:!0}))}}]),e}(u.a.Component),xt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(P.h)(M.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,practiceDoctors:[],mailingUsersList:[]},a.loadEachDoctorIncome=a.loadEachDoctorIncome.bind(Object(s.a)(a)),Object(P.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachDoctorIncome(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachDoctorIncome()}))}},{key:"loadEachDoctorIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(j.c)(M.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor",render:function(e,a){return u.a.createElement("span",null,"NA"==a.doctor?u.a.createElement("span",null,"No Doctor assigned"):u.a.createElement(u.a.Fragment,null,t.state.practiceDoctors.map((function(t){return t.id==a.doctor?u.a.createElement("span",null,t.user.first_name):null}))))}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,e.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Patient Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var a=Math.PI/180,n=e.cx,r=e.cy,o=e.midAngle,i=e.innerRadius,s=e.outerRadius,l=e.startAngle,c=e.endAngle,p=e.fill,d=e.payload,m=e.percent,h=(e.value,Math.sin(-a*o)),f=Math.cos(-a*o),g=n+(s+10)*f,E=r+(s+10)*h,y=n+(s+30)*f,v=r+(s+30)*h,D=y+22*(f>=0?1:-1),b=v,_=f>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c,fill:p}),u.a.createElement(L.l,{cx:n,cy:r,startAngle:l,endAngle:c,innerRadius:s+6,outerRadius:s+10,fill:p}),u.a.createElement("path",{d:"M".concat(g,",").concat(E,"L").concat(y,",").concat(v,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),u.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),u.a.createElement("text",{x:D+12*(f>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"NA"==d.doctor?"No Doctor assigned":u.a.createElement(u.a.Fragment,null,t.state.practiceDoctors.map((function(t){return t.id==d.doctor?u.a.createElement(u.a.Fragment,null,t.user.first_name):null})))),u.a.createElement("text",{x:D+12*(f>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report,hideReport:!0}))}}]),e}(u.a.Component),Ot=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(P.h)(M.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachProcedureIncome=a.loadEachProcedureIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachProcedureIncome(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProcedureIncome()}))}},{key:"loadEachProcedureIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(j.c)(M.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Treatment Category",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,e.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Procedure",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,",").concat(p.cost.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report,hideReport:!0}))}}]),e}(u.a.Component),St=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(P.h)(M.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadPatientGroupsIncome=a.loadPatientGroupsIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroupsIncome(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPatientGroupsIncome()}))}},{key:"loadPatientGroupsIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(j.c)(M.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Patient Group",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Patient Group",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,",").concat(p.cost.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report,hideReport:!0}))}}]),e}(u.a.Component),Mt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(P.h)(M.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachProductIncome=a.loadEachProductIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachProductIncome(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProductIncome()}))}},{key:"loadEachProductIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(j.c)(M.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Item Destock",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,e.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Product",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,",").concat(p.cost.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report,hideReport:!0}))}}]),e}(u.a.Component),Yt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({is_cancelled:!a.state.is_cancelled})},a.state={advancedOptionShow:!0,sidePanelColSpan:4,type:"ALL",practiceDoctors:[],patientGroup:[],vendorOption:[],taxes_list:[],productItems:[],treatment_data:[]},Object(P.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a.loadTaxes=a.loadTaxes.bind(Object(s.a)(a)),a.loadProductItem=a.loadProductItem.bind(Object(s.a)(a)),a.loadTreatments=a.loadTreatments.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadTaxes(),this.loadProductItem(),this.loadTreatments()}},{key:"loadProductItem",value:function(){var t=this;Object(j.c)(M.Mc,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"loadPatientGroup",value:function(){var t=this;Object(j.c)(Object(j.f)(M.rc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"loadTaxes",value:function(){var t=this;Object(j.c)(Object(j.f)(M.Fd,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}},{key:"loadTreatments",value:function(){var t=this;Object(j.c)(Object(j.f)(M.Lc,[this.props.active_practiceId]),(function(e){t.setState({treatment_data:e})}),(function(){}),{pagination:!1})}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Income Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.j?u.a.createElement(vt,Object.assign({},this.props,this.state)):null,this.state.type==k.F?u.a.createElement(Dt,Object.assign({},this.props,this.state)):null,this.state.type==k.gb?u.a.createElement(bt,Object.assign({},this.props,this.state)):null,this.state.type==k.Tb?u.a.createElement(_t,Object.assign({},this.props,this.state)):null,this.state.type==k.O?u.a.createElement(xt,Object.assign({},this.props,this.state)):null,this.state.type==k.Cb?u.a.createElement(Ot,Object.assign({},this.props,this.state)):null,this.state.type==k.vb?u.a.createElement(St,Object.assign({},this.props,this.state)):null,this.state.type==k.Db?u.a.createElement(Mt,Object.assign({},this.props,this.state)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.h,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Income"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.h},"All Invoice"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.U.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options"),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Show income from"),u.a.createElement(_.a.Group,{style:{width:"100%",display:"inline-grid"},onChange:function(e){return t.handleChangeOption("income_type",e.target.value)}},Y.Bb.map((function(t){return u.a.createElement(_.a,{value:t.value}," ",t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Discount"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:function(e){return t.handleChangeOption("discount",e)}},Y.w.map((function(t){return u.a.createElement(f.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Products",onChange:function(e){return t.handleChangeOption("products",e)}},this.state.productItems.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Treatments"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:function(e){return t.handleChangeOption("treatments",e)}},this.state.treatment_data.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(e){return t.handleChangeOption("taxes",e)}},this.state.taxes_list.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Exclude Cancelled"))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options")))))}}]),e}(u.a.Component),jt=(a(339),a(342)),kt=(a(328),a(329)),It=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).state={inventoryList:[],loading:!1},a.loadData=a.loadData.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var t=this;t.setState({loading:!0});this.props.id,this.props.supplier,this.props.date;(this.props.id||this.props.supplier)&&Object(j.c)(Object(j.f)(M.Cd,[this.props.id]),(function(e){t.setState({inventoryList:e,loading:!1})}),(function(){t.setState({loading:!1})}))}},{key:"render",value:function(){var t=[{title:"name",key:"name",dataIndex:"inventory_item_data.name"},{title:"Batch",key:"batch_number",dataIndex:"batch_number"},{title:"Expiry Date",key:"expiry_date",dataIndex:"expiry_date"},{title:"Item Type",key:"item_type",dataIndex:"inventory_item_data.item_type"},{title:"ADD/CONSUME",key:"item_add_type",dataIndex:"item_add_type"},{title:"Type of Consumption",key:"type_of_consumption",dataIndex:"type_of_consumption"},{title:"Bill File",key:"bill_file",dataIndex:"bill_file",render:function(t){return t?u.a.createElement("a",{target:"_blank",href:Object(j.g)(t)},"Bill"):null}},{title:"Quantity",key:"quantity",dataIndex:"quantity"},{title:"Unit Cost",key:"unit_cost",dataIndex:"unit_cost"},{title:"Total Cost",key:"total_cost",dataIndex:"total_cost"}];return u.a.createElement("div",null,u.a.createElement(I.a,{loading:this.state.loading,bordered:!0,rowKey:function(t){return t.id},pagination:!1,columns:t,dataSource:[this.state.inventoryList]}))}}]),e}(u.a.Component),Rt=a(349),Pt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};e.state.bill_number&&(n.bill_number=e.state.bill_number),e.state.supplier&&(n.supplier=e.state.supplier.toString()),e.state.invoice&&(n.invoice=1),e.state.inventory&&(n.inventory=1),n.mail_to=t,Object(P.h)(M.w,n)},a.handleSubmit=function(t){var e=Object(s.a)(a);t.preventDefault(),a.props.form.validateFieldsAndScroll((function(t,a){console.log(a),t||e.setState({bill_number:a.bill_number,supplier:a.supplier,inventory:a.inventory,invoice:a.invoice},(function(){e.loadBillSupplier()}))}))},a.onChangeCheckbox=function(t,e){a.setState(Object(S.a)({},t,!e))},a.state={loading:!1,billSuplier:[],startDate:a.props.startDate,endDate:a.props.endDate,nextItemPage:null,supplierList:[],inventory:!0,invoice:!0,mailingUsersList:[]},a.loadBillSupplier=a.loadBillSupplier.bind(Object(s.a)(a)),a.loadSupplierList=a.loadSupplierList.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBillSupplier(),this.loadSupplierList(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBillSupplier()}))}},{key:"loadBillSupplier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.setState({loading:!0});var a=function(t){e.setState((function(e){return 1==t.current?{loading:!1,billSuplier:t.results,nextItemPage:t.next}:{loading:!1,billSuplier:[].concat(Object(at.a)(e.billSuplier),Object(at.a)(t.results)),nextItemPage:t.next}}))},n=function(){e.setState({loading:!1})},r={page:t,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};e.state.bill_number&&(r.bill_number=e.state.bill_number),e.state.supplier&&(r.supplier=e.state.supplier.toString()),e.state.invoice&&(r.invoice=1),e.state.inventory&&(r.inventory=1),Object(j.c)(M.w,a,n,r)}},{key:"expandIcon",value:function(t){return u.a.createElement(O.a,{onClick:function(e){return t.onExpand(t.record,e)}},"view detail")}},{key:"loadSupplierList",value:function(){var t=this,e={practice:this.props.active_practiceId};Object(j.c)(Object(j.f)(M.Ed,[this.props.active_practiceId]),(function(e){t.setState({supplierList:e})}),(function(){}),e)}},{key:"handleChange",value:function(t,e){this.props.form.setFieldsValue(Object(S.a)({},t,e))}},{key:"render",value:function(){var t=this,e=this,a=this.props.form.getFieldDecorator,n=[{title:"Date",key:"date",dataIndex:"date",render:function(t){return u.a.createElement("span",null,t||"")}},{title:"Bill Number",key:"bill_number",dataIndex:"bill_number"},{title:"Supplier ",key:"name",dataIndex:"supplier_data.name"},{title:"Note",key:"remarks",dataIndex:"remarks"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(D.a,{bodyStyle:{padding:0},extra:u.a.createElement("div",null,u.a.createElement(kt.a,{layout:"inline",onSubmit:this.handleSubmit},u.a.createElement(kt.a.Item,{label:"Invoice"},a("invoice",{valuePropName:"checked",initialValue:this.state.invoice})(u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox("invoice",e)}}))),u.a.createElement(kt.a.Item,{label:"Inventory"},a("inventory",{valuePropName:"checked",initialValue:this.state.inventory})(u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox("inventory",e)}}))),u.a.createElement(kt.a.Item,{label:"Bill Number"},a("bill_number",{})(u.a.createElement(jt.a,{placeholder:"Bill Numbers"}))),u.a.createElement(kt.a.Item,{key:"supplier",label:"Supplier"},a("supplier",{initialValue:this.state.supplierList?this.state.supplierList.name:null},{rules:[{required:!0,message:"This field required!"}],onChange:this.handleChange})(u.a.createElement(f.a,{placeholder:"Supplier",style:{minWidth:150},mode:"multiple"},this.state.supplierList.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))))),u.a.createElement(kt.a.Item,null,u.a.createElement(O.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"))))},u.a.createElement(I.a,{loading:this.state.loading,bordered:!0,rowKey:function(t){return t.id},expandedRowRender:function(t){return u.a.createElement(It,Object.assign({},t,e.props))},columns:n,dataSource:this.state.billSuplier,pagination:!1}),u.a.createElement(Rt.a,{loaderFunction:function(){return t.loadBillSupplier(t.state.nextItemPage)},loading:this.state.loading,hidden:!this.state.nextItemPage})))}}]),e}(u.a.Component),Ct=kt.a.create()(Pt),At=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type};a.props.consume&&(n.consume=a.props.consume.toString()),a.props.product_item&&(n.product=a.props.product_item),n.mail_to=t,Object(P.h)(M.zb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyInventory=a.loadDailyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyInventory(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInventory()}))}},{key:"loadDailyInventory",value:function(){var t=this;t.setState({loading:!0});var e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,practice:t.props.active_practiceId};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(j.c)(M.zb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=this,a=e.state.report,n=[],r={},o=1;for(o=0;o<a.length;o++)a[o].date in r?r[a[o].date][a[o].type_of_consumption]=a[o].consume:(r[a[o].date]={SALES:0,SERVICES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},r[a[o].date][a[o].type_of_consumption]=a[o].consume);for(var i in r){var s={item_date:i,type:r[i],total_consumption:0},l=r[i].SALES+r[i].SERVICES+r[i].DAMAGED+r[i].RETURNED+r[i].ADJUSTMENT;s.total_consumption=l,n.push(s)}for(var c=[{title:"S. No",key:"sno",render:function(t,e){return u.a.createElement("span",null," ",o++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"item_date",render:function(t,e){return u.a.createElement("span",null,h()(e.item_date).format("DD MMM"))},export:function(t,e){return h()(e.item_date).format("DD MMM")}}],p=function(t){var a=Y.Hb[t].value,n={title:Y.Hb[t].label,key:Y.Hb[t].value,render:function(t,e){return u.a.createElement("span",null,e.type[a])},export:function(t,e){return e.type.value}};e.props.consume.includes(Y.Hb[t].value)&&c.push(n)},d=0;d<Y.Hb.length;d++)p(d);c.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Inventory",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(at.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")}}),u.a.createElement(L.o,{label:{value:"Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:c,dataSource:n}))}}]),e}(u.a.Component),wt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type};a.props.consume&&(n.consume=a.props.consume.toString()),a.props.product_item&&(n.product=a.props.product_item),n.mail_to=t,Object(P.h)(M.zb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyInventory=a.loadMonthlyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMonthlyInventory(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyInventory()}))}},{key:"loadMonthlyInventory",value:function(){var t=this;t.setState({loading:!0});var e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,practice:t.props.active_practiceId};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(j.c)(M.zb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=this,a=e.state.report,n=[],r={};for(l=0;l<a.length;l++)a[l].date in r?r[a[l].date][a[l].type_of_consumption]=a[l].consume:(r[a[l].date]={SERVICES:0,SALES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},r[a[l].date][a[l].type_of_consumption]=a[l].consume);for(var o in r){var i={item_date:o,type:r[o],total_consumption:0},s=r[o].SERVICES+r[o].SALES+r[o].DAMAGED+r[o].RETURNED+r[o].ADJUSTMENT;i.total_consumption=s,n.push(i)}for(var l=1,c=[{title:"S. No",key:"sno",render:function(t,e){return u.a.createElement("span",null," ",l++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"item_date",render:function(t,e){return u.a.createElement("span",null,h()(e.item_date).format("MMM YYYY"))},export:function(t,e){return h()(e.item_date).format("MMM YYYY")}}],p=function(t){var a=Y.Hb[t].value,n={title:Y.Hb[t].label,key:Y.Hb[t].value,render:function(t,e){return u.a.createElement("span",null,e.type[a])},export:function(t,e){return e.type.value}};e.props.consume.includes(Y.Hb[t].value)&&c.push(n)},d=0;d<Y.Hb.length;d++)p(d);c.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Inventory",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(at.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("MMM YY")}}),u.a.createElement(L.o,{label:{value:"Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:c,dataSource:n}))}}]),e}(u.a.Component),Ft=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type};a.props.consume&&(n.consume=a.props.consume.toString()),a.props.product_item&&(n.product=a.props.product_item),n.mail_to=t,Object(P.h)(M.zb,n)},a.state={reportItem_wise:[],reportTotal:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyInventory=a.loadDailyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyInventory(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInventory()}))}},{key:"loadDailyInventory",value:function(){var t=this;t.setState({loading:!0});var e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,practice:t.props.active_practiceId};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(j.c)(M.zb,(function(e){t.setState({report:e,reportItem_wise:e.item_wise,reportTotal:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=this,a=e.state.reportItem_wise,n=[],r={};for(l=0;l<a.length;l++)a[l].inventory_item__name in r?r[a[l].inventory_item__name][a[l].type_of_consumption]=a[l].consume:(r[a[l].inventory_item__name]={SALES:0,SERVICES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},r[a[l].inventory_item__name][a[l].type_of_consumption]=a[l].consume);for(var o in r){var i={item_name:o,type:r[o],total_consumption:0},s=r[o].SALES+r[o].SERVICES+r[o].DAMAGED+r[o].RETURNED+r[o].ADJUSTMENT;i.total_consumption=s,n.push(i)}for(var l=1,c=[{title:"S. No",key:"sno",render:function(t,e){return u.a.createElement("span",null," ",l++)},export:function(t,e,a){return a+1},width:50},{title:"Item Name",key:"inventory_item__name",dataIndex:"item_name"}],p=function(t){var a=Y.Hb[t].value,n={title:Y.Hb[t].label,key:Y.Hb[t].value,render:function(t,e){return u.a.createElement("span",null,e.type[a])},export:function(t,e){return e.type.value}};e.props.consume.includes(Y.Hb[t].value)&&c.push(n)},d=0;d<Y.Hb.length;d++)p(d);c.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Top Inventory",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.reportTotal.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.reportTotal,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"inventory_item__name"}),u.a.createElement(L.o,{label:{value:"Top Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:c,dataSource:n}))}}]),e}(u.a.Component),Lt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.state={advancedOptionShow:!0,sidePanelColSpan:4,productItems:[],type:"ALL",consume:Y.Hb.map((function(t){return t.value}))},a.loadProductItem=a.loadProductItem.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadProductItem()}},{key:"loadProductItem",value:function(){var t=this;Object(j.c)(M.Mc,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.g?u.a.createElement(Ct,Object.assign({},this.props,this.state)):null,this.state.type==k.G?u.a.createElement(At,Object.assign({},this.props,this.state)):null,this.state.type==k.hb?u.a.createElement(wt,Object.assign({},this.props,this.state)):null,this.state.type==k.Wb?u.a.createElement(Ft,Object.assign({},this.props,this.state)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.g,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Inventory"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.g},"All Stock Update History"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.Z.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type!==k.g?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(f.a,{style:{minWidth:"200px"},defaultValue:k.d,onChange:function(e){return t.handleChangeOption("product_item",e)}},u.a.createElement(f.a.Option,{value:""},k.d),this.state.productItems.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a.Group,{style:{width:"100%",display:"inline-grid"},defaultValue:Y.Hb.map((function(t){return t.value})),onChange:function(e){return t.handleChangeOption("consume",e)}},Y.Hb.map((function(t){return u.a.createElement(B.a,{value:t.value}," ",t.label)}))))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")):null))))}}]),e}(u.a.Component),Tt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(P.h)(M.lc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyNewPatients=a.loadDailyNewPatients.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyNewPatients(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyNewPatients()}))}},{key:"loadDailyNewPatients",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(j.c)(M.lc,(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("ll"))},export:function(t,e){return h()(e.date).format("ll")}},{title:"Patients",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:[].concat(a).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Patients",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:4})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),Nt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};e.mail_to=t,Object(P.h)(M.cc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadExpireMembership=a.loadExpireMembership.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadExpireMembership(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadExpireMembership()}))}},{key:"loadExpireMembership",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};Object(j.c)(M.cc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:function(t,e){return e.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},export:function(t,e){return e.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},export:function(t,e){return e.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(t,e){return e.patient.gender}},{title:"Start Date",key:"start_date",dataIndex:"medical_from"},{title:"Valid Till",key:"valid_till",dataIndex:"medical_to"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Expiring Membership",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),e}(u.a.Component),Bt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),e.mail_to=t,Object(P.h)(M.lc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyPatients=a.loadMonthlyPatients.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMonthlyPatients(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.offer==t.offer||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyPatients()}))}},{key:"loadMonthlyPatients",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),Object(j.c)(M.lc,(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Month",key:"month",render:function(t,e){return u.a.createElement("span",null,h()(e.month).format("MMM")," \xa0",h()(e.year).format("YYYY"))},export:function(t,e){return h()(e.month).format("MMM YYYY")}},{title:"Patients",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:[].concat(a).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("MMM YYYY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#413ea0",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),Ut=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};e.mail_to=t,Object(P.h)(M.cc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadNewMembership=a.loadNewMembership.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadNewMembership(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadNewMembership()}))}},{key:"loadNewMembership",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};Object(j.c)(M.cc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:function(t,e){return e.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},export:function(t,e){return e.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},export:function(t,e){return e.patient.user.email}},{title:"Membership Type",key:"membership_type",dataIndex:"medical_membership.name",export:function(t,e){return e.medical_membership.name}},{title:"Start Date",key:"start_date",dataIndex:"medical_from"},{title:"Valid Till",key:"valid_till",dataIndex:"medical_to"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"New Membership ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component),Gt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(P.h)(M.lc,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadNewPatient=a.loadNewPatient.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){"DETAILED"==this.props.type&&this.loadNewPatient(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){"DETAILED"==e.props.type&&this.loadNewPatient()}))}},{key:"loadNewPatient",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type?t.props.type:"DETAILED",from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(j.c)(M.lc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e){return u.a.createElement("span",null," ",e.s_no)},export:function(t,e,a){return a+1},width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.id)},exports:function(t,e){return e.custom_id?e.custom_id:e.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},exports:function(t){return t}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},exports:function(t){return t}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),e}(u.a.Component),Wt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD")};e.mail_to=t,Object(P.h)(M.ub,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadFirstAppointment=a.loadFirstAppointment.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadFirstAppointment(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadFirstAppointment()}))}},{key:"loadFirstAppointment",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};Object(j.c)(M.ub,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"appointment_time",render:function(t,e){return u.a.createElement("span",null,h()(e.appointment_time).format("LL"))},export:function(t,e){return h()(e.appointment_time).format("LL")}},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.patient_id)},exports:function(t,e){return e.custom_id?e.custom_id:e.patient_id}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients First AppointmentReport",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),zt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(P.h)(M.b,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadActivePatient=a.loadActivePatient.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadActivePatient(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.loadActivePatient()}))}},{key:"loadActivePatient",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(j.c)(M.b,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e){return u.a.createElement("span",null," ",e.s_no)},export:function(t,e,a){return a+1},width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.id)},exports:function(t,e){return e.custom_id?e.custom_id:e.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},exports:function(t){return t}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},exports:function(t){return t}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Active Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),e}(u.a.Component),Kt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(P.h)(M.lc,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadFollowUpPatient=a.loadFollowUpPatient.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadFollowUpPatient(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.loadFollowUpPatient()}))}},{key:"loadFollowUpPatient",value:function(){var t=this;t.setState({loading:!0});var e={follow_start:this.props.startDate.format("YYYY-MM-DD"),follow_end:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(j.c)(M.lc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.id)},exports:function(t,e){return e.custom_id?e.custom_id:e.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},exports:function(t){return t}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},exports:function(t){return t}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Follow Up Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component),Ht=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(P.h)(M.lc,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadPatientMedicine=a.loadPatientMedicine.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientMedicine(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.loadPatientMedicine()}))}},{key:"loadPatientMedicine",value:function(){var t=this;t.setState({loading:!0});var e={follow_start:this.props.startDate.format("YYYY-MM-DD"),follow_end:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(j.c)(M.lc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.id)},exports:function(t,e){return e.custom_id?e.custom_id:e.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},exports:function(t){return t}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},exports:function(t){return t}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Medicine Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Patients",value:n.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),e}(u.a.Component),Vt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.state={type:"DETAILED",advancedOptionShow:!0,sidePanelColSpan:4,patientGroup:[],offerOption:[]},a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var t=this;Object(j.c)(Object(j.f)(M.rc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.ob?u.a.createElement(Gt,Object.assign({},this.props,this.state)):null,this.state.type==k.H?u.a.createElement(Tt,Object.assign({},this.props,this.state)):null,this.state.type==k.S?u.a.createElement(Nt,Object.assign({},this.props,this.state)):null,this.state.type==k.tb?u.a.createElement(Wt,Object.assign({},this.props,this.state)):null,this.state.type==k.ib?u.a.createElement(Bt,Object.assign({},this.props,this.state)):null,this.state.type==k.nb?u.a.createElement(Ut,Object.assign({},this.props,this.state)):null,this.state.type==k.a?u.a.createElement(zt,Object.assign({},this.props,this.state)):null,this.state.type==k.T?u.a.createElement(Kt,Object.assign({},this.props,this.state)):null,this.state.type==k.ab?u.a.createElement(Ht,Object.assign({},this.props,this.state)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.ob,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Patients"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.ob},"New Patients"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.kb.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==k.ob||this.state.type==k.H||this.state.type==k.ib||this.state.type==k.a||this.state.type==k.T||this.state.type==k.ab?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("h4",null,"Blood Groups"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select Blood Group",onChange:function(e){return t.handleChangeOption("blood_group",e)},allowClear:!0},Y.k.map((function(t){return u.a.createElement(f.a.Option,{value:t.value},t.name)}))))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")):null))))}}]),e}(u.a.Component),Jt=a(361),qt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),a.props.discount&&(e.discount=a.props.discount),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(j.c)(Object(j.f)(M.Cc,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(e){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(P.h)(Object(j.f)(M.Cc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=[{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("LL"))}},{title:"Scheduled At\t",key:"time",render:function(t,e){return u.a.createElement("span",null,h()(e.shedule_at).format("HH:mm"))},export:function(t,e){h()(e.shedule_at).format("HH:mm")}},{title:"Patient",dataIndex:"patient.user.first_name",key:"patient_name"},{title:"Receipt Number",dataIndex:"payment_id",key:"payment_id"},{title:"Invoice(s)",dataIndex:"invoice_id",key:"invoice_id",render:function(t,e){return u.a.createElement("span",null,e.invoices.map((function(t){return u.a.createElement(yt.a,null,t.invoice)})))},export:function(t,e){return e.invoices.map((function(t){return"".concat(t.invoice,",")}))}},{title:"Treatments & Products",dataIndex:"treatement",key:"treatement",render:function(t,e){return u.a.createElement("span",null,e.invoices.map((function(t){return u.a.createElement(yt.a,null,t.invoice_items)})))},export:function(t,e){return e.invoices.map((function(t){return"".concat(t.invoice_items,",")}))}},{title:"Amount Paid (INR)\t",dataIndex:"total",key:"total",render:function(t,e){return u.a.createElement("span",null,e.total.toFixed(2))},export:function(t,e){return e.total.toFixed(2)}},{title:"Advance Amount (INR)",dataIndex:"advance_value",key:"advance_value",render:function(t,e){return u.a.createElement("span",null,e.advance_value?e.advance_value.toFixed(2):"--")},export:function(t,e){return e.advance_value?e.advance_value.toFixed(2):"--"}},{title:"Payment Info",dataIndex:"payment_mode_data.mode",key:"payment_mode_data.mode"},{title:"Vendor Fees (INR)",key:"vendor_fee",render:function(t,e){return u.a.createElement("span",null,e.total?(e.total/100*e.payment_mode_data.fee).toFixed(2):0)},export:function(t,e){return e.total?(e.total/100*e.payment_mode_data.fee).toFixed(2):0}}],a=this.state.report.reduce((function(t,e){return t+e.total}),0),n=this.state.report.reduce((function(t,e){return t+e.advance_value}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"All Payments Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(K.a,null,u.a.createElement("h2",null,"Summary")),u.a.createElement(x.a,{span:12,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Payment (INR)",value:a.toFixed(2)})),u.a.createElement(x.a,{span:12,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Advance Payment (INR)",value:n.toFixed(2)})),u.a.createElement(K.a,null)),u.a.createElement(I.a,{rowKey:function(t){return t.id},loading:this.state.loading,columns:e,dataSource:this.state.report}))}}]),e}(u.a.Component),Qt=(u.a.Component,u.a.Component,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),a.props.discount&&(e.discount=a.props.discount),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(j.c)(Object(j.f)(M.Cc,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(P.h)(Object(j.f)(M.Cc,[e.props.active_practiceId]),l)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[],activeIndex:0},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Group Name",key:"group_name",dataIndex:"name"},{title:"Amount(INR)",key:"amount",dataIndex:"amount",render:function(t,e){return u.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--")},export:function(t,e){return e.amount?e.amount.toFixed(2):"--"}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.amount}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Each Patient Group",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,",").concat(p.amount.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"amount",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(I.a,{loading:this.state.loading,columns:a,pagination:!1,dataSource:this.state.report}))}}]),e}(u.a.Component)),Xt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),a.props.discount&&(e.discount=a.props.discount),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(j.c)(Object(j.f)(M.Cc,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(P.h)(Object(j.f)(M.Cc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Date",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("LL"))},export:function(t,e){h()(e.date).format("LL")}},{title:"Patient Name",key:"name",dataIndex:"name"},{title:"Patient Id",key:"patient_id",dataIndex:"custom_id"},{title:"Unsettled Advance(INR)",key:"advance",dataIndex:"advance",render:function(t,e){return u.a.createElement("span",null,e.advance?e.advance.toFixed(2):"--")},export:function(t,e){return e.advance?e.advance.toFixed(2):"--"}},{title:"Net Advance/Due (INR)",key:"net",dataIndex:"net",render:function(t,e){return u.a.createElement("span",null,e.net?e.net.toFixed(2):"--")},export:function(t,e){return e.net?e.net.toFixed(2):"--"}},{title:"Last Payment",key:"last_payment",dataIndex:"last_payment"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients With Unsettled Advance",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(I.a,{loading:this.state.loading,columns:a,pagination:!1,dataSource:this.state.report}))}}]),e}(u.a.Component),Zt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),a.props.discount&&(e.discount=a.props.discount),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(j.c)(Object(j.f)(M.Cc,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(P.h)(Object(j.f)(M.Cc,[e.props.active_practiceId]),l)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[],activeIndex:0},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Name",key:"mode_name",dataIndex:"mode_name"},{title:"Amount",key:"amount",dataIndex:"amount",render:function(t,e){return u.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--")},export:function(t,e){return e.amount?e.amount.toFixed(2):"--"}},{title:"Fees(INR)",key:"fee_percent",dataIndex:"fee_percent",render:function(t,e){return u.a.createElement("span",null,e.amount?(e.amount/100*e.fee_percent).toFixed(2):"0.00")}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.amount}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Modes of Payment",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=(t.percent,t.value,Math.sin(-e*r)),m=Math.cos(-e*r),h=a+(i+10)*m,f=n+(i+10)*d,g=a+(i+30)*m,E=n+(i+30)*d,y=g+22*(m>=0?1:-1),v=E,D=m>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(h,",").concat(f,"L").concat(g,",").concat(E,"L").concat(y,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:y,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:y+12*(m>=0?1:-1),y:v,textAnchor:D,fill:"#333"},"".concat(p.mode_name,",").concat(p.amount.toFixed(2))),u.a.createElement("text",{x:y+12*(m>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Fees ".concat((p.amount/100*p.fee_percent).toFixed(2),"INR)")))},data:this.state.report,cx:300,dataKey:"amount",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(I.a,{loading:this.state.loading,columns:a,pagination:!1,dataSource:this.state.report}))}}]),e}(u.a.Component),$t=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),a.props.discount&&(e.discount=a.props.discount),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(j.c)(Object(j.f)(M.Cc,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(P.h)(Object(j.f)(M.Cc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("DD MMM "))},export:function(t,e){return h()(e.date).format("DD MMM ")}},{title:"Amount",key:"Amount",dataIndex:"amount",render:function(t,e){return u.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--")},export:function(t,e){return e.amount?e.amount.toFixed(2):"--"}}],n=this.state.report.reduce((function(t,e){return t+e.amount}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Day",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:Object(at.a)(this.state.report).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Amount",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"amount",stroke:"#1DA57A",strokeWidth:4,label:u.a.createElement((function(t){var e=t.x,a=t.y,n=(t.stroke,t.value);return u.a.createElement("text",{x:e,y:a,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n)}),null)})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:n.toFixed(2)})),u.a.createElement(I.a,{loading:this.state.loading,columns:a,pagination:!1,dataSource:this.state.report}))}}]),e}(u.a.Component),te=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),a.props.discount&&(e.discount=a.props.discount),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(j.c)(Object(j.f)(M.Cc,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(P.h)(Object(j.f)(M.Cc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("MMMM YYYY"))},export:function(t,e){return h()(e.date).format("DD MMM YYYY")}},{title:"Amount",key:"Amount",dataIndex:"amount",render:function(t,e){return u.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--")},export:function(t,e){return e.amount?e.amount.toFixed(2):"--"}}],n=this.state.report.reduce((function(t,e){return t+e.amount}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Month",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:Object(at.a)(this.state.report).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Amount",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"amount",stroke:"#1DA57A",strokeWidth:4,label:u.a.createElement((function(t){var e=t.x,a=t.y,n=(t.stroke,t.value);return u.a.createElement("text",{x:e,y:a,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n)}),null)})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:n.toFixed(2)})),u.a.createElement(I.a,{loading:this.state.loading,columns:a,pagination:!1,dataSource:this.state.report}))}}]),e}(u.a.Component),ee=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),a.props.discount&&(e.discount=a.props.discount),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(j.c)(Object(j.f)(M.Cc,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(P.h)(Object(j.f)(M.Cc,[e.props.active_practiceId]),l)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[],activeIndex:0},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Doctor Name",key:"doctor_name",dataIndex:"doctor_name"},{title:"Amount",key:"amount",dataIndex:"amount",render:function(t,e){return u.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--")},export:function(t,e){return e.amount?e.amount.toFixed(2):"--"}}],n=this.state.report.reduce((function(t,e){return t+e.amount}),0),r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.doctor_name,",").concat(p.amount.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"amount",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:n.toFixed(2)})),u.a.createElement(I.a,{loading:this.state.loading,columns:a,pagination:!1,dataSource:this.state.report}))}}]),e}(u.a.Component),ae=(u.a.Component,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(j.c)(Object(j.f)(M.Cc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(P.h)(Object(j.f)(M.Cc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Settlement",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component)),ne=(u.a.Component,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.state={advancedOptionShow:!0,paymentModeOption:[],sidePanelColSpan:4,type:"ALL",practiceDoctors:[],patientGroup:[],vendorOption:[],taxes_list:[],treatment_data:[]},Object(P.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a.loadPaymentMode=a.loadPaymentMode.bind(Object(s.a)(a)),a.loadTaxes=a.loadTaxes.bind(Object(s.a)(a)),a.loadTreatments=a.loadTreatments.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadPaymentMode(),this.loadTaxes(),this.loadTreatments()}},{key:"loadPatientGroup",value:function(){var t=this;Object(j.c)(Object(j.f)(M.rc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"loadPaymentMode",value:function(){var t=this;Object(j.c)(Object(j.f)(M.Ac,[this.props.active_practiceId]),(function(e){t.setState({paymentModeOption:e})}),(function(){}))}},{key:"loadTaxes",value:function(){var t=this;Object(j.c)(Object(j.f)(M.Fd,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}},{key:"loadTreatments",value:function(){var t=this;Object(j.c)(Object(j.f)(M.Lc,[this.props.active_practiceId]),(function(e){t.setState({treatment_data:e})}),(function(){}),{pagination:!1})}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Payments Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.j?u.a.createElement(qt,Object.assign({},this.props,this.state)):null,this.state.type==k.wb?u.a.createElement(Qt,Object.assign({},this.props,this.state)):null,this.state.type==k.ub?u.a.createElement(Xt,Object.assign({},this.props,this.state)):null,this.state.type==k.cb?u.a.createElement(Zt,Object.assign({},this.props,this.state)):null,this.state.type==k.xb?u.a.createElement($t,Object.assign({},this.props,this.state)):null,this.state.type==k.zb?u.a.createElement(te,Object.assign({},this.props,this.state)):null,this.state.type==k.yb?u.a.createElement(ee,Object.assign({},this.props,this.state)):null,this.state.type==k.Ab?u.a.createElement(ae,Object.assign({},this.props,this.state)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.j,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Payments"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.j},"All Payments"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.pb.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options"),u.a.createElement(x.a,null,this.state.type==k.yb||this.state.type==k.zb||this.state.type==k.xb?null:u.a.createElement(u.a.Fragment,null,u.a.createElement("br",null),u.a.createElement("h4",null,"Show"),u.a.createElement(B.a.Group,{style:{width:"100%",display:"inline-grid"},onChange:function(e){return t.handleChangeOption("consume",e)}},Y.Cb.map((function(t){return u.a.createElement(B.a,{value:t.value}," ",t.label)})))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Treatments"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:function(e){return t.handleChangeOption("treatments",e)}},this.state.treatment_data.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Modes"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Payment Modes",onChange:function(e){return t.handleChangeOption("payment_mode",e)}},this.state.paymentModeOption.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.mode)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Discount"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:function(e){return t.handleChangeOption("discount",e)}},Y.w.map((function(t){return u.a.createElement(f.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(e){return t.handleChangeOption("taxes",e)}},this.state.taxes_list.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Exclude Cancelled"))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options")))))}}]),e}(u.a.Component)),re=(a(354),a(357)),oe=(a(449),a(453)),ie=oe.a.Text,se=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId};a.state.doctors&&(e.doctor=a.state.doctors.toString()),e.mail_to=t,Object(P.h)(M.Cb,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,dailySummary:[],practiceDoctors:[],paidAmountForPaymentMode:{},mailingUsersList:[]},a.loadDailySummary=a.loadDailySummary.bind(Object(s.a)(a)),Object(P.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailySummary(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailySummary()}))}},{key:"loadDailySummary",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.setState({loading:!0});var a=function(t){e.setState((function(e){var a=[],n={type:"FINAL",unit_cost:0,tax_value:0,unit:1,total:0,discount_value:0,invoice:{inventory:[],prescription:[],procedure:[],payments:[]},paidAmount:0},r={};return t.current>1&&(r=Object(U.a)({},e.paidAmountForPaymentMode)),t.results.length&&t.results.forEach((function(t){t.inventory.forEach((function(e){a.push(Object(U.a)({},e,{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),t.prescription.forEach((function(e){a.push(Object(U.a)({},e,{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),t.procedure.forEach((function(e){a.push(Object(U.a)({},e,{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),n.paidAmount+=t.payments.map((function(t){return t.pay_amount})).reduce((function(t,e){return t+e}),0),t.payments.forEach((function(t){r[t.payment_mode]?r[t.payment_mode]+=t.pay_amount:r[t.payment_mode]=t.pay_amount}))})),t.count&&!t.next&&a.push(n),1==t.current?{loading:!1,dailySummary:a,nextItemPage:t.next,paidAmountForPaymentMode:r}:{loading:!1,dailySummary:[].concat(Object(at.a)(e.dailySummary),a),nextItemPage:t.next,paidAmountForPaymentMode:r}}))},n=function(){e.setState({loading:!1})},r={page:t,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.state.doctors&&(r.doctor=this.state.doctors.toString()),Object(j.c)(M.Cb,a,n,r)}},{key:"filterReport",value:function(t,e){this.setState((function(a){return Object(S.a)({},t,e)}),(function(){this.loadDailySummary()}))}},{key:"render",value:function(){var t=this,e=this,a=1,n=null,r=null,o=null,i=null,s=null,l=null,c=[{title:"S. No",key:"sno",dataIndex:"abcd",align:"center",render:function(t,e,r){var o={props:{}};return e.invoice.invoice_id==n?o.props.rowSpan=0:(n=e.invoice.invoice_id,o.children="FINAL"==e.type?"--":u.a.createElement("span",null," ",a++),o.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(o.props.rowSpan=1)),o},width:50},{title:"Patient Name",key:"patient_name",dataIndex:"invoice.patient_data.user.first_name",render:function(t,e,a){var n={props:{}};if(e.invoice.invoice_id==r)n.props.rowSpan=0;else{r=e.invoice.invoice_id;var o=e.invoice.payments.map((function(t){return t.pay_amount})).reduce((function(t,e){return t+e}),0).toFixed(2);n.children="FINAL"==e.type?"--":u.a.createElement("span",null,u.a.createElement("b",null,t," (",e.invoice.patient_data.custom_id,")"),u.a.createElement("br",null),u.a.createElement("span",null,"Invoice Income: ",u.a.createElement(ie,{type:"danger"},"INR\xa0",e.invoice.total.toFixed(2))),u.a.createElement("br",null),u.a.createElement("span",null,"Total Payment: ",u.a.createElement(ie,{type:"danger"},"INR\xa0",o)),u.a.createElement("br",null),u.a.createElement("span",null,"Amount Due: ",u.a.createElement(ie,{type:"danger"},"INR\xa0",(e.invoice.total-o).toFixed(2))),u.a.createElement("br",null)),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1)}return n}},{title:"Treatment & Products",dataIndex:"name",key:"name"},{title:"Cost (INR)",key:"unit_cost",dataIndex:"unit_cost",align:"right",render:function(t,e){return e.unit_cost?u.a.createElement("span",null,(e.unit_cost.toFixed(2)*e.unit).toFixed(2),"FINAL"==e.type?null:u.a.createElement("span",null,u.a.createElement("br",null),u.a.createElement("small",null,e.unit_cost.toFixed(2),"x",e.unit))):"--"}},{title:"Discount (INR)",key:"discount_value",dataIndex:"discount_value",align:"right",render:function(t,e){return u.a.createElement("span",null,t.toFixed(2))}},{title:"Tax",dataIndex:"tax_value",key:"taxes",align:"right",render:function(t,e){return u.a.createElement("span",null,t.toFixed(2))}},{title:"Invoice No.",key:"invoice_id",dataIndex:"invoice.invoice_id",render:function(t,e){return u.a.createElement("span",null,t,u.a.createElement("br",null),u.a.createElement("small",null,e.invoice.date))}},{title:"Invoice Cost (INR)",key:"invoice_cost",dataIndex:"total",align:"right",render:function(t,e){return u.a.createElement("span",null,t.toFixed(2))}},{title:"Receipt No",key:"payment_data.payment_id",dataIndex:"",render:function(t,e,a){var n={props:{}};return e.invoice.invoice_id==o?n.props.rowSpan=0:(o=e.invoice.invoice_id,n.children=u.a.createElement("span",null,e.invoice.payments.map((function(t){return u.a.createElement("span",null,t.payment_id,u.a.createElement("br",null))}))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1)),n}},{title:"Mode Of Payment",key:"mode_of_payments",dataIndex:"payment_mode",align:"center",render:function(t,e,a){var n={props:{}};return e.invoice.invoice_id==i?n.props.rowSpan=0:(i=e.invoice.invoice_id,n.children=u.a.createElement("span",null,e.invoice.payments.map((function(t){return u.a.createElement("span",null,t.payment_mode||"--",u.a.createElement("br",null))}))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1)),n}},{title:"Amount Paid (INR)",key:"amount_paid",dataIndex:"pay_amount",align:"right",render:function(t,e,a){var n={props:{}};return e.invoice.invoice_id==s?n.props.rowSpan=0:(s=e.invoice.invoice_id,n.children=u.a.createElement("span",null,e.invoice.payments.map((function(t){return u.a.createElement("span",null,t.pay_amount.toFixed(2)||"--",u.a.createElement("br",null))}))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1,n.children=u.a.createElement("span",null,e.paidAmount.toFixed(2)))),n}},{title:"Total Amount Paid",key:"total_amount_paid",dataIndex:"total",align:"right",render:function(t,e,a){var n={props:{}};return e.invoice.invoice_id==l?n.props.rowSpan=0:(l=e.invoice.invoice_id,n.children=u.a.createElement("span",null,e.invoice.payments.map((function(t){return u.a.createElement("b",null,t.pay_amount.toFixed(2)||"--",u.a.createElement("br",null))}))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1,n.children=u.a.createElement("span",null,e.paidAmount.toFixed(2)))),n}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Summary Report"),u.a.createElement(D.a,{bodyStyle:{padding:0},extra:u.a.createElement(u.a.Fragment,null,u.a.createElement("span",null,"Doctors :\xa0"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.filterReport("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(f.a.Option,{key:t.id,value:t.id},t.user.first_name)}))),"\xa0\xa0",u.a.createElement("span",null,"E-Mail To:\xa0",u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))},u.a.createElement(I.a,{bordered:!0,rowKey:function(t,e){return e},columns:c,dataSource:this.state.dailySummary,pagination:!1}),u.a.createElement(Rt.a,{loaderFunction:function(){return t.loadDailySummary(t.state.nextItemPage)},loading:this.state.loading,hidden:!this.state.nextItemPage}),this.state.nextItemPage?null:u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:6,style:{margin:15}},u.a.createElement("h4",null,"Amount Total by Mode of Payments"),u.a.createElement(re.a,{size:"small",dataSource:Object.keys(this.state.paidAmountForPaymentMode).map((function(t){return{payment_mode:t||"--",value:0}})),renderItem:function(t){return u.a.createElement(re.a.Item,null,u.a.createElement(re.a.Item.Meta,{title:t.payment_mode||"--"}),u.a.createElement("span",null,"INR ",e.state.paidAmountForPaymentMode[t.payment_mode].toFixed(2)))}})))))}}]),e}(u.a.Component),le=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Object(s.a)(a);a.setState({loading:!0});var n=function(t){1==t.current?e.setState({bedBookingReports:t.results,loading:!1,nextReport:t.next}):e.setState((function(e){return{bedBookingReports:[].concat(Object(at.a)(e.bedBookingReports),Object(at.a)(t.results)),loading:!1,nextReport:t.next}}))},r=function(){e.setState({loading:!1})},o={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),page:t,practice:a.props.active_practiceId};a.props.payment_status&&(o.payment_status=a.props.payment_status),a.props.type&&(o.type=a.props.type),a.props.bed_packages&&(o.bed_packages=a.props.bed_packages.join(",")),Object(j.c)(M.u,n,r,o)},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(P.h)(M.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,a){e++},width:50},{title:"Patient Name",key:"patient",dataIndex:"patient",render:function(t){return t?u.a.createElement("span",null,t.user.first_name,"\xa0(",t.custom_id,")"):null}},{title:"Package Name",key:"name",dataIndex:"bed_package.name"},{title:"Medicine Package",key:"medicine",dataIndex:"medicines",render:function(t,e){return u.a.createElement("span",null,t.map((function(t){return u.a.createElement(yt.a,null,t.name)})))}},{title:"From ",key:"from_date",render:function(t,e){return u.a.createElement("span",null,h()(e.from_date).format("LL"))}},{title:"To ",key:"to_date",render:function(t,e){return u.a.createElement("span",null,h()(e.to_date).format("LL"))}},{title:"Seat/Bed Type",key:"seat_type",dataIndex:"seat_type"},{title:"Seat Number",key:"seat_no",dataIndex:"seat_no"},{title:"Total price",key:"total_price",dataIndex:"total_price",render:function(t){return u.a.createElement("p",null,t.toFixed(2))}},{title:"Payment Status",key:"payment_status",dataIndex:"payment_status"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Seat/Bed Booking Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{hideReport:!0,pagination:!1,columns:a,dataSource:this.state.bedBookingReports}),u.a.createElement(Rt.a,{loaderFunction:function(){return t.loadBedBookingReport(t.state.nextReport)},loading:this.state.loading,hidden:!this.state.nextReport}))}}]),e}(u.a.Component),ce=(a(347),a(348)),pe=(ce.a.confirm,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=Object(s.a)(a);a.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId,report_type:a.props.report_type};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),Object(j.c)(M.u,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(P.h)(M.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("DD MMM "))},export:function(t,e){return h()(e.date).format("DD MMM ")}},{title:"Total Booking",key:"count",dataIndex:"count"},{title:"Amount (INR)",key:"amount",dataIndex:"total"}],n=this.state.bedBookingReports.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Booking Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:Object(at.a)(this.state.bedBookingReports).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Bookings",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#1DA57A",strokeWidth:4,label:u.a.createElement((function(t){var e=t.x,a=t.y,n=(t.stroke,t.value);return u.a.createElement("text",{x:e,y:a,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n)}),null)})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total Amounts",value:n||"0.00"})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.bedBookingReports}))}}]),e}(u.a.Component)),ue=(ce.a.confirm,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=Object(s.a)(a);a.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId,report_type:a.props.report_type};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),Object(j.c)(M.u,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(P.h)(M.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("MMM YYYY"))},export:function(t,e){return h()(e.date).format("MMM YYYY")}},{title:"Total Booking",key:"count",dataIndex:"count"},{title:"Amount (INR)",key:"amount",dataIndex:"total"}],n=this.state.bedBookingReports.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Booking Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(at.a)(this.state.bedBookingReports).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total Amounts",value:n||"0.00"})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.bedBookingReports}))}}]),e}(u.a.Component)),de=(ce.a.confirm,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=Object(s.a)(a);a.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),report_type:a.props.report_type,practice:a.props.active_practiceId};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),Object(j.c)(M.u,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(P.h)(M.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],activeIndex:0,mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Medicine Name",key:"name",dataIndex:"medicine"},{title:"Total Medicine",key:"count",dataIndex:"count"}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.bedBookingReports.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Medicine Usage Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.medicine,",").concat(p.count)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.bedBookingReports,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.bedBookingReports.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total Amounts",value:r})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.bedBookingReports}))}}]),e}(u.a.Component)),me=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),report_type:a.props.report_type,practice:a.props.active_practiceId};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),Object(j.c)(M.u,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(P.h)(M.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],activeIndex:0,mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Bed Package Name",key:"bed_package",dataIndex:"bed_package"},{title:"Total Bed Package",key:"count",dataIndex:"count"}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.bedBookingReports.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Bed Booking Package Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.bed_package,",").concat(p.count)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.bedBookingReports,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.bedBookingReports.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total Amounts",value:r})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.bedBookingReports}))}}]),e}(u.a.Component),he=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.loadPackages=function(){var t=Object(s.a)(a);Object(j.c)(Object(j.f)(M.v,[a.props.active_practiceId]),(function(e){t.setState({packages:e})}),(function(){}))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.state={report_type:"ALL",sidePanelColSpan:4,advancedOptionShow:!0,packages:[]},a.loadPackages=a.loadPackages.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPackages()}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Bed Booking Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.report_type==k.d?u.a.createElement(le,Object.assign({},this.props,this.state)):null,this.state.report_type==k.D?u.a.createElement(pe,Object.assign({},this.props,this.state)):null,this.state.report_type==k.eb?u.a.createElement(ue,Object.assign({},this.props,this.state)):null,this.state.report_type==k.bb?u.a.createElement(de,Object.assign({},this.props,this.state)):null,this.state.report_type==k.u?u.a.createElement(me,Object.assign({},this.props,this.state)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.d,onChange:function(e){return t.onChangeHandle("report_type",e)}},u.a.createElement("h2",null,"Bed Booking"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.d},"All Bookings"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.g.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Bed Package"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Bed Package",onChange:function(e){return t.handleChangeOption("bed_packages",e)}},this.state.packages.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Type"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select type",defaultValue:k.d,onChange:function(e){return t.handleChangeOption("type",e)}},u.a.createElement(f.a.Option,{value:""},k.d),Y.gb.map((function(t){return u.a.createElement(f.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Status"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select Payment Status",defaultValue:k.d,onChange:function(e){return t.handleChangeOption("payment_status",e)}},u.a.createElement(f.a.Option,{value:""},k.d),Y.qb.map((function(t){return u.a.createElement(f.a.Option,{value:t.value},t.label)}))))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),fe=a(380),ge=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadInventoryRetails=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.products&&(e.products=a.props.products.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.manufacturers&&(e.manufacturers=a.props.manufacturers.toString()),a.props.suppliers&&(e.suppliers=a.props.suppliers.toString()),Object(j.c)(M.Ab,(function(e){var a=[];e.forEach((function(t){var e=Object(U.a)({},t);e.profit=(t.total-t.cost-t.tax).toFixed(2),a.push(e)})),t.setState({inventoryReports:a,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={practice:Object(s.a)(a).props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.products&&(e.products=a.props.products.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.manufacturers&&(e.manufacturers=a.props.manufacturers.toString()),a.props.suppliers&&(e.suppliers=a.props.suppliers.toString()),e.mail_to=t,Object(P.h)(M.Ab,e)},a.state={inventoryReports:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadInventoryRetails=a.loadInventoryRetails.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadInventoryRetails(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.doctors==t.doctors&&this.props.manufacturers==t.manufacturers&&this.props.suppliers==t.suppliers&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadInventoryRetails()}))}},{key:"render",value:function(){for(var t=this,e=this.state.inventoryReports,a=[],n=0,r=0,o=0,i=0,s=0,l=0;l<e.length;l++)r+=e[l].cost,o+=e[l].tax,n+=e[l].total,i+=e[l].total-e[l].cost,s+=e[l].total-e[l].cost-e[l].tax;a.push({sale_amount:n,tax_amount:o,cost_amount:r,profit_before_tax:i,profit_after_tax:s});for(var c=[{title:"Total Sales (INR)",key:"sale_amount",dataIndex:"sale_amount",render:function(t,e){return u.a.createElement("span",null,e.sale_amount.toFixed(2))}},{title:"Total Cost (INR)",key:"cost_amount",dataIndex:"cost_amount",render:function(t,e){return u.a.createElement("span",null,e.cost_amount.toFixed(2))}},{title:"Total Profit before Tax(INR)",key:"tax_with_out",dataIndex:"profit_before_tax",render:function(t,e){return u.a.createElement("span",null,e.profit_before_tax.toFixed(2))}},{title:"Total Tax(INR)",key:"tax_amount",dataIndex:"tax_amount",render:function(t,e){return u.a.createElement("span",null,e.tax_amount.toFixed(2))}},{title:"Total Profit after Tax(INR)",key:"tax_with",dataIndex:"profit_after_tax",render:function(t,e){return u.a.createElement("span",null,e.profit_after_tax.toFixed(2))}}],p=this.state.inventoryReports,d=[],m=1;m<=p.length;m++)d.push(Object(U.a)({s_no:m},p[m-1]));var g=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("YYYY-MM-DD"))}},{title:"Sales (INR)",key:"sale_amount",dataIndex:"total",render:function(t,e){return u.a.createElement("span",null,e.total.toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Profit before Tax(INR)",key:"tax_with_out",render:function(t,e){return u.a.createElement("span",null,(e.total-e.cost).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}},{title:"Profit after Tax(INR)",key:"tax_with",render:function(t,e){return u.a.createElement("span",null,(e.total-e.cost-e.tax).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Profit Loss",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:this.state.loading},d.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:d,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Sales Profit",angle:-90,position:"insideLeft"}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"profit",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(I.a,{loading:this.state.loading,columns:c,pagination:!1,dataSource:a}),u.a.createElement(I.a,{loading:this.state.loading,columns:g,pagination:!1,dataSource:d}))}}]),e}(u.a.Component),Ee=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.state={sidePanelColSpan:4,startDate:a.props.startDate,endDate:a.props.endDate,advancedOptionShow:!0,manufacturesOption:[],productsOption:[],suppliersOption:[],practiceDoctors:[],patientGroup:[]},a.loadManufactures=a.loadManufactures.bind(Object(s.a)(a)),a.loadProducts=a.loadProducts.bind(Object(s.a)(a)),a.loadSuppliers=a.loadSuppliers.bind(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),Object(P.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadManufactures(),this.loadProducts(),this.loadSuppliers(),this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var t=this;Object(j.c)(Object(j.f)(M.rc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"loadManufactures",value:function(){var t=this;Object(j.c)(M.Sb,(function(e){t.setState({manufacturesOption:e})}),(function(){}))}},{key:"loadSuppliers",value:function(){var t=this,e={practice:this.props.active_practiceId};Object(j.c)(M.Ed,(function(e){t.setState({suppliersOption:e})}),(function(){}),e)}},{key:"loadProducts",value:function(){var t=this,e={practice:this.props.active_practiceId};Object(j.c)(M.Mc,(function(e){t.setState({productsOption:e})}),(function(){}),e)}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},u.a.createElement(ge,Object.assign({},this.state,this.props))),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.d},u.a.createElement("h2",null,"Inventory Retails"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.d},"Profit Loss"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports")),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Products"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select Products",onChange:function(e){return t.handleChangeOption("products",e)}},this.state.productsOption.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Manufactures"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Manufacturers",onChange:function(e){return t.handleChangeOption("manufacturers",e)}},this.state.manufacturesOption.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Suppliers"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Suppliers",onChange:function(e){return t.handleChangeOption("suppliers",e)}},this.state.suppliersOption.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),ye=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={practice:Object(s.a)(a).props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.agents&&(e.agents=a.props.agents.toString()),e.mail_to=t,Object(P.h)(M.fc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMlmReport(),Object(P.e)(this)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this;this.props.startDate===t.startDate&&this.props.endDate===t.endDate&&this.props.agents===t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var t=this;this.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.agents&&(e.agents=this.props.agents.toString()),Object(j.c)(M.fc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=a.reduce((function(t,e){return t+e.total}),0),o=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Margin Type wise",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},a.length>0&&r?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=Math.sin(-e*r),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.margin,",").concat(p.total)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},a.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(G.a,{loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",key:"name",dataIndex:"margin"},{title:"Total Amount",key:"amount",dataIndex:"total"}],dataSource:a}))}}]),e}(u.a.Component),ve=oe.a.Text,De=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={practice:Object(s.a)(a).props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:"TRANSFER"};a.props.agents&&(e.agents=a.props.agents.toString()),e.mail_to=t,Object(P.h)(M.fc,e)},a.state={report:[],reportSummary:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMlmReport(),Object(P.e)(this)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this;this.props.startDate===t.startDate&&this.props.endDate===t.endDate&&this.props.agents===t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var t=this;this.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:"TRANSFER"};this.props.agents&&(e.agents=this.props.agents.toString()),Object(j.c)(M.fc,(function(e){t.setState({report:e.data,reportSummary:e.summary,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",dataIndex:"created_at",key:"created_at",render:function(t,e){return u.a.createElement("span",null,h()(e.schedule_at).format("LLL")," ")},export:function(t,e){return h()(e.schedule_at).format("LLL")}},{title:"Agent Name",dataIndex:"patient.user.first_name",key:"name",export:function(t,e){return e.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},export:function(t,e){return e.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},export:function(t,e){return e.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(t,e){return e.patient.gender}},{title:"Amount (INR)",dataIndex:"amount",key:"amount",render:function(t,e){return e.is_cancelled?u.a.createElement(ve,{delete:!0},t):t}},{title:"Amount Type",dataIndex:"amount_type",key:"amount_type"},{title:"Cr/Dr",dataIndex:"ledger_type",key:"ledger_type",render:function(t,e){return e.is_cancelled?u.a.createElement(ve,{delete:!0},t):t}},{title:"Margin",key:"mlm",dataIndex:"mlm"},{title:"Ledger Comment",dataIndex:"comments",key:"comments"}],i=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"ALl MLM",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:this.state.loading},this.state.reportSummary.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=Math.sin(-e*r),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.ledger_type,",").concat(p.total)),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.reportSummary,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.reportSummary.map((function(t,e){return u.a.createElement(L.c,{fill:i[e%i.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component),be=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={practice:Object(s.a)(a).props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.agents&&(e.agents=a.props.agents.toString()),e.mail_to=t,Object(P.h)(M.ec,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMlmReport(),Object(P.e)(this)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this;this.props.startDate===t.startDate&&this.props.endDate===t.endDate&&this.props.agents===t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var t=this;this.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.agents&&(e.agents=this.props.agents.toString()),Object(j.c)(M.ec,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Object(U.a)({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Agent Name",dataIndex:"patient.user.first_name",key:"name",export:function(t,e){return e.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object($.b)(t)},export:function(t,e){return e.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object($.a)(t)},export:function(t,e){return e.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(t,e){return e.patient.gender}},{title:"Refundable Amount",dataIndex:"refundable_amount",key:"refundable_amount",render:function(t,e){return u.a.createElement("span",null,e.refundable_amount?e.refundable_amount.toFixed(2):"0.00")}},{title:"Non Refundable Amount",dataIndex:"non_refundable",key:"non_refundable",render:function(t,e){return u.a.createElement("span",null,e.non_refundable?e.non_refundable.toFixed(2):"0.00")}}],i=this.state.report.reduce((function(t,e){return t+e.refundable_amount}),0),s=this.state.report.reduce((function(t,e){return t+e.non_refundable}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Wallet Balance Amount",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:12},u.a.createElement(R.a,{title:"Total Refundable Amount(INR)",value:i?i.toFixed(2):"0.00"})),u.a.createElement(x.a,{span:12},u.a.createElement(R.a,{title:"Total Non Refundable Amount(INR)",value:s?s.toFixed(2):"0.00"}))))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component),_e=(u.a.Component,a(330),a(12)),xe=(a(375),a(376)),Oe=a(1224),Se=a.n(Oe),Me=(a(1225),D.a.Meta,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).state={agentData:{},agentTreeData:{},loading:!1},a.loadAgentTree=a.loadAgentTree.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.props.agent&&this.loadAgentTree()}},{key:"componentWillReceiveProps",value:function(t){this.props.agent!=t.agent&&this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.props.agent&&this.loadAgentTree()}))}},{key:"loadAgentTree",value:function(){var t=this;t.setState({loading:!0});Object(j.c)(Object(j.f)(M.f,[t.props.agent]),(function(e){t.setState({agentData:e,loading:!1},(function(){t.setState({agentTreeData:this.general_list(0,e[0][0]),loading:!1})}))}),(function(){t.setState({loading:!1})}))}},{key:"ref_data_level",value:function(t,e){var a=this.state.agentData;return a[e.toString()]?a[e.toString()].filter((function(e){return e.user.referer==t})):[]}},{key:"general_list",value:function(t,e){var a=this.ref_data_level(e.user.id,t+1);for(var n in a)a[n]=this.general_list(t+1,a[n]);return e.children=a,e}},{key:"render",value:function(){return u.a.createElement("div",{style:{background:"#f0f2f5",paddingBottom:"20px"}},u.a.createElement("h2",{style:{padding:"10px"}},"Agent Tree"),u.a.createElement("div",{style:{width:"100%",overflowX:"scroll"}},u.a.createElement(Se.a,{tree:this.state.agentTreeData,NodeComponent:Ye})))}}]),e}(u.a.Component)),Ye=function(t){var e=t.node;return u.a.createElement("div",null,e.user?u.a.createElement(u.a.Fragment,null,u.a.createElement(D.a,{style:{margin:"auto",height:160,width:160},bodyStyle:{padding:5,overflow:"hidden"},hoverable:!0},u.a.createElement(b.a,null,u.a.createElement(x.a,{span:24},e.image?u.a.createElement(xe.a,{src:Object(j.g)(e.image),size:50}):u.a.createElement(xe.a,{style:{backgroundColor:"#87d068"},size:50},e.user.first_name?e.user.first_name.charAt(0):u.a.createElement(_e.a,{type:"user"}))),u.a.createElement(x.a,{span:24},e.user.first_name),u.a.createElement(x.a,{span:24},u.a.createElement("span",null,e.is_approved?u.a.createElement(yt.a,{color:"#87d068"},"Approved"):u.a.createElement(yt.a,{color:"#f50"},"Not Approved"),u.a.createElement("br",null),e.user.mobile,u.a.createElement("br",null),e.user.email))))):null)},je=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.state={type:"ALL",sidePanelColSpan:4,advancedOptionShow:!0,agentsOption:[]},a.loadAgents=a.loadAgents.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAgents()}},{key:"loadAgents",value:function(){var t=this,e={agent:!0,practice:this.props.active_practiceId,type:this.props.type};Object(j.c)(M.jc,(function(e){t.setState({agentsOption:e.results})}),(function(){}),e)}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"MLM Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.d?u.a.createElement(De,Object.assign({},this.state,this.props)):null,this.state.type==k.Z?u.a.createElement(ye,Object.assign({},this.props,this.state)):null,this.state.type==k.c?u.a.createElement(Me,Object.assign({},this.props,this.state)):null,this.state.type==k.ac?u.a.createElement(be,Object.assign({},this.props,this.state)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.d,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"MLM"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.d},"All MLM"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.eb.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==k.c?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Agents"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select Agents",showSearch:!0,optionFilterProp:"children",onChange:function(e){return t.handleChangeOption("agent",e)}},this.state.agentsOption.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")):u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Agents"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Agents",showSearch:!0,optionFilterProp:"children",onChange:function(e){return t.handleChangeOption("agents",e)}},this.state.agentsOption.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options "))))))}}]),e}(u.a.Component),ke=(a(38),function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadSuggestionsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.status&&(e.status=a.props.status.toString()),Object(j.c)(M.Dd,(function(e){t.setState({report:e.results,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){Object(s.a)(a);var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.status&&(e.status=a.props.status.toString()),e.mail_to=t,Object(P.h)(M.Dd,e,!0,!0)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadSuggestionsReport=a.loadSuggestionsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadSuggestionsReport(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.status==t.status||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadSuggestionsReport()}))}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(Object(U.a)({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.created_at).format("DD MMM YYYY"))},export:function(t,e){return h()(e.created_at).format("DD MMM YYYY")}},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",key:"email",dataIndex:"email"},{title:"Mobile",ket:"mobile",dataIndex:"mobile"},{title:"Subject",key:"subject",dataIndex:"subject"},{title:"Description",key:"description",dataIndex:"description"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Suggestions",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(R.a,{title:"Total Suggestions",value:a.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component)),Ie=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({is_complete:!a.state.is_complete})},a.state={type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0},a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Suggestions Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.d?u.a.createElement(ke,Object.assign({},this.state,this.props)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.d,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Suggestions"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.d},"All Suggestions"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"))))))}}]),e}(u.a.Component),Re=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(P.h)(M.Sc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadReturnInvoice=a.loadReturnInvoice.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadReturnInvoice(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReturnInvoice()}))}},{key:"loadReturnInvoice",value:function(){var t=this;this.startLoading();var e=this.state,a=e.startDate,n=e.endDate,r=this.props,o=r.active_practiceId,i=r.type,s=r.exclude_cancelled,l=r.patient_groups,c=r.doctors,p=r.income_type,u=r.taxes,d=r.discount,m=r.products,h=r.treatments,f={practice:o,type:i,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!s};l&&(f.groups=l.toString()),c&&(f.doctors=c.toString()),p&&(f.income_type=p),h&&(f.treatments=h.toString()),d&&(f.discount=d),u&&(f.taxes=u.toString()),m&&(f.products=m.toString());Object(j.c)(M.Sc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),f)}},{key:"render",value:function(){for(var t=this,e=this.state,a=e.report,n=e.loading,r=[],o=1;o<=a.length;o++)r.push(Object(U.a)({s_no:o},a[o-1]));var i=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e){return u.a.createElement("span",null," ",e.s_no)},width:50},{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"date"))}},{title:"Patient Name",key:"patientName",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"patient_data.user.first_name"))}},{title:"Patient Id",key:"patient_id",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"patient_data.custom_id"))}},{title:"Return Id",key:"return_id",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"return_id"))}},{title:"Return By",key:"returnBy",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"staff_data.user.first_name"))}},{title:"Total Amount",key:"total",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"total",0).toFixed(2))}},{title:"Return Amount",key:"return_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"return_value",0).toFixed(2))}},{title:"Cash Return Amount",key:"cash_return",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"cash_return",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Returned Invoices",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(I.a,{loading:n,rowKey:function(t){return t.s_no},pagination:!1,columns:i,expandedRowRender:function(t){return u.a.createElement(Pe,{record:[].concat(Object(at.a)(t.inventory),Object(at.a)(t.procedure))})},dataSource:r}))}}]),e}(u.a.Component);function Pe(t){var e=[{title:"Treatment & Products",key:"name",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"name"))}},{title:"Cost",key:"cost",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"unit_cost",0).toFixed(2))}},{title:"Unit",key:"unit",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"unit"))}},{title:"Discount",key:"discount",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"tax_value",0).toFixed(2))}},{title:"Total",key:"total",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"total",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement(I.a,{columns:e,dataSource:Jt.get(t,"record"),pagination:!1}))}var Ce=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadMonthlyInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,E={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(E.groups=p.toString()),u&&(E.doctors=u.toString()),d&&(E.income_type=d),g&&(E.treatments=g.toString()),h&&(E.discount=h),m&&(E.taxes=m.toString()),f&&(E.products=f.toString());Object(j.c)(M.Sc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),E)},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(P.h)(M.Sc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyInvoiceReturn=a.loadMonthlyInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMonthlyInvoiceReturn(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyInvoiceReturn()}))}},{key:"render",value:function(){for(var t=this,e=this.state,a=e.report,n=e.loading,r=[],o=1;o<=a.length;o++)r.push(Object(U.a)({s_no:o},a[o-1]));var i=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("MM YYYY"))},export:function(t,e){return h()(e.date).format("MM YYYY")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly wise Return Invoice",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:n},r.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:r,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("MM YYYY")}}),u.a.createElement(L.o,{label:{value:"Return Invoice(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3"})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:n,columns:i,dataSource:r}))}}]),e}(u.a.Component),Ae=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachProcedureInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,E={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(E.groups=p.toString()),u&&(E.doctors=u.toString()),d&&(E.income_type=d),g&&(E.treatments=g.toString()),h&&(E.discount=h),m&&(E.taxes=m.toString()),f&&(E.products=f.toString());Object(j.c)(M.Sc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),E)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(P.h)(M.Sc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachProcedureInvoiceReturn=a.loadEachProcedureInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachProcedureInvoiceReturn(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProcedureInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.loading,n=e.report,r=e.activeIndex,o=["#00C49F","#0088FE","#FFBB28","#FF8042"],i=n.reduce((function(t,e){return t+e.cost}),0),s=[{title:"Name",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Procedures",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:a},n.length>0?u.a.createElement(L.j,{width:1e3,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,",").concat(p.cost.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:n,cx:400,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},n.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:i.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:s,dataSource:n}))}}]),e}(u.a.Component),we=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachProductInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,E={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(E.groups=p.toString()),u&&(E.doctors=u.toString()),d&&(E.income_type=d),g&&(E.treatments=g.toString()),h&&(E.discount=h),m&&(E.taxes=m.toString()),f&&(E.products=f.toString());Object(j.c)(M.Sc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),E)},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(P.h)(M.Sc,g)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachProductInvoiceReturn=a.loadEachProductInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachProductInvoiceReturn(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProductInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.loading,n=e.report,r=e.activeIndex,o=["#0088FE","#00C49F","#FFBB28","#FF8042"],i=n.reduce((function(t,e){return t+e.cost}),0),s=[{title:"Name",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Products",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:a},n.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,",").concat(p.cost.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:n,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},n.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:i.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:s,dataSource:n}))}}]),e}(u.a.Component),Fe=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachDoctorInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,E={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(E.groups=p.toString()),u&&(E.doctors=u.toString()),d&&(E.income_type=d),g&&(E.treatments=g.toString()),h&&(E.discount=h),m&&(E.taxes=m.toString()),f&&(E.products=f.toString());Object(j.c)(M.Sc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),E)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(P.h)(M.Sc,g)},a.state={report:[],practiceDoctors:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachDoctorInvoiceReturn=a.loadEachDoctorInvoiceReturn.bind(Object(s.a)(a)),Object(P.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachDoctorInvoiceReturn(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachDoctorInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=e.activeIndex,o=e.practiceDoctors,i=["#0088FE","#00C49F","#FFBB28","#FF8042"],s=a.reduce((function(t,e){return t+e.cost}),0),l=[{title:"Doctor",key:"doctor",dataIndex:"doctor",render:function(t,e){return u.a.createElement("span",null,"NA"==e.doctor?u.a.createElement("span",null,"No Doctor assigned"):u.a.createElement(u.a.Fragment,null,o.map((function(t){return t.id==e.doctor?u.a.createElement("span",null,t.user.first_name):null}))))}},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Doctors",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,h=(t.value,Math.sin(-e*r)),f=Math.cos(-e*r),g=a+(s+10)*f,E=n+(s+10)*h,y=a+(s+30)*f,v=n+(s+30)*h,D=y+22*(f>=0?1:-1),b=v,_=f>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c,fill:p}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:s+6,outerRadius:s+10,fill:p}),u.a.createElement("path",{d:"M".concat(g,",").concat(E,"L").concat(y,",").concat(v,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),u.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),u.a.createElement("text",{x:D+12*(f>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"NA"==d.doctor?"No Doctor assigned":u.a.createElement(u.a.Fragment,null,o.map((function(t){return t.id==d.doctor?u.a.createElement(u.a.Fragment,null,t.user.first_name):null})))),u.a.createElement("text",{x:D+12*(f>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:a,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:i[e%i.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:s.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:l,dataSource:a}))}}]),e}(u.a.Component),Le=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachPatientGroupInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,E={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(E.groups=p.toString()),u&&(E.doctors=u.toString()),d&&(E.income_type=d),g&&(E.treatments=g.toString()),h&&(E.discount=h),m&&(E.taxes=m.toString()),f&&(E.products=f.toString());Object(j.c)(M.Sc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),E)},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(P.h)(M.Sc,g)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachPatientGroupInvoiceReturn=a.loadEachPatientGroupInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachPatientGroupInvoiceReturn(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachPatientGroupInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=e.activeIndex,o=["#00C49F","#0088FE","#00C49F","#FFBB28","#FF8042"],i=a.reduce((function(t,e){return t+e.cost}),0),s=[{title:"Patient Group",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Patient Groups",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,",").concat(p.cost.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:i.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:s,dataSource:a}))}}]),e}(u.a.Component),Te=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachTaxInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,E={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(E.groups=p.toString()),u&&(E.doctors=u.toString()),d&&(E.income_type=d),g&&(E.treatments=g.toString()),h&&(E.discount=h),m&&(E.taxes=m.toString()),f&&(E.products=f.toString());Object(j.c)(M.Sc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),E)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(P.h)(M.Sc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachTaxInvoiceReturn=a.loadEachTaxInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachTaxInvoiceReturn(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachTaxInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=e.activeIndex,o=["#0088FE","#00C49F","#FFBB28","#FF8042"],i=[{title:"Tax",key:"name",dataIndex:"name"},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"tax_value",0).toFixed(2))}},{title:"Total",key:"total",dataIndex:"total",render:function(t,e){return u.a.createElement("span",null,Jt.get(e,"total",0).toFixed(2))}}],s=a.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Taxes",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,null,u.a.createElement(x.a,{span:12,offset:6},u.a.createElement(w.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,E=a+(i+30)*h,y=n+(i+30)*m,v=E+22*(h>=0?1:-1),D=y,b=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(E,",").concat(y,"L").concat(v,",").concat(D),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(p.name,",").concat(p.total.toFixed(2))),u.a.createElement("text",{x:v+12*(h>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,null,u.a.createElement(R.a,{title:"Total",value:s.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:i,dataSource:a}))}}]),e}(u.a.Component),Ne=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadDailyInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,E={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(E.groups=p.toString()),u&&(E.doctors=u.toString()),d&&(E.income_type=d),g&&(E.treatments=g.toString()),h&&(E.discount=h),m&&(E.taxes=m.toString()),f&&(E.products=f.toString());Object(j.c)(M.Sc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),E)},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(P.h)(M.Sc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyInvoiceReturn=a.loadDailyInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyInvoiceReturn(),Object(P.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInvoiceReturn()}))}},{key:"render",value:function(){for(var t=this,e=this.state,a=e.report,n=e.loading,r=[],o=1;o<=a.length;o++)r.push(Object(U.a)({s_no:o},a[o-1]));var i=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,h()(e.date).format("ll"))},export:function(t,e){return h()(e.date).format("ll")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily wise Return Invoice",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(f.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(f.a.Option,{value:t.email},t.name)})))))),u.a.createElement(w.a,{size:"large",spinning:n},r.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:r,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return h()(t).format("ll")}}),u.a.createElement(L.o,{label:{value:"Return Invoice(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3"},u.a.createElement(L.e,{dataKey:"cost"}))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:n,columns:i,dataSource:r}))}}]),e}(u.a.Component),Be=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(S.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){a.setState(Object(S.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.state={type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,patientGroup:[],practiceDoctors:[],taxes_list:[],productItems:[],treatment_data:[]},Object(P.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadTaxes(),this.loadProductItem(),this.loadTreatments()}},{key:"loadPatientGroup",value:function(){var t=this;Object(j.c)(Object(j.f)(M.rc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"loadTaxes",value:function(){var t=this;Object(j.c)(Object(j.f)(M.Fd,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}},{key:"loadProductItem",value:function(){var t=this;Object(j.c)(M.Mc,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"loadTreatments",value:function(){var t=this;Object(j.c)(Object(j.f)(M.Lc,[this.props.active_practiceId]),(function(e){t.setState({treatment_data:e})}),(function(){}),{pagination:!1})}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice Report ",u.a.createElement(O.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(D.a,null,u.a.createElement(b.a,{gutter:16},u.a.createElement(x.a,{span:24-this.state.sidePanelColSpan},this.state.type==k.i?u.a.createElement(Re,Object.assign({},this.props,this.state)):null,this.state.type==k.J?u.a.createElement(Ne,Object.assign({},this.props,this.state)):null,this.state.type==k.kb?u.a.createElement(Ce,Object.assign({},this.props,this.state)):null,this.state.type==k.Jb?u.a.createElement(Ae,Object.assign({},this.props,this.state)):null,this.state.type==k.Kb?u.a.createElement(we,Object.assign({},this.props,this.state)):null,this.state.type==k.Hb?u.a.createElement(Fe,Object.assign({},this.state,this.props)):null,this.state.type==k.Ib?u.a.createElement(Le,Object.assign({},this.state,this.props)):null,this.state.type==k.Lb?u.a.createElement(Te,Object.assign({},this.state,this.props)):null),u.a.createElement(x.a,{span:this.state.sidePanelColSpan},u.a.createElement(_.a.Group,{buttonStyle:"solid",defaultValue:k.i,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Invoice Returns"),u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:k.d},"All Returned Invoices"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),Y.ab.map((function(t){return u.a.createElement(_.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(x.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Income Type"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select Income Type",onChange:function(e){return t.handleChangeOption("income_type",e)}},Y.V.map((function(t){return u.a.createElement(f.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(e){return t.handleChangeOption("taxes",e)}},this.state.taxes_list.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Discount"),u.a.createElement(f.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:function(e){return t.handleChangeOption("discount",e)}},Y.w.map((function(t){return u.a.createElement(f.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Products",onChange:function(e){return t.handleChangeOption("products",e)}},this.state.productItems.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Treatments"),u.a.createElement(f.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:function(e){return t.handleChangeOption("treatments",e)}},this.state.treatment_data.map((function(t){return u.a.createElement(f.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Exclude Cancelled"))):u.a.createElement(O.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),Ue=c.a.Content,Ge=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).state={startDate:h()(),endDate:h()(),active_practiceId:a.props.active_practiceId},a.reportsDateRange=a.reportsDateRange.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"reportsDateRange",value:function(t){this.setState({startDate:h()(t[0],"DD/MM/YYYY"),endDate:h()(t[1],"DD/MM/YYYY")})}},{key:"render",value:function(){var t=this,e=this;return u.a.createElement(c.a,null,u.a.createElement(v,Object.assign({reportsDateRange:this.reportsDateRange},this.props)),u.a.createElement(Ue,{style:{margin:"16px"}},u.a.createElement(d.d,null,u.a.createElement(d.b,{exact:!0,path:"/reports/amountdue",render:function(a){return e.props.activePracticePermissions.ReportsAmountDue||e.props.allowAllPermissions?u.a.createElement(N,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/emr",render:function(a){return e.props.activePracticePermissions.ReportsEMR||e.props.allowAllPermissions?u.a.createElement(lt,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/expenses",render:function(a){return e.props.activePracticePermissions.ReportsExpenses||e.props.allowAllPermissions?u.a.createElement(Et,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/income",render:function(a){return e.props.activePracticePermissions.ReportsIncome||e.props.allowAllPermissions?u.a.createElement(Yt,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/inventory",render:function(a){return e.props.activePracticePermissions.ReportsInventory||e.props.allowAllPermissions?u.a.createElement(Lt,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/inventoryretails",render:function(a){return e.props.activePracticePermissions.ReportsInventoryRetail||e.props.allowAllPermissions?u.a.createElement(Ee,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/patients",render:function(a){return e.props.activePracticePermissions.ReportsPatients||e.props.allowAllPermissions?u.a.createElement(Vt,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/payments",render:function(a){return e.props.activePracticePermissions.ReportsPayments||e.props.allowAllPermissions?u.a.createElement(ne,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/summary",render:function(a){return e.props.activePracticePermissions.ReportsDailySummary||e.props.allowAllPermissions?u.a.createElement(se,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/bed_booking",render:function(a){return e.props.activePracticePermissions.ReportsBedBooking||e.props.allowAllPermissions?u.a.createElement(he,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/mlm",render:function(a){return e.props.activePracticePermissions.ReportsMLMReport||e.props.allowAllPermissions?u.a.createElement(je,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/invoice-return",render:function(a){return e.props.activePracticePermissions.ReportsMLMReport||e.props.allowAllPermissions?u.a.createElement(Be,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{exact:!0,path:"/reports/suggestions",render:function(a){return e.props.activePracticePermissions.ReportsSuggestions||e.props.allowAllPermissions?u.a.createElement(Ie,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}),u.a.createElement(d.b,{render:function(a){return e.props.activePracticePermissions.ReportsAppointments||e.props.allowAllPermissions?u.a.createElement(et,Object.assign({},t.props,t.state,a)):u.a.createElement(fe.a,null)}}))))}}]),e}(u.a.Component);e.default=Ge},331:function(t,e,a){"use strict";a(335);var n=a(336),r=(a(350),a(351)),o=(a(119),a(34)),i=(a(121),a(15)),s=a(21),l=(a(330),a(12)),c=(a(180),a(120)),p=(a(339),a(342)),u=a(62),d=a(61),m=a(64),h=a(63),f=a(18),g=a(65),E=a(0),y=a.n(E),v=a(322),D=a.n(v),b=a(498),_=a.n(b),x=(a(361),a(448)),O=a.n(x),S=(a(499),function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",r=[];return a&&(t.forEach((function(t){r.push(t)})),n+=r.join(","),n+="\r\n"),e.forEach((function(e){r=[],t.forEach((function(t){e[t]?r.push(e[t]):r.push("--")})),n+=r.join(","),n+="\r\n"})),n}),M=function(t,e){var a,n="".concat(e,".csv"),r=[];r.push(255,254);for(var o=0;o<t.length;++o)a=t.charCodeAt(o),r.push(255&a),r.push(a/256>>>0);var i=new Blob([new Uint8Array(r)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(i,n);else{var s=document.createElement("a");if(void 0!==s.download){var l=window.URL.createObjectURL(i);s.setAttribute("href",l),s.setAttribute("download",n),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(l)}}};function Y(t){t.line(10,20,200,20)}function j(t){t.line(10,270,200,270),t.setFontSize(8),t.text(10,275,"This is a computer generated report.")}a(16),a(35),a(325);a.d(e,"a",(function(){return k}));var k=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).getColumnSearchProps=function(t){return{filterDropdown:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,i=e.clearFilters;return y.a.createElement("div",{style:{padding:8}},y.a.createElement(p.a,{ref:function(t){a.searchInput=t},placeholder:"Search ".concat(t),value:r[0],onChange:function(t){return n(t.target.value?[t.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,o)},style:{width:188,marginBottom:8,display:"block"}}),y.a.createElement(c.a,{type:"primary",onClick:function(){return a.handleSearch(r,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),y.a.createElement(c.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(t){return y.a.createElement(l.a,{type:"search",style:{color:t?"#1890ff":void 0}})},onFilter:function(e,a){return null!=a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return y.a.createElement(_.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t?t.toString():""})}}},a.handleSearch=function(t,e){e(),a.setState({searchText:t[0]})},a.handleReset=function(t){t(),a.setState({searchText:""})},a.state=Object(s.a)({},t,{searchText:""}),a.excelExport=a.excelExport.bind(Object(f.a)(a)),a.pdfExport=a.pdfExport.bind(Object(f.a)(a)),a}return Object(g.a)(e,t),Object(d.a)(e,[{key:"componentWillReceiveProps",value:function(t){t.columns==this.state.columns&&t.dataSource==this.state.dataSource&&t.loading==this.state.loading||this.setState(Object(s.a)({},t))}},{key:"pdfExport",value:function(){var t=this,e=[];t.state.columns.forEach((function(t){t.hideExport||e.push({title:t.title,dataKey:t.title})}));var a=[];t.state.dataSource.forEach((function(e,n){var r={};t.state.columns.forEach((function(t){t.export?r[t.title]=t.export(e[t.dataIndex],e,n):r[t.title]=e[t.dataIndex]})),a.push(r)})),function(t,e,a){!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var n=new O.a("p","mm","a4");Y(n);var r=Object.create(e);n.autoTable(t,r,{margin:{top:35},startY:n.autoTableEndPosY()+20,headerStyle:{overflow:"linebreak"},bodyStyles:{overflow:"linebreak"}}),j(n),n.save("".concat(a,".pdf"))}(e,a,"Export".concat(D()()),!0)}},{key:"excelExport",value:function(){var t=this,e=[];t.state.columns.forEach((function(t){t.hideExport||e.push(t.title)}));var a=[];t.state.dataSource.forEach((function(e,n){var r={};t.state.columns.forEach((function(t){t.export?r[t.title]=t.export(e[t.dataIndex],e,n):r[t.title]=e[t.dataIndex]})),a.push(r)})),function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"download",n=S(t,e);M(n,a)}(e,a,"Export".concat(D()()))}},{key:"render",value:function(){var t=this,e=this.state.columns.map((function(e){return e.render?Object(s.a)({},e):Object(s.a)({},e,{},t.getColumnSearchProps(e.dataIndex))}));return y.a.createElement("div",null,this.props.hideReport?null:y.a.createElement(o.a,null,y.a.createElement(i.a,null,y.a.createElement(c.a.Group,{size:"small"},y.a.createElement(c.a,{disabled:this.state.loading,type:"primary",onClick:this.excelExport},y.a.createElement(l.a,{type:"file-excel"})," Excel"),y.a.createElement(c.a,{disabled:this.state.loading,type:"primary",onClick:this.pdfExport},y.a.createElement(l.a,{type:"file-pdf"})," PDF")))),y.a.createElement(o.a,null,y.a.createElement(n.a,Object.assign({pagination:{position:"both",pageSizeOptions:["10","20","30","40","50","100"],showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:function(t,e){return y.a.createElement(r.a,null,"Showing ",y.a.createElement("b",null,e[0])," to ",y.a.createElement("b",null,e[1])," of ",y.a.createElement("b",null,t)," items")}}},this.state,{columns:e}))))}}]),e}(y.a.Component)},349:function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));a(180);var n=a(120),r=(a(332),a(333)),o=(a(119),a(34)),i=a(62),s=a(61),l=a(64),c=a(63),p=a(18),u=a(65),d=a(0),m=a.n(d),h=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).startLoading=function(){a.props.loaderFunction&&(a.props.loaderFunction(),a.startMakingExtraLabels())},a.startMakingExtraLabels=function(){var t=Object(p.a)(a);a.setState((function(t){return t.extraLoadingLabel.length>2?{extraLoadingLabel:""}:{extraLoadingLabel:"".concat(t.extraLoadingLabel,".")}}),(function(){t.props.loading&&setTimeout((function(){t.startMakingExtraLabels()}),500)}))},a.state={extraLoadingLabel:""},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return this.props.loading?m.a.createElement(r.a,{spinning:this.props.loading},m.a.createElement(o.a,{style:{minHeight:200}})):this.props.hidden?m.a.createElement(o.a,null,m.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},m.a.createElement("small",null,"No More Data Found"))):m.a.createElement(o.a,null,m.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},m.a.createElement(n.a,{type:"primary",onClick:this.startLoading,loading:this.props.loading},this.props.loading?"Loading".concat(this.state.extraLoadingLabel):"Load More")))}}]),e}(m.a.Component)}}]);
//# sourceMappingURL=15.aeaab6bd.chunk.js.map