(this["webpackJsonpbk-erp-front"]=this["webpackJsonpbk-erp-front"]||[]).push([[19],{1255:function(e,t,a){"use strict";a.r(t);var n=a(95),i=a(94),l=a(97),s=a(96),r=a(98),c=(a(135),a(99)),o=a(0),d=a.n(o),u=a(25),m=(a(259),a(260)),p=(a(226),a(227)),h=(a(236),a(237)),f=(a(289),a(290)),b=(a(247),a(248)),g=(a(229),a(228)),y=(a(242),a(19)),E=(a(256),a(257)),_=(a(238),a(239)),v=a(24),O=(a(231),a(232)),j=a(64),k=a(34),S=a(23),P=(O.a.Meta,function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).showModal=function(e){a.setState((function(){return{visible:!0,practice:e}}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={practiceList:[],specialisations:null,loading:!0,visible:!1,practice:{}},a.deletePractice=a.deletePractice.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.admin_practiceData()}},{key:"admin_practiceData",value:function(){var e=this;Object(S.c)(k.k,(function(t){var a={};t[0].specialisations.forEach((function(e){a[e.id]=e})),console.log(a),e.setState({practiceList:t,specialisations:a,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"deletePractice",value:function(e){var t=this;Object(S.j)(Object(S.f)(k.Fc,[e]),{},(function(e){console.log("data"),t.admin_practiceData(),t.props.refreshClinicData&&t.props.refreshClinicData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"name",key:"name",render:function(t,a){return d.a.createElement("a",{href:"#",onClick:function(){return e.showModal(a)}},t)}},{title:"Tagline",dataIndex:"tagline",key:"tagline"},{title:"Address",dataIndex:"address",key:"address"},{title:"Specialisation",key:"specialisation",dataIndex:"specialisation"},{title:"SMS Language",dataIndex:"language",key:"language"},{title:"Action",key:"action",render:function(a,n){return d.a.createElement("span",null,d.a.createElement(j.b,{to:"/settings/clinics/".concat(n.id,"/edit")},"Edit"),d.a.createElement(_.a,{type:"vertical"}),t.props.practiceList.length>1?d.a.createElement(E.a,{title:"Are you sure delete this Practice?",onConfirm:function(){return e.deletePractice(n.id)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")):null)}}];return d.a.createElement(p.a,null,d.a.createElement("h2",null,"Practice Details",d.a.createElement(j.b,{to:"/settings/clinics/add"},d.a.createElement(g.a,{type:"primary",style:{float:"right"}},d.a.createElement(y.a,{type:"plus"}),"\xa0Add"))),d.a.createElement(O.a,{loading:this.state.loading},d.a.createElement(b.a,{pagination:!1,columns:a,dataSource:this.state.practiceList})),d.a.createElement(m.a,{visible:this.state.visible,closable:!1,width:600,onCancel:this.handleCancel,footer:null},d.a.createElement(g.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:this.handleCancel}),d.a.createElement(p.a,{style:{paddingBottom:"25px"}},d.a.createElement(h.a,{span:12,offset:10},this.state.practice.logo?d.a.createElement(f.a,{shape:"square",size:"large",src:Object(S.g)(this.state.practice.logo)}):null)),d.a.createElement(x,{label:"Practice Name : ",value:this.state.practice.name}),d.a.createElement(x,{label:"Tagline : ",value:this.state.practice.tagline}),d.a.createElement(x,{label:"Email Id: ",value:this.state.practice.email}),d.a.createElement(x,{label:"Contact Number : ",value:this.state.practice.contact}),d.a.createElement(x,{label:"Website : ",value:this.state.practice.website}),d.a.createElement(x,{label:"GSTIN : ",value:this.state.practice.gstin}),d.a.createElement(x,{label:"Specialisation",value:this.state.practice.specialisation}),x({label:"Address",value:this.state.practice.address?this.state.practice.address:this.state.practice.locality})))}}]),t}(d.a.Component));function x(e){return d.a.createElement(p.a,{gutter:16},d.a.createElement(h.a,{span:8},d.a.createElement("p",null,d.a.createElement("b",null,e.label))),d.a.createElement(h.a,{span:16},e.value))}a(244);var D=a(245),I=(a(275),a(272)),C=(a(527),a(529)),w=(a(262),a(263)),A=a(47),T=a(31),M=(a(287),a(288)),V=a(230),N=a.n(V),R=a(246),L=a(2),F=a(16),H=(a(345),a(358)),W=(a(240),a(241)),q=a(26),B=a(249),Y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).loadData=function(){var e=Object(v.a)(a);Object(S.c)(Object(S.f)(k.Y,[a.props.active_practiceId]),(function(t){var a=!0,n={},i={};if(t.length&&t[0]){var l=t[0];B.s.forEach((function(e){n[e]=l[e],i["is_two_sessions_".concat(e)]=l["is_two_sessions_".concat(e)]})),a=l.visting_hour_same_week,i.is_two_sessions=l.is_two_sessions}t.length?e.setState({timings:t[0],visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1}):(e.setState({timings:{},visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1}),Object(S.a)(L.bc,"Doctors visit timing is empty"))}),(function(){}),{doctor:a.state.doctorId})},a.handleSubmit=function(e){var t=Object(v.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,n){if(!e){console.log(n);var i=Object(T.a)({},n);i.first_start_time&&(i.first_start_time=N()(i.first_start_time).format("HH:mm")),i.first_end_time&&(i.first_end_time=N()(i.first_end_time).format("HH:mm")),i.second_start_time&&(i.second_start_time=N()(i.second_start_time).format("HH:mm")),i.second_end_time&&(i.second_end_time=N()(i.second_end_time).format("HH:mm")),i.doctor=t.state.doctorId,B.s.forEach((function(e){i["first_start_time_".concat(e)]&&(i["first_start_time_".concat(e)]=N()(i["first_start_time_".concat(e)]).format("HH:mm")),i["first_end_time_".concat(e)]&&(i["first_end_time_".concat(e)]=N()(i["first_end_time_".concat(e)]).format("HH:mm")),i["second_start_time_".concat(e)]&&(i["second_start_time_".concat(e)]=N()(i["second_start_time_".concat(e)]).format("HH:mm")),i["second_end_time_".concat(e)]&&(i["second_end_time_".concat(e)]=N()(i["second_end_time_".concat(e)]).format("HH:mm"))})),t.state.timings&&(i.id=t.state.timings.id);Object(S.j)(Object(S.f)(k.Y,[a.props.active_practiceId]),i,(function(e){t.setState({loading:!0}),t.props.history.goBack(),t.props.loadData&&t.props.loadData(),Object(S.a)(L.Sb,"Doctor Timings Saved successfully!!")}),(function(){}))}}))},a.changeVistingHourSameWeek=function(e){console.log(e.target),a.setState(Object(A.a)({},e.target.id,e.target.checked))},a.changeOpenPracticeDays=function(e,t){a.setState((function(a){return{openPracticeDays:Object(T.a)({},a.openPracticeDays,Object(A.a)({},e,t))}}))},a.changePracticeTwoSessions=function(e,t){a.setState((function(a){return{twoSessions:Object(T.a)({},a.twoSessions,Object(A.a)({},e,t))}}))},a.state={doctorId:a.props.match.params.docId,timings:null,openPracticeDays:{},visting_hour_same_week:!0,twoSessions:{},loading:!0},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.doctorId&&this.loadData()}},{key:"render",value:function(){var e=this;if(!this.state.doctorId)return d.a.createElement(u.a,{to:"/settings/clinics-staff"});if(!this.state.timings)return d.a.createElement(O.a,{loading:!0});var t=this,a=this.props.formLayout?this.props.formLayout:{labelCol:{span:12},wrapperCol:{span:12}},n=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(O.a,{loading:this.state.loading},d.a.createElement(W.a,{onSubmit:this.handleSubmit},d.a.createElement(W.a.Item,Object.assign({key:"visting_hour_same_week"},a),n("visting_hour_same_week",{valuePropName:"checked",initialValue:!!t.state.timings&&t.state.visting_hour_same_week},{rules:[{message:q.j}]})(d.a.createElement(I.a,{onChange:this.changeVistingHourSameWeek},"Visiting hours are  same for all working days in a week"))),d.a.createElement(_.a,{style:{margin:4}}),this.state.visting_hour_same_week?d.a.createElement("div",null,d.a.createElement(p.a,null,d.a.createElement(h.a,{span:4}),d.a.createElement(h.a,{span:18},d.a.createElement(W.a.Item,Object.assign({key:"is_two_sessions"},a),n("is_two_sessions",{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings.is_two_sessions||t.state.twoSessions.is_two_sessions)},{rules:[{message:q.j}]})(d.a.createElement(I.a,{onChange:function(t){return e.changePracticeTwoSessions("is_two_sessions",t.target.checked)}},"Practice operates in two sessions."))),d.a.createElement(p.a,{gutter:16},d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"first_start_time",label:"Practice Starts At"},a),n("first_start_time",{initialValue:t.state.timings&&t.state.timings.first_start_time?N()(t.state.timings.first_start_time,"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm"})))),t.state.twoSessions.is_two_sessions?d.a.createElement("div",null,d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"first_end_time",label:"Lunch At"},a),n("first_end_time",{initialValue:t.state.timings&&t.state.timings.first_end_time?N()(t.state.timings.first_end_time,"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm"})))),d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"second_start_time",label:"Resume At"},a),n("second_start_time",{initialValue:t.state.timings&&t.state.timings.second_start_time?N()(t.state.timings.second_start_time,"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm"}))))):null,d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"second_end_time",label:"Practice Ends At"},a),n("second_end_time",{initialValue:t.state.timings&&t.state.timings.second_end_time?N()(t.state.timings.second_end_time,"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm"}))))))),d.a.createElement(_.a,{style:{margin:4}})):B.s.map((function(i){return d.a.createElement("div",{key:i},d.a.createElement(p.a,null,d.a.createElement(h.a,{span:4},d.a.createElement("h4",null,i.replace(/^\w/,(function(e){return e.toUpperCase()})))),d.a.createElement(h.a,{span:18},d.a.createElement(W.a.Item,Object.assign({key:"".concat(i)},a),n("".concat(i),{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings["".concat(i)]||t.state.openPracticeDays[i])},{rules:[{message:q.j}]})(d.a.createElement(I.a,{onChange:function(e){return t.changeOpenPracticeDays(i,e.target.checked)}},"Practice is open on ".concat(i.replace(/^\w/,(function(e){return e.toUpperCase()})))))),t.state.openPracticeDays[i]?d.a.createElement("div",null,d.a.createElement(W.a.Item,Object.assign({key:"is_two_sessions_".concat(i)},a),n("is_two_sessions_".concat(i),{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings["is_two_sessions_".concat(i)]||t.state.twoSessions["is_two_sessions_".concat(i)])},{rules:[{message:q.j}]})(d.a.createElement(I.a,{onChange:function(t){return e.changePracticeTwoSessions("is_two_sessions_".concat(i),t.target.checked)}},"Practice operates in two sessions."))),d.a.createElement(p.a,{gutter:16},d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"first_start_time_".concat(i),label:"Practice Starts At"},a),n("first_start_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["first_start_time_".concat(i)]?N()(t.state.timings["first_start_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm"})))),t.state.twoSessions["is_two_sessions_".concat(i)]?d.a.createElement("div",null,d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"first_end_time_".concat(i),label:"Lunch At"},a),n("first_end_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["first_end_time_".concat(i)]?N()(t.state.timings["first_end_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm"})))),d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"second_start_time_".concat(i),label:"Resume At"},a),n("second_start_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["second_start_time_".concat(i)]?N()(t.state.timings["second_start_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm"}))))):null,d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"second_end_time_".concat(i),label:"Practice Ends At"},a),n("second_end_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["second_end_time_".concat(i)]?N()(t.state.timings["second_end_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm"})))))):null)),d.a.createElement(_.a,{style:{margin:4}}))})),d.a.createElement(W.a.Item,a,d.a.createElement(g.a,{loading:t.state.loading,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),t.props.history?d.a.createElement(g.a,{style:{margin:5},onClick:function(){return t.props.history.goBack()}},"Cancel"):null))))}}]),t}(d.a.Component),U=W.a.create()(Y),G=a(243),K=b.a.Column,z=(b.a.ColumnGroup,M.a.TabPane),Q=m.a.confirm;function X(e){return N()(e,"HH:mm").format("HH:mm")}var J=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).getAllPermissions=function(){var e=Object(v.a)(a);Object(S.c)(k.j,(function(t){e.setState({allPermissions:t.practice_permissions,allGlobalPermissions:t.global_permissions})}),(function(){}))},a.handleClick=function(e){a.setState({current:e.key})},a.loadDoctorsTiming=function(){var e=Object(v.a)(a),t=e.state.practice_doctors.map((function(e){return e.id}));Object(S.c)(Object(S.f)(k.Y,[a.props.active_practiceId]),(function(t){e.setState((function(e){var a={};return t.forEach((function(e){a[e.doctor.id]=e})),{doctorsTiming:a}}))}),(function(){}),{doctor:t.join(",")})},a.changeTab=function(e){a.setState({defaultActiveTab:e}),a.props.history.push("/settings/clinics-staff".concat(e))},a.toggleEnableStaffPractice=function(e,t){var n=Object(v.a)(a);Object(S.j)(Object(S.f)(k.mb,[e]),{practice:n.props.active_practiceId,is_active:!!t},(function(e){t?Object(S.a)(L.Sb,"Staff enabled for this practice successfully!!"):Object(S.a)(L.Sb,"Staff disabled for this practice successfully!!"),n.admin_StaffData()}),(function(){}))},a.toggleAllPermissions=function(e,t){var n=Object(v.a)(a),i=[];"LOCAL"==e&&n.state.allPermissions.forEach((function(e){var a={name:e.name,codename:e.codename,is_active:!!t,practice:n.props.active_practiceId,staff:n.state.currentUser};n.state.editPermissions[e.codename]&&(a.id=n.state.editPermissions[e.codename].id),i.push(a)})),"GLOBAL"==e&&n.state.allGlobalPermissions.forEach((function(e){var a={name:e.name,codename:e.codename,is_active:!!t,staff:n.state.currentUser};n.state.editPermissions[e.codename]&&(a.id=n.state.editPermissions[e.codename].id),i.push(a)}));var l=function(e){n.editPermissions(n.state.currentUser),n.setState({bulkEditLoading:!1})},s=function(){n.setState({bulkEditLoading:!1})};Q({title:"Are you sure to select all permissions for this user?",onOk:function(){n.setState({bulkEditLoading:e}),Object(S.j)(k.Kd,{permissions:i},l,s)},onCancel:function(){return!1}})},a.state={current:"staff",practice_staff:[],practice_doctors:[],roles:null,permissionEditModal:!1,editPermissions:{},allPermissions:[],allGlobalPermissions:[],loading:!0,defaultActiveTab:a.props.location.hash,doctorsTiming:{},bulkEditLoading:!1},a.setPermission=a.setPermission.bind(Object(v.a)(a)),a.staffRoles(),a.loadData=a.loadData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllPermissions(),this.loadData()}},{key:"setPermission",value:function(e,t,a,n){var i=this,l=a.target.checked;if(this.setState((function(t){var a=Object(T.a)({},t.editPermissions[e]);return a.loading=!0,{editPermissions:Object(T.a)({},t.editPermissions,Object(A.a)({},e,a))}})),l){var s={name:t,codename:e,is_active:!0,practice:n?i.props.active_practiceId:null,staff:i.state.currentUser};Object(S.j)(k.ad,s,(function(t){i.setState((function(a){return{editPermissions:Object(T.a)({},a.editPermissions,Object(A.a)({},e,t))}}))}),(function(){}))}else if(i.state.editPermissions[e].id){Object(S.i)(Object(S.f)(k.Zc,[i.state.editPermissions[e].id]),{is_active:!1},(function(e){i.setState((function(t){return{editPermissions:Object(T.a)({},t.editPermissions,Object(A.a)({},e.codename,void 0))}}))}),(function(){}))}}},{key:"editPermissions",value:function(e){var t=this;if(!e)return t.setState({permissionEditModal:!1}),!0;t.setState({permissionEditModal:!0,editPermissions:[],currentUser:e});Object(S.c)(Object(S.f)(k.Md,[e,t.props.active_practiceId]),(function(e){var a={};e.forEach((function(e){a[e.codename]=e})),t.setState({editPermissions:a})}),(function(){}))}},{key:"loadData",value:function(){this.admin_StaffData()}},{key:"deleteStaff",value:function(e){var t=this;Object(S.l)(Object(S.f)(k.sd,[e]),{is_active:!1},(function(e){t.loadData()}),(function(){}))}},{key:"staffRoles",value:function(){var e=this;Object(S.c)(k.Ad,(function(t){e.setState({roles:t})}),(function(){}))}},{key:"admin_StaffData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Ec,[this.props.active_practiceId]),(function(t){var a=[],n=[];t.staff.forEach((function(e){e.role==L.N?a.push(Object(T.a)({},e.user,{},e)):n.push(Object(T.a)({},e.user,{},e))})),e.setState({practice_doctors:a,practice_staff:n,loading:!1},(function(){e.loadDoctorsTiming()}))}),(function(){e.setState({loading:!1})}),{all:!0})}},{key:"clinicData",value:function(){var e=Object(F.g)(),t=(Object.keys(e),this);Object(S.c)(Object(S.f)(k.Ec,[this.props.active_practiceId]),(function(e){var a=[],n=[];e.staff.forEach((function(e){e.role==L.N?a.push(Object(T.a)({},e.user,{},e)):n.push(Object(T.a)({},e.user,{},e))})),t.setState({practice_doctors:a,practice_staff:n},(function(){t.loadDoctorsTiming()}))}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"first_name",key:"first_name"},{title:"Email",dataIndex:"email",key:"email",render:function(e,t){return t.user&&t.user.is_active?t.user.email:e}},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"Registration Number",dataIndex:"registration_number",key:"registration_number"},{title:"Enable Staff",dataIndex:"in_practice",key:"enable_staff",render:function(e,a){return a.user&&a.user.is_superuser?d.a.createElement(w.a,{color:"red"},"Not Allowed"):d.a.createElement(C.a,{defaultChecked:!!e,onChange:function(e){return t.toggleEnableStaffPractice(a.id,e)}})}},{title:"Last Login",key:"user",render:function(e,t){return t.user&&t.user.is_active?t.user.last_login?N()(t.user.last_login).fromNow():"--":d.a.createElement(w.a,{color:"#f50"},"Activation Pending")}},{title:"Action",key:"action",render:function(e,a){return d.a.createElement("span",null,d.a.createElement(j.b,{to:"/settings/clinics-staff/".concat(a.id,"/edit")},d.a.createElement("a",null,"Edit")),d.a.createElement(_.a,{type:"vertical"}),a.user&&a.user.is_superuser?d.a.createElement(w.a,{color:"red"},"SuperUser"):d.a.createElement(d.a.Fragment,null,d.a.createElement("a",{onClick:function(){return t.editPermissions(a.id)},disabled:!a.in_practice},"Permissions"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this staff?",onConfirm:function(){return t.deleteStaff(a.id)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete"))))}}],n=[{title:"Name",dataIndex:"first_name",key:"name"},{title:"Email",dataIndex:"email",key:"email",render:function(e,t){return t.user&&t.user.is_active?t.user.email:e}},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"Enable Staff",dataIndex:"in_practice",key:"enable_staff",render:function(e,a){return a.user&&a.user.is_superuser?d.a.createElement(w.a,{color:"red"},"Not Allowed"):d.a.createElement(C.a,{defaultChecked:!!e,onChange:function(e){return t.toggleEnableStaffPractice(a.id,e)}})}},{title:"Last Login",key:"user",render:function(e,t){return t.user&&t.user.is_active?t.user.last_login?N()(t.user.last_login).fromNow():"--":d.a.createElement(w.a,{color:"#f50"},"Activation Pending")}},{title:"Action",key:"action",render:function(e,a){return d.a.createElement("span",null,d.a.createElement(j.b,{to:"/settings/clinics-staff/staff/".concat(a.id,"/edit")},d.a.createElement("a",null,"Edit")),d.a.createElement(_.a,{type:"vertical"}),a.user&&a.user.is_superuser?d.a.createElement(w.a,{color:"red"},"SuperUser"):d.a.createElement(d.a.Fragment,null,d.a.createElement("a",{onClick:function(){return t.editPermissions(a.id)},disabled:!a.in_practice},"Permissions"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this staff?",onConfirm:function(){return t.deleteStaff(a.id)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete"))))}}],i=[{title:"Name",dataIndex:"user.first_name",key:"name"},{title:"Confirmation SMS",dataIndex:"confirmation_sms",key:"confirmation_sms",render:function(e){return d.a.createElement("span",null,d.a.createElement(I.a,{checked:e}))}},{title:"Schedule SMS",dataIndex:"schedule_sms",key:"schedule_sms",render:function(e){return d.a.createElement("span",null,d.a.createElement(I.a,{checked:e}))}},{title:"Confirmation EMAIL",dataIndex:"confirmation_email",key:"confirmation_email",render:function(e){return d.a.createElement("span",null,d.a.createElement(I.a,{checked:e}))}},{title:"Online Appointment SMS",dataIndex:"online_appointment_sms",key:"online_appointment_sms",render:function(e){return d.a.createElement(I.a,{checked:e})}},{title:"Action",key:"action",render:function(e,t){return d.a.createElement("span",null,d.a.createElement(j.b,{to:"/settings/clinics-staff/".concat(t.id,"/edit")},d.a.createElement("a",null,"Edit")))}}],l=[{title:"Name",dataIndex:"user.first_name",key:"name"},{title:"Confirmation SMS",dataIndex:"confirmation_sms",key:"confirmation_sms",render:function(e){return d.a.createElement("span",null,d.a.createElement(I.a,{checked:e}))}},{title:"Schedule SMS",dataIndex:"schedule_sms",key:"schedule_sms",render:function(e){return d.a.createElement("span",null,d.a.createElement(I.a,{checked:e}))}},{title:"Confirmation EMAIL",dataIndex:"confirmation_email",key:"confirmation_email",render:function(e){return d.a.createElement("span",null,d.a.createElement(I.a,{checked:e}))}},{title:"Online Appointment SMS",dataIndex:"online_appointment_sms",key:"online_appointment_sms",render:function(e){return d.a.createElement(I.a,{checked:e})}},{title:"Action",key:"action",render:function(e,t){return t.user&&t.is_superuser?d.a.createElement(w.a,null," Not Allowed"):d.a.createElement("span",null,d.a.createElement(j.b,{to:"/settings/clinics-staff/staff/".concat(t.id,"/edit")},d.a.createElement("a",null,"Edit")))}}];return d.a.createElement(p.a,null,d.a.createElement("h2",null,"Practice Staff"),d.a.createElement(u.d,null,d.a.createElement(u.b,{path:"/settings/clinics-staff/:docId/edit-timing",render:function(a){return d.a.createElement(U,Object.assign({},e.props,a,{loadData:t.loadData}))}}),d.a.createElement(u.b,null,d.a.createElement(O.a,null,d.a.createElement(M.a,{defaultActiveKey:this.state.defaultActiveTab,onChange:this.changeTab},d.a.createElement(z,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"user-add"}),"Manage Staff"),key:"#staff"},d.a.createElement("h2",null,"Doctors",d.a.createElement(j.b,{to:"/settings/clinics-staff/adddoctor"},d.a.createElement(g.a,{type:"primary",style:{float:"right"}},d.a.createElement(y.a,{type:"plus"}),"\xa0Add Doctor")),d.a.createElement(j.b,{to:"/settings/clinics-staff/addstaff"},d.a.createElement(g.a,{type:"primary",style:{float:"right",marginRight:"5px"}},d.a.createElement(y.a,{type:"plus"}),"\xa0Add Staff"))),d.a.createElement(G.a,{loading:this.state.loading,pagination:!1,columns:a,dataSource:this.state.practice_doctors}),d.a.createElement(_.a,null),d.a.createElement("h2",null,"Staff "),d.a.createElement(G.a,{loading:this.state.loading,pagination:!1,columns:n,dataSource:this.state.practice_staff})),d.a.createElement(z,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"team"}),"Staff Notification"),key:"#notification"},d.a.createElement("h2",null,"Doctors"),d.a.createElement(b.a,{loading:this.state.loading,pagination:!1,columns:i,dataSource:this.state.practice_doctors}),d.a.createElement(_.a,null),d.a.createElement("h2",null,"Staff"),d.a.createElement(b.a,{loading:this.state.loading,pagination:!1,columns:l,dataSource:this.state.practice_staff})),d.a.createElement(z,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"schedule"}),"Doctors visit Timing"),key:"#timing"},d.a.createElement(b.a,{loading:this.state.loading,dataSource:this.state.practice_doctors},d.a.createElement(K,{title:"Name",dataIndex:"user.first_name",key:"name"}),d.a.createElement(K,{title:"Visit Timing",dataIndex:"loginstatus",key:"VisitTiming",render:function(e,a){return function(e){if(e)return e.visting_hour_same_week?d.a.createElement("span",null,d.a.createElement("b",null,"Mon-Sun : "),X(e.first_start_time),e.is_two_sessions?"-".concat(X(e.first_end_time)," ||LUNCH|| ").concat(X(e.second_start_time)):null,"-",X(e.second_end_time)):B.s.map((function(t){return e[t]?d.a.createElement("span",null,d.a.createElement("b",null,t," : "),X(e["first_start_time_".concat(t)]),e["is_two_sessions_".concat(t)]?"-".concat(X(e["first_end_time_".concat(t)]),"||LUNCH||").concat(X(e["second_start_time_".concat(t)])):null,"-",X(e["second_end_time_".concat(t)]),d.a.createElement("br",null)):null}));return null}(t.state.doctorsTiming[a.id])}}),d.a.createElement(K,{title:"Action",key:"action",render:function(e,t){return d.a.createElement(j.b,{to:"/settings/clinics-staff/".concat(t.id,"/edit-timing")},d.a.createElement("a",null,"Edit Timing"))}})))),d.a.createElement(m.a,{title:"Edit Permissions",visible:this.state.permissionEditModal,onCancel:function(){return e.editPermissions()},footer:null},d.a.createElement(D.a,{spinning:"LOCAL"==this.state.bulkEditLoading},d.a.createElement(p.a,null,d.a.createElement("h3",null,d.a.createElement(I.a,{checked:t.state.allPermissions.length&&t.state.allPermissions.reduce((function(e,a){return e&&a&&t.state.editPermissions[e.codename]&&t.state.editPermissions[a.codename]})),onClick:function(t){return e.toggleAllPermissions("LOCAL",t.target.checked)}},"Select All Permissions"))),t.state.allPermissions.map((function(a){return d.a.createElement(p.a,null,d.a.createElement(I.a,{value:a.codename,checked:t.state.editPermissions[a.codename],disabled:t.state.editPermissions[a.codename]&&t.state.editPermissions[a.codename].loading,onClick:function(t){return e.setPermission(a.codename,a.name,t,!0)}},a.id," ",a.name))}))),d.a.createElement(_.a,null,"Global Permissions"),d.a.createElement(D.a,{spinning:"GLOBAL"==this.state.bulkEditLoading},d.a.createElement(p.a,null,d.a.createElement("h3",null,d.a.createElement(I.a,{checked:t.state.allGlobalPermissions.length&&t.state.allGlobalPermissions.reduce((function(e,a){return e&&a&&t.state.editPermissions[e.codename]&&t.state.editPermissions[a.codename]})),onClick:function(t){return e.toggleAllPermissions("GLOBAL",t.target.checked)}},"Select All Permissions"))),t.state.allGlobalPermissions.map((function(a){return d.a.createElement(p.a,null,d.a.createElement(I.a,{value:a.codename,checked:t.state.editPermissions[a.codename],disabled:t.state.editPermissions[a.codename]&&t.state.editPermissions[a.codename].loading,onClick:function(t){return e.setPermission(a.codename,a.name,t,!1)},style:{display:"list-item"}},a.id," ",a.name))}))))))))}}]),t}(d.a.Component),Z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={redirect:!1,editStaff:null,roles:[]},a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a.loadEditPracticeStaff=a.loadEditPracticeStaff.bind(Object(v.a)(a)),a.props.match.params.doctorid&&a.loadEditPracticeStaff(),a.staffRoles(),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"staffRoles",value:function(){var e=this;Object(S.c)(k.Ad,(function(t){e.setState({roles:t})}),(function(){}))}},{key:"loadEditPracticeStaff",value:function(){var e=this.props.match.params.doctorid;console.log(e);var t=this;Object(S.c)(Object(S.f)(k.sd,[e]),(function(e){t.setState({editStaff:e})}),(function(){t.setState({})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e,t=this,a=this,n=[{label:"Doctor",key:"user.first_name",required:!0,placeholder:"Doctor Name",initialValue:this.state.editStaff?this.state.editStaff.user.first_name:null,type:L.W},{label:"Mobile Number",key:"user.mobile",placeholder:"Mobile Number",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.mobile:null,type:L.W},{label:"Email Id",key:"user.email",placeholder:"Email Id",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.email:null,type:L.P},{label:"Registration Number",key:"registration_number",placeholder:"Registration Number",initialValue:this.state.editStaff?this.state.editStaff.registration_number:null,type:L.W},{label:"Calendar Colour",key:"calendar_colour",initialValue:this.state.editStaff?this.state.editStaff.calendar_colour:null,type:L.A,required:!0},{label:"Schedule SMS",key:"schedule_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.schedule_sms,type:L.Ob},{label:"Confirmation SMS",key:"confirmation_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_sms,type:L.Ob},{label:"Confirmation Email",key:"confirmation_email",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_email,type:L.Ob},{label:"Online Appointment SMS",key:"online_appointment_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.online_appointment_sms,type:L.Ob}],i={successFn:function(e){Object(S.a)(L.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/clinics-staff")},errorFn:function(){},action:k.l,method:"post"};this.state.editStaff&&(e={successFn:function(e){Object(S.a)(L.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/clinics-staff")},errorFn:function(){},action:Object(S.f)(k.sd,[a.props.match.params.doctorid]),method:"put"});var l=[{key:"role",value:[3]}],s=W.a.create()(R.a);return d.a.createElement(p.a,null,d.a.createElement(O.a,null,d.a.createElement(u.b,{exact:!0,path:"/settings/clinics-staff/:doctorid/edit",render:function(a){return t.props.match.params.doctorid?d.a.createElement(s,Object.assign({defaultValues:l,title:"Edit Doctor",changeRedirect:t.changeRedirect,formProp:e,fields:n},a)):d.a.createElement(u.a,{to:"/settings/clinics-staff"})}}),d.a.createElement(u.b,{exact:!0,path:"/settings/clinics-staff/adddoctor",render:function(e){return d.a.createElement(s,Object.assign({defaultValues:l,changeRedirect:t.changeRedirect,title:"Add Doctor ",formProp:i,fields:n},e))}})),this.state.redirect&&d.a.createElement(u.a,{to:"/settings/clinics-staff"}))}}]),t}(d.a.Component),$=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={redirect:!1,editStaff:null},a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a.loadEditPracticeStaff=a.loadEditPracticeStaff.bind(Object(v.a)(a)),a.props.match.params.staffid&&a.loadEditPracticeStaff(),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"loadEditPracticeStaff",value:function(){var e=this.props.match.params.staffid;console.log(e);var t=this;Object(S.c)(Object(S.f)(k.sd,[e]),(function(e){t.setState({editStaff:e})}),(function(){t.setState({})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e,t=this,a=this,n=[{label:"Staff Name",key:"user.first_name",required:!0,placeholder:"Staff Name",initialValue:this.state.editStaff?this.state.editStaff.user.first_name:null,type:L.W},{label:"Mobile Number",key:"user.mobile",placeholder:"Mobile Number",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.mobile:null,type:L.W},{label:"Email Id",key:"user.email",placeholder:"Email Id",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.email:null,type:L.P},{label:"Role",key:"role",required:!0,initialValue:this.state.editStaff?[this.state.editStaff.role]:null,type:L.Nb,options:B.zb.map((function(e){return{label:e.label,value:[e.value]}}))},{label:"Schedule SMS",key:"schedule_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.schedule_sms,type:L.Ob},{label:"Confirmation SMS",key:"confirmation_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_sms,type:L.Ob},{label:"Confirmation Email",key:"confirmation_email",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_email,type:L.Ob},{label:"Online Appointment SMS",key:"online_appointment_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.online_appointment_sms,type:L.Ob}],i={successFn:function(e){Object(S.a)(L.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/clinics-staff")},errorFn:function(){},action:k.l,method:"post"};this.state.editStaff&&(e={successFn:function(e){Object(S.a)(L.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/clinics-staff")},errorFn:function(){},action:Object(S.f)(k.sd,[a.props.match.params.staffid]),method:"put"});var l=[],s=W.a.create()(R.a);return d.a.createElement(p.a,null,d.a.createElement(O.a,null,d.a.createElement(u.b,{exact:!0,path:"/settings/clinics-staff/staff/:staffid/edit",render:function(a){return t.props.match.params.staffid?d.a.createElement(s,Object.assign({defaultValues:l,title:"Edit Staff",changeRedirect:t.changeRedirect,formProp:e,fields:n},a)):d.a.createElement(u.a,{to:"/settings/clinics-staff"})}}),d.a.createElement(u.b,{exact:!0,path:"/settings/clinics-staff/addstaff",render:function(e){return d.a.createElement(s,Object.assign({defaultValues:l,changeRedirect:t.changeRedirect,title:"Add Staff ",formProp:i,fields:n},e))}})),this.state.redirect&&d.a.createElement(u.a,{to:"/settings/clinics-staff"}))}}]),t}(d.a.Component),ee=a(235),te=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state=Object(A.a)({redirect:!1,specialisations:null,countries:null},B.Fb,[]),a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(S.c)(k.rb,(function(t){var a={};t.specialisation.forEach((function(e){a[e.id]=e})),console.log(a),e.setState({specialisations:t.specialisation,countries:t.country})}),(function(){})),Object(ee.c)(this,[B.Fb])}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=[];this.state.specialisations&&this.state.specialisations.forEach((function(t){e.push({label:t.name,value:t.id})}));var t=[{label:"Practice Logo",key:"logo",type:L.Pb,allowWebcam:!1},{label:"Practice Name",key:"name",placeholder:"Practice Name",required:!0,type:L.W},{label:"Practice Tagline",key:"tagline",placeholder:"Practice Tagline",required:!0,type:L.W},{label:"Practice Specialisation",key:"specialisation",placeholder:"Practice Specialisation",type:L.W},{label:"Practice Street Address",key:"address",placeholder:"Practice Street Address",type:L.W},{label:"Practice Locality",key:"locality",placeholder:"Practice Locality",type:L.W},{label:"Practice Country",key:"country",placeholder:"Practice Country",type:L.W},{label:"Practice State",key:"state",placeholder:"Practice State",type:L.W},{label:"Practice City",key:"city",placeholder:"Practice City",type:L.W},{label:"Practice PINCODE",key:"pincode",placeholder:"Practice PINCODE",type:L.W},{label:"Practice Contact Number",key:"contact",placeholder:"Practice Contact Number",type:L.W},{label:"Practice Email",key:"email",placeholder:"Practice Email",type:L.P},{label:"SMS Language",key:"language",placeholder:"SMS Language",initialValue:this.props.activePracticeData.language?this.props.activePracticeData.language:[],type:L.Nb,options:this.state[B.Fb].map((function(e){return{label:e,value:e}}))},{label:"Practice Website",key:"website",placeholder:"Practice Website",type:L.W},{label:"GSTIN",key:"gstin",placeholder:"GSTIN",type:L.W},{label:"Invoice Prefix",placeholder:"DEL/INV/",key:"invoice_prefix",type:L.W,required:!0},{label:"Payment Prefix",placeholder:"DEL/RCPT/",key:"payment_prefix",type:L.W,required:!0},{label:"Return Prefix",placeholder:"DEL/RET/",key:"return_prefix",type:L.W,required:!0}],a={successFn:function(e){Object(S.a)(L.Sb,"success"),this.props.history&&this.props.history.replace("/settings/clinics")},errorFn:function(){},action:k.k,method:"post"},n=W.a.create()(R.a);return d.a.createElement(p.a,null,d.a.createElement(O.a,null,d.a.createElement(n,Object.assign({title:"Practice Details",changeRedirect:this.changeRedirect,formProp:a,fields:t},this.props))),this.state.redirect&&d.a.createElement(u.a,{to:"/settings/clinics"}))}}]),t}(d.a.Component),ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={},a.loadWishSMS=a.loadWishSMS.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadWishSMS()}},{key:"loadWishSMS",value:function(){var e=this;Object(S.c)(Object(S.f)(k.S,[this.props.active_practiceId]),(function(t){e.setState({wishsmsData:t[t.length-1]})}),(function(){}))}},{key:"render",value:function(){console.log("wishSMS",this.state.wishsmsData);var e=[{key:"birthday_wish_sms",initialValue:!!this.state.wishsmsData&&this.state.wishsmsData.birthday_wish_sms,type:L.Ob,extra:"This SMS is sent to the Patient on the morning of their birthday",follow:d.a.createElement("b",null,"BIRTHDAY WISH SMS")},{key:"birthday_wish_text",placeholder:"{clinic}{patient}}",initialValue:this.state.wishsmsData?this.state.wishsmsData.birthday_wish_text:" ",minRows:4,type:L.Qb,options:B.d},{key:"anniversary_wish_sms",initialValue:!!this.state.wishsmsData&&this.state.wishsmsData.anniversary_wish_sms,type:L.Ob,extra:"This SMS is sent to the Patient on the morning of their anniversary",follow:d.a.createElement("b",null,"ANNIVERSARY WISH SMS")},{key:"anniversary_wish_text",placeholder:"{anniversary}",initialValue:this.state.wishsmsData?this.state.wishsmsData.anniversary_wish_text:" ",minRows:4,type:L.Qb,options:B.d},{key:"online_appointment_sms",type:L.Ob,initialValue:!!this.state.wishsmsData&&this.state.wishsmsData.online_appointment_sms,extra:"This SMS is sent to the Patient when they request an appointment on your practice marketing page",follow:d.a.createElement("b",null,"ONLINE APPOINTMENT SMS")},{key:"online_appointment_text",placeholder:"{online appointment}",initialValue:this.state.wishsmsData?this.state.wishsmsData.online_appointment_text:" ",minRows:4,type:L.Qb,options:B.d}],t={successFn:function(e){Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.S,[this.props.active_practiceId]),method:"post"},a=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.wishsmsData?this.state.wishsmsData.id:null}],n=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement(n,{formProp:t,defaultValues:a,fields:e}))}}]),t}(d.a.Component),ne=(a(234),a(233)),ie=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleChangeLanguage=function(e,t){var n=Object(v.a)(a);n.setState(Object(A.a)({},e,t),(function(){n.loadData()}))},a.state=Object(A.a)({redirect:!1,data:null,language:a.props.activePracticeData&&a.props.activePracticeData.language?a.props.activePracticeData.language:""},B.Fb,[]),a.loadData=a.loadData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),Object(ee.c)(this,[B.Fb])}},{key:"loadData",value:function(){var e=this,t={};e.state.language&&(t.language=e.state.language),Object(S.c)(Object(S.f)(k.S,[this.props.active_practiceId]),(function(t){console.log("length",t.length-1),e.setState({data:t[t.length-1]})}),(function(){}),t)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t=this,a=[{label:"Contact Number",key:"contact_number",placeholder:"Contact Number",initialValue:this.state.data?this.state.data.contact_number:" ",extra:"Maximum 15 characters & represented as {{CLINICCONTACTNUMBER}}",type:L.W},{label:"Email",key:"email",placeholder:"Email Address",initialValue:this.state.data?this.state.data.email:" ",extra:"All replies by Patients for emails will be sent to this address",type:L.W},{label:"SMS clinic Name",key:"sms_clinic_name",placeholder:"Clinic Name",initialValue:this.state.data?this.state.data.sms_clinic_name:" ",extra:"{{CLINIC}} will use this name.",type:L.W},{key:"appointment_confirmation_sms",placeholder:"Appointment Confirmation SMS Text",initialValue:!!this.state.data&&this.state.data.appointment_confirmation_sms,type:L.Ob,extra:"SMS is sent to the Patient on successfully adding an appointment",follow:d.a.createElement("b",null,"APPOINTMENT CONFIRMATION SMS")},{key:"appointment_confirmation_text",placeholder:"Appointment Cancellation SMS Text",initialValue:this.state.data?this.state.data.appointment_confirmation_text:null,minRows:4,type:L.Qb,options:B.d},{key:"appointment_cancellation_sms",initialValue:!!this.state.data&&this.state.data.appointment_cancellation_sms,type:L.Ob,extra:"SMS is sent to the Patient when the appointment is cancelled",follow:d.a.createElement("b",null,"APPOINTMENT CANCELLATION SMS")},{key:"appointment_cancellation_text",placeholder:"Appointment Cancellation SMS Text",initialValue:this.state.data?this.state.data.appointment_cancellation_text:null,minRows:4,type:L.Qb,options:B.d},{key:"appointment_reminder_sms",placeholder:"Appointment Reminder SMS Text",initialValue:!!this.state.data&&this.state.data.appointment_reminder_sms,type:L.Ob,extra:"This SMS is automatically sent to the Patient at selected time & date before the appointment.",follow:d.a.createElement("b",null,"APPOINTMENT REMINDER SMS")},{key:"appointment_reminder_text",placeholder:"Appointment Reminder SMS Text",initialValue:this.state.data?this.state.data.appointment_reminder_text:null,minRows:4,type:L.Qb,options:B.d},{key:"send_on_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_of_appointment,type:L.Ob,follow:"Send reminder SMS on the day of appointment at 7:30 AM"},{key:"send_on_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_of_appointment,follow:"Send reminder SMS on the day before the appointment at",type:L.Ob},{key:"send_on_day_of_appointment_time",initialValue:this.state.data&&N()(this.state.data.send_on_day_of_appointment_time).isValid()?N()(this.state.data.send_on_day_of_appointment_time):null,type:L.Vb},{key:"follow_up_reminder_sms",initialValue:!!this.state.data&&this.state.data.follow_up_reminder_sms,type:L.Ob,extra:"This SMS is sent to the Patient on the morning of the followup sms.",follow:d.a.createElement("b",null,"FOLLOW UP REMINDER SMS")},{key:"follow_up_reminder_sms_text",placeholder:"Follow-up Reminder SMS Text",initialValue:this.state.data?this.state.data.follow_up_reminder_sms_text:null,minRows:4,type:L.Qb,options:B.d},{key:"send_follow_up_reminder_time",initialValue:this.state.data?this.state.data.send_follow_up_reminder_time:null,extra:"Time to Send follow-up SMS after the last appointment.",type:L.Nb,options:[{label:"1 Month",value:1},{label:"3 Month",value:3},{label:"6 Month",value:6}]},{key:"payment_sms",initialValue:!!this.state.data&&this.state.data.payment_sms,type:L.Ob,extra:"This SMS is sent to the Patient when payment is received.",follow:d.a.createElement("b",null,"PAYMENT SMS")},{key:"payment_sms_text",placeholder:"Payment SMS Text",initialValue:this.state.data?this.state.data.payment_sms_text:null,minRows:4,type:L.Qb,options:B.d},{key:"promo_code_text",initialValue:!!this.state.data&&this.state.data.promo_code_text,type:L.X,extra:"This SMS is sent to the Patient for promo code.",follow:d.a.createElement("b",null,"Promo Code Fixed Rupee SMS Text")},{key:"promo_code_value_text",placeholder:"Promo Code Fixed Rupee SMS Text",initialValue:this.state.data?this.state.data.promo_code_value_text:null,minRows:4,type:L.Qb,options:B.wb},{key:"promo_code_text",initialValue:!!this.state.data&&this.state.data.promo_code_text,type:L.X,extra:"This SMS is sent to the Patient for promo code.",follow:d.a.createElement("b",null,"Promo Code Percent Discount SMS Text")},{key:"promo_code_precent_text",placeholder:"Promo Code Percent Discount SMS Text",initialValue:this.state.data?this.state.data.promo_code_precent_text:null,minRows:4,type:L.Qb,options:B.xb},{key:"lab_order_confirmation_sms",initialValue:!!this.state.data&&this.state.data.lab_order_confirmation_sms,type:L.Ob,extra:"This SMS is sent to the Patient when he is prescribed a lab order.",follow:d.a.createElement("b",null,"LAB ORDER CONFIRMATION SMS")},{key:"lab_order_confirmation_text",placeholder:"Lab Order Confirmation SMS Text",initialValue:this.state.data?this.state.data.lab_order_confirmation_text:null,minRows:4,type:L.Qb,options:B.d},{key:"lab_order_due_on_sms",placeholder:"Lab Order Due On SMS Text",initialValue:!!this.state.data&&this.state.data.lab_order_due_on_sms,extra:"This SMS is sent to the Patient informing lab order due date",type:L.Ob,follow:d.a.createElement("b",null,"LAB ORDER DUE ON SMS")},{key:"lab_order_result_sms",initialValue:!!this.state.data&&this.state.data.lab_order_result_sms,extra:"This SMS is sent to the Patient when lab order results are ready",type:L.Ob,follow:d.a.createElement("b",null,"LAB ORDER RESULT SMS")},{key:"lab_order_reminder_sms",initialValue:!!this.state.data&&this.state.data.lab_order_reminder_sms,type:L.Ob,extra:"This reminder SMS is sent to the Patient",follow:d.a.createElement("b",null,"LAB ORDER REMINDER SMS")}],n={successFn:function(e){Object(S.a)(L.Sb,"success"),t.loadData()},errorFn:function(){},action:Object(S.f)(k.S,[t.props.active_practiceId]),method:"post"},i=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.data?this.state.data.id:null},{key:"sms_language",value:this.state.language}],l=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement(p.a,null,d.a.createElement(h.a,{span:8},d.a.createElement("span",{style:{float:"right",color:"rgba(0, 0, 0, 0.85)"}},"SMS Language : \xa0")),d.a.createElement(h.a,{span:8},d.a.createElement(ne.a,{defaultValue:this.data&&this.data.sms_language?this.data.sms_language:t.state.language,style:{width:220},onChange:function(t){return e.handleChangeLanguage("language",t)}},this.state[B.Fb].map((function(e){return d.a.createElement(ne.a.Option,{value:e},e)}))),d.a.createElement("br",null),d.a.createElement("span",null,"SMS to Patients will be sent in this language"))),d.a.createElement(l,Object.assign({formProp:n,defaultValues:i,fields:a},this.props)))}}]),t}(d.a.Component),le=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={},a.loadData=a.loadData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.cb,[this.props.active_practiceId]),(function(t){e.setState({data:t[0]})}),(function(){}))}},{key:"render",value:function(){var e=[{label:"Contact Number",key:"contact_number",placeholder:"Contact Number",initialValue:this.state.data?this.state.data.contact_number:" ",extra:"Maximum 15 characters & represented as {{CLINICCONTACTNUMBER}}",type:L.W},{label:"Email",key:"email",placeholder:"Email Address",initialValue:this.state.data?this.state.data.email:" ",extra:"All replies by Patients for emails will be sent to this address",type:L.W},{label:"SMS clinic Name",key:"email_clinic_name",placeholder:"Clinic Name",initialValue:this.state.data?this.state.data.email_clinic_name:" ",extra:"{{CLINIC}} will use this name.",type:L.W},{label:"Clinic Logo",key:"clinic_logo",initialValue:this.state.data?this.state.data.clinic_logo:" ",type:L.Pb},{key:"appointment_confirmation_email",initialValue:!!this.state.data&&this.state.data.appointment_confirmation_email,type:L.Ob,follow:d.a.createElement("b",null,"APPOINTMENT CONFIRMATION EMAIL"),options:[],extra:"Email is sent to the Patient on successfully adding an appointment"},{key:"appointment_confirmation_email_text",initialValue:this.state.data?this.state.data.appointment_confirmation_email_text:"",type:L.Y,options:B.d},{type:L.M},{key:"appointment_cancellation_email",initialValue:!!this.state.data&&this.state.data.appointment_cancellation_email,type:L.Ob,follow:d.a.createElement("b",null,"APPOINTMENT CANCELLATION EMAIL"),extra:"Email is sent to the Patient when the appointment is cancelled"},{key:"appointment_cancellation_email_text",initialValue:this.state.data?this.state.data.appointment_cancellation_email_text:"",type:L.Y,options:B.d},{type:L.M},{key:"appointment_reminder_email",initialValue:!!this.state.data&&this.state.data.appointment_reminder_email,type:L.Ob,follow:d.a.createElement("b",null,"APPOINTMENT REMINDER EMAIL"),extra:"Email is sent to the Patient on the morning of the appointment date"},{key:"send_on_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_of_appointment,type:L.Ob,follow:"Send reminder SMS on the day of appointment at 7:30 AM"},{key:"send_before_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_before_day_of_appointment,follow:"Send reminder SMS on the day before the appointment at",type:L.Ob},{key:"send_on_day_of_appointment_time",initialValue:this.state.data&&N()(this.state.data.send_on_day_of_appointment_time).isValid()?N()(this.state.data.send_on_day_of_appointment_time):null,type:L.Vb},{type:L.M},{key:"followup_reminder_email",initialValue:!!this.state.data&&this.state.data.followup_reminder_email,type:L.Ob,follow:d.a.createElement("b",null,"FOLLOW-UP REMINDER EMAIL"),extra:"Email is sent to the Patient on the morning of their planned follow-up date"},{key:"appointment_reminder_email_text",initialValue:this.state.data?this.state.data.appointment_reminder_email_text:"",type:L.Y,options:B.d},{type:L.M},{key:"birthday_wish_email",initialValue:!!this.state.data&&this.state.data.birthday_wish_email,type:L.Ob,follow:d.a.createElement("b",null,"BIRTHDAY WISH EMAIL"),extra:"Email is sent to the Patient on the morning of their birthday"},{key:"birthday_wish_email_text",initialValue:this.state.data?this.state.data.birthday_wish_email_text:"",type:L.Y,options:B.d},{type:L.M},{key:"lab_order_confirmation_email",initialValue:!!this.state.data&&this.state.data.lab_order_confirmation_email,type:L.Ob,follow:d.a.createElement("b",null,"LAB ORDER CONFIRMATION EMAIL"),extra:"Email is sent to the Patient when he is prescribed a Lab Order"},{key:"lab_order_confirmation_email_text",initialValue:this.state.data?this.state.data.lab_order_confirmation_email_text:"",type:L.Y,options:B.d},{type:L.M},{key:"lab_order_due_date_email",initialValue:!!this.state.data&&this.state.data.lab_order_due_date_email,type:L.Ob,follow:d.a.createElement("b",null,"LAB ORDER DUE DATE EMAIL"),extra:"Email is sent to the Patient when due date is entered for a Lab Order"},{key:"lab_order_due_date_email_text",initialValue:this.state.data?this.state.data.lab_order_due_date_email_text:"",type:L.Y,options:B.d},{type:L.M},{key:"lab_order_result_email",initialValue:!!this.state.data&&this.state.data.lab_order_result_email,type:L.Ob,follow:d.a.createElement("b",null,"LAB ORDER RESULT EMAIL"),extra:"Email is sent to the Patient when result for a Lab Order is ready"},{key:"alab_order_result_email_text",initialValue:this.state.data?this.state.data.alab_order_result_email_text:"",type:L.Y,options:B.d},{type:L.M},{key:"anniversary_wish_email",initialValue:!!this.state.data&&this.state.data.anniversary_wish_email,type:L.Ob,follow:d.a.createElement("b",null,"ANNIVERSARY WISH EMAIL"),extra:"Email is sent to the Patient on the morning of their anniversary"},{key:"anniversary_wish_email_text",initialValue:this.state.data?this.state.data.anniversary_wish_email_text:"",type:L.Y,options:B.d}],t={successFn:function(e){Object(S.a)(L.Sb,"Communication Settings Saved Successfully!!"),console.log("form",e)},errorFn:function(){},action:Object(S.f)(k.cb,[this.props.active_practiceId]),method:"post"},a=[{key:"practice",value:this.props.active_practiceId,is_active:!1},{key:"id",value:this.state.data?this.state.data.id:null}],n=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement(n,Object.assign({formProp:t,defaultValues:a,fields:e},this.props)))}}]),t}(d.a.Component),se=M.a.TabPane,re=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(p.a,null,d.a.createElement("h2",null,"Communication Settings"),d.a.createElement(O.a,null,d.a.createElement(M.a,{defaultActiveKey:"appointmentsms"},d.a.createElement(se,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"schedule"}),"Appointment & FollowUp SMS"),key:"appointmentsms"},d.a.createElement(ie,this.props)),d.a.createElement(se,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"mail"}),"Emails"),key:"emails"},d.a.createElement(le,this.props)),d.a.createElement(se,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"android"}),"Wish SMS"),key:"wishsms"},d.a.createElement(ae,this.props))))))}}]),t}(d.a.Component),ce=(a(251),a(254)),oe=a(250),de=(d.a.Component,a(295)),ue=(d.a.Component,a(281),a(283)),me=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).changeNetPrice=function(e){var t=Object(v.a)(a),n=a.props.form,i=n.getFieldsValue;n.setFields;setTimeout((function(){var e=i();if(e.cost_with_tax){var a=0;e.taxes.forEach((function(e){t.state.taxes.forEach((function(t){t.id==e&&(a+=t.tax_value)}))}));var n=e.cost_with_tax/(1+.01*a);t.setState({retail_price:n.toFixed(2)})}else t.setState({retail_price:0})}),1e3)},a.handleSubmit=function(e){var t=Object(v.a)(a);e.preventDefault(),a.props.form.validateFields((function(e,n){if(!e){var i=Object(T.a)({},n,{cost:t.state.retail_price});a.state.editingProcedureData&&(i.id=a.state.editingProcedureData.id),Object(S.j)(Object(S.f)(k.Lc,[a.props.active_practiceId]),i,(function(e){Object(S.a)(L.Sb,"Procedure Updated Successfully!!"),t.props.loadData&&t.props.loadData(),t.props.history.replace("settings/procedures")}),(function(){}))}}))},a.state={editingProcedureData:a.props.editingProcedureData?a.props.editingProcedureData:null,taxes:[],procedure_category:[],redirect:!1,productMargin:[],retail_price:0},a.loadTaxes=a.loadTaxes.bind(Object(v.a)(a)),a.loadProcedures=a.loadProcedures.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(this.loadTaxes(),this.loadProcedures(),this.loadProductMargin(),this.props.editingProcedureData&&this.setState({retail_price:this.props.editingProcedureData.cost}),this.props.history&&this.props.history.location.search){var e=this.props.history.location.search.substr(1).split("&");if(e.length){var t={},a=this.props.form.setFieldsValue;e.forEach((function(e){var n=e.split("=");n&&2==n.length&&(isNaN(n[1])||-1==n[1].toString().indexOf(".")?isNaN(n[1])?(t[n[0]]=n[1],a(Object(A.a)({},n[0],n[1]))):(t[n[0]]=parseInt(n[1]),a(Object(A.a)({},n[0],parseInt(n[1])))):(t[n[0]]=parseFloat(n[1]),a(Object(A.a)({},n[0],parseFloat(n[1])))))}))}}}},{key:"loadProductMargin",value:function(){var e=this;Object(S.c)(k.Nc,(function(t){e.setState({productMargin:t})}),(function(){}))}},{key:"loadProcedures",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Lc,[this.props.active_practiceId]),(function(t){e.setState({procedure_category:t})}),(function(){}),{pagination:!1})}},{key:"loadTaxes",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Fd,[this.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t={labelCol:{span:8},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(O.a,null,d.a.createElement(W.a,{onSubmit:this.handleSubmit},d.a.createElement("h2",null,this.state.editingProcedureData?"Edit Procedures":"Add Procedures"),d.a.createElement(W.a.Item,Object.assign({label:"Procedure Name"},t),a("name",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.name:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ce.a,{placeholder:"Procedure Name"}))),d.a.createElement(W.a.Item,Object.assign({label:"Procedure Net Price"},t),a("cost_with_tax",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.cost_with_tax:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ue.a,{onChange:this.changeNetPrice})),d.a.createElement("span",{className:"ant-form-text"},"INR")),d.a.createElement(W.a.Item,Object.assign({label:"Tax"},t),a("taxes",{initialValue:this.state.editingProcedureData&&this.state.editingProcedureData.taxes?this.state.editingProcedureData.taxes.map((function(e){return e.id})):[]})(d.a.createElement(I.a.Group,{onChange:this.changeNetPrice},this.state.taxes.map((function(e){return d.a.createElement(I.a,{value:e.id},e.name+(e.tax_value?"(".concat(e.tax_value,"%)"):""))}))))),d.a.createElement(W.a.Item,Object.assign({label:"Procedure Retail Price"},t),d.a.createElement("span",{className:"ant-form-text"},d.a.createElement("b",null,e.state.retail_price),"\xa0INR")),d.a.createElement(W.a.Item,Object.assign({key:"margin"},t,{label:"MLM Margin"}),a("margin",{initialValue:this.state.editingProcedureData&&this.state.editingProcedureData.margin?this.state.editingProcedureData.margin.id:null})(d.a.createElement(ne.a,null,this.state.productMargin.map((function(e){return d.a.createElement(ne.a.Option,{value:e.id},e.name)}))))),d.a.createElement(W.a.Item,Object.assign({key:"under"},t,{label:"Add Under"}),a("under",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.under:null})(d.a.createElement(ne.a,null,this.state.procedure_category.map((function(e){return d.a.createElement(ne.a.Option,{value:e.id},e.name)}))))),d.a.createElement(W.a.Item,Object.assign({label:"Default Note"},t),a("default_notes",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.default_notes:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ce.a,{placeholder:"Default Note"}))),d.a.createElement(W.a.Item,null,d.a.createElement(g.a,{style:{margin:5},type:"primary",htmlType:"submit"},"Submit"),e.props.history?d.a.createElement(g.a,{style:{margin:5},onClick:function(){return e.props.history.goBack()}},"Cancel"):null))))}}]),t}(d.a.Component),pe=W.a.create()(me),he=a(261),fe=(b.a.Column,b.a.ColumnGroup,M.a.TabPane,function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleClick=function(e){a.setState({current:e.key})},a.changeSearchValue=function(e){a.setState({searchString:e},(function(){this.loadProcedures()}))},a.state={current:"staff",procedure_category:null,editingProcedureData:null,loading:!0},a.loadProcedures=a.loadProcedures.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadProcedures()}},{key:"loadProcedures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this,a={page:e};this.state.searchString&&(a.name=this.state.searchString);var n=function(e){1==e.current&&t.state.searchString==a.name?t.setState({procedure_category:e.results,next:e.next,loading:!1}):t.setState((function(t){return{procedure_category:[].concat(Object(oe.a)(t.procedure_category),Object(oe.a)(e.results)),next:e.next,loading:!1}}))},i=function(){};Object(S.c)(Object(S.f)(k.Lc,[this.props.active_practiceId]),n,i,a)}},{key:"deleteObject",value:function(e){var t=this,a={id:e.id,is_active:!1};a.is_active=!1;Object(S.j)(Object(S.f)(k.Lc,[this.props.active_practiceId]),a,(function(e){t.loadProcedures()}),(function(){}))}},{key:"editProcedure",value:function(e){this.setState({editingProcedureData:e,loading:!1});var t="/settings/procedures/".concat(e.id,"/editprocedure");this.props.history.push(t)}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Procedure Name",dataIndex:"name",key:"name"},{title:"Procedure Unit Cost",dataIndex:"cost_with_tax",key:"cost"},{title:"MLM Margin",dataIndex:"margin",key:"margin",render:function(e){return d.a.createElement("span",null,e?e.name:null)}},{title:"Applicable Taxes",dataIndex:"taxes",key:"taxes",render:function(e){return d.a.createElement("span",null,e&&e.length?e.map((function(e){return d.a.createElement(w.a,null," ",e.name,"|",d.a.createElement("b",null,e.tax_value,"%"))})):null)}},{title:"Standard Notes",dataIndex:"default_notes",key:"default_notes"},{title:"Action",key:"action",render:function(a,n){return d.a.createElement("span",null,d.a.createElement(j.b,{to:"/settings/procedures/addprocedure?under=".concat(n.id)},"Add SubCategory"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement("a",{onClick:function(){return e.editProcedure(n)}},"Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}];return d.a.createElement(u.d,null,d.a.createElement(u.b,{path:"/settings/procedures/addprocedure",render:function(t){return e.props.activePracticePermissions.SettingsProcedureCatalog||e.props.allowAllPermissions?d.a.createElement(pe,Object.assign({},e.props,t,{loadData:e.loadProcedures})):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/procedures/:id/editprocedure",render:function(a){return t.props.activePracticePermissions.SettingsProcedureCatalog||t.props.allowAllPermissions?t.state.editingProcedureData?d.a.createElement(pe,Object.assign({},e.state,e.props,a,{loadData:e.loadProcedures})):d.a.createElement(u.a,{to:"/settings/procedures"}):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,null,d.a.createElement(p.a,null,d.a.createElement("h2",null,"Procedures Catalog",d.a.createElement(j.b,{to:"/settings/procedures/addprocedure"},d.a.createElement(g.a,{type:"primary",style:{float:"right"}},d.a.createElement(y.a,{type:"plus"}),"\xa0Add Procedure"))),d.a.createElement(O.a,null,d.a.createElement("div",{className:"row mar-b-10"},d.a.createElement("div",{className:"col-md-12"},d.a.createElement(ce.a,{onChange:function(t){return e.changeSearchValue(t.target.value)},value:this.state.searchString,style:{width:200},placeholder:"Search Procedure..."}))),d.a.createElement(b.a,{columns:a,pagination:!1,dataSource:this.state.procedure_category}),d.a.createElement(he.a,{loading:this.state.loading,hidden:!this.state.next,loaderFunction:function(){return e.loadProcedures(e.state.next)}})))))}}]),t}(d.a.Component)),be=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,modes:null},a.loadData=a.loadData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Ac,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({modes:t})}),(function(){}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editPayment",value:function(e){this.setState({editingId:e.id,editingmode:e.mode,editingType:e.payment_type,editingFee:e.fee,visible:!0})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(k.Ac,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Mode of Payment",placeholder:"",dataIndex:"mode",key:"mode"},{title:"Payment Type",dataIndex:"payment_type",key:"payment_type"},{title:"Fees",dataIndex:"fee",key:"fee",render:function(e,t){return d.a.createElement("span",null,e," %")}},{title:"Action",key:"action",render:function(a,n){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editPayment(n)}},"Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this payment mode?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}],n=[{label:"Mode of payment",key:"mode",required:!0,type:L.W},{label:"Payment Type",key:"payment_type",required:!0,type:L.Nb,options:B.rb},{label:"Vendor Fee",key:"fee",required:!0,type:L.pb,min:0,follow:"%"}],i=[{label:"Mode of payment",key:"mode",required:!0,initialValue:this.state.editingmode,type:L.W},{label:"Payment Type",key:"payment_type",required:!0,initialValue:this.state.editingType,type:L.Nb,options:B.rb},{label:"Vendor Fee",key:"fee",required:!0,initialValue:this.state.editingFee,type:L.pb,min:0,follow:"%"}],l={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(S.a)(L.Sb,"sucess")},errorFn:function(){},action:Object(S.f)(k.Ac,[this.props.active_practiceId]),method:"post"},s=[{key:"practice",value:this.props.active_practiceId}],r=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],c=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement(c,Object.assign({defaultValues:s,formProp:l,fields:n},this.props)),d.a.createElement(_.a,null),d.a.createElement(G.a,{columns:a,dataSource:this.state.modes}),d.a.createElement(m.a,{title:"Edit Payment Mode",visible:this.state.visible,footer:null,onCancel:this.handleCancel},d.a.createElement(c,{defaultValues:r,formProp:l,fields:i}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return")))}}]),t}(d.a.Component),ge=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,taxes:null,loading:!0},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Fd,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({taxes:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editingId:e.id,editingName:e.name,editingValue:e.tax_value,visible:!0})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(k.Fd,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Tax Value",dataIndex:"tax_value",key:"tax_value",render:function(e,t){return d.a.createElement("span",null,e," %")}},{title:"Actions",key:"action",render:function(t,a){return d.a.createElement("span",null,d.a.createElement(E.a,{title:"Are you sure delete this?",onConfirm:function(){return e.deleteObject(a)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}],a=[{label:"Tax name",key:"name",placeholder:"Tax Name",required:!0,type:L.W},{label:"Tax Value",key:"tax_value",follow:"%",max:100,min:0,required:!0,type:L.pb}],n=[{label:"Tax name",key:"name",required:!0,initialValue:this.state.editingName,type:L.W},{label:"Tax Value",key:"tax_value",follow:"%",max:100,min:0,required:!0,initialValue:this.state.editingValue,type:L.pb}],i={successFn:function(t){e.handleCancel(),e.loadData(),console.log(t),console.log("sucess"),Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.Fd,[this.props.active_practiceId]),method:"post"},l=[{key:"practice",value:this.props.active_practiceId}],s=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],r=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement(r,Object.assign({defaultValues:l,formProp:i,fields:a},this.props)),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:t,dataSource:this.state.taxes}),d.a.createElement(m.a,{title:"Edit Tax",visible:this.state.visible,footer:null,onCancel:this.handleCancel},d.a.createElement(r,{defaultValues:s,formProp:i,fields:n}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(d.a.Component),ye=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={practiceDetail:{}},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Dc,[this.props.active_practiceId]),(function(t){var a=t.countries;e.setState({countries:a,practiceDetail:t})}),(function(){}))}},{key:"render",value:function(){var e=[{key:"hide_cancelled_invoice",type:L.Ob,follow:d.a.createElement("b",null,"Hide Cancelled Invoice"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_invoice},{key:"hide_cancelled_return",type:L.Ob,follow:d.a.createElement("b",null,"Hide Cancelled Return Invoice"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_return},{key:"hide_cancelled_payment",type:L.Ob,follow:d.a.createElement("b",null,"Hide Cancelled Payments"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_payment}],t={successFn:function(e){Object(S.a)(L.Sb,"Settings Saved Successfuly!!")},errorFn:function(){},action:Object(S.f)(k.Dc,[this.props.active_practiceId]),method:"put"},a=W.a.create()(R.a),n=[{key:"id",value:this.props.active_practiceId}];return d.a.createElement("div",null,d.a.createElement(a,Object.assign({formProp:t,fields:e},this.props,{defaultValues:n})))}}]),t}(d.a.Component),Ee=M.a.TabPane,_e=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={defaultActiveKey:a.props.location.hash},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(p.a,null,d.a.createElement("h2",null,"Billing"),d.a.createElement(O.a,null,d.a.createElement(M.a,{defaultActiveKey:this.state.defaultActiveKey},d.a.createElement(Ee,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"cluster"}),"Tax Catalog"),key:"#taxcatalog"},d.a.createElement(ge,Object.assign({},this.state,this.props))),d.a.createElement(Ee,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"dollar"}),"Accepted Modes of payment "),key:"#paymentmodes"},d.a.createElement(be,this.props)),d.a.createElement(Ee,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"block"}),"Cancelled Invoice"),key:"cancelledinvoice"},d.a.createElement(ye,Object.assign({},this.state,this.props)))))))}}]),t}(d.a.Component),ve=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,data:null,loading:!0},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(this.props.id,[this.props.active_practiceId]),(function(t){e.setState({data:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editFunction",value:function(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(this.props.id,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editFunction(n)}},"  Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}],n=[{label:this.props.name,key:"name",required:!0,type:L.W}],i=[{label:this.props.name,key:"name",required:!0,initialValue:this.state.editingName,type:L.W}],l={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(this.props.id,[this.props.active_practiceId]),method:"post"},s=[{key:"practice",value:this.props.active_practiceId}],r=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],c=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement(c,{defaultValues:s,formProp:l,fields:n}),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.data}),d.a.createElement(m.a,{title:"Edit ".concat(this.props.name),visible:this.state.visible,footer:null,onCancel:this.handleCancel},d.a.createElement(c,{defaultValues:r,formProp:l,fields:i}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(d.a.Component),Oe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={redirect:!1,vitalSign:null},a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a.loadVitalSign=a.loadVitalSign.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadVitalSign()}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"loadVitalSign",value:function(){var e=this;Object(S.c)(Object(S.f)(k.lb,[e.props.active_practiceId]),(function(t){e.setState({vitalSign:t[t.length-1]})}),(function(){e.setState({})}))}},{key:"render",value:function(){var e=[{label:"Default temperature measurement in",key:"temperature_unit",type:L.Nb,initialValue:this.state.vitalSign?this.state.vitalSign.temperature_unit:null,options:B.u.map((function(e){return{label:e.label,value:e.value}}))},{label:"Default temperature measurement method",key:"temperature_method",type:L.Nb,initialValue:this.state.vitalSign?this.state.vitalSign.temperature_method:null,options:B.v.map((function(e){return{label:e.label,value:e.value}}))},{label:"Default blood pressure measurement method",key:"blood_pressure_method",initialValue:this.state.vitalSign?this.state.vitalSign.blood_pressure_method:null,type:L.Nb,options:B.t.map((function(e){return{label:e.label,value:e.value}}))}],t=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.vitalSign?this.state.vitalSign.id:null}],a=W.a.create()(R.a),n={successFn:function(e){Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.lb,[this.props.active_practiceId]),method:"post"};return d.a.createElement(p.a,null,d.a.createElement(a,{defaultValues:t,formProp:n,fields:e}))}}]),t}(d.a.Component),je=M.a.TabPane,ke=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={defaultActiveKey:a.props.location.hash},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("propss",this.props),d.a.createElement("div",null,d.a.createElement(p.a,null,d.a.createElement("h2",null,"EMR Settings"),d.a.createElement(O.a,null,d.a.createElement(M.a,{defaultActiveKey:this.state.defaultActiveKey},d.a.createElement(je,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"sound"}),"Complaints"),key:"#complaints"},d.a.createElement(ve,Object.assign({},this.props,{id:k.db,name:"Complaints"}))),d.a.createElement(je,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"eye"}),"Observations"),key:"#observations"},d.a.createElement(ve,Object.assign({},this.props,{id:k.ib,name:"Observations"}))),d.a.createElement(je,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"plus-square"}),"Diagnoses"),key:"#diagnoses"},d.a.createElement(ve,Object.assign({},this.props,{id:k.eb,name:"Diagnoses"}))),d.a.createElement(je,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"laptop"}),"Investigations"),key:"#investigations"},d.a.createElement(ve,Object.assign({},this.props,{id:k.gb,name:"Investigations"}))),d.a.createElement(je,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"solution"}),"Notes"),key:"#treatmentnotes"},d.a.createElement(ve,Object.assign({},this.props,{id:k.kb,name:"Treatment Notes"}))),d.a.createElement(je,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"medicine-box"}),"Medication"),key:"#medication"},d.a.createElement(ve,Object.assign({},this.props,{id:k.hb,name:"Medication"}))),d.a.createElement(je,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"file"}),"File Labels"),key:"#filetags"},d.a.createElement(ve,Object.assign({},this.props,{id:k.fb,name:"File Labels"}))),d.a.createElement(je,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"heart"}),"Vital Signs"),key:"#vitalsigns"},d.a.createElement(Oe,this.props))))))}}]),t}(d.a.Component),Se=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state=Object(A.a)({practiceDetail:null,countries:null},B.Fb,[]),a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"componentDidMount",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Dc,[this.props.practiceId]),(function(t){var a=t.countries;e.setState({countries:a,practiceDetail:t})}),(function(){})),Object(ee.c)(this,[B.Fb])}},{key:"render",value:function(){var e=[];if(this.state.practiceDetail&&this.state.practiceDetail.specialisations.forEach((function(t){e.push({label:t.name,value:t.id})})),this.state.practiceDetail){var t=[{label:"Practice Logo",key:"logo",type:L.Pb,initialValue:this.state.practiceDetail.logo,allowWebcam:!1},{label:"Practice Name",key:"name",required:!0,placeholder:"Practice Name",initialValue:this.state.practiceDetail.name,type:L.W},{label:"Practice Tagline",key:"tagline",placeholder:"Practice Tagline",required:!0,initialValue:this.state.practiceDetail.tagline,type:L.W},{label:"Practice Specialisation",key:"specialisation",placeholder:"Practice Specialisation",initialValue:this.state.practiceDetail.specialisation,type:L.W},{label:"Practice Street Address",key:"address",placeholder:"Practice Street Address",initialValue:this.state.practiceDetail.address,type:L.W},{label:"Practice locality",initialValue:this.state.practiceDetail.locality,key:"locality",placeholder:"Practice Locality",type:L.W},{label:"Practice City",initialValue:this.state.practiceDetail.City,placeholder:"Practice City",key:"city",type:L.W},{label:"Practice state",key:"state",placeholder:"Practice State",initialValue:this.state.practiceDetail.state,type:L.W},{label:"Practice Country",key:"country",placeholder:"Practice Country",initialValue:this.state.practiceDetail.country,type:L.W},{label:"Practice PINCODE",key:"pincode",placeholder:"Practice PINCODE",initialValue:this.state.practiceDetail.pincode,type:L.W},{label:"Practice Contact Number",key:"contact",placeholder:"Practice Contact Number",initialValue:this.state.practiceDetail.contact,type:L.W},{label:"Practice Email",key:"email",placeholder:"Practice Email",initialValue:this.state.practiceDetail.email,type:L.P},{label:"SMS Language",key:"language",placeholder:"SMS Language",initialValue:this.state.practiceDetail&&this.state.practiceDetail.language?this.state.practiceDetail.language:this.props.activePracticeData.language,type:L.Nb,options:this.state[B.Fb].map((function(e){return{label:e,value:e}}))},{label:"Practice website",key:"website",placeholder:"Practice Website",initialValue:this.state.practiceDetail.website,type:L.W},{label:"GSTIN",initialValue:this.state.practiceDetail.gstin,placeholder:"GSTIN",key:"gstin",type:L.W},{label:"Invoice Prefix",initialValue:this.state.practiceDetail.invoice_prefix,placeholder:"DEL/INV/",key:"invoice_prefix",type:L.W,required:!0},{label:"Payment Prefix",initialValue:this.state.practiceDetail.payment_prefix,placeholder:"DEL/RCPT/",key:"payment_prefix",type:L.W,required:!0},{label:"Return Prefix",placeholder:"DEL/RET/",initialValue:this.state.practiceDetail.return_prefix,key:"return_prefix",type:L.W,required:!0}],a=W.a.create()(R.a),n={successFn:function(e){Object(S.a)(L.Sb,"success"),this.props.history&&this.props.history.replace("/settings/clinics")},errorFn:function(){},action:Object(S.f)(k.Dc,[this.props.practiceId]),method:"put"};return d.a.createElement(p.a,null,d.a.createElement(O.a,null,d.a.createElement(a,Object.assign({title:"Edit Practice Details",changeRedirect:this.changeRedirect,formProp:n,fields:t},this.props)),this.state.redirect&&d.a.createElement(u.a,{to:"/settings/clinics"})))}return d.a.createElement(O.a,{loading:!0})}}]),t}(d.a.Component),Pe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).setFormParams=function(e,t){a.setState(Object(A.a)({},e,t))},a.handleSubmit=function(e){var t=Object(v.a)(a);a.props.form.validateFieldsAndScroll((function(a,n){var i=Object(T.a)({},n,{practice:t.props.active_practiceId,maintain_inventory:e,item_type:B.z});t.state.editPrescreption&&(i.id=t.state.editPrescreption.id);Object(S.j)(k.xb,i,(function(e){Object(S.a)(L.Sb,"success"),t.props.loadData();t.props.history.replace("/settings/prescriptions")}),(function(){}))}))},a.state={drugTypeList:[],drugUnitList:[],editPrescreption:a.props.editCatalog?a.props.editCatalog:null},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadDrugType(),this.loadDrugUnit()}},{key:"loadDrugType",value:function(){var e=this;Object(S.c)(Object(S.f)(k.ab,[this.props.active_practiceId]),(function(t){e.setState({drugTypeList:t})}),(function(){}))}},{key:"loadDrugUnit",value:function(){var e=this;Object(S.c)(Object(S.f)(k.bb,[this.props.active_practiceId]),(function(t){e.setState({drugUnitList:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=this.props.formLayout?this.props.formLayout:{labelCol:{span:6},wrapperCol:{span:14}},n=this.props.form.getFieldDecorator;return d.a.createElement(O.a,null,d.a.createElement(W.a,null,d.a.createElement("h2",null,this.props.title),d.a.createElement(W.a.Item,Object.assign({key:"name",label:"Name"},a),n("name",{initialValue:t.state.editPrescreption?t.state.editPrescreption.name:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ce.a,{placeholder:"Medicine Name"}))),this.state.drugType&&this.state.drugType==L.W?d.a.createElement(W.a.Item,Object.assign({key:"drug_type_extra",label:"Medicine Type"},a),n("drug_type_extra",{initialValue:t.state.editPrescreption?t.state.editPrescreption.drug_type_extra:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ce.a,null)),d.a.createElement("a",{onClick:function(){return t.setFormParams("drugType",L.Nb)}},"Choose Medicine Type")):d.a.createElement(W.a.Item,Object.assign({key:"drug_type"},a,{label:"Medicine Type"}),n("drug_type",{initialValue:this.state.editPrescreption?this.state.editPrescreption.drug_type:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ne.a,null,t.state.drugTypeList.map((function(e){return d.a.createElement(ne.a.Option,{value:e.id},e.name)})))),d.a.createElement("a",{onClick:function(){return t.setFormParams("drugType",L.W)}},"Add New Medicine Type")),d.a.createElement(W.a.Item,Object.assign({key:"strength"},a,{label:"Dosage"}),n("strength",{initialValue:t.state.editPrescreption?t.state.editPrescreption.strength:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ue.a,{min:0}))),this.state.drugUnit&&this.state.drugUnit==L.W?d.a.createElement(W.a.Item,Object.assign({key:"unit_type_extra",label:"Medicine Unit"},a),n("unit_type_extra",{initialValue:t.state.editPrescreption?t.state.editPrescreption.unit_type_extra:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ce.a,null)),d.a.createElement("a",{onClick:function(){return t.setFormParams("drugUnit",L.Nb)}},"Choose Medicine Unit")):d.a.createElement(W.a.Item,Object.assign({key:"stength_unit"},a,{label:"Medicine Unit"}),n("stength_unit",{initialValue:this.state.editPrescreption?this.state.editPrescreption.stength_unit:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ne.a,null,t.state.drugUnitList.map((function(e){return d.a.createElement(ne.a.Option,{value:e.id},e.name)})))),d.a.createElement("a",{onClick:function(){return t.setFormParams("drugUnit",L.W)}},"Add New Medicine Unit")),d.a.createElement(W.a.Item,Object.assign({key:"instructions"},a,{label:"Instructions"}),n("instructions",{initialValue:t.state.editPrescreption?t.state.editPrescreption.instructions:null})(d.a.createElement(ce.a,null))),d.a.createElement(W.a.Item,a,d.a.createElement(g.a,{onClick:function(){return e.handleSubmit(!1)}},"Save Medicine"),"\xa0\xa0\xa0",d.a.createElement(g.a,{onClick:function(){return e.handleSubmit(!0)},type:"primary"},"Save & Add to Inventory"),"\xa0\xa0\xa0",t.props.history?d.a.createElement(g.a,{onClick:function(){return t.props.history.goBack()}},"Cancel"):null)))}}]),t}(d.a.Component),xe=W.a.create()(Pe),De=(d.a.Component,function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={catalog:null,editCatalog:{},loading:!0,loadMorePrescriptions:null},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a.loadInitialData=a.loadInitialData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(k.xb,(function(t){console.log("get table"),e.setState({catalog:t.results,loadMorePrescriptions:t.next,loading:!1})}),(function(){e.setState({loading:!1})}),{practice:this.props.active_practiceId,item_type:B.z,maintain_inventory:!1,page:e.state.loadMorePrescriptions||1})}},{key:"loadInitialData",value:function(){var e=this;this.setState({loadMorePrescriptions:null},(function(){e.loadData()}))}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(k.xb,a,(function(e){t.loadData()}),(function(){}))}},{key:"editCatalog",value:function(e){this.setState({editCatalog:e,loading:!1}),this.props.history.push("/settings/prescriptions/edit")}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"name",key:"code"},{title:"Dosage",dataIndex:"strength",key:"strength",render:function(e,t){return d.a.createElement("span",null,e,"\xa0",t.stength_unit)}},{title:"Medicine Instructions",dataIndex:"instructions",key:"instructions"},{title:"Action",key:"action",render:function(a,n){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editCatalog(n)}},"Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this prescription?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}];return d.a.createElement(p.a,null,d.a.createElement(u.d,null,d.a.createElement(u.b,{exact:!0,path:"/settings/prescriptions/add",render:function(){return d.a.createElement(xe,Object.assign({},e.props,{loadData:e.loadInitialData,title:"Add Prescription"}))}}),d.a.createElement(u.b,{exact:!0,path:"/settings/prescriptions/edit",render:function(t){return e.state.editCatalog.id?d.a.createElement(xe,Object.assign({},e.state,{title:"Edit Prescription",loadData:e.loadInitialData},e.props,t)):d.a.createElement(u.a,{to:"/settings/prescriptions/"})}}),d.a.createElement(u.b,null,d.a.createElement("div",null,d.a.createElement("h2",null,"All presciptions",d.a.createElement(j.b,{to:"/settings/prescriptions/add"},d.a.createElement(g.a,{type:"primary",style:{float:"right"}},d.a.createElement(y.a,{type:"plus"}),"\xa0Add"))),d.a.createElement(O.a,null,d.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.catalog,pagination:!1})),d.a.createElement(he.a,{loaderFunction:this.loadData,loading:this.state.loading,hidden:!this.state.loadMorePrescriptions})))))}}]),t}(d.a.Component)),Ie=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showDeletedExpenses=function(){a.setState({showDeleted:!0,deletedLoading:!0}),a.loadData(!0)},a.state={redirect:!1,visible:!1,expenses:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedExpenses:[]},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,a=function(a){console.log("get table"),e?t.setState({deletedExpenses:a,deletedLoading:!1}):t.setState({expenses:a,loading:!1})},n=function(){};e?Object(S.c)(Object(S.f)(k.qb,[this.props.active_practiceId]),a,n,{deleted:!0}):Object(S.c)(Object(S.f)(k.qb,[this.props.active_practiceId]),a,n)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editingId:e.id,editingName:e.name,editingValue:e.tax_value,loading:!1,visible:!0})}},{key:"deleteObject",value:function(e,t){var a=this,n=e;n.is_active=t;Object(S.j)(Object(S.f)(k.qb,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Expense Type",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return n.is_active?d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editTax(n)}},"  Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure to delete this?",onConfirm:function(){return t.deleteObject(n,!1)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete"))):d.a.createElement("span",null,d.a.createElement(E.a,{title:"Are you sure to show this?",onConfirm:function(){return t.deleteObject(n,!0)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Show")))}}],n=[{label:"Expense Type",key:"name",placeholder:"Expense Type",required:!0,type:L.W}],i=[{label:"Expense Type",key:"name",required:!0,initialValue:this.state.editingName,type:L.W}],l={successFn:function(e){t.handleCancel(),t.loadData(),Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.qb,[this.props.active_practiceId]),method:"post"},s=[{key:"practice",value:this.props.active_practiceId}],r=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],c=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement("h2",null,"Expense Types"),d.a.createElement(O.a,null,d.a.createElement(c,{defaultValues:s,formProp:l,fields:n}),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.expenses}),this.state.showDeleted?d.a.createElement("div",null,d.a.createElement(G.a,{loading:this.state.deletedLoading,columns:a,dataSource:this.state.deletedExpenses})):d.a.createElement("h4",null,d.a.createElement("a",{onClick:function(){return e.showDeletedExpenses()}},"Show Deleted Expense Types"))),d.a.createElement(m.a,{title:"Edit Expense Type",visible:this.state.visible,footer:null,onCancel:this.handleCancel},d.a.createElement(c,{defaultValues:r,formProp:l,fields:i}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return")))}}]),t}(d.a.Component),Ce=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showDeletedMedicalHistory=function(){a.setState({showDeleted:!0,deletedLoading:!0}),a.loadData(!0)},a.state={redirect:!1,visible:!1,history:null,loading:!0,deletedHistory:[],showDeleted:!1,deletedLoading:!1},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,a=function(a){console.log("get table"),e?t.setState({deletedHistory:a,deletedLoading:!1}):t.setState({history:a,loading:!1})},n=function(){t.setState({loading:!1})};e?Object(S.c)(Object(S.f)(k.Vb,[this.props.active_practiceId]),a,n,{deleted:!0}):Object(S.c)(Object(S.f)(k.Vb,[this.props.active_practiceId]),a,n)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}},{key:"deleteObject",value:function(e,t){var a=this,n=e;n.is_active=t;Object(S.j)(Object(S.f)(k.Vb,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Medical History",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return n.is_active?d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editTax(n)}},"  Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure to delete this?",onConfirm:function(){return t.deleteObject(n,!1)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete"))):d.a.createElement("span",null,d.a.createElement(E.a,{title:"Are you sure to show this?",onConfirm:function(){return t.deleteObject(n,!0)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Show")))}}],n=[{label:"Medical History",key:"name",required:!0,type:L.W}],i=[{label:"Medical history ",key:"name",required:!0,initialValue:this.state.editingName,type:L.W}],l={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.Vb,[this.props.active_practiceId]),method:"post"},s=[{key:"id",value:this.state.editingId}],r=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement("h2",null,"Medical History"),d.a.createElement(O.a,null,d.a.createElement(r,{defaultValues:[],formProp:l,fields:n}),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.history}),this.state.showDeleted?d.a.createElement("div",null,d.a.createElement(G.a,{loading:this.state.deletedLoading,columns:a,dataSource:this.state.deletedHistory})):d.a.createElement("h4",null,d.a.createElement("a",{onClick:function(){return e.showDeletedMedicalHistory()}},"Show Deleted Medical History"))),d.a.createElement(m.a,{title:"Basic Modal",visible:this.state.visible,footer:null},d.a.createElement(r,{title:"Change history",defaultValues:s,formProp:l,fields:i}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(d.a.Component),we=a(474),Ae=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],Te=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).changeVistingHourSameWeek=function(e){console.log(e.target),a.setState(Object(A.a)({},e.target.id,e.target.checked))},a.changeOpenPracticeDays=function(e,t){a.setState((function(a){return{openPracticeDays:Object(T.a)({},a.openPracticeDays,Object(A.a)({},e,t))}}))},a.changePracticeTwoSessions=function(e,t){a.setState((function(a){return{twoSessions:Object(T.a)({},a.twoSessions,Object(A.a)({},e,t))}}))},a.handleSubmit=function(e){var t=Object(v.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,n){if(!e){console.log(n);var i=Object(T.a)({},n);i.first_start_time&&(i.first_start_time=N()(i.first_start_time).format("HH:mm")),i.first_end_time&&(i.first_end_time=N()(i.first_end_time).format("HH:mm")),i.second_start_time&&(i.second_start_time=N()(i.second_start_time).format("HH:mm")),i.second_end_time&&(i.second_end_time=N()(i.second_end_time).format("HH:mm")),Ae.forEach((function(e){i["first_start_time_".concat(e)]&&(i["first_start_time_".concat(e)]=N()(i["first_start_time_".concat(e)]).format("HH:mm")),i["first_end_time_".concat(e)]&&(i["first_end_time_".concat(e)]=N()(i["first_end_time_".concat(e)]).format("HH:mm")),i["second_start_time_".concat(e)]&&(i["second_start_time_".concat(e)]=N()(i["second_start_time_".concat(e)]).format("HH:mm")),i["second_end_time_".concat(e)]&&(i["second_end_time_".concat(e)]=N()(i["second_end_time_".concat(e)]).format("HH:mm"))})),t.state.timings&&(i.id=t.state.timings.id);Object(S.j)(Object(S.f)(k.J,[a.props.active_practiceId]),i,(function(e){t.loadData(),Object(S.a)(L.Sb,"Calendar Timings Saved successfully!!")}),(function(){}))}}))},a.state={redirect:!1,visible:!1,timings:null,loading:!0,visting_hour_same_week:!0,openPracticeDays:{},twoSessions:{}},a.loadData=a.loadData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.J,[this.props.active_practiceId]),(function(t){var a=!0,n={},i={};if(t.length&&t[0]){var l=t[0];Ae.forEach((function(e){n[e]=l[e],i["is_two_sessions_".concat(e)]=l["is_two_sessions_".concat(e)]})),a=l.visting_hour_same_week,i.is_two_sessions=l.is_two_sessions}e.setState({timings:t[0],visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1})}),(function(){e.setState({timings:{},loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t=this,a=this.props.formLayout?this.props.formLayout:{labelCol:{span:12},wrapperCol:{span:12}},n=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(W.a,{onSubmit:this.handleSubmit},d.a.createElement(W.a.Item,Object.assign({key:"today_first_day"},a),n("today_first_day",{valuePropName:"checked",initialValue:!!t.state.timings&&t.state.timings.today_first_day},{rules:[{message:q.j}]})(d.a.createElement(I.a,null,"Always show today as first day on my calendar"))),d.a.createElement(W.a.Item,Object.assign({key:"calendar_slot"},a,{label:"Show Calendar Slots of"}),n("calendar_slot",{initialValue:t.state.timings?t.state.timings.calendar_slot:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ue.a,{min:5})),d.a.createElement("span",{className:"ant-form-text"},"mins.")),d.a.createElement(W.a.Item,Object.assign({key:"visting_hour_same_week"},a),n("visting_hour_same_week",{valuePropName:"checked",initialValue:!!t.state.timings&&t.state.timings.visting_hour_same_week},{rules:[{message:q.j}]})(d.a.createElement(I.a,{onChange:this.changeVistingHourSameWeek},"Visiting hours are  same for all working days in a week"))),d.a.createElement(_.a,{style:{margin:4}}),this.state.visting_hour_same_week?d.a.createElement("div",null,d.a.createElement(p.a,null,d.a.createElement(h.a,{span:4}),d.a.createElement(h.a,{span:18},d.a.createElement(W.a.Item,Object.assign({key:"is_two_sessions"},a),n("is_two_sessions",{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings.is_two_sessions||t.state.twoSessions.is_two_sessions)},{rules:[{message:q.j}]})(d.a.createElement(I.a,{onChange:function(t){return e.changePracticeTwoSessions("is_two_sessions",t.target.checked)}},"Practice operates in two sessions."))),d.a.createElement(p.a,{gutter:16},d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"first_start_time",label:"Practice Starts At"},a),n("first_start_time",{initialValue:t.state.timings&&t.state.timings.first_start_time?N()(t.state.timings.first_start_time,"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm",allowClear:!1})))),t.state.twoSessions.is_two_sessions?d.a.createElement("div",null,d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"first_end_time",label:"Lunch At"},a),n("first_end_time",{initialValue:t.state.timings&&t.state.timings.first_end_time?N()(t.state.timings.first_end_time,"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm",allowClear:!1})))),d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"second_start_time",label:"Resume At"},a),n("second_start_time",{initialValue:t.state.timings&&t.state.timings.second_start_time?N()(t.state.timings.second_start_time,"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm",allowClear:!1}))))):null,d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"second_end_time",label:"Practice Ends At"},a),n("second_end_time",{initialValue:t.state.timings&&t.state.timings.second_end_time?N()(t.state.timings.second_end_time,"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm",allowClear:!1}))))))),d.a.createElement(_.a,{style:{margin:4}})):Ae.map((function(i){return d.a.createElement("div",{key:i},d.a.createElement(p.a,null,d.a.createElement(h.a,{span:4},d.a.createElement("h4",null,i.replace(/^\w/,(function(e){return e.toUpperCase()})))),d.a.createElement(h.a,{span:18},d.a.createElement(W.a.Item,Object.assign({key:"".concat(i)},a),n("".concat(i),{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings["".concat(i)]||t.state.openPracticeDays[i])},{rules:[{message:q.j}]})(d.a.createElement(I.a,{onChange:function(e){return t.changeOpenPracticeDays(i,e.target.checked)}},"Practice is open on ".concat(i.replace(/^\w/,(function(e){return e.toUpperCase()})))))),t.state.openPracticeDays[i]?d.a.createElement("div",null,d.a.createElement(W.a.Item,Object.assign({key:"is_two_sessions_".concat(i)},a),n("is_two_sessions_".concat(i),{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings["is_two_sessions_".concat(i)]||t.state.twoSessions["is_two_sessions_".concat(i)])},{rules:[{message:q.j}]})(d.a.createElement(I.a,{onChange:function(t){return e.changePracticeTwoSessions("is_two_sessions_".concat(i),t.target.checked)}},"Practice operates in two sessions."))),d.a.createElement(p.a,{gutter:16},d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"first_start_time_".concat(i),label:"Practice Starts At"},a),n("first_start_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["first_start_time_".concat(i)]?N()(t.state.timings["first_start_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm",allowClear:!1})))),t.state.twoSessions["is_two_sessions_".concat(i)]?d.a.createElement("div",null,d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"first_end_time_".concat(i),label:"Lunch At"},a),n("first_end_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["first_end_time_".concat(i)]?N()(t.state.timings["first_end_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm",allowClear:!1})))),d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"second_start_time_".concat(i),label:"Resume At"},a),n("second_start_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["second_start_time_".concat(i)]?N()(t.state.timings["second_start_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm",allowClear:!1}))))):null,d.a.createElement(h.a,{span:12},d.a.createElement(W.a.Item,Object.assign({key:"second_end_time_".concat(i),label:"Practice Ends At"},a),n("second_end_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["second_end_time_".concat(i)]?N()(t.state.timings["second_end_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:q.j}]})(d.a.createElement(H.a,{format:"HH:mm",allowClear:!1})))))):null)),d.a.createElement(_.a,{style:{margin:4}}))})),d.a.createElement(W.a.Item,a,d.a.createElement(g.a,{loading:t.state.loading,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),t.props.history?d.a.createElement(g.a,{style:{margin:5},onClick:function(){return t.props.history.goBack()}},"Cancel"):null)))}}]),t}(d.a.Component),Me=W.a.create()(Te),Ve=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,appointmentCategories:null,loading:!0},a.loadAppointmentCategories=a.loadAppointmentCategories.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentCategories()}},{key:"loadAppointmentCategories",value:function(){var e=this;Object(S.c)(Object(S.f)(k.p,[this.props.active_practiceId]),(function(t){e.setState((function(e){return t.forEach((function(e){e.color=Object(ee.b)(Object(ee.a)(e.name))})),{appointmentCategories:t,loading:!1}}))}),(function(){}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editCategory",value:function(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(k.p,[this.props.active_practiceId]),a,(function(e){t.loadAppointmentCategories()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{dataIndex:"color",key:"color",render:function(e){return d.a.createElement(w.a,{color:"#".concat(e)},"#")}},{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editCategory(n)}},"  Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}],n=[{label:"Category name",key:"name",placeholder:"Category Name",required:!0,type:L.W}],i=[{label:"Category name",key:"name",required:!0,initialValue:this.state.editingName,type:L.W}],l={successFn:function(e){t.handleCancel(),t.loadAppointmentCategories(),console.log(e),console.log("sucess"),Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.p,[this.props.active_practiceId]),method:"post"},s=[{key:"id",value:this.state.editingId}],r=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement(r,Object.assign({defaultValues:[],formProp:l,fields:n},this.props)),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.appointmentCategories}),d.a.createElement(m.a,{title:"Edit Appointment Category",visible:this.state.visible,footer:null,onCancel:this.handleCancel},d.a.createElement(r,{defaultValues:s,formProp:l,fields:i}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(d.a.Component),Ne=M.a.TabPane,Re=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={loading:!0,defaultActiveKey:a.props.location.hash},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("h2",null,"Calendar Settings"),d.a.createElement(p.a,null,d.a.createElement(O.a,null,d.a.createElement(M.a,{defaultActiveKey:this.state.defaultActiveKey},d.a.createElement(Ne,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"schedule"}),"Calender Timings Settings"),key:"#timings"},d.a.createElement(Me,Object.assign({},this.state,this.props))),d.a.createElement(Ne,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"reconciliation"}),"Appointment Categories"),key:"#categories"},d.a.createElement(Ve,this.props))))))}}]),t}(d.a.Component),Le=(a(282),a(280)),Fe=c.a.Sider,He=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement(Fe,{trigger:null,collapsible:!0,style:{overflow:"auto",minHeight:"100vh",background:"#fff"}},d.a.createElement(Le.a,{mode:"inline",defaultSelectedKeys:["5"]},d.a.createElement(Le.a.ItemGroup,{key:"g1",title:d.a.createElement(_.a,{style:{margin:"0px"}},"Practice Settings")},this.props.activePracticePermissions.SettingsPracticeDetail?d.a.createElement(Le.a.Item,{key:"5"},d.a.createElement(j.b,{to:"/settings/clinics"},d.a.createElement(y.a,{type:"shop"}),"Practice Details")):null,this.props.activePracticePermissions.SettingsCommunincations?d.a.createElement(Le.a.Item,{key:"7"},d.a.createElement(j.b,{to:"/settings/communication-settings"},d.a.createElement(y.a,{type:"message"}),"Communication")):null,this.props.activePracticePermissions.SettingsCalendar?d.a.createElement(Le.a.Item,{key:"17"},d.a.createElement(j.b,{to:"/settings/calendarsettings#timings"},d.a.createElement(y.a,{type:"schedule"}),"Calendar")):null,this.props.activePracticePermissions.SettingsPracticeStaff?d.a.createElement(Le.a.Item,{key:"6"},d.a.createElement(j.b,{to:"/settings/clinics-staff"},d.a.createElement(y.a,{type:"team"}),"Practice Staff")):null,this.props.activePracticePermissions.SettingsAgents||this.props.allowAllPermissions?d.a.createElement(Le.a.Item,{key:"32"},d.a.createElement(j.b,{to:"/settings/agents"},d.a.createElement(y.a,{type:"usergroup-add"}),d.a.createElement("span",{className:"nav-text"},"Advisor"))):null,this.props.activePracticePermissions.SettingsAgentRoles||this.props.allowAllPermissions?d.a.createElement(Le.a.Item,{key:"33"},d.a.createElement(j.b,{to:"/settings/agent-roles"},d.a.createElement(y.a,{type:"apartment"}),d.a.createElement("span",{className:"nav-text"},"Advisor Roles"))):null,this.props.activePracticePermissions.SettingsProcedureCatalog?d.a.createElement(Le.a.Item,{key:"8"},d.a.createElement(j.b,{to:"/settings/procedures"},d.a.createElement(y.a,{type:"folder-open"}),"Procedure Catalog")):null,this.props.activePracticePermissions.SettingsBilling?d.a.createElement(Le.a.Item,{key:"9"},d.a.createElement(j.b,{to:"/settings/billing#taxcatalog"},d.a.createElement(y.a,{type:"audit"}),"Billing")):null,this.props.activePracticePermissions.SettingsLoyalty?d.a.createElement(Le.a.Item,{key:"10"},d.a.createElement(j.b,{to:"/settings/loyalty"},d.a.createElement(y.a,{type:"trophy"}),"Loyalty")):null,this.props.activePracticePermissions.SettingsMLMSettings?d.a.createElement(Le.a.Item,{key:"30"},d.a.createElement(j.b,{to:"/settings/mlm"},d.a.createElement(y.a,{type:"wallet"}),d.a.createElement("span",{className:"nav-text"},"MLM"))):null,this.props.activePracticePermissions.SettingsEMR?d.a.createElement(Le.a.Item,{key:"12"},d.a.createElement(j.b,{to:"/settings/emr#complaints"},d.a.createElement(y.a,{type:"file-text"})," EMR")):null,this.props.activePracticePermissions.SettingsPrescriptions?d.a.createElement(Le.a.Item,{key:"13"},d.a.createElement(j.b,{to:"/settings/prescriptions"},d.a.createElement(y.a,{type:"file-text"})," Prescriptions")):null,this.props.activePracticePermissions.SettingsLabs?d.a.createElement(Le.a.Item,{key:"14"},d.a.createElement(j.b,{to:"/settings/labs"},d.a.createElement(y.a,{type:"experiment"}),"Labs")):null,this.props.activePracticePermissions.SettingsPrintouts?d.a.createElement(Le.a.Item,{key:"18"},d.a.createElement(j.b,{to:"/settings/printout"},d.a.createElement(y.a,{type:"printer"})," Printout")):null,this.props.activePracticePermissions.SettingsMedicalHistory?d.a.createElement(Le.a.Item,{key:"15"},d.a.createElement(j.b,{to:"/settings/medical-history"},d.a.createElement(y.a,{type:"medicine-box"})," Medical History")):null,this.props.activePracticePermissions.SettingsExpenseTypes?d.a.createElement(Le.a.Item,{key:"16"},d.a.createElement(j.b,{to:"/settings/expense-types"},d.a.createElement(y.a,{type:"dollar"})," Expense Types")):null,d.a.createElement(Le.a.Item,{key:"20"},d.a.createElement(j.b,{to:"/settings/integration"},d.a.createElement(y.a,{type:"link"})," My Integrations"))),d.a.createElement(Le.a.ItemGroup,{key:"g2",title:d.a.createElement(_.a,{style:{margin:"0px"}},"Bed & Medicine")},this.props.activePracticePermissions.SettingsRoomTypes?d.a.createElement(Le.a.Item,{key:"22"},d.a.createElement(j.b,{to:"/settings/roomtypes"},d.a.createElement(y.a,{type:"apartment"})," Room Types")):null,this.props.activePracticePermissions.SettingsBedPackages?d.a.createElement(Le.a.Item,{key:"23"},d.a.createElement(j.b,{to:"/settings/bed-packages"},d.a.createElement(y.a,{type:"box-plot"})," Bed Packages")):null,this.props.activePracticePermissions.SettingsMedicinePackages?d.a.createElement(Le.a.Item,{key:"24"},d.a.createElement(j.b,{to:"/settings/medicine-packages"},d.a.createElement(y.a,{type:"medicine-box"})," Medicine Packages")):null,this.props.activePracticePermissions.SettingsDiseaseList?d.a.createElement(Le.a.Item,{key:"25"},d.a.createElement(j.b,{to:"/settings/diseases"},d.a.createElement(y.a,{type:"apartment"})," Disease List")):null)))}}]),t}(d.a.Component),We=(a(1243),a(1249)),qe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=Object(v.a)(a);a.props.form.validateFieldsAndScroll((function(e,n){var i={};i={comissions:[],name:n.margin_name,level_count:n.level_count};for(var l=function(e){a.state.staffRoles.forEach((function(t){i.comissions.push({level:e,role:t.id,commision_percent:n[e][t.id]})}))},s=1;s<=t.state.level_count;s++)l(s);if(t.state.editId&&(i.id=t.state.editId),!e){t.setState({changePassLoading:!0,redirect:!0});Object(S.j)(k.vb,i,(function(e){Object(S.a)(L.Sb,e.details),t.props.loadData(),t.props.history&&t.props.history.replace("/settings/mlm")}),(function(){}))}}))},a.add=function(e){var t=a.props.form,n=t.getFieldValue("keys").concat(e);t.setFieldsValue({keys:n})},a.setLevelCount=function(e){Object(v.a)(a).setState({level_count:e<5?e:5})},a.state={redirect:!1,level_count:3,margin:null,editRecord:a.props.editRecord?a.props.editRecord:null,editId:a.props.editId?a.props.editId:null,loading:!0,editRecordMargins:{}},a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(this.loadRoles(),this.state.editRecord&&this.state.editId){var e={};this.state.editRecord.forEach((function(t){e[t.roleId]=t})),this.setState({editRecordMargins:e}),this.loadMlmData()}}},{key:"loadMlmData",value:function(){var e=this;Object(S.c)(k.vb,(function(t){t.map((function(t){t.id===e.props.editId&&e.setState({margin:t,loading:!1},(function(){e.setLevelCount(t.level_count)}))}))}),(function(){e.setState({loading:!0})}))}},{key:"loadRoles",value:function(){var e=this;Object(S.c)(k.e,(function(t){e.setState({staffRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};t("keys",{initialValue:[]});var n=[{title:"Roles",dataIndex:"name",key:"name"}];if(this.state.level_count)for(var i=function(i){n.push({title:"Level ".concat(i),dataIndex:"Level ".concat(i),key:"Level ".concat(i),render:function(n,l){return d.a.createElement(W.a.Item,Object.assign({},a,{required:!0,key:"".concat(i,"[").concat(l.id,"]")}),t("".concat(i,"[").concat(l.id,"]"),{validateTrigger:["onChange","onBlur"],initialValue:e.state.editRecordMargins&&e.state.editRecordMargins[l.id]?e.state.editRecordMargins[l.id][i]:null})(d.a.createElement(ue.a,{min:0,placeholder:"Percent Commission"})))}})},l=1;l<=this.state.level_count;l++)i(l);return d.a.createElement(O.a,{title:"Manage MLM Commission"},d.a.createElement(W.a,{onSubmit:this.handleSubmit,className:"login-form"},d.a.createElement(W.a.Item,Object.assign({},a,{label:"Margin Name",required:!0,key:"margin_name"}),t("margin_name",{validateTrigger:["onChange","onBlur"],initialValue:this.state.margin?this.state.margin.name:null})(d.a.createElement(ce.a,{placeholder:"Margin Type Name"}))),d.a.createElement(W.a.Item,Object.assign({},a,{label:"No of Levels",required:!1,key:"level_count"}),t("level_count",{validateTrigger:["onChange","onBlur"],initialValue:this.state.level_count})(d.a.createElement(ue.a,{min:1,max:5,placeholder:"Level Count",onChange:this.setLevelCount}))),d.a.createElement(b.a,{loading:this.state.loading,bordered:!0,pagination:!1,columns:n,dataSource:this.state.staffRoles}),d.a.createElement(W.a.Item,null,d.a.createElement("br",null),d.a.createElement(g.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Set MLM Commissions"))),this.state.redirect&&d.a.createElement(u.a,{to:"/settings/mlm"}))}}]),t}(d.a.Component),Be=W.a.create()(qe),Ye=(M.a.TabPane,We.a.Panel),Ue=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={mlmItems:[],productMargin:[],active_practiceId:a.props.active_practiceId,loading:!0},a.loadMlmData=a.loadMlmData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a.loadRoles=a.loadRoles.bind(Object(v.a)(a)),a.loadData=a.loadData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){this.loadMlmData(),this.loadRoles(),this.loadProductMargin()}},{key:"loadMlmData",value:function(){var e=this;Object(S.c)(k.vb,(function(t){e.setState({mlmItems:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"loadRoles",value:function(){var e=this;Object(S.c)(k.e,(function(t){e.setState({staffRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"loadProductMargin",value:function(){var e=this;Object(S.c)(k.Nc,(function(t){e.setState({productMargin:t})}),(function(){}))}},{key:"editObject",value:function(e,t){this.setState({editId:e,editRecord:t,loading:!1},(function(){this.props.history.push("/settings/mlm/edit")}))}},{key:"deleteObject",value:function(e){var t=this,a=Object(T.a)({},e,{is_active:!1});a.is_active=!1;Object(S.l)(Object(S.f)(k.td,[e.id]),a,(function(e){t.loadData()}),(function(){}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t=this,a={};this.state.staffRoles&&this.state.staffRoles.forEach((function(e){a[e.id]=e.name}));var n={};t.state.productMargin.forEach((function(e){n[e.id]=[{title:"Role",key:"role",dataIndex:"role"}];for(var t=1;t<=e.level_count;t++)n[e.id].push({title:"Level ".concat(t),key:t,dataIndex:t,render:function(e){return d.a.createElement("span",null,e,"%")}})}));var i={};return t.state.mlmItems.forEach((function(e){i[e.id]=[],t.state.staffRoles&&t.state.staffRoles.forEach((function(t){var a={role:t.name,roleId:t.id};if(e.level_count)for(var n=1;n<=e.level_count;n++)if(e.comissions)for(var l=0;l<e.comissions.length;l++){var s=e.comissions[l];if(s.margin==e.id&&s.level==n&&t.id==s.role){a[n]=s.commision_percent;break}}i[e.id].push(a)}))})),d.a.createElement("div",null,d.a.createElement(u.d,null,d.a.createElement(u.b,{exact:!0,path:"/settings/mlm/generate",render:function(t){return d.a.createElement(Be,Object.assign({},t,{loadData:e.loadData}))}}),this.state.editId&&this.state.editRecord?d.a.createElement(u.b,{exact:!0,path:"/settings/mlm/edit",render:function(t){return d.a.createElement(Be,Object.assign({},t,{key:e.state.editId,loadData:e.loadData},e.state))}}):null,d.a.createElement(u.b,null,d.a.createElement("div",null,d.a.createElement("h2",null,"MLM Commissions",d.a.createElement(j.b,{to:"/settings/mlm/generate"},d.a.createElement(g.a,{type:"primary",style:{float:"right"}},d.a.createElement(y.a,{type:"plus"}),"\xa0Add"))),d.a.createElement(O.a,null,this.state.productMargin?d.a.createElement(We.a,{defaultActiveKey:["0"],accordion:!0},this.state.productMargin.map((function(a,l){return d.a.createElement(Ye,{header:a.name,key:l,extra:[d.a.createElement(g.a.Group,{size:"small"},d.a.createElement(g.a,{type:"primary",onClick:function(){return e.editObject(a.id,i[a.id])}},d.a.createElement(y.a,{type:"edit"})," Edit"),d.a.createElement(E.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(a)},okText:"Yes",cancelText:"No"},d.a.createElement(g.a,{type:"danger"},d.a.createElement(y.a,{type:"delete"})," Delete")))]},d.a.createElement(b.a,{loading:e.state.loading,pagination:!1,style:{marginTop:10},dataSource:i[a.id],rowKey:"role",columns:n[a.id],bordered:!0}))}))):d.a.createElement("h4",null,"No MLM Data"))))))}}]),t}(d.a.Component),Ge=(a(342),a(341)),Ke=(a(137),a(15)),ze=(a(270),a(268)),Qe=a(51),Xe=ce.a.TextArea,Je=B.q.map((function(e){return d.a.createElement(ze.a.Button,{value:e},e)})),Ze=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).changeFormType=function(e){a.setState({selectedFormType:e.target.value})},a.handleSubmit=function(e){console.log(e),e.preventDefault();var t=Object(v.a)(a);a.props.form.validateFields((function(e,n){if(console.log(n),!e){var i=Object(T.a)({type:t.state.type},n),l="logo_path";i[l]&&n[l].file&&n[l].file.response?i[l]=n[l].file.response.image_path:i[l]=t.state.print_setting.logo_path,i.save_for_all||(i=Object(T.a)({},i,{sub_type:t.state.sub_type,id:t.state.print_setting.id})),delete i.save_for_all;var s=function(e){Object(S.a)(L.Sb,"Settings Saved Successfully!!")},r=function(){};n.save_for_all?Object(S.j)(Object(S.f)(k.Uc,[a.props.active_practiceId]),i,s,r):Object(S.j)(Object(S.f)(k.Gc,[a.props.active_practiceId,t.state.type,t.state.sub_type]),i,s,r)}}))},a.handleFormEditSettings=function(e,t){a.setState((function(a){return{editedPrintSettings:Object(T.a)({},a.editedPrintSettings,Object(A.a)({},e,t))}}))},a.loadPDF=function(e){Object(v.a)(a);Object(S.c)(e,(function(e){e.report&&window.open(Qe.a+e.report)}),(function(){}))},a.onchangeHandle=function(e,t){Object(v.a)(a);a.setState(Object(A.a)({},e,t),(function(){this.state.is_patient_not&&this.props.form.resetFields()}))},a.state={type:a.props.type,sub_type:a.props.sub_type,selectedFormType:"PAGE",print_setting:{},editedPrintSettings:{}},a.loadData=a.loadData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Gc,[this.props.active_practiceId,e.state.type,e.state.sub_type]),(function(t){t.length&&e.setState({print_setting:t[0]})}),(function(){}))}},{key:"render",value:function(){var e=this;console.log(this.state);var t={labelCol:{xs:{span:8},sm:{span:8},md:{span:8},lg:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16},md:{span:16},lg:{span:16}}},a=B.jb.map((function(e){return d.a.createElement(ne.a.Option,{value:e},e)})),n=B.T.map((function(e){return d.a.createElement(ze.a,{value:e.value},e.title)})),i=B.db.map((function(e){return d.a.createElement(ze.a,{value:e.value},e.value)})),l=B.bb.map((function(e){return d.a.createElement(ze.a,{value:e.value},e.value)})),s=B.cb.map((function(e){return d.a.createElement(ze.a,{value:e.value},e.title)})),r={name:"image",data:{name:"hello"},action:Object(S.h)(k.sb),headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?Ke.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&Ke.a.error("".concat(e.file.name," file upload failed."))}},c=(B.mb.map((function(e){return d.a.createElement("li",null,d.a.createElement(I.a,{value:e.value},e.value))})),B.ib.map((function(e){return d.a.createElement(ze.a,{value:e.value},e.value)}))),o=B.ub.map((function(e){return d.a.createElement(ze.a,{value:e.value},e.value)})),u="?preview=true&type=".concat(this.props.type,"&sub_type=").concat(this.props.sub_type);if(this.state.print_setting){var m=Object(T.a)({},this.state.print_setting,{},this.state.editedPrintSettings);Object.keys(m).forEach((function(e){m[e]&&(u+="&".concat(e,"=").concat(encodeURIComponent(m[e])))}))}var f=this.props.form.getFieldDecorator;return d.a.createElement(p.a,null,d.a.createElement(h.a,{span:24},d.a.createElement(W.a,{onSubmit:this.handleSubmit},d.a.createElement("div",{className:"div_padding_top"},d.a.createElement(p.a,{gutter:16},d.a.createElement(h.a,{span:12},d.a.createElement("div",{style:{textAlign:"center"}},d.a.createElement(ze.a.Group,{buttonStyle:"solid",size:"small",onChange:this.changeFormType,defaultValue:this.state.selectedFormType},Je),d.a.createElement("br",null)),d.a.createElement("div",{hidden:"PAGE"!=this.state.selectedFormType},d.a.createElement("h2",null,"Page Setup"),d.a.createElement(W.a.Item,Object.assign({key:"page_size"},t,{label:"Paper Size"}),f("page_size",{initialValue:this.state.print_setting.page_size})(d.a.createElement(ne.a,{style:{width:"100%"},onChange:function(t){return e.handleFormEditSettings("page_size",t)}},a))),d.a.createElement(W.a.Item,Object.assign({label:"Orientation"},t),f("page_orientation",{initialValue:this.state.print_setting.page_orientation})(d.a.createElement(ze.a.Group,{onChange:function(t){return e.handleFormEditSettings("orientation",t.target.value)}},c))),d.a.createElement(W.a.Item,Object.assign({label:d.a.createElement("span",null,"Printer Type\xa0")},t),f("page_print_type",{initialValue:this.state.print_setting.page_print_type})(d.a.createElement(ze.a.Group,{onChange:function(t){return e.handleFormEditSettings("printerType",t.target.value)}},o))),d.a.createElement(W.a.Item,Object.assign({key:"page_margin_top",label:d.a.createElement("span",null,"Top Margin")},t),f("page_margin_top",{initialValue:this.state.print_setting.page_margin_top})(d.a.createElement(ue.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("page_margin_top",t)}})),d.a.createElement("span",{className:"ant-form-text"},"Inches")),d.a.createElement(W.a.Item,Object.assign({key:"page_margin_left",label:d.a.createElement("span",null,"Left Margin")},t),f("page_margin_left",{initialValue:this.state.print_setting.page_margin_left})(d.a.createElement(ue.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("page_margin_left",t)}})),d.a.createElement("span",{className:"ant-form-text"},"Inches")),d.a.createElement(W.a.Item,Object.assign({key:"page_margin_bottom",label:d.a.createElement("span",null,"Bottom Margin")},t),f("page_margin_bottom",{initialValue:this.state.print_setting.page_margin_bottom})(d.a.createElement(ue.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("page_margin_bottom",t)}})),d.a.createElement("span",{className:"ant-form-text"},"Inches")),d.a.createElement(W.a.Item,Object.assign({key:"page_margin_right",label:d.a.createElement("span",null,"Right Margin")},t),f("page_margin_right",{initialValue:this.state.print_setting.page_margin_right})(d.a.createElement(ue.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("page_margin_right",t)}})),d.a.createElement("span",{className:"ant-form-text"},"Inches"))),d.a.createElement("div",{hidden:"HEADER"!=this.state.selectedFormType},d.a.createElement("h2",null,"Customize Header"),d.a.createElement(W.a.Item,Object.assign({key:"header_include"},t,{label:d.a.createElement("span",null,"Include Header\xa0")}),f("header_include",{initialValue:this.state.print_setting.header_include})(d.a.createElement(ze.a.Group,{onChange:function(t){return e.handleFormEditSettings("header_include",t.target.value)}},n))),d.a.createElement(W.a.Item,Object.assign({key:"header_text"},t,{label:d.a.createElement("span",null,"Header\xa0")}),f("header_text",{initialValue:this.state.print_setting.header_text})(d.a.createElement(ce.a,{onChange:function(t){return e.handleFormEditSettings("header_text",t.target.value)}}))),d.a.createElement(W.a.Item,Object.assign({key:"header_left_text"},t,{label:d.a.createElement("span",null,"Left Text\xa0")}),f("header_left_text",{initialValue:this.state.print_setting.header_left_text})(d.a.createElement(Xe,{onChange:function(t){return e.handleFormEditSettings("header_left_text",t.target.value)}}))),d.a.createElement(W.a.Item,Object.assign({key:"header_right_text"},t,{label:d.a.createElement("span",null,"Right Text\xa0")}),f("header_right_text",{initialValue:this.state.print_setting.header_right_text})(d.a.createElement(Xe,{onChange:function(t){return e.handleFormEditSettings("header_right_text",t.target.value)}}))),d.a.createElement(W.a.Item,Object.assign({key:"logo_include"},t,{label:d.a.createElement("span",null,"Include Logo\xa0")}),f("logo_include",{initialValue:this.state.print_setting.logo_include})(d.a.createElement(ze.a.Group,{onChange:function(t){return e.handleFormEditSettings("logo_include",t.target.value)}},s))),d.a.createElement(W.a.Item,Object.assign({key:"logo_path"},t,{label:d.a.createElement("span",null,"Logo\xa0")}),f("logo_path")(d.a.createElement(Ge.a,r,d.a.createElement(g.a,null,d.a.createElement(y.a,{type:"upload"})," Click to Upload")))),d.a.createElement(W.a.Item,Object.assign({key:"logo_type"},t,{label:d.a.createElement("span",null,"Type\xa0")}),f("logo_type",{initialValue:this.state.print_setting.logo_type})(d.a.createElement(ze.a.Group,{onChange:function(t){return e.handleFormEditSettings("logo_type",t.target.value)}},i))),d.a.createElement(W.a.Item,Object.assign({key:"logo_alignment"},t,{label:d.a.createElement("span",null,"Alignment\xa0")}),f("logo_alignment",{initialValue:this.state.print_setting.logo_alignment})(d.a.createElement(ze.a.Group,{onChange:function(t){return e.handleFormEditSettings("logo_alignment",t.target.value)}},l)))),d.a.createElement("div",{hidden:"PATIENT"!=this.state.selectedFormType},d.a.createElement("h2",null,"Customize Patient Details"),d.a.createElement(W.a.Item,null,f("patient_details",{})(d.a.createElement(I.a,{onChange:function(t){return e.onchangeHandle("is_patient_not",t.target.checked)}},"Show Patient Details"))),d.a.createElement("ul",{className:"subLists"},d.a.createElement(W.a.Item,null,f("exclude_history",{})(d.a.createElement(I.a,null,"Exclude Mediacal History"))),d.a.createElement(W.a.Item,null,f("exclude_phone",{})(d.a.createElement(I.a,null,"Exclude Patient Number"))),d.a.createElement(W.a.Item,null,f("exclude_email",{})(d.a.createElement(I.a,null,"Exclude Patient Email Id"))),d.a.createElement(W.a.Item,null,f("exclude_address",{})(d.a.createElement(I.a,null,"Exclude address"))),d.a.createElement(W.a.Item,null,f("exclude_blood_group",{})(d.a.createElement(I.a,null,"Exclude Blood Group"))),d.a.createElement(W.a.Item,null,f("exclude_gender_dob",{})(d.a.createElement(I.a,null,B.H))))),d.a.createElement("div",{hidden:"FOOTER"!=this.state.selectedFormType},d.a.createElement("h2",null,"Footer Setup"),d.a.createElement(W.a.Item,Object.assign({key:"footer_margin_top"},t,{label:d.a.createElement("span",null,"Top Margin\xa0")}),f("footer_margin_top",{initialValue:this.state.print_setting.footer_margin_top})(d.a.createElement(ue.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("footer_margin_top",t)}})),d.a.createElement("span",{className:"ant-form-text"},"Inches")),d.a.createElement(W.a.Item,Object.assign({key:"footer_text"},t,{label:d.a.createElement("span",null,"Full Width Content\xa0")}),f("footer_text",{initialValue:this.state.print_setting.footer_text})(d.a.createElement(Xe,{rows:3,onChange:function(t){return e.handleFormEditSettings("footer_text",t.target.value)}}))),d.a.createElement(W.a.Item,Object.assign({key:"footer_left_text"},t,{label:d.a.createElement("span",null,"Left Signature\xa0")}),f("footer_left_text",{initialValue:this.state.print_setting.footer_left_text})(d.a.createElement(Xe,{onChange:function(t){return e.handleFormEditSettings("footer_left_text",t.target.value)}}))),d.a.createElement(W.a.Item,Object.assign({key:"footer_right_text"},t,{label:d.a.createElement("span",null,"Right Signature\xa0")}),f("footer_right_text",{initialValue:this.state.print_setting.footer_right_text})(d.a.createElement(Xe,{onChange:function(t){return e.handleFormEditSettings("footer_right_text",t.target.value)}})))),d.a.createElement(p.a,null,d.a.createElement(_.a,null),d.a.createElement(W.a.Item,Object.assign({},t,{key:"save_for_all"}),f("save_for_all",{})(d.a.createElement(I.a,null,d.a.createElement("b",null," Save for all")))),d.a.createElement(W.a.Item,null,d.a.createElement(g.a,{style:{margin:5},type:"primary",htmlType:"submit",value:"ALL"},"Save"),d.a.createElement(g.a,{style:{margin:5},onClick:function(){return e.loadPDF("".concat(k.Kc+u,"&pdf=1"))}},"Show Print Preview")))),d.a.createElement(h.a,{span:12,style:{textAlign:"center"}},d.a.createElement("div",{style:{position:"absolute",backgroundColor:"black",color:"white",padding:10,right:20,top:50}},d.a.createElement("b",null,"PREVIEW")),d.a.createElement("iframe",{src:Object(S.h)(k.Kc+u),style:{width:"100%",height:"100%",minHeight:"600px",boxShadow:"-2px 0px 4px #B8B8B8"}})))))))}}]),t}(d.a.Component),$e=W.a.create()(Ze),et=M.a.TabPane,tt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).setRandomKey=function(e){console.log(e),a.setState({randomKey:Math.random(),activeKey:e})},a.state={randomKey:Math.random(),activeKey:"a"},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this;return d.a.createElement("div",null,d.a.createElement("h2",null,"Print Settings"),d.a.createElement(M.a,{defaultActiveKey:B.E,size:"small",type:"card"},d.a.createElement(et,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"calculator"}),B.E),key:B.E},d.a.createElement(O.a,null,d.a.createElement("h4",null,d.a.createElement("div",null,d.a.createElement(M.a,{size:"small",onChange:this.setRandomKey},B.D.map((function(a,n){return d.a.createElement(et,{tab:a.title,key:n},d.a.createElement($e,{key:n.toString()==t.state.activeKey.toString()?a.title+t.state.randomKey:a.title,sub_type:a.title,active_practiceId:e.props.active_practiceId,type:"EMR"}))}))))))),d.a.createElement(et,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"audit"}),B.i),key:B.i},d.a.createElement(O.a,null,d.a.createElement("h4",null,d.a.createElement("div",null,d.a.createElement(M.a,{size:"small",onChange:this.setRandomKey},B.h.map((function(a,n){return d.a.createElement(et,{tab:a.title,key:n},d.a.createElement($e,{key:n.toString()==t.state.activeKey.toString()?a.title+t.state.randomKey:a.title,sub_type:a.title,active_practiceId:e.props.active_practiceId,type:"BILLING"}))})))))))))}}]),t}(d.a.Component),at=M.a.TabPane,nt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={integrateData:[],loading:!0},a.loadData=a.loadData.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props&&this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Vc,[e.props.user.id]),(function(t){e.setState({integrateData:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=[{key:"login",type:L.W,initialValue:this.state.integrateData.login,required:!0,label:"Email Id"},{key:"password",type:L.sb,initialValue:this.state.integrateData.password,required:!0,label:"Password"}],a={method:"post",successFn:function(t){e.loadData()},errorFn:function(){},action:Object(S.f)(k.Vc,[this.props.user.id])},n=W.a.create()(R.a);return d.a.createElement(p.a,null,d.a.createElement(O.a,null,d.a.createElement("h2",null,"My Integrations"),d.a.createElement(M.a,null,d.a.createElement(at,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"check-circle"}),"Task Tracker"),key:"Complaints"},d.a.createElement(n,{fields:t,formProp:a})))))}}]),t}(d.a.Component),it=function(e){function t(e){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).call(this,e))}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("h2",null,"Email PDF Settings"),d.a.createElement(O.a,null,d.a.createElement($e,{sub_type:"INVOICE",active_practiceId:this.props.active_practiceId,type:"MAIL"})))}}]),t}(d.a.Component),lt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).loadRequiredData=function(){var e=Object(v.a)(a);Object(S.c)(Object(S.f)(k.Tc,[a.props.active_practiceId]),(function(t){e.setState({roomTypes:t})}),(function(){}))},a.state={editPackage:a.props.editPackage?a.props.editPackage:null,roomTypes:[],taxes:[]},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadRequiredData(),this.loadTaxes()}},{key:"loadTaxes",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Fd,[this.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t=W.a.create()(R.a),a=[{label:"Package Name",key:"name",required:!0,initialValue:this.props.editPackage?this.props.editPackage.name:null,type:L.W},{label:"Days of Booking",key:"no_of_days",required:!0,initialValue:this.props.editPackage?this.props.editPackage.no_of_days:null,type:L.pb,follow:"INR"},{label:"Normal Price",key:"normal_price",required:!0,initialValue:this.props.editPackage?(this.props.editPackage.normal_price+this.props.editPackage.normal_tax_value).toFixed(2):null,type:L.pb,follow:"INR"},{label:"Tatkal Price",key:"tatkal_price",required:!0,initialValue:this.props.editPackage?(this.props.editPackage.tatkal_price+this.props.editPackage.tatkal_tax_value).toFixed(2):null,type:L.pb,follow:"INR"},{label:"Image",key:"image",initialValue:this.props.editPackage?this.props.editPackage.image:null,type:L.Pb},{label:"Room Type",key:"room",required:!0,initialValue:this.props.editPackage?this.props.editPackage.room:null,type:L.Nb,options:this.state.roomTypes.map((function(e){return Object.create({label:e.name,value:e.id})}))},{label:"Taxes",key:"taxes",initialValue:this.props.editPackage&&this.props.editPackage.taxes?this.props.editPackage.taxes.map((function(e){return e.id})):[],type:L.mb,options:this.state.taxes.map((function(e){return Object.create({label:"".concat(e.name,"(").concat(e.tax_value,"%)"),value:e.id})}))},{label:"Description",key:"description",initialValue:this.props.editPackage?this.props.editPackage.description:"",type:L.Ub,minRows:3}],n={method:"post",action:Object(S.f)(k.v,[this.props.active_practiceId]),successFn:function(){Object(S.a)(L.Sb,"Package Saved Successfully"),e.props.loadData&&e.props.loadData(),e.props.history.replace("/settings/bed-packages")},errorFn:function(){}},i=[];return this.state.editPackage&&i.push({key:"id",value:this.state.editPackage.id}),d.a.createElement("div",null,d.a.createElement(O.a,null,d.a.createElement(t,Object.assign({fields:a,formProp:n,defaultValues:i,title:this.state.editPackage?"Edit Bed Package":"Add Bed Packages"},this.props))))}}]),t}(d.a.Component),st=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).loadData=function(){var e=Object(v.a)(a);Object(S.c)(Object(S.f)(k.v,[a.props.active_practiceId]),(function(t){e.setState({loading:!1,packages:t})}),(function(){e.setState({loading:!1})}))},a.editObject=function(e){a.setState({editPackage:e,loading:!1}),a.props.history.push("/settings/bed-packages/edit")},a.state={loading:!1,packages:[]},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(k.v,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{dataIndex:"image",key:"image",render:function(e){return e?d.a.createElement("img",{src:Object(S.g)(e),alt:"",style:{maxWidth:200,maxHeight:100}}):null}},{title:"Package Name",dataIndex:"name",key:"name"},{title:"Days",dataIndex:"no_of_days",key:"no_of_days"},{title:"Normal Price+tax (INR)",dataIndex:"normal_price",key:"normal_price",render:function(e,t){return d.a.createElement("p",null,(t.normal_price+t.normal_tax_value).toFixed(2))}},{title:"Tatkal Price+tax (INR)",dataIndex:"tatkal_price",key:"tatkal_price",render:function(e,t){return d.a.createElement("p",null,(t.tatkal_price+t.tatkal_tax_value).toFixed(2))}},{title:"Description",dataIndex:"description",key:"description"},{title:"Action",key:"action",render:function(a,n){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editObject(n)}},"Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this prescription?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}];return d.a.createElement(u.d,null,d.a.createElement(u.b,{path:"/settings/bed-packages/add",render:function(t){return d.a.createElement(lt,Object.assign({},e.props,t,{loadData:e.loadData}))}}),d.a.createElement(u.b,{path:"/settings/bed-packages/edit",render:function(t){return e.state.editPackage?d.a.createElement(lt,Object.assign({},e.state,e.props,t,{loadData:e.loadData})):d.a.createElement(u.a,{to:"/settings/bed-packages"})}}),d.a.createElement(u.b,null,d.a.createElement(O.a,{title:d.a.createElement("h4",null,"Bed Packages ",d.a.createElement(j.b,{to:"/settings/bed-packages/add"},d.a.createElement(g.a,{style:{float:"right"},type:"primary"},d.a.createElement(y.a,{type:"plus"})," Add")))},d.a.createElement(G.a,{dataSource:this.state.packages,loading:this.state.loading,columns:a}))))}}]),t}(d.a.Component),rt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showDeletedExpenses=function(){a.setState({showDeleted:!0,deletedLoading:!0}),a.loadData(!0)},a.state={redirect:!1,visible:!1,rooms:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedRooms:[],editObj:{}},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,a=function(a){console.log("get table"),e?t.setState({deletedRooms:a,deletedLoading:!1}):t.setState({rooms:a,loading:!1})},n=function(){e?t.setState({deletedLoading:!1}):t.setState({loading:!1})};e?Object(S.c)(Object(S.f)(k.Tc,[this.props.active_practiceId]),a,n,{deleted:!0,practice:this.props.active_practiceId}):Object(S.c)(Object(S.f)(k.Tc,[this.props.active_practiceId]),a,n)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editObj:e,visible:!0})}},{key:"deleteObject",value:function(e,t){var a=this,n=e;n.is_active=t;Object(S.j)(Object(S.f)(k.Tc,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Room Type",dataIndex:"name",key:"name"},{title:"Normal Bed Count",dataIndex:"normal_seats",key:"normal_seats"},{title:"Tatkal Bed Count",dataIndex:"tatkal_seats",key:"tatkal_seats"},{title:"Action",key:"action",render:function(a,n){return n.is_active?d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editTax(n)}},"  Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure to delete this?",onConfirm:function(){return t.deleteObject(n,!1)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete"))):d.a.createElement("span",null,d.a.createElement(E.a,{title:"Are you sure show this?",onConfirm:function(){return t.deleteObject(n,!0)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Show")))}}],n=[{label:"Room Type",key:"name",required:!0,type:L.W},{label:"Normal Bed Count",key:"normal_seats",required:!0,type:L.pb,min:0},{label:"Tatkal Bed Count",key:"tatkal_seats",required:!0,type:L.pb,min:0}],i=[{label:"Room Type",key:"name",required:!0,initialValue:this.state.editObj.name,type:L.W},{label:"Normal Bed Count",key:"normal_seats",required:!0,initialValue:this.state.editObj.normal_seats,type:L.pb,min:0},{label:"Tatkal Bed Count",required:!0,initialValue:this.state.editObj.tatkal_seats,key:"tatkal_seats",type:L.pb,min:0}],l={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.Tc,[this.props.active_practiceId]),method:"post"},s=[{key:"practice",value:this.props.active_practiceId}],r=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editObj.id}],c=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement("h2",null,"Room Types"),d.a.createElement(O.a,null,d.a.createElement(c,{defaultValues:s,formProp:l,fields:n}),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.rooms})),d.a.createElement(m.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},d.a.createElement(c,{title:"Edit Room Type",defaultValues:r,formProp:l,fields:i}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(d.a.Component),ct=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={redirect:!1,fields:[{label:"Offer Name ",key:"code",placeholder:"Offer Name",required:!0,type:L.W},{label:"Description ",key:"description",placeholder:"E.g. 20% off on all services",type:L.W},{label:"Discount",key:"discount",required:!0,type:L.pb},{label:"Discount Unit",key:"unit",required:!0,options:[{label:"Percent",value:"%"},{label:"Rupees",value:"INR"}],type:L.Nb,initialValue:"%"}]},a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t={successFn:function(t){Object(S.a)(L.Sb,"success"),e.props.loadData&&e.props.loadData(),e.props.history&&e.props.history.replace("/settings/loyalty")},errorFn:function(){},action:Object(S.f)(k.hc,[this.props.active_practiceId]),method:"post",beforeSubmit:function(e){console.log(e)}},a=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement(a,Object.assign({formProp:t,fields:this.state.fields},this.props)),this.state.redirect&&d.a.createElement(u.a,{to:"/settings/loyalty"}))}}]),t}(d.a.Component),ot=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={offers:null,loading:!0},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.hc,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({offers:t,loading:!1})}),(function(){e.setState({loading:!0})}))}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(k.hc,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"code",key:"code"},{title:"Description",dataIndex:"description",key:"description"},{title:"Discount",dataIndex:"discount",key:"discount"},{title:"Discount Unit",dataIndex:"unit",key:"unit"},{title:"Action",key:"action",render:function(t,a){return d.a.createElement(E.a,{title:"Are you sure delete this Offer?",onConfirm:function(){return e.deleteObject(a)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete"))}}];return d.a.createElement(p.a,null,d.a.createElement(ct,Object.assign({},this.props,{loadData:this.loadData})),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:t,dataSource:this.state.offers}))}}]),t}(d.a.Component),dt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=[{label:"Membership Name ",key:"name",placeholder:"Membership Name",required:!0,type:L.W},{label:"Fee",key:"fee",required:!0,type:L.pb,follow:"INR"},{label:"Benefit",key:"benefit",required:!0,type:L.pb,follow:"%"},{label:"Validity",key:"validity",required:!0,type:L.pb,follow:"Months"}],t=this,a={successFn:function(e){Object(S.a)(L.Sb,"success"),t.props.loadData&&t.props.loadData(),t.props.history&&t.props.history.replace("/settings/loyalty")},errorFn:function(){},action:Object(S.f)(k.bc,[this.props.active_practiceId]),method:"post"},n=[{key:"practice",value:this.state.active_practiceId}],i=W.a.create()(R.a);return d.a.createElement(p.a,null,d.a.createElement(i,Object.assign({fields:e,formProp:a,defaultValues:n},this.props)))}}]),t}(d.a.Component),ut=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).loadData=function(){var e=Object(v.a)(a);Object(S.c)(k.bc,(function(t){e.setState({membership:t})}),(function(){}))},a.state={membership:[]},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"deleteObject",value:function(e){var t=this,a={is_active:!1,id:e.id};Object(S.j)(k.bc,a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Fee (INR)",dataIndex:"fee",key:"fee"},{title:"Benefit (%)",dataIndex:"benefit",key:"benefit"},{title:"Validity (Months)",dataIndex:"validity",key:"validity"},{title:"Action",key:"action",render:function(t,a){return d.a.createElement(E.a,{title:"Are you sure delete this prescription?",onConfirm:function(){return e.deleteObject(a)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete"))}}];return d.a.createElement(p.a,null,d.a.createElement(dt,Object.assign({},this.props,{loadData:this.loadData})),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:t,dataSource:this.state.membership}))}}]),t}(d.a.Component),mt=(a(278),a(279)),pt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).loadPatient=function(e){var t=Object(v.a)(a);e&&Object(S.c)(Object(S.f)(k.Wc,[e]),(function(e){e.results.length>0&&t.setState({patientList:e.results})}),(function(){}))},a.handleSubmit=function(e){var t=Object(v.a)(a);t.setState({loading:!0}),e.preventDefault(),a.props.form.validateFields((function(e,a){if(!e){var n=a;n.practice=t.props.active_practiceId;Object(S.j)(k.Oc,n,(function(e){t.setState({loading:!1}),Object(S.a)(L.Sb,"Successfully Created!"),t.props.form.resetFields(),t.props.loadData(),t.props.history&&t.props.history.replace("/settings/loyalty")}),(function(){}))}}))},a.state={editPromoCode:[],patientList:[],loading:!1},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.patientList,a={labelCol:{span:8},wrapperCol:{span:14}},n=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(W.a,{onSubmit:this.handleSubmit},d.a.createElement(W.a.Item,Object.assign({label:"Promo Code"},a,{key:"promo_code"}),n("promo_code",{initialValue:""})(d.a.createElement(ce.a,{placeholder:"Promo Code"}))),d.a.createElement(W.a.Item,Object.assign({label:"Promo Code Value"},a,{key:"code_value"}),n("code_value",{initialValue:""})(d.a.createElement(ue.a,{placeholder:"Promo Code Value"}))),d.a.createElement(W.a.Item,Object.assign({label:"Code Type"},a,{key:"code_type"}),n("code_type",{initialValue:""})(d.a.createElement(ne.a,{placeholder:"Code Type",style:{width:"100%"}},B.p.map((function(e){return d.a.createElement(ne.a.Option,{value:e.value},e.label," (",e.value,")")}))))),d.a.createElement(W.a.Item,Object.assign({label:"Min Order"},a,{key:"minimum_order"}),n("minimum_order",{initialValue:""})(d.a.createElement(ue.a,{placeholder:"Min Order"}))),d.a.createElement(W.a.Item,Object.assign({label:"Max Discount"},a,{key:"maximum_discount"}),n("maximum_discount",{initialValue:""})(d.a.createElement(ue.a,{placeholder:"Min Order"}))),d.a.createElement(W.a.Item,Object.assign({label:"Expiry Date"},a,{key:"expiry_date"}),n("expiry_date",{initialValue:N()()})(d.a.createElement(mt.a,{format:"YYYY/MM/DD",allowClear:!1}))),d.a.createElement(W.a.Item,Object.assign({label:"Patients"},a,{key:"patient"}),n("patients",{initialValue:[]})(d.a.createElement(ne.a,{mode:"multiple",placeholder:"Select Patient",style:{width:"100%"},showSearch:!0,onSearch:this.loadPatient,filterOption:!1},t.map((function(e){return d.a.createElement(ne.a.Option,{value:e.id},e.user.first_name," (",e.custom_id,")")})))),d.a.createElement("span",{className:"ant-form-text"},"If no patient is selected, promo code will be available to all patients.")),d.a.createElement(W.a.Item,a,d.a.createElement(g.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),this.props.history?d.a.createElement(g.a,{style:{margin:5},onClick:function(){return e.props.history.goBack()}},"Cancel"):null)))}}]),t}(d.a.Component),ht=W.a.create()(pt),ft=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).loadData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(v.a)(a);a.setState({loading:!0});var n=function(e){t.setState({promoCode:e.results,nextPage:e.next,loading:!1})},i=function(){t.setState({loading:!1})};Object(S.c)(Object(S.f)(k.Oc,[a.props.active_practiceId]),n,i,{page:e,practice:a.props.active_practiceId})},a.deleteObject=function(e){var t=Object(v.a)(a);Object(S.l)(Object(S.f)(k.ud,[e.id]),{is_active:!1},(function(e){t.loadData()}),(function(){}))},a.sendSMS=function(e){var t=Object(v.a)(a);Object(S.c)(Object(S.f)(k.Yc,[e.id]),(function(e){t.loadData()}),(function(){}))},a.state={loading:!1,promoCode:[]},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.promoCode,n=t.loading,i=[{title:"Code Name",dataIndex:"promo_code",key:"promo_code"},{title:"Promo Code Value",dataIndex:"code_value",key:"code_value"},{title:"Type",dataIndex:"code_type",key:"code_type"},{title:"Min Order",dataIndex:"minimum_order",key:"minimum_order"},{title:"Max Discount",dataIndex:"maximum_discount",key:"maximum_discount"},{title:"Expiry Date",dataIndex:"expiry_date",render:function(e,t){return N()(t.expiry_date).format("YYYY-MM-DD")}},{title:"Action",render:function(t,a){return d.a.createElement("div",null,d.a.createElement(E.a,{title:"Are you sure send SMS for this promo code?",onConfirm:function(){return e.sendSMS(a)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Send SMS")),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this promo code?",onConfirm:function(){return e.deleteObject(a)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}];return d.a.createElement(p.a,null,d.a.createElement(ht,Object.assign({},this.props,{loadData:this.loadData})),d.a.createElement(_.a,null),d.a.createElement(b.a,{loading:n,columns:i,dataSource:a,pagination:!1}),d.a.createElement(he.a,{loading:this.state.loading,hidden:!this.state.nextPage,loaderFunction:function(){return e.loadData(e.state.nextPage)}}))}}]),t}(d.a.Component),bt=M.a.TabPane,gt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement(p.a,null,d.a.createElement("h2",null,"Loyalty Settings"),d.a.createElement(O.a,null,d.a.createElement(M.a,null,d.a.createElement(bt,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"percentage"}),"Offers"),key:"#offers"},d.a.createElement(ot,this.props)),d.a.createElement(bt,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"pound"}),"Membership"),key:"#membership"},d.a.createElement(ut,this.props)),d.a.createElement(bt,{tab:d.a.createElement("span",null,d.a.createElement(y.a,{type:"pound"}),"Promo Code"),key:"#promocode"},d.a.createElement(ft,this.props)))))}}]),t}(d.a.Component),yt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={redirect:!1,editFields:a.props.editTest?a.props.editTest:null,productMargin:[]},a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a.loadProductMargin(),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e,editFields:{}})}},{key:"loadProductMargin",value:function(){var e=this;Object(S.c)(k.Nc,(function(t){e.setState({productMargin:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=W.a.create()(R.a),n=[{label:"Test Name",key:"name",placeholder:"Test Name",type:L.W,initialValue:this.state.editFields?this.state.editFields.name:null,required:!0},{label:"Cost",key:"cost",type:L.pb,initialValue:this.state.editFields?this.state.editFields.cost:null,required:!0,follow:"INR",min:1},{label:"MLM Margin Type",type:L.Nb,initialValue:this.state.editFields?this.state.editFields.margin:null,key:"margin",required:!0,options:t.state.productMargin.map((function(e){return{label:e.name,value:e.id}}))},{label:"Instructions",key:"instruction",placeholder:"Test Instructions",initialValue:this.state.editFields?this.state.editFields.instruction:null,type:L.Ub}],i={successFn:function(e){Object(S.a)(L.Sb,"success"),t.props.loadData(),t.props.history&&t.props.history.replace("/settings/labs")},errorFn:function(){},action:Object(S.f)(k.Gb,[t.props.active_practiceId]),method:"post"},l=[];return this.state.editFields&&l.push({key:"id",value:this.state.editFields.id}),d.a.createElement(p.a,null,d.a.createElement(u.b,{exact:!0,path:"/settings/labs/add",render:function(t){return d.a.createElement(a,Object.assign({title:"Add Lab",changeRedirect:e.changeRedirect,formProp:i,fields:n},t))}}),d.a.createElement(u.b,{exact:!0,path:"/settings/labs/edit",render:function(t){return e.state.editFields?d.a.createElement(a,Object.assign({title:"Add Lab",defaultValues:l,changeRedirect:e.changeRedirect},t,{formProp:i,fields:n})):d.a.createElement(u.a,{to:"/settings/labs"})}}),d.a.createElement(_.a,null),this.state.redirect&&d.a.createElement(u.a,{to:"/settings/labs"}))}}]),t}(d.a.Component),Et=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={tests:null,editTest:null,loading:!0,productMargin:null},a.editLabs=a.editLabs.bind(Object(v.a)(a)),a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteTest=a.deleteTest.bind(Object(v.a)(a)),a.loadProductMargin=a.loadProductMargin.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),this.loadProductMargin()}},{key:"loadData",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this,t=function(t){console.log("get table"),t.current?e.setState({next:t.next,tests:t.results,loading:!1}):e.setState((function(e){return{next:t.next,tests:[].concat(Object(oe.a)(e.tests),Object(oe.a)(t.results)),loading:!1}}))},a=function(){e.setState({loading:!1})};Object(S.c)(Object(S.f)(k.Gb,[e.props.active_practiceId]),t,a)}},{key:"editLabs",value:function(e){var t=this;this.setState({editTest:e,loading:!1},(function(){t.props.history.push("/settings/labs/edit")}))}},{key:"deleteTest",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(k.Gb,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"loadProductMargin",value:function(){var e=this;Object(S.c)(k.Nc,(function(t){e.setState({productMargin:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a={};this.state.productMargin&&this.state.productMargin.forEach((function(e){a[e.id]=e.name}));var n=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:" Test Instructions",dataIndex:"instruction",key:"instruction"},{title:" MLM Margin",key:"margin",render:function(e,t){return d.a.createElement("span",null," ",a[t.margin])}},{title:"Action",key:"action",render:function(e,a){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return t.editLabs(a)}},"Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this test?",onConfirm:function(){return t.deleteTest(a)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}];return d.a.createElement(p.a,null,d.a.createElement(u.b,{exact:!0,path:"/settings/labs/add",render:function(a){return d.a.createElement(yt,Object.assign({},t.state,{loadData:e.loadData},e.props,a))}}),d.a.createElement(u.b,{exact:!0,path:"/settings/labs/edit",render:function(a){return d.a.createElement(yt,Object.assign({},t.state,{loadData:e.loadData},e.props,a))}}),d.a.createElement(u.b,{exact:!0,path:"/settings/labs"},d.a.createElement("div",null,d.a.createElement(p.a,null,d.a.createElement("h2",null,d.a.createElement(j.b,{to:"/settings/labs/add"},d.a.createElement(g.a,{type:"primary",style:{float:"right"}},d.a.createElement(y.a,{type:"plus"}),"\xa0Add")))),d.a.createElement(G.a,{columns:n,dataSource:this.state.tests,pagination:!1}),d.a.createElement(he.a,{loading:this.state.loading,hidden:!this.state.next,loaderFunction:function(){return e.loadData(e.state.next)}}))))}}]),t}(d.a.Component),_t=(ne.a.Option,function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).onChangeHandler=function(e){a.setState({panelCost:e})},a.onChangeSelect=function(e){a.setState((function(t){if(t.selectedTest[e])return Object(S.a)(L.bc,"Item Already Added"),{};for(var a=null,n=0;n<t.tests.length;n++)if(t.tests[n].id==e){a=t.tests[n];break}return a?{selectedTest:Object(T.a)({},t.selectedTest,Object(A.a)({},e,a))}:{}}))},a.removeLabPanel=function(e){a.setState((function(e){return{}})),console.log("id",e)},a.handleSubmit=function(e){e.preventDefault();var t=Object(v.a)(a);a.props.form.validateFields((function(e,n){if(!e){var i=Object(T.a)({},n,{tests:Object.keys(a.state.selectedTest)});console.log("test",i);Object(S.j)(Object(S.f)(k.Fb,[t.props.active_practiceId]),i,(function(e){t.props.history&&t.props.history.replace("/settings/labs")}),(function(){}))}}))},a.state={panelCost:0,tests:[],selectedTest:{}},a.loadTests=a.loadTests.bind(Object(v.a)(a)),a.handleCancel=a.handleCancel.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadTests()}},{key:"loadTests",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Gb,[e.props.active_practiceId]),(function(t){e.setState({tests:t.results,loading:!1}),console.log(JSON.stringify(e.state.tests))}),(function(){e.setState({loading:!1})}))}},{key:"onChangeCostCalculate",value:function(){}},{key:"handleCancel",value:function(){this.props.history.push("/settings/labs")}},{key:"render",value:function(){var e=this,t=this,a={labelCol:{xs:{span:8},sm:{span:8},md:{span:8},lg:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16},md:{span:16},lg:{span:16}}},n=Object.keys(this.state.selectedTest),i=0;n.forEach((function(e){i+=parseInt(t.state.selectedTest[e].cost)}));var l=this.props.form.getFieldDecorator,s=this.state.tests.map((function(e){return d.a.createElement(ne.a.Option,{value:e.id},e.name)}));return d.a.createElement(p.a,null,d.a.createElement(h.a,{span:18},d.a.createElement(W.a,{onSubmit:this.handleSubmit},d.a.createElement(W.a.Item,Object.assign({label:"Panel Name"},a),l("name",{})(d.a.createElement(ce.a,null))),d.a.createElement(W.a.Item,Object.assign({label:d.a.createElement("span",null,"Test Name")},a),d.a.createElement(ne.a,{style:{width:"100%"},onChange:this.onChangeSelect},s),d.a.createElement("div",null,n?n.map((function(a){return d.a.createElement("p",{key:a},t.state.selectedTest[a].name," ",d.a.createElement("span",{style:{paddingLeft:"50%"}},e.state.selectedTest[a].cost),d.a.createElement(g.a,{icon:"close",style:{float:"right"},onClick:function(){return e.removeLabPanel(t.state.selectedTest[a].id)},type:"danger",shape:"circle",size:"small"}))})):null)),d.a.createElement(W.a.Item,Object.assign({label:d.a.createElement("span",null,"Panel Cost")},a),l("cost",{initialValue:i})(d.a.createElement(ue.a,null)),d.a.createElement("span",{className:"ant-form-text"}," Total : ","number"===typeof i?i:0)),d.a.createElement(W.a.Item,null,d.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Submit"),"\xa0\xa0\xa0",d.a.createElement(g.a,{onClick:this.handleCancel},"Cancel")))))}}]),t}(d.a.Component)),vt=W.a.create()(_t),Ot=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={labPanel:null,editTest:null,selectedTest:{}},a.loadLabPanel=a.loadLabPanel.bind(Object(v.a)(a)),a.editPanels=a.editPanels.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadLabPanel()}},{key:"loadLabPanel",value:function(){var e=this;Object(S.c)(Object(S.f)(k.Fb,[e.props.active_practiceId]),(function(t){e.setState({labPanel:t,loading:!1})}),(function(){e.setState({})}))}},{key:"editPanels",value:function(e){var t=this;this.setState({editTest:e,loading:!1},(function(){t.props.history.push("/settings/labs/edit")}))}},{key:"deleteLabPanel",value:function(e){var t=this,a=Object(T.a)({},e,{is_active:!1,tests:Object.keys(this.state.selectedTest)});Object(S.j)(Object(S.f)(k.Fb,[this.props.active_practiceId]),a,(function(e){t.loadLabPanel()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a={};this.state.productMargin&&this.state.productMargin.forEach((function(e){a[e.id]=e.name}));var n=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:"Action",key:"action",render:function(e,a){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return t.editPanels(a)}},"Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this test?",onConfirm:function(){return t.deleteLabPanel(a)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}],i=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:" Test Instructions",dataIndex:"instruction",key:"instruction"}];return d.a.createElement(p.a,null,d.a.createElement(u.b,{exact:!0,path:"/settings/labs/add",render:function(a){return d.a.createElement(vt,Object.assign({},t.state,{loadData:e.loadData},e.props,a))}}),d.a.createElement(u.b,{exact:!0,path:"/settings/labs/edit",render:function(a){return d.a.createElement(vt,Object.assign({},t.state,{loadData:e.loadData},e.props,a))}}),d.a.createElement(u.b,{exact:!0,path:"/settings/labs"},d.a.createElement("div",null,d.a.createElement(p.a,null,d.a.createElement("h2",null,d.a.createElement(j.b,{to:"/settings/labs/add"},d.a.createElement(g.a,{type:"primary",style:{float:"right"}},d.a.createElement(y.a,{type:"plus"}),"\xa0Add")))),d.a.createElement(G.a,{loading:this.state.loading,columns:n,expandedRowRender:function(e){return d.a.createElement(O.a,null,d.a.createElement(b.a,{pagination:!1,columns:i,dataSource:e.tests}))},dataSource:this.state.labPanel}))))}}]),t}(d.a.Component),jt=M.a.TabPane,kt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("h2",null,"Lab Tracking"),d.a.createElement(O.a,null,d.a.createElement(M.a,null,d.a.createElement(jt,{key:"labTests",tab:"Lab Tests"},d.a.createElement(Et,this.props)),d.a.createElement(jt,{key:"labPanels",tab:"Lab Panels"},d.a.createElement(Ot,this.props)))))}}]),t}(d.a.Component),St=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).loadRequiredData=function(){var e=Object(v.a)(a);Object(S.c)(Object(S.f)(k.Fd,[a.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))},a.state={editPackage:a.props.editPackage?a.props.editPackage:null,taxes:[]},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadRequiredData()}},{key:"render",value:function(){var e=this,t=W.a.create()(R.a),a=[{label:"Package Name",key:"name",required:!0,initialValue:this.props.editPackage?this.props.editPackage.name:null,type:L.W},{label:"Image",key:"image",initialValue:this.props.editPackage?this.props.editPackage.image:null,type:L.Pb},{label:"Days of Booking",key:"no_of_days",required:!0,initialValue:this.props.editPackage?this.props.editPackage.no_of_days:null,type:L.pb,follow:"INR"},{label:"Price",key:"price",required:!0,initialValue:this.props.editPackage?this.props.editPackage.final_price:null,type:L.pb,follow:"INR"},{label:"Taxes",key:"taxes",initialValue:this.props.editPackage&&this.props.editPackage.taxes?this.props.editPackage.taxes.map((function(e){return e.id})):[],type:L.mb,options:this.state.taxes.map((function(e){return Object.create({label:"".concat(e.name,"(").concat(e.tax_value,"%)"),value:e.id})}))}],n={method:"post",action:Object(S.f)(k.Xb,[this.props.active_practiceId]),successFn:function(){Object(S.a)(L.Sb,"Package Saved Successfully"),e.props.loadData&&e.props.loadData(),e.props.history.replace("/settings/medicine-packages")},errorFn:function(){}},i=[];return this.state.editPackage&&i.push({key:"id",value:this.state.editPackage.id}),d.a.createElement("div",null,d.a.createElement(O.a,null,d.a.createElement(t,Object.assign({fields:a,formProp:n,defaultValues:i,title:this.state.editPackage?"Edit Medicine Package":"Add Medicine Packages"},this.props))))}}]),t}(d.a.Component),Pt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).loadData=function(){var e=Object(v.a)(a);Object(S.c)(Object(S.f)(k.Xb,[a.props.active_practiceId]),(function(t){e.setState({loading:!1,packages:t})}),(function(){e.setState({loading:!1})}))},a.editObject=function(e){a.setState({editPackage:e,loading:!1}),a.props.history.push("/settings/medicine-packages/edit")},a.state={loading:!1,packages:[]},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(k.Xb,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{dataIndex:"image",key:"image",render:function(e){return e?d.a.createElement("img",{src:Object(S.g)(e),alt:"",style:{maxWidth:200,maxHeight:100}}):null}},{title:"Package Name",dataIndex:"name",key:"name"},{title:"Days",dataIndex:"no_of_days",key:"no_of_days"},{title:"Price (INR) + Tax",dataIndex:"final_price",key:"price"},{title:"Action",key:"action",render:function(a,n){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editObject(n)}},"Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}];return d.a.createElement(u.d,null,d.a.createElement(u.b,{path:"/settings/medicine-packages/add",render:function(t){return d.a.createElement(St,Object.assign({},e.props,t,{loadData:e.loadData}))}}),d.a.createElement(u.b,{path:"/settings/medicine-packages/edit",render:function(t){return e.state.editPackage?d.a.createElement(St,Object.assign({},e.state,e.props,t,{loadData:e.loadData})):d.a.createElement(u.a,{to:"/settings/medicine-packages"})}}),d.a.createElement(u.b,null,d.a.createElement(O.a,{title:d.a.createElement("h4",null,"Medicine Packages ",d.a.createElement(j.b,{to:"/settings/medicine-packages/add"},d.a.createElement(g.a,{style:{float:"right"},type:"primary"},d.a.createElement(y.a,{type:"plus"})," Add")))},d.a.createElement(G.a,{dataSource:this.state.packages,loading:this.state.loading,columns:a}))))}}]),t}(d.a.Component),xt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showDeletedExpenses=function(){a.setState({showDeleted:!0,deletedLoading:!0}),a.loadData(!0)},a.state={redirect:!1,visible:!1,diseases:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedRooms:[],editObj:{}},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,a=function(a){console.log("get table"),e?t.setState({deletedRooms:a,deletedLoading:!1}):t.setState({diseases:a,loading:!1})},n=function(){e?t.setState({deletedLoading:!1}):t.setState({loading:!1})};e?Object(S.c)(Object(S.f)(k.X,[this.props.active_practiceId]),a,n,{deleted:!0,practice:this.props.active_practiceId}):Object(S.c)(Object(S.f)(k.X,[this.props.active_practiceId]),a,n)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editObj:e,visible:!0})}},{key:"deleteObject",value:function(e,t){var a=this,n=e;n.is_active=t;Object(S.j)(Object(S.f)(k.X,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Disease",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return n.is_active?d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editTax(n)}},"  Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure to delete this?",onConfirm:function(){return t.deleteObject(n,!1)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete"))):d.a.createElement("span",null,d.a.createElement(E.a,{title:"Are you sure show this?",onConfirm:function(){return t.deleteObject(n,!0)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Show")))}}],n=[{label:"Disease",key:"name",required:!0,type:L.W}],i=[{label:"Disease",key:"name",required:!0,initialValue:this.state.editObj.name,type:L.W}],l={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.X,[this.props.active_practiceId]),method:"post"},s=[{key:"practice",value:this.props.active_practiceId}],r=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editObj.id}],c=W.a.create()(R.a);return d.a.createElement("div",null,d.a.createElement("h2",null,"Disease List"),d.a.createElement(O.a,null,d.a.createElement(c,{defaultValues:s,formProp:l,fields:n}),d.a.createElement(_.a,null),d.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.diseases})),d.a.createElement(m.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},d.a.createElement(c,{title:"Edit Disease",defaultValues:r,formProp:l,fields:i}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(d.a.Component),Dt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,data:null,loading:!0},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(S.c)(Object(S.f)(k.e,[this.props.active_practiceId]),(function(t){e.setState({data:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editFunction",value:function(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(S.j)(Object(S.f)(k.e,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(t,a){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.editFunction(a)}},"  Edit"))}}],n=[{label:"Role Name",key:"name",placeholder:"Advisor roles",required:!0,type:L.W}],i=[{label:"Role Name",key:"name",required:!0,initialValue:this.state.editingName,type:L.W}],l={successFn:function(e){t.handleCancel(),t.loadData(),console.log("sucess"),Object(S.a)(L.Sb,"success")},errorFn:function(){},action:Object(S.f)(k.e,[this.props.active_practiceId]),method:"post"},s=[{key:"practice",value:this.props.active_practiceId}],r=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],c=W.a.create()(R.a);return d.a.createElement(O.a,{title:"Add Advisor Roles"},d.a.createElement(c,{defaultValues:s,formProp:l,fields:n}),d.a.createElement(_.a,null),d.a.createElement(b.a,{loading:this.state.loading,columns:a,dataSource:this.state.data}),d.a.createElement(m.a,{title:"Edit Advisor Roles",visible:this.state.visible,footer:null,onCancel:this.handleCancel},d.a.createElement(c,{defaultValues:r,formProp:l,fields:i}),d.a.createElement(g.a,{key:"back",onClick:this.handleCancel},"Return")))}}]),t}(d.a.Component),It=(a(349),a(359)),Ct=(a(266),a(269)),wt=a(294),At=W.a.Item,Tt=O.a.Meta,Mt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleSubmit=function(e){var t=Object(v.a)(a);e.preventDefault(),a.props.form.validateFields((function(e,n){if(!e){t.setState({saving:!0});var i={user:{},referal:n.referal,role:n.role,is_agent:!0,aadhar_upload:n.aadhar_upload&&n.aadhar_upload.file&&n.aadhar_upload.file.response?n.aadhar_upload.file.response.image_path:n.aadhar_upload,is_approved:!0,practice:a.props.active_practiceId};a.state.userDetails?i.user=a.state.userDetails.user:(i.user.first_name=n.first_name,i.user.email=n.email,i.user.mobile=n.mobile);var l=function(e){t.setState({saving:!1}),t.props.loadData&&t.props.loadData(),t.props.history&&t.props.history.replace("/settings/agents"),e&&Object(S.a)(L.Sb,"Agent Created Successfully")},s=function(){t.setState({saving:!1})};a.state.userDetails?Object(S.l)(Object(S.f)(k.xc,[a.state.userDetails.id]),i,l,s):a.props.editAgentData?Object(S.l)(Object(S.f)(k.xc,[a.props.editAgentData.id]),i,l,s):Object(S.j)(Object(S.f)(k.jc,[a.props.active_practiceId]),i,l,s)}}))},a.handlePatientSelect=function(e){if(e){var t=Object(v.a)(a);Object(S.c)(Object(S.f)(k.xc,[e]),(function(e){t.setState({userDetails:e})}),(function(){}))}},a.handleClick=function(e){a.setState({userDetails:null})},a.state={redirect:!1,saving:!1,userListData:[],agentRoles:[]},a.changeRedirect=a.changeRedirect.bind(Object(v.a)(a)),a.getPatient=a.getPatient.bind(Object(v.a)(a)),a.searchPatient=a.searchPatient.bind(Object(v.a)(a)),a.loadAgentRoles=a.loadAgentRoles.bind(Object(v.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getPatient(),this.loadAgentRoles()}},{key:"getPatient",value:function(){var e=this;Object(S.c)(k.jc,(function(t){e.setState({userListData:t.results})}),(function(){}))}},{key:"loadAgentRoles",value:function(){var e=this;Object(S.c)(k.e,(function(t){e.setState({agentRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"searchPatient",value:function(e){var t=this;e&&Object(S.c)(Object(S.f)(k.Wc,[e]),(function(e){e&&t.setState({userListData:e.results})}),(function(){}))}},{key:"render",value:function(){var e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:6},wrapperCol:{span:14}},a=this.props.formLayout?this.props.formLayout:{wrapperCol:{offset:6,span:14}},n=this.props.form.getFieldDecorator,i={name:"image",data:{name:"hello"},action:Object(S.h)(k.sb),headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?Ke.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&Ke.a.error("".concat(e.file.name," file upload failed."))}};return d.a.createElement(O.a,null,d.a.createElement(D.a,{spinning:this.state.saving},d.a.createElement(W.a,{onSubmit:this.handleSubmit},this.props.title?d.a.createElement("h2",null,this.props.title):null,e.state.userDetails?d.a.createElement(At,Object.assign({key:"id",value:this.state.userDetails.id},a),d.a.createElement(O.a,{bordered:!1,style:{background:"#ECECEC"}},d.a.createElement(Tt,{avatar:this.state.userDetails.image?d.a.createElement(f.a,{src:Object(S.g)(this.state.userDetails.image)}):d.a.createElement(f.a,{style:{backgroundColor:"#87d068"}},this.state.userDetails.user.first_name?this.state.userDetails.user.first_name.charAt(0):d.a.createElement(y.a,{type:"user"})),title:this.state.userDetails.user.first_name,description:d.a.createElement("span",null,e.props.activePracticePermissions.PatientPhoneNumber?this.state.userDetails.user.mobile:Object(wt.b)(this.state.userDetails.user.mobile),d.a.createElement("br",null),d.a.createElement(g.a,{type:"primary",style:{float:"right"},onClick:this.handleClick},"Select Different"))}))):d.a.createElement("div",null,d.a.createElement(At,Object.assign({key:"name",label:"Advisor Name"},t),n("first_name",{initialValue:e.props.editAgentData?e.props.editAgentData.user.first_name:""})(d.a.createElement(It.a,{placeholder:"Advisor Name",showSearch:!0,disabled:!!e.props.editAgentData,onSearch:this.searchPatient,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSelect:this.handlePatientSelect},this.state.userListData.map((function(t){return d.a.createElement(It.a.Option,{value:t.id.toString()},d.a.createElement(Ct.a.Item,{style:{padding:0}},d.a.createElement(Ct.a.Item.Meta,{avatar:t.image?d.a.createElement(f.a,{src:Object(S.g)(t.image)}):d.a.createElement(f.a,{style:{backgroundColor:"#87d068"}},t.user.first_name?t.user.first_name.charAt(0):d.a.createElement(y.a,{type:"user"})),title:"".concat(t.user.first_name," (ID:").concat(t.custom_id?t.custom_id:t.user.id,")"),description:e.props.activePracticePermissions.PatientPhoneNumber?t.user.mobile:Object(wt.b)(t.user.mobile)})))}))))),d.a.createElement(At,Object.assign({key:"mobile",label:"Mobile Number"},t),n("mobile",{initialValue:e.props.editAgentData?e.props.editAgentData.user.mobile:null,rules:[{required:!0,message:q.j}]})(d.a.createElement(ce.a,{placeholder:"Mobile Number",disabled:!!e.props.editAgentData}))),d.a.createElement(At,Object.assign({key:"email",label:"Email Address"},t),n("email",{initialValue:e.props.editAgentData?e.props.editAgentData.user.email:null,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:q.j}]})(d.a.createElement(ce.a,{placeholder:"Email Address",disabled:!!e.props.editAgentData}))),this.state.editAgentData?null:d.a.createElement(At,Object.assign({key:"referal",label:"Referer Code"},t),n("referal",{initialValue:e.props.editAgentData&&e.props.editAgentData.user.referer_data.referer?e.props.editAgentData.user.referer_data.referer.referer_code:null})(d.a.createElement(ce.a,{placeholder:"Referer Code"})))),d.a.createElement(At,Object.assign({key:"role"},t,{label:"Role Type"}),n("role",{initialValue:e.props.editAgentData&&e.props.editAgentData.role?e.props.editAgentData.role:null},{rules:[{required:!0,message:q.j}]})(d.a.createElement(ne.a,null,this.state.agentRoles.map((function(e){return d.a.createElement(ne.a.Option,{value:e.id},e.name)}))))),d.a.createElement(At,Object.assign({label:"Document Upload"},t),n("aadhar_upload",{initialValue:e.props.editAgentData&&e.props.editAgentData.aadhar_upload?e.props.editAgentData.aadhar_upload:null,rules:[{required:!0,message:q.j}],valuePropName:"aadhar_upload"})(d.a.createElement(Ge.a,i,d.a.createElement(g.a,null,d.a.createElement(y.a,{type:"upload"})," Click to Upload"),e.props.editAgentData&&e.props.editAgentData.aadhar_upload?d.a.createElement("img",{src:Object(S.g)(e.props.editAgentData.aadhar_upload),style:{maxWidth:"100%"}}):null))),d.a.createElement(At,t,d.a.createElement(g.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),e.props.history?d.a.createElement(g.a,{style:{margin:5},onClick:function(){return e.props.history.goBack()}},"Cancel"):null))))}}]),t}(d.a.Component),Vt=W.a.create()(Mt),Nt=a(532),Rt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showWallet=function(e){a.setState({showAgentData:e})},a.payAgentModal=function(e){a.setState({payAgentData:e})},a.approveAgent=function(e){var t=Object(v.a)(a),n={id:e.id,is_approved:!0};e.role?(t.setState({approvalLoading:!0}),Object(S.l)(Object(S.f)(k.xc,[e.id]),n,(function(a){Object(S.a)(L.Sb,"Agent Approved Successfully!"),t.setState((function(t){var a=[];return t.data.forEach((function(t){t.id==e.id&&(t.is_approved=!0),a.push(t)})),{data:a,approvalLoading:!1}}))}),(function(){t.setState({approvalLoading:!1})}))):Object(S.a)(L.bc,"Kindly assign the role before approving!")},a.handleSubmit=function(e){var t=Object(v.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,a){e||t.setState({role:a.role,approved:a.approved},(function(){t.loadData()}))}))},a.state={redirect:!1,visible:!1,data:null,loading:!0,agentRoles:[],practiceList:[],approved:null,showAgentData:null},a.loadData=a.loadData.bind(Object(v.a)(a)),a.deleteObject=a.deleteObject.bind(Object(v.a)(a)),a.loadAgentRoles=a.loadAgentRoles.bind(Object(v.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),this.loadAgentRoles()}},{key:"loadAgentRoles",value:function(){var e=this;Object(S.c)(k.e,(function(t){e.setState({agentRoles:t})}),(function(){}))}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this;this.setState({loading:!0});var a=function(e){1==e.current?t.setState({data:e.results,total:e.count,nextPage:e.next,loading:!1}):t.setState((function(t){return{data:[].concat(Object(oe.a)(t.data),Object(oe.a)(e.results)),total:e.count,nextPage:e.next,loading:!1}}))},n=function(){t.setState({loading:!1})},i={agent:!0,page:e};t.state.role&&(i.role=t.state.role),null!=t.state.approved&&(i.approved=!!t.state.approved),i.practice=this.props.active_practiceId,Object(S.c)(k.jc,a,n,i)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editObject",value:function(e){this.setState({editAgentData:e,loading:!1}),this.props.history.push("/settings/agents/".concat(e.id,"/edit"))}},{key:"deleteObject",value:function(e){var t=this,a={id:e.id,is_agent:!1};Object(S.l)(Object(S.f)(k.xc,[e.id]),a,(function(e){t.setState({loading:!1}),t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=1,n=this.props.form.getFieldDecorator,i=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(e,t){return d.a.createElement("span",null," ",a++)},export:function(e,t,a){return a+1}},{title:"Name",dataIndex:"user.first_name",key:"name",render:function(e,t){return d.a.createElement(j.b,{to:"/patient/".concat(t.id,"/profile")},e)},export:function(e,t){return t.user.first_name}},{title:"Email",dataIndex:"user.email",key:"email",export:function(e,t){return t.user.email}},{title:"Mobile",dataIndex:"user.mobile",key:"mobile",export:function(e,t){return t.user.mobile}},{title:"Referrer",dataIndex:"user.referer_data.referer.first_name",key:"referrer",render:function(e,t){return e&&t.user.referer_data.patient?d.a.createElement(j.b,{to:"/patient/".concat(t.user.referer_data.patient,"/profile")},e):"--"},export:function(e,t){return t.user.referer?t.user.referer_data.referer.first_name:"--"}},{title:"Role",dataIndex:"role_data.name",key:"role_data",export:function(e,t){return t.role_data.name}},{title:"Aadhar",dataIndex:"aadhar_id",key:"aadhar_id",export:function(e){return e}},{title:"Document",dataIndex:"aadhar_upload",key:"aadhar_upload",hideExport:!0,render:function(e){return e?d.a.createElement("a",{target:"_blank",href:Object(S.g)(e)},"Open Document"):"--"}},{title:"Status",dataIndex:"is_approved",key:"is_approved",render:function(e,a){return e?d.a.createElement(w.a,{color:"#87d068"},"Approved"):d.a.createElement(E.a,{title:"Are you sure approve this Advisor?",onConfirm:function(){return t.approveAgent(a)},okText:"Yes",cancelText:"No"},d.a.createElement("a",{href:"#",disabled:t.state.approvalLoading},"Approve"))}},{title:"Action",key:"action",hideExport:!0,render:function(a,n){return d.a.createElement("span",null,d.a.createElement("a",{onClick:function(){return e.showWallet(n)}},"  Wallet"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement("a",{onClick:function(){return e.payAgentModal(n)}},"  Pay Out"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement("a",{onClick:function(){return e.editObject(n)}},"  Edit"),d.a.createElement(_.a,{type:"vertical"}),d.a.createElement(E.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},d.a.createElement("a",null,"Delete")))}}],l=W.a.create()(R.a);return d.a.createElement(u.d,null,d.a.createElement(u.b,{exact:!0,path:"/settings/agents/add",render:function(t){return d.a.createElement(Vt,Object.assign({},e.props,{title:"Create Advisor",loadData:e.loadData}))}}),d.a.createElement(u.b,{exact:!0,path:"/settings/agents/:id/edit",render:function(t){return d.a.createElement(Vt,Object.assign({},e.props,e.state,{title:"Edit Advisor",loadData:e.loadData}))}}),d.a.createElement(u.b,null,d.a.createElement(O.a,{title:d.a.createElement("h4",null,"Advisor ",d.a.createElement(j.b,{to:"/settings/agents/add"},d.a.createElement(g.a,{style:{float:"right"},type:"primary"},d.a.createElement(y.a,{type:"plus"}),"Add")))},d.a.createElement(p.a,null,d.a.createElement(h.a,{style:{float:"right"}},d.a.createElement(W.a,{layout:"inline",onSubmit:this.handleSubmit},d.a.createElement(W.a.Item,{key:"role",label:"Advisor Role"},n("role",{initialValue:this.state.agentRoles?this.state.agentRoles.id:""})(d.a.createElement(ne.a,{placeholder:"Advisor Role",style:{minWidth:150},allowClear:!0},this.state.agentRoles.map((function(e){return d.a.createElement(ne.a.Option,{value:e.id},e.name)}))))),d.a.createElement(W.a.Item,{key:"approved",label:"Status"},n("approved",{initialValue:this.state.approved?this.state.approved:null})(d.a.createElement(ne.a,{placeholder:"status",style:{minWidth:150}},[{label:"Approved",value:!0},{label:"Pending",value:!1},{label:"All",value:null}].map((function(e){return d.a.createElement(ne.a.Option,{value:e.value},e.label)}))))),d.a.createElement(W.a.Item,null,d.a.createElement(g.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"))))),d.a.createElement(G.a,{loading:this.state.loading,columns:i,dataSource:this.state.data,pagination:!1}),d.a.createElement(he.a,{loading:this.state.loading,loaderFunction:function(){return t.loadData(t.state.nextPage)},hidden:!this.state.nextPage}),d.a.createElement(m.a,{visible:this.state.showAgentData,closable:!1,centered:!0,width:1e3,footer:null,style:{top:60}},d.a.createElement(g.a,{type:"primary",style:{position:"absolute",top:"-50px"},onClick:function(){return e.payAgentModal(e.state.showAgentData)}},"Pay Out"),d.a.createElement(g.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:function(){return e.showWallet(null)}}),this.state.showAgentData?d.a.createElement(Nt.a,{currentPatient:this.state.showAgentData,key:this.state.showAgentData?this.state.showAgentData.id+this.state.payAgentData:null}):null),d.a.createElement(m.a,{visible:this.state.payAgentData,closable:!1,centered:!0,footer:null,closeIcon:null,style:{top:60}},d.a.createElement(g.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:function(){return e.payAgentModal(null)}}),this.state.payAgentData?d.a.createElement("div",null,d.a.createElement("h2",null,"Pay ",this.state.payAgentData.user.first_name),d.a.createElement(l,{formProp:{method:"post",action:k.Qd,successFn:function(){t.payAgentModal(null)},errorFn:function(){},confirm:!0,confirmText:"Are you sure to pay out this advisor?"},fields:[{label:"Amount",key:"amount",type:L.pb,required:!0,follow:"INR"},{label:"Date",key:"date",type:L.K,required:!0,format:"YYYY-MM-DD",initialValue:N()()},{label:"Comments",key:"comments",type:L.W,required:!0,extra:"Comments for this transaction"}],defaultValues:[{key:"ledger_type",value:"Payout"},{key:"amount_type",value:"Non Refundable"},{key:"practice",value:this.props.active_practiceId},{key:"is_mlm",value:!1},{key:"is_cancelled",value:!1},{key:"patient",value:this.state.payAgentData.id},{key:"staff",value:this.props.user.id}]})):null))))}}]),t}(d.a.Component),Lt=W.a.create()(Rt),Ft=c.a.Content,Ht=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={collapsed:!1},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement(Ft,{className:"main-container",style:{minHeight:280}},d.a.createElement(c.a,null,d.a.createElement(He,this.props),d.a.createElement(Ft,{style:{margin:"24px 16px",minHeight:280}},d.a.createElement(u.d,null,d.a.createElement(u.b,{exact:!0,path:"/settings/clinics-staff/adddoctor",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?d.a.createElement(Z,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/clinics-staff/:doctorid/edit",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?d.a.createElement(Z,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/clinics-staff/addstaff",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?d.a.createElement($,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/clinics-staff/staff/:staffid/edit",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?d.a.createElement($,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/clinics-staff",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?d.a.createElement(J,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/clinics",render:function(t){return e.props.activePracticePermissions.SettingsPracticeDetail||e.props.allowAllPermissions?d.a.createElement(P,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/clinics/add",render:function(t){return e.props.activePracticePermissions.SettingsPracticeDetail||e.props.allowAllPermissions?d.a.createElement(te,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/clinics/:id/edit",render:function(t){return e.props.activePracticePermissions.SettingsPracticeDetail||e.props.allowAllPermissions?d.a.createElement(Se,Object.assign({},e.props,{practiceId:t.match.params.id},t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/communication-settings",render:function(t){return e.props.activePracticePermissions.SettingsCommunincations||e.props.allowAllPermissions?d.a.createElement(re,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/calendarsettings",render:function(t){return e.props.activePracticePermissions.SettingsCalendar||e.props.allowAllPermissions?d.a.createElement(Re,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/procedures",render:function(t){return e.props.activePracticePermissions.SettingsProcedureCatalog||e.props.allowAllPermissions?d.a.createElement(fe,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/billing",render:function(t){return e.props.activePracticePermissions.SettingsBilling||e.props.allowAllPermissions?d.a.createElement(_e,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/loyalty",render:function(t){return e.props.activePracticePermissions.SettingsLoyalty||e.props.allowAllPermissions?d.a.createElement(gt,e.props):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/emr",render:function(t){return e.props.activePracticePermissions.SettingsEMR||e.props.allowAllPermissions?d.a.createElement(ke,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/prescriptions",render:function(t){return e.props.activePracticePermissions.SettingsPrescriptions||e.props.allowAllPermissions?d.a.createElement(De,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/expense-types",render:function(t){return e.props.activePracticePermissions.SettingsExpenseTypes||e.props.allowAllPermissions?d.a.createElement(Ie,e.props):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/labs",render:function(t){return e.props.activePracticePermissions.SettingsLabs||e.props.allowAllPermissions?d.a.createElement(kt,Object.assign({},e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/medical-history",render:function(t){return e.props.activePracticePermissions.SettingsMedicalHistory||e.props.allowAllPermissions?d.a.createElement(Ce,e.props):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/agents",render:function(t){return e.props.activePracticePermissions.SettingsAgents||e.props.allowAllPermissions?d.a.createElement(Lt,Object.assign({},e.state,e.props,t,{key:e.state.active_practiceId})):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/agent-roles",render:function(t){return e.props.activePracticePermissions.SettingsAgentRoles||e.props.allowAllPermissions?d.a.createElement(Dt,Object.assign({},e.state,e.props,t,{key:e.state.active_practiceId})):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/mlm",render:function(t){return e.props.activePracticePermissions.SettingsMLMSettings||e.props.allowAllPermissions?d.a.createElement(Ue,Object.assign({},e.state,e.props,t,{key:e.state.active_practiceId})):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/printout",render:function(t){return e.props.activePracticePermissions.SettingsPrintouts||e.props.allowAllPermissions?d.a.createElement(tt,Object.assign({},e.state,t,e.props,{key:e.state.active_practiceId})):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/mailpdfsettings",render:function(t){return e.props.activePracticePermissions.SettingsEmailPDFSettings||e.props.allowAllPermissions?d.a.createElement(it,Object.assign({},e.state,t,e.props)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/integration",render:function(t){return d.a.createElement(nt,Object.assign({},e.state,e.props,t))}}),d.a.createElement(u.b,{exact:!0,path:"/settings/roomtypes",render:function(t){return e.props.activePracticePermissions.SettingsRoomTypes||e.props.allowAllPermissions?d.a.createElement(rt,e.props):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{exact:!0,path:"/settings/diseases",render:function(t){return e.props.activePracticePermissions.SettingsDiseaseList||e.props.allowAllPermissions?d.a.createElement(xt,e.props):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/bed-packages",render:function(t){return e.props.activePracticePermissions.SettingsBedPackages||e.props.allowAllPermissions?d.a.createElement(st,Object.assign({},e.state,e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{path:"/settings/medicine-packages",render:function(t){return e.props.activePracticePermissions.SettingsMedicinePackages||e.props.allowAllPermissions?d.a.createElement(Pt,Object.assign({},e.state,e.props,t)):d.a.createElement(de.a,null)}}),d.a.createElement(u.b,{component:we.a})))))}}]),t}(d.a.Component);t.default=Ht},243:function(e,t,a){"use strict";a(247);var n=a(248),i=(a(262),a(263)),l=(a(226),a(227)),s=(a(236),a(237)),r=a(31),c=(a(242),a(19)),o=(a(229),a(228)),d=(a(251),a(254)),u=a(95),m=a(94),p=a(97),h=a(96),f=a(24),b=a(98),g=a(0),y=a.n(g),E=a(230),_=a.n(E),v=a(430),O=a.n(v),j=(a(273),a(373)),k=a.n(j),S=(a(431),function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",i=[];return a&&(e.forEach((function(e){i.push(e)})),n+=i.join(","),n+="\r\n"),t.forEach((function(t){i=[],e.forEach((function(e){t[e]?i.push(t[e]):i.push("--")})),n+=i.join(","),n+="\r\n"})),n}),P=function(e,t){var a,n="".concat(t,".csv"),i=[];i.push(255,254);for(var l=0;l<e.length;++l)a=e.charCodeAt(l),i.push(255&a),i.push(a/256>>>0);var s=new Blob([new Uint8Array(i)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(s,n);else{var r=document.createElement("a");if(void 0!==r.download){var c=window.URL.createObjectURL(s);r.setAttribute("href",c),r.setAttribute("download",n),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(c)}}};a(23),a(34),a(235);a.d(t,"a",(function(){return x}));var x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,i=t.selectedKeys,l=t.confirm,s=t.clearFilters;return y.a.createElement("div",{style:{padding:8}},y.a.createElement(d.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:i[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(i,l)},style:{width:188,marginBottom:8,display:"block"}}),y.a.createElement(o.a,{type:"primary",onClick:function(){return a.handleSearch(i,l)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),y.a.createElement(o.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return y.a.createElement(c.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return null!=a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return y.a.createElement(O.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e?e.toString():""})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.state=Object(r.a)({},e,{searchText:""}),a.excelExport=a.excelExport.bind(Object(f.a)(a)),a.pdfExport=a.pdfExport.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.columns==this.state.columns&&e.dataSource==this.state.dataSource&&e.loading==this.state.loading||this.setState(Object(r.a)({},e))}},{key:"pdfExport",value:function(){var e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push({title:e.title,dataKey:e.title})}));var a=[];e.state.dataSource.forEach((function(t,n){var i={};e.state.columns.forEach((function(e){e.export?i[e.title]=e.export(t[e.dataIndex],t,n):i[e.title]=t[e.dataIndex]})),a.push(i)})),function(e,t,a){var n=new k.a("p","mm","a4");!function(e){e.line(10,20,200,20)}(n);var i=Object.create(t);n.autoTable(e,i,{margin:{top:35},startY:n.autoTableEndPosY()+20,headerStyle:{overflow:"linebreak"},bodyStyles:{overflow:"linebreak"}}),function(e){e.line(10,270,200,270),e.setFontSize(8),e.text(10,275,"This is a computer generated report.")}(n),n.save("".concat(a,".pdf"))}(t,a,"Export".concat(_()()))}},{key:"excelExport",value:function(){var e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push(e.title)}));var a=[];e.state.dataSource.forEach((function(t,n){var i={};e.state.columns.forEach((function(e){e.export?i[e.title]=e.export(t[e.dataIndex],t,n):i[e.title]=t[e.dataIndex]})),a.push(i)})),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"download",n=S(e,t);P(n,a)}(t,a,"Export".concat(_()()))}},{key:"render",value:function(){var e=this,t=this.state.columns.map((function(t){return t.render?Object(r.a)({},t):Object(r.a)({},t,{},e.getColumnSearchProps(t.dataIndex))}));return y.a.createElement("div",null,this.props.hideReport?null:y.a.createElement(l.a,null,y.a.createElement(s.a,null,y.a.createElement(o.a.Group,{size:"small"},y.a.createElement(o.a,{disabled:this.state.loading,type:"primary",onClick:this.excelExport},y.a.createElement(c.a,{type:"file-excel"})," Excel"),y.a.createElement(o.a,{disabled:this.state.loading,type:"primary",onClick:this.pdfExport},y.a.createElement(c.a,{type:"file-pdf"})," PDF")))),y.a.createElement(l.a,null,y.a.createElement(n.a,Object.assign({pagination:{position:"both",pageSizeOptions:["10","20","30","40","50","100"],showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:function(e,t){return y.a.createElement(i.a,null,"Showing ",y.a.createElement("b",null,t[0])," to ",y.a.createElement("b",null,t[1])," of ",y.a.createElement("b",null,e)," items")}}},this.state,{columns:t}))))}}]),t}(y.a.Component)},261:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));a(229);var n=a(228),i=(a(244),a(245)),l=(a(226),a(227)),s=a(95),r=a(94),c=a(97),o=a(96),d=a(24),u=a(98),m=a(0),p=a.n(m),h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).startLoading=function(){a.props.loaderFunction&&(a.props.loaderFunction(),a.startMakingExtraLabels())},a.startMakingExtraLabels=function(){var e=Object(d.a)(a);a.setState((function(e){return e.extraLoadingLabel.length>2?{extraLoadingLabel:""}:{extraLoadingLabel:"".concat(e.extraLoadingLabel,".")}}),(function(){e.props.loading&&setTimeout((function(){e.startMakingExtraLabels()}),500)}))},a.state={extraLoadingLabel:""},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.loading?p.a.createElement(i.a,{spinning:this.props.loading},p.a.createElement(l.a,{style:{minHeight:200}})):this.props.hidden?p.a.createElement(l.a,null,p.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},p.a.createElement("small",null,"No More Data Found"))):p.a.createElement(l.a,null,p.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},p.a.createElement(n.a,{type:"primary",onClick:this.startLoading,loading:this.props.loading},this.props.loading?"Loading".concat(this.state.extraLoadingLabel):"Load More")))}}]),t}(p.a.Component)},532:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));a(231);var n=a(232),i=(a(252),a(253)),l=(a(242),a(19)),s=(a(226),a(227)),r=(a(278),a(279)),c=(a(234),a(233)),o=(a(236),a(237)),d=a(47),u=a(250),m=a(95),p=a(94),h=a(97),f=a(96),b=a(24),g=a(98),y=(a(374),a(378)),E=a(0),_=a.n(E),v=a(230),O=a.n(v),j=a(243),k=a(23),S=a(34),P=a(261),x=y.a.Text,D=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).loadPatientWallet=function(){var e=Object(b.a)(a);if(a.props.currentPatient&&a.props.currentPatient.id){Object(k.c)(Object(k.f)(S.g,[a.props.currentPatient.id]),(function(t){t.length&&e.setState({walletAmount:t[0]})}),(function(){}))}else a.setState({pendingAmount:null})},a.loadData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(b.a)(a);a.setState({loading:!0});var n=function(e){1==e.current?t.setState({ledger:e.results,loading:!1,nextPage:e.next}):t.setState((function(t){return{ledger:[].concat(Object(u.a)(t.ledger),Object(u.a)(e.results)),loading:!1,nextPage:e.next}}))},i=function(){t.setState({loading:!1})},l={page:e,start:a.state.selectedStartDate.startOf("day").format(),end:a.state.selectedEndDate.endOf("day").format(),agents:a.state.selectedAgents.join(",")};a.state.selectedAgents&&(l.agents=a.state.selectedAgents.join(",")),Object(k.c)(Object(k.f)(S.Qd,[a.props.currentPatient.id]),n,i,l)},a.loadSumData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(b.a)(a),n=function(e){t.setState({ledgerDetails:e,nextPage:e.next})},i=function(){},l={page:e,start:a.state.selectedStartDate.format(),end:a.state.selectedEndDate.format(),agents:a.state.selectedAgents.join(",")};a.state.selectedAgents&&(l.agents=a.state.selectedAgents.join(",")),Object(k.c)(Object(k.f)(S.Rd,[a.props.currentPatient.id]),n,i,l)},a.changeExpenseFilters=function(e,t){var n=Object(b.a)(a);a.setState(Object(d.a)({},e,t),(function(){n.loadData(1)}))},a.state={ledger:[],ledgerDetails:{},loading:!1,walletAmount:null,selectedStartDate:O()().subtract(1,"month"),selectedEndDate:O()(),agents:[],selectedAgents:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),this.loadPatientWallet(),this.loadAgents(),this.loadSumData()}},{key:"loadAgents",value:function(){var e=this;Object(k.c)(Object(k.f)(S.gc,[this.props.currentPatient.id]),(function(t){e.setState({agents:t})}),(function(){}),{agent:!0,pagination:!1})}},{key:"render",value:function(){var e=this,t=[{title:"Date",dataIndex:"created_at",key:"created_at",render:function(e){return O()(e).format("LLL")}},{title:"Patient",dataIndex:"received_from",key:"received_from",render:function(e,t){return e?_.a.createElement(x,null,e.user.first_name," (",e.custom_id,")"):"--"}},,{title:"Refered By",dataIndex:"received_from.user.referer_data",key:"received_from.user.referer_data",render:function(e,t){return e&&e.referer?_.a.createElement(x,null,e.referer.first_name," (",e.custom_id,")"):"--"}},{title:"Ledger Comment",dataIndex:"comments",key:"comments",render:function(e,t){return t.is_cancelled?_.a.createElement(x,{delete:!0},e):e}},{title:"Cr/Dr",dataIndex:"ledger_type",key:"ledger_type",render:function(e,t){return t.is_cancelled?_.a.createElement(x,{delete:!0},e):e}},{title:"Amount",dataIndex:"amount",key:"amount",render:function(e,t){return t.is_cancelled?_.a.createElement(x,{delete:!0},e.toFixed(2)):e.toFixed(2)}}];return _.a.createElement("div",null,_.a.createElement(n.a,{title:"Wallet Ledger"},_.a.createElement(s.a,{gutter:16,style:{marginBottom:10}},_.a.createElement(o.a,{span:2,style:{textAlign:"right"}},_.a.createElement("b",null," Agents")),_.a.createElement(o.a,{span:4},_.a.createElement(c.a,{style:{width:"100%"},value:this.state.selectedAgents,mode:"multiple",disabled:this.state.loading,onChange:function(t){return e.changeExpenseFilters("selectedAgents",t)}},this.state.agents.map((function(e){return _.a.createElement(c.a.Option,{value:e.id},e.user.first_name)})))),_.a.createElement(o.a,{span:2,style:{textAlign:"right"}},_.a.createElement("b",null," From")),_.a.createElement(o.a,{span:4},_.a.createElement(r.a,{value:this.state.selectedStartDate,disabled:this.state.loading,allowClear:!1,onChange:function(t){return e.changeExpenseFilters("selectedStartDate",t)}})),_.a.createElement(o.a,{span:2,style:{textAlign:"right"}},_.a.createElement("b",null," To")),_.a.createElement(o.a,{span:4},_.a.createElement(r.a,{value:this.state.selectedEndDate,disabled:this.state.loading,allowClear:!1,onChange:function(t){return e.changeExpenseFilters("selectedEndDate",t)}}))),this.state.walletAmount?_.a.createElement(s.a,{style:{textAlign:"center",marginBottom:10}},_.a.createElement(o.a,{span:24},_.a.createElement(i.a,{title:"Wallet Total",prefix:_.a.createElement(l.a,{type:"wallet"}),value:this.state.walletAmount.non_refundable,precision:2}))):null,_.a.createElement(j.a,{dataSource:this.state.ledger,loading:this.state.loading,columns:t,hideReport:!0,pagination:!1}),_.a.createElement(P.a,{loading:this.state.loading,hidden:!this.state.nextPage,loaderFunction:function(){return e.loadData(e.state.nextPage)}}),_.a.createElement(s.a,{style:{textAlign:"center",marginBottom:10}},_.a.createElement(o.a,{span:8},_.a.createElement(i.a,{title:"Credit",value:this.state.ledgerDetails.credit,precision:2})),_.a.createElement(o.a,{span:8},_.a.createElement(i.a,{title:"Debit",value:this.state.ledgerDetails.debit,precision:2})),_.a.createElement(o.a,{span:8},_.a.createElement(i.a,{title:"Profit",value:this.state.ledgerDetails.credit-this.state.ledgerDetails.debit,precision:2})))))}}]),t}(_.a.Component)}}]);
//# sourceMappingURL=19.77958ce6.chunk.js.map