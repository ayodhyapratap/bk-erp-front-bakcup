(window["webpackJsonpbk-erp-front"]=window["webpackJsonpbk-erp-front"]||[]).push([[16,6],{1710:function(e,t,a){"use strict";var n=a(0);e.exports=function(e){var t=e.tree,a=e.NodeComponent;return n.createElement("div",{className:"reactOrgChart"},function e(t){var r=function(e){return(t.children||[]).length>e+1},o=function(e){return e>0},i=n.createElement("td",{colSpan:2*(t.children||[]).length,className:"nodeGroupCellLines"},n.createElement("table",{className:"nodeLineTable"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"nodeLineCell nodeGroupLineVerticalMiddle"}),n.createElement("td",{colSpan:2,className:"nodeLineCell"}))))),s=(t.children||[]).map((function(e,t){return n.createElement("td",{colSpan:"2",className:"nodeGroupCellLines",key:t},n.createElement("table",{className:"nodeLineTable"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"nodeLineCell nodeGroupLineVerticalMiddle"+(o(t)?" nodeLineBorderTop":"")}),n.createElement("td",{colSpan:2,className:"nodeLineCell"+(r(t)?" nodeLineBorderTop":"")})))))})),l=(t.children||[]).map((function(t,a){return n.createElement("td",{colSpan:"2",className:"nodeGroupCell",key:a},e(t))}));return n.createElement("table",{className:"orgNodeChildGroup"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"nodeCell",colSpan:2*(t.children||[]).length},n.createElement(a,{node:t}))),n.createElement("tr",null,(t.children||[]).length>0&&i),n.createElement("tr",null,s),n.createElement("tr",null,l)))}(t))}},1711:function(e,t,a){},1739:function(e,t,a){"use strict";a.r(t);var n=a(96),r=a(97),o=a(100),i=a(98),s=a(44),l=a(99),c=(a(138),a(101)),p=a(0),u=a.n(p),d=(a(242),a(240)),m=(a(280),a(281)),h=a(64),f=a.n(h),g=c.a.Header,y=m.a.RangePicker,E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).changeReport=a.changeReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"changeReport",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t=[{name:"Daily Summary",value:"/reports/summary",active:e.props.activePracticePermissions.ReportsDailySummary||e.props.allowAllPermissions},{name:"Income",value:"/reports/income",active:e.props.activePracticePermissions.ReportsIncome||e.props.allowAllPermissions},{name:"Payments",value:"/reports/payments",active:e.props.activePracticePermissions.ReportsPayments||e.props.allowAllPermissions},{name:"Appointment",value:"/reports/appointments",active:e.props.activePracticePermissions.ReportsAppointments||e.props.allowAllPermissions},{name:"Patients",value:"/reports/patients",active:e.props.activePracticePermissions.ReportsPatients||e.props.allowAllPermissions},{name:"Amount Due",value:"/reports/amountdue",active:e.props.activePracticePermissions.ReportsAmountDue||e.props.allowAllPermissions},{name:"Expenses",value:"/reports/expenses",active:e.props.activePracticePermissions.ReportsExpenses||e.props.allowAllPermissions},{name:"Inventory",value:"/reports/inventory",active:e.props.activePracticePermissions.ReportsInventory||e.props.allowAllPermissions},{name:"EMR",value:"/reports/emr",active:e.props.activePracticePermissions.ReportsEMR||e.props.allowAllPermissions},{name:"Bed Booking",value:"/reports/bed_booking",active:e.props.activePracticePermissions.ReportsBedBooking||e.props.allowAllPermissions},{name:"Inventory Retails",value:"/reports/inventoryretails",active:e.props.activePracticePermissions.ReportsInventoryRetail||e.props.allowAllPermissions},{name:"MLM ",value:"/reports/mlm",active:e.props.activePracticePermissions.ReportsMLMReport||e.props.allowAllPermissions},{name:"Invoice Returns ",value:"/reports/invoice-return",active:e.props.activePracticePermissions.ReportsInventoryRetail||e.props.allowAllPermissions},{name:"Suggestions",value:"/reports/suggestions",active:e.props.activePracticePermissions.ReportsSuggestions||e.props.allowAllPermissions}];return u.a.createElement(g,{style:{background:"#fff"}},u.a.createElement("ul",{style:{listStyle:"none"}},u.a.createElement("li",{style:{display:"inline"}},"Select Report Category \xa0"),u.a.createElement("li",{style:{display:"inline"}},u.a.createElement(d.a,{style:{minWidth:"200px"},defaultValue:t[3].name,value:this.props.history.location.pathname,onChange:this.changeReport},t.map((function(e){return u.a.createElement(d.a.Option,{value:e.value,disabled:!e.active},e.name)})))),u.a.createElement("li",{style:{display:"inline",float:"right"}},u.a.createElement(y,{onChange:function(t,a){return e.props.reportsDateRange(a)},defaultValue:[f()(),f()()],format:"DD/MM/YYYY"}))))}}]),t}(u.a.Component),b=(a(225),a(226)),v=(a(223),a(224)),D=(a(272),a(269)),O=(a(229),a(230)),x=(a(228),a(227)),_=a(33),S=a(32),j=a(244),k=a(23),M=a(2),P=(a(246),a(247)),I=(a(254),a(255)),Y=(a(250),a(251)),R=a(249),w=Y.a.confirm,C=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={practice:a.props.active_practiceId,type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.m,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.sendMail=function(e){var t={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.m,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);w({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel",e)}})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[],mailingUsersList:[]},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadReport(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.doctors==e.doctors||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadReport()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.report,n=t.loading,r=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(e,t,a){return u.a.createElement("span",null,a+1)},width:50},{title:"Invoice Date",key:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("DD MMM YYYY"))}},{title:"Invoice Number",key:"invoice_id",dataIndex:"invoice_id"},{title:"Patient",dataIndex:"first_name",key:"first_name"},{title:"Patient ID",dataIndex:"custom_id",key:"custom_id"},{title:"Doctor Name",dataIndex:"doctor_name",key:"doctor_name"},{title:"Invoice Amount(INR)",key:"total",dataIndex:"total",render:function(e){return e.toFixed(2)}},{title:"Amount Due(INR)",dataIndex:"amount_due",key:"amount_due",render:function(e){return e.toFixed(2)}}],o=a.reduce((function(e,t){return e+t.amount_due}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Total Amount Due ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Amount Due For Listed Invoices(INR)",value:o.toFixed(2)}),u.a.createElement("br",null),u.a.createElement("p",null,"*Advance payments are not considered here. Amounts may vary slightly."))),u.a.createElement(P.a,{loading:n,columns:r,pagination:!1,dataSource:a}))}}]),t}(u.a.Component),A=Y.a.confirm,N=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={practice:a.props.active_practiceId,type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.m,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.sendMail=function(e){var t={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.m,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);A({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel",e)}})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[],mailingUsersList:[]},a.loadReport=a.loadReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadReport(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.doctors==e.doctors||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadReport()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.report,n=t.loading,r=0,o=0,i=0,s=0,l=0,c=0;a.map((function(e){r+=e["0_29"],o+=e["30_59"],i+=e["60_89"],s+=e["89_364"],l+=e[365],c=r+o+i+s+l}));var p=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(e,t,a){return u.a.createElement("span",null,a+1)},width:50},{title:"Name",dataIndex:"first_name",key:"first_name"},{title:"for 0-29 days (INR)",dataIndex:"0_29",key:"0_29",render:function(e){return u.a.createElement("span",null,e.toFixed(2))}},{title:"for 30-59 days (INR)",dataIndex:"30_59",key:"30_59",render:function(e){return u.a.createElement("span",null,e.toFixed(2))}},{title:"for 60-89 days (INR)",dataIndex:"60_89",key:"60_89",render:function(e){return u.a.createElement("span",null,e.toFixed(2))}},{title:"for 89-364 days (INR)",dataIndex:"89_364",key:"89_364",render:function(e){return u.a.createElement("span",null,e.toFixed(2))}},{title:"for more than 364 days (INR)",dataIndex:"365",key:"365",render:function(e){return u.a.createElement("span",null,e.toFixed(2))}},{title:"Total (INR)",key:"total",render:function(e,t){return u.a.createElement("span",null,(t["0_29"]+t["30_59"]+t["60_89"]+t["89_364"]+t[365]).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Ageing Amount Due ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:22,offset:1},u.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"*Unpaid Invoice Amount."),u.a.createElement(b.a,{title:"Summary",bordered:!1,type:"inner"},u.a.createElement(v.a,null,u.a.createElement(O.a,{span:4},u.a.createElement(I.a,{title:"for 0-29 days (INR)",value:r.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(I.a,{title:"for 30-59 days (INR)",value:o.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(I.a,{title:"for 60-89 days (INR)",value:i.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(I.a,{title:"for 89-364 days (INR)",value:s.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(I.a,{title:"for more than 364 days (INR)",value:l.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(I.a,{title:"Total (INR)",value:c.toFixed(2)})))))),u.a.createElement(v.a,{gutter:16},u.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"*Unpaid Invoice Amount."),u.a.createElement(b.a,{title:"Summary",bordered:!1,type:"inner",bodyStyle:{padding:0}},u.a.createElement(P.a,{loading:n,columns:p,pagination:!1,dataSource:a}))))}}]),t}(u.a.Component),T=(a(238),a(239)),F=(a(258),a(34)),L=a(260),B=Y.a.confirm,G=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onPieEnter=function(e,t){a.setState({activeIndex:t})},a.sendMail=function(e){var t={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};t.mail_to=e,Object(R.g)(S.m,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);B({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel",e)}})},a.state={reportEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,activeIndex:0,mailingUsersList:[]},a.loadReport=a.loadReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadReport(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadReport()}))}},{key:"loadReport",value:function(){var e=this;e.setState({loading:!0});var t={practice:this.props.active_practiceId,type:e.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};Object(k.b)(S.m,(function(t){e.setState({reportEachDoctor:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.reportEachDoctor,n=t.loading,r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50,render:function(e,t,a){return u.a.createElement("span",null,a+1)}},{title:"Doctor",key:"doctor",dataIndex:"doctor_name"},{title:"Invoiced (INR)",key:"invoiced",dataIndex:"invoiced",render:function(e){return e.toFixed(2)}},{title:"Received (INR)",key:"received_amount",dataIndex:"received_amount",render:function(e,t){return u.a.createElement("span",null,(t.invoiced-t.amount_due).toFixed(2))}},{title:"Total Amount Due (INR)",key:"amount_due",dataIndex:"amount_due",render:function(e){return e.toFixed(2)}}],o=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Amount Due Per Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.doctor_name+", INR "+p.invoiced.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"amount_due",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(e,t){return u.a.createElement(L.c,{fill:o[t%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(P.a,{loading:n,columns:r,pagination:!1,dataSource:a}))}}]),t}(u.a.Component),W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.state={sidePanelColSpan:4,patientGroup:[],practiceDoctors:[],type:"ALL",advancedOptionShow:!0},Object(R.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var e=this;Object(k.b)(Object(k.e)(S.pc,[this.props.active_practiceId]),(function(t){e.setState({patientGroup:t})}),(function(){}))}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.sidePanelColSpan,r=t.advancedOptionShow,o=t.patientGroup,i=t.practiceDoctors;return u.a.createElement("div",null,u.a.createElement("h2",null,"Amount Due Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:n?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(n)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-n},a==M.bc?u.a.createElement(C,Object.assign({},this.state,this.props)):null,a==M.b?u.a.createElement(N,Object.assign({},this.state,this.props)):null,a==M.l?u.a.createElement(G,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:n},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.bc,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Patients"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.bc},"Total Amount Due"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.c.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==M.bc||this.state.type==M.b?u.a.createElement(u.a.Fragment,null,r?u.a.createElement(u.a.Fragment,null,u.a.createElement("a",{href:"#",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options"),u.a.createElement(O.a,null," ",u.a.createElement("br",null),this.state.type!=M.b?u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(t){return e.handleChangeOption("patient_groups",t)}},o.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null)):null,u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(t){return e.handleChangeOption("doctors",t)}},i.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))))):u.a.createElement("a",{href:"#",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options")):null))))}}]),t}(u.a.Component),z=a(24),U=(a(278),a(276)),K=a(233);function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=Y.a.confirm,q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentReport=function(){var e=Object(s.a)(a),t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled,practice:e.props.active_practiceId};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(Object(k.e)(S.r,[e.props.active_practiceId]),(function(t){e.setState({appointmentReports:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.sendMail=function(e){console.log(e);var t=Object(s.a)(a),n={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(n.categories=a.props.categories.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),n.mail_to=e,Object(R.g)(Object(k.e)(S.r,[t.props.active_practiceId]),n)},a.showConfirmMail=function(e){var t=Object(s.a)(a);Q({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel",e)}})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,appointmentCategory:[],appointmentReports:[],activeIndex:0,mailingUsersList:[]},a.loadAppointmentReport=a.loadAppointmentReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentReport(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentReport()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentReports,a=[],n=1;n<=t.length;n++)a.push(V({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.schedule_at).format("DD MMM YYYY"))},export:function(e,t){return f()(t.schedule_at).format("ll")}},{title:"Scheduled At\t",key:"time",dataIndex:"time",render:function(e,t){return u.a.createElement("span",null,f()(t.schedule_at).format("HH:mm"))},export:function(e,t){return f()(t.schedule_at).format("HH:mm")}},{title:"Check-in At",dataIndex:"waiting",key:"waiting",render:function(e,t){return u.a.createElement("span",null,t.waiting?f()(t.waiting).format("lll"):"")},export:function(e,t){return f()(t.schedule_at).format("HH:mm")}},{title:"Waited For (hh:mm:ss)",dataIndex:"age",key:"age",render:function(e,t){return u.a.createElement("span",null,t.engaged?f()(t.engaged).from(f()(t.waiting)):"")},export:function(e,t){return t.engaged?f()(t.engaged).from(f()(t.waiting)):""}},{title:"Engaged At",dataIndex:"engaged",key:"engaged",render:function(e,t){return u.a.createElement("span",null,t.engaged?f()(t.engaged).format("lll"):"")},export:function(e,t){return t.engaged?f()(t.engaged).format("lll"):""}},{title:"Checkout At",dataIndex:"checkout",key:"checkout",render:function(e,t){return u.a.createElement("span",null,t.checkout?f()(t.checkout).format("lll"):"")},export:function(e,t){return t.checkout?f()(t.checkout).format("lll"):""}},{title:"Patient",dataIndex:"patient",key:"patient_name",render:function(e,t){return u.a.createElement("span",null,e.user.first_name)},export:function(e,t){return e.user.first_name}},{title:"Current Status",key:"status",dataIndex:"status"},{title:"Doctor",dataIndex:"doctor",key:"address",render:function(e,t){return u.a.createElement("span",null,t.doctor_data?t.doctor_data.user.first_name:null)},export:function(e,t){return t.doctor_data?t.doctor_data.user.first_name:null}},{title:"Category",dataIndex:"category",key:"address",render:function(e,t){return u.a.createElement("span",null,t.category_data?t.category_data.name:null)},export:function(e,t){return t.category_data?t.category_data.name:null}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Appointments Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Appointments",value:this.state.total}),u.a.createElement("br",null))),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z=Y.a.confirm,$=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentWithCategory=function(){var e=Object(s.a)(a);e.setState({loading:!0}),a.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.lc,(function(t){e.setState({appointmentCategory:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);Z({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel",e)}})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,appointmentCategory:[],activeIndex:0,mailingUsersList:[]},a.loadAppointmentWithCategory=a.loadAppointmentWithCategory.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentWithCategory(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentWithCategory()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentCategory,a=[],n=1;n<=t.length;n++)a.push(X({s_no:n},t[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment By Category",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.category+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Category",key:"category",dataIndex:"category"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),t}(u.a.Component),ee=(a(231),a(232));function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne=Y.a.confirm,re=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentEachDoctor=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.lc,(function(t){e.setState({appointmentEachDoctor:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);ne({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel")}})},a.state={appointmentEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentEachDoctor=a.loadAppointmentEachDoctor.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentEachDoctor(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentEachDoctor()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentEachDoctor,a=[],n=1;n<=t.length;n++)a.push(ae({s_no:n},t[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"],o=a.reduce((function(e,t){return e+t.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment For Each Patient Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.doctor+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:o})),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),t}(u.a.Component);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var se=Y.a.confirm,le=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentPatientGroup=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.lc,(function(t){e.setState({appointmentGroup:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);se({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel")}})},a.state={appointmentGroup:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentPatientGroup=a.loadAppointmentPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentPatientGroup(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentPatientGroup()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentGroup,a=[],n=1;n<=t.length;n++)a.push(ie({s_no:n},t[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment For Each Patient Group",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement("text",{x:a,y:n,dy:8,textAnchor:"middle",fill:c},p.patient_group),u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.patient_group+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:this.state.total})),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Group",key:"patient_group",dataIndex:"patient_group"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),t}(u.a.Component);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ue=Y.a.confirm,de=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentDayWait=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.lc,(function(t){e.setState({appointmentDayWait:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);ue({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel")}})},a.state={appointmentDayWait:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentDayWait=a.loadAppointmentDayWait.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentDayWait(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentDayWait()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentDayWait,a=[],n=1;n<=t.length;n++)a.push(pe({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Time Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("DD MMM YYYY"))},export:function(e,t){return f()(t.date).format("DD MMM YYYY")}},{title:"Avg. waiting Time(hh:mm:ss)",key:"wait",dataIndex:"wait",render:function(e,t){return u.a.createElement("span",null,t.wait?f()().add(t.wait,"second").fromNow():"")},export:function(e,t){return t.wait?f()().add(t.wait,"second").fromNow():""}},{title:"Avg. engaged Time(hh:mm:ss)",key:"engage",dataIndex:"engage",render:function(e,t){return u.a.createElement("span",null,t.engage?f()().add(t.engage,"second").fromNow():"")},export:function(e,t){return t.engage?f()().add(t.engage,"second").fromNow():""}},{title:"Avg. stay Time (hh:mm:ss)",key:"stay",dataIndex:"stay",render:function(e,t){return u.a.createElement("span",null,t.stay?f()().add(t.stay,"second").fromNow():"")},export:function(e,t){return t.stay?f()().add(t.stay,"second").fromNow():""}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Average Waiting/engaged Time Day Wise",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe=Y.a.confirm,ge=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentMonthWait=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.lc,(function(t){e.setState({appointmentMonthWait:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);fe({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel")}})},a.state={appointmentMonthWait:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentMonthWait=a.loadAppointmentMonthWait.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentMonthWait(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentMonthWait()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentMonthWait,a=[],n=1;n<=t.length;n++)a.push(he({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Time Month",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("DD MMM YYYY"))},export:function(e,t){return f()(t.date).format("DD MMM YYYY")}},{title:"Avg. waiting Time(hh:mm:ss)",key:"wait",dataIndex:"wait",render:function(e,t){return u.a.createElement("span",null,t.wait?f()().add(t.wait,"second").fromNow():"")},export:function(e,t){return t.wait?f()().add(t.wait,"second").fromNow():""}},{title:"Avg. engaged Time(hh:mm:ss)",key:"engage",dataIndex:"engage",render:function(e,t){return u.a.createElement("span",null,t.engage?f()().add(t.engage,"second").fromNow():"")},export:function(e,t){return t.engage?f()().add(t.engage,"second").fromNow():""}},{title:"Avg. stay Time (hh:mm:ss)",key:"stay",dataIndex:"stay",render:function(e,t){return u.a.createElement("span",null,t.stay?f()().add(t.stay,"second").fromNow():"")},export:function(e,t){return t.stay?f()().add(t.stay,"second").fromNow():""}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Average Waiting/engaged Time Month Wise",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=Y.a.confirm,ve=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentCancellation=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.lc,(function(t){console.log(Object.entries(t)),e.setState({appointmentCancel:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);be({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel")}})},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={appointmentCancel:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentCancellation=a.loadAppointmentCancellation.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentCancellation(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentCancellation()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentCancel,a=[],n=1;n<=t.length;n++)a.push(Ee({s_no:n},t[n-1]));var r=["#FFBB28","#FF8042"],o=a.reduce((function(e,t){return e+t.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Cancellations Numbers",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},a.length>0&&o?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.type+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},a.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:o})),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Status",key:"type",dataIndex:"type"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),t}(u.a.Component);function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xe=Y.a.confirm,_e=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentDaily=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.lc,(function(t){e.setState({appointmentDaily:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);xe({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel")}})},a.state={appointmentDaily:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentDaily=a.loadAppointmentDaily.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentDaily(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentDaily()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentDaily,a=[],n=1;n<=t.length;n++)a.push(Oe({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("DD MMM "))},export:function(e,t){return f()(t.date).format("DD MMM ")}},{title:"Total Appointments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Appointment Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:[].concat(a).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Appointments",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#1DA57A",strokeWidth:4,label:u.a.createElement((function(e){var t=e.x,a=e.y,n=(e.stroke,e.value);return u.a.createElement("text",{x:t,y:a,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n)}),null)})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:this.state.total})),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ke=Y.a.confirm,Me=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadAppointmentMonthly=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(S.lc,(function(t){e.setState({appointmentMonthly:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);ke({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel")}})},a.state={appointmentMonthly:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentMonthly=a.loadAppointmentMonthly.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentMonthly(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadAppointmentMonthly()}))}},{key:"render",value:function(){for(var e=this,t=this.state.appointmentMonthly,a=[],n=1;n<=t.length;n++)a.push(je({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Month",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("MMMM YYYY"))},export:function(e,t){return f()(t.date).format("DD MMM YYYY")}},{title:"Total Appointments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Appointment Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:[].concat(a).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:this.state.total})),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component),Pe=Y.a.confirm,Ie=(u.a.Component,a(297));function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ye(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var we=Y.a.confirm,Ce=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(t.categories=a.props.categories.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),t.mail_to=e,Object(R.g)(S.lc,t)},a.showConfirmMail=function(e){var t=Object(s.a)(a);we({title:"Are you sure send mail?",content:"Email Id :"+e,okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t.sendMail(e)},onCancel:function(){console.log("Cancel")}})},a.state={patient_conversion:[],distinct_patients:"",startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadPatientConversion=a.loadPatientConversion.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPatientConversion(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.categories==e.categories&&this.props.doctors==e.doctors&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPatientConversion()}))}},{key:"loadPatientConversion",value:function(){var e=this;e.setState({loading:!0});var t={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(t.categories=this.props.categories.toString()),this.props.doctors&&(t.doctors=this.props.doctors.toString()),Object(k.b)(S.lc,(function(t){e.setState({patient_conversion:t.data,distinct_patients:t.distinct_patients,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this,a=this.state.patient_conversion,n=[],r=1;r<=a.length;r++)n.push(Re({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",dataIndex:"date"},{title:"Patient Id",key:"custom_id",dataIndex:"custom_id"},{title:"Patient Name",key:"patient_name",dataIndex:"patient_name"},{title:"Gender",key:"gender",dataIndex:"gender"},{title:"Contact Number",key:"mobile",dataIndex:"mobile",render:function(e){return t.props.activePracticePermissions.PatientPhoneNumber?e:Object(Ie.b)(e)},exports:function(e){return e}},{title:"Email",key:"email",dataIndex:"email",render:function(e){return t.props.activePracticePermissions.PatientEmailId?e:Object(Ie.a)(e)},exports:function(e){return e}},{title:"Address",key:"address",dataIndex:"address"},{title:"Source",key:"source",dataIndex:"source"},{title:"Last Patient Note",key:"last_note",dataIndex:"last_note",render:function(e,t){return u.a.createElement("span",null,t.last_note?t.last_note+"( "+t.note_by+")":"")}},{title:"Last Payments",key:"invoice_total",dataIndex:"invoice_total"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Conversion",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.showConfirmMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Conversions",value:this.state.distinct_patients}))),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),t}(u.a.Component),Ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.onChangeCheckbox=function(e){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.state={sidePanelColSpan:4,appointmentReports:[],type:"ALL",advancedOptionShow:!0,appointmentCategory:[],categories:"",practiceDoctors:[]},a.loadAppointmentCategory=a.loadAppointmentCategory.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentCategory(),Object(R.d)(this)}},{key:"loadAppointmentCategory",value:function(){var e=this;Object(k.b)(Object(k.e)(S.p,[this.props.active_practiceId]),(function(t){e.setState({appointmentCategory:t})}),(function(){}))}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sidePanelColSpan,n=t.type,r=t.advancedOptionShow,o=t.practiceDoctors,i=t.appointmentCategory;return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointments Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:a?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(a)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-a},n==M.e?u.a.createElement(q,Object.assign({type:M.e},this.state,this.props)):null,n==M.m?u.a.createElement($,Object.assign({},this.state,this.props)):null,n==M.n?u.a.createElement(re,Object.assign({},this.state,this.props)):null,n==M.o?u.a.createElement(le,Object.assign({},this.state,this.props)):null,n==M.s?u.a.createElement(de,Object.assign({},this.state,this.props)):null,n==M.t?u.a.createElement(ge,Object.assign({},this.state,this.props)):null,n==M.w?u.a.createElement(ve,Object.assign({},this.state,this.props)):null,n==M.E?u.a.createElement(_e,Object.assign({},this.state,this.props)):null,n==M.fb?u.a.createElement(Me,Object.assign({},this.state,this.props)):null,n==M.p?u.a.createElement(Ce,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:a},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.e,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Appointments"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.e},"All Appointments"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.e.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),r?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(t){return e.handleChangeOption("doctors",t)}},o.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Appointment Categories"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Category",onChange:function(t){return e.handleChangeOption("categories",t)}},i.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(U.a,{onChange:function(t){return e.onChangeCheckbox(t)}}," Exclude Cancelled"))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")))))}}]),t}(u.a.Component),Ne=a(257),Te=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadTreatmentEachDoctor=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(Object(k.e)(S.jb,[e.props.active_practiceId]),(function(t){e.setState({treatmentEachDoctor:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={treatmentEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadTreatmentEachDoctor=a.loadTreatmentEachDoctor.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadTreatmentEachDoctor()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.doctors==e.doctors&&this.props.is_complete==e.is_complete||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadTreatmentEachDoctor()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Total Treatments",key:"count",dataIndex:"count"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.treatmentEachDoctor.reduce((function(e,t){return e+t.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Treatments For Each Patient Doctor"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.treatmentEachDoctor.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.doctor+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:Object(Ne.a)(this.state.treatmentEachDoctor).reverse(),cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.treatmentEachDoctor.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:n})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.treatmentEachDoctor}))}}]),t}(u.a.Component),Fe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadDailyTreatments=a.loadDailyTreatments.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailyTreatments()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.doctors==e.doctors&&this.props.is_complete==e.is_complete||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailyTreatments()}))}},{key:"loadDailyTreatments",value:function(){var e=this;e.setState({loading:!0});var t={type:e.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),is_complete:!!this.props.is_complete};this.props.doctors&&(t.doctors=this.props.doctors.toString()),Object(k.b)(Object(k.e)(S.jb,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"abcd",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("ll"))},export:function(e,t){return f()(t.date).format("ll")}},{title:"Total Treatments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Treatments Count"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:Object(Ne.a)(this.state.report).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Treatments",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:4})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Le=a(275),Be=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadTreatmentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(Object(k.e)(S.jb,[e.props.active_practiceId]),(function(t){e.setState({treatmentPerformed:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,treatmentPerformed:[]},a.loadTreatmentsReport=a.loadTreatmentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadTreatmentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.doctors==e.doctors&&this.props.is_complete==e.is_complete||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadTreatmentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Performed On",key:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.schedule_at).format("DD MMM YYYY"))},export:function(e,t){return f()(t.schedule_at).format("DD MMM YYYY")}},{title:"Name",dataIndex:"procedure_name",key:"procedure_name"},{title:"Performed by",key:"doctor",dataIndex:"doctor"},{title:"Total Treatments",key:"quantity",dataIndex:"quantity"}],a=this.state.treatmentPerformed.reduce((function(e,t){return e+t.quantity}),0);return u.a.createElement("div",null,u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Treatments",value:a}),u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.treatmentPerformed}))}}]),t}(u.a.Component),Ge=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadTreatmentMonthly=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(Object(k.e)(S.jb,[e.props.active_practiceId]),(function(t){e.setState({treatmentMonthly:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={treatmentMonthly:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadTreatmentMonthly=a.loadTreatmentMonthly.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadTreatmentMonthly()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.doctors==e.doctors&&this.props.is_complete==e.is_complete||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadTreatmentMonthly()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"date",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("MMMM YYYY"))},export:function(e,t){f()(t.date).format("ll")}},{title:"Total Treatments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Treatments Count"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.treatmentMonthly.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Ne.a)(this.state.treatmentMonthly).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:this.state.total})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.treatmentMonthly}))}}]),t}(u.a.Component),We=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadTreatmentWithCategory=function(){var e=Object(s.a)(a);a.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(t.doctors=a.props.doctors.toString()),Object(k.b)(Object(k.e)(S.jb,[e.props.active_practiceId]),(function(t){e.setState({treatmentCategory:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,treatmentCategory:[],activeIndex:0},a.loadTreatmentWithCategory=a.loadTreatmentWithCategory.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadTreatmentWithCategory()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.doctors==e.doctors&&this.props.is_complete==e.is_complete||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadTreatmentWithCategory()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Treatment Category",key:"procedure_name",dataIndex:"procedure_name"},{title:"Total Treatments",key:"count",dataIndex:"count"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Treatments By Category"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.treatmentCategory.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.procedure_name+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:Object(Ne.a)(this.state.treatmentCategory).reverse(),cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.treatmentCategory.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.treatmentCategory}))}}]),t}(u.a.Component),ze=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.onChangeCheckbox=function(e){a.setState({is_complete:!a.state.is_complete})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,practiceDoctors:[]},Object(R.d)(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"EMR Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.k?u.a.createElement(Be,Object.assign({},this.state,this.props)):null,this.state.type==M.K?u.a.createElement(Fe,Object.assign({},this.state,this.props)):null,this.state.type==M.cc?u.a.createElement(Te,Object.assign({},this.state,this.props)):null,this.state.type==M.lb?u.a.createElement(Ge,Object.assign({},this.state,this.props)):null,this.state.type==M.dc?u.a.createElement(We,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.k,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Treatments"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.k},"All Treatments Performed"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.C.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(t){return e.handleChangeOption("doctors",t)}},this.state.practiceDoctors.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(U.a,{onChange:function(t){return e.onChangeCheckbox(t)}}," Only Completed"))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")))))}}]),t}(u.a.Component),Ue=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.ExpenseReport=a.ExpenseReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.ExpenseReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.expense_type==e.expense_type&&this.props.payment_mode==e.payment_mode||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.ExpenseReport()}))}},{key:"ExpenseReport",value:function(){var e=this;this.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(t.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(t.expense_type=this.props.expense_type.toString()),Object(k.b)(S.ob,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Date",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.expense_date).format("DD MMM YYYY"))},export:function(e,t){return f()(t.expense_date).format("ll")}},{title:"\tExpense Type",dataIndex:"expense_type.name",key:"name",export:function(e,t){return t.expense_type.name}},{title:"Expense Amount (INR)",dataIndex:"amount",key:"amount"},{title:"Mode Of Payment",dataIndex:"payment_mode.mode",key:"payment_mode",export:function(e,t){return t.payment_mode.mode}},{title:"Vendor",dataIndex:"vendor.name",key:"vendor.name",export:function(e,t){return t.vendor.name}},{title:"Notes",dataIndex:"remark",key:"remark"}],a=this.state.report.reduce((function(e,t){return e+t.amount}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses Report"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Expense (INR)",value:a}),u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Ke=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadDailyExpense=a.loadDailyExpense.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailyExpense()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.expense_type==e.expense_type&&this.props.payment_mode==e.payment_mode||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailyExpense()}))}},{key:"loadDailyExpense",value:function(){var e=this;e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(t.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(t.expense_type=this.props.expense_type.toString()),Object(k.b)(S.pb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("DD MMM"))},export:function(e,t){return f()(t.date).format("DD MMM")}},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],a=this.state.report.reduce((function(e,t){return e+t.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Expense"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Ne.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Expenses(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"total",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:a})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),He=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadMonthlyExpense=a.loadMonthlyExpense.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadMonthlyExpense()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.expense_type==e.expense_type&&this.props.payment_mode==e.payment_mode||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadMonthlyExpense()}))}},{key:"loadMonthlyExpense",value:function(){var e=this;e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(t.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(t.expense_type=this.props.expense_type.toString()),Object(k.b)(S.pb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("MMMM YYYY"))},export:function(e,t){return f()(t.date).format("MMM YYYY")}},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],a=this.state.report.reduce((function(e,t){return e+t.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Expense"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Ne.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("MMM YY")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Expenses(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"total",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:a})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Ve=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadExpenseEachType=a.loadExpenseEachType.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadExpenseEachType()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.expense_type==e.expense_type&&this.props.payment_mode==e.payment_mode||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadExpenseEachType()}))}},{key:"loadExpenseEachType",value:function(){var e=this;e.setState({loading:!0});var t={type:e.props.type,practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(t.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(t.expense_type=this.props.expense_type.toString()),Object(k.b)(S.pb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Expense Name",key:"expense",dataIndex:"expense"},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],a=["#89b9d8","#8fc6eb","#81dac9","#f39e94","#bb98c9","#73c1c1"],n=this.state.report.reduce((function(e,t){return e+t.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses By Type"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0&&n?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.expense+","+p.total),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},this.state.report.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:n})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Qe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.state={advancedOptionShow:!0,expenseTypeOption:[],paymentModeOption:[],sidePanelColSpan:4,type:"ALL"},a.loadExpenseType=a.loadExpenseType.bind(Object(s.a)(a)),a.loadPaymentMode=a.loadPaymentMode.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadExpenseType(),this.loadPaymentMode()}},{key:"loadExpenseType",value:function(){var e=this;Object(k.b)(Object(k.e)(S.qb,[this.props.active_practiceId]),(function(t){e.setState({expenseTypeOption:t})}),(function(){}))}},{key:"loadPaymentMode",value:function(){var e=this;Object(k.b)(Object(k.e)(S.yc,[this.props.active_practiceId]),(function(t){e.setState({paymentModeOption:t})}),(function(){}))}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.f?u.a.createElement(Ue,Object.assign({},this.props,this.state)):null,this.state.type==M.G?u.a.createElement(Ke,Object.assign({},this.props,this.state)):null,this.state.type==M.hb?u.a.createElement(He,Object.assign({},this.props,this.state)):null,this.state.type==M.T?u.a.createElement(Ve,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.f,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Expenses"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.f},"All Expenses"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.I.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Expense Type"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Expense Type",onChange:function(t){return e.handleChangeOption("expense_type",t)}},this.state.expenseTypeOption.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Modes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Payment Modes",onChange:function(t){return e.handleChangeOption("payment_mode",t)}},this.state.paymentModeOption.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.mode)}))))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")))))}}]),t}(u.a.Component),qe=(a(262),a(263));function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ze=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadInvoices=function(){var e=Object(s.a)(a),t={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(t.income_type=e.props.income_type),e.props.discount&&(t.discount=e.props.discount),a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.products&&(t.products=a.props.products.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.treatments&&(t.treatments=a.props.treatments.toString()),Object(k.b)(S.wb,(function(t){e.setState({invoiceReports:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={inventoryReports:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,invoiceReports:[]},a.loadInvoices=a.loadInvoices.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadInvoices()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.income_type==e.income_type&&this.props.is_cancelled==e.is_cancelled&&this.props.discount==e.discount&&this.props.treatments==e.treatments&&this.props.doctors==e.doctors&&this.props.taxes==e.taxes&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadInvoices()}))}},{key:"render",value:function(){for(var e=this.state.invoiceReports,t=[],a=0,n=0,r=0,o=0,i=0,s=0;s<e.length;s++)n+=e[s].cost,r+=e[s].taxes,a+=e[s].total,o+=e[s].total-e[s].cost,i+=e[s].total-e[s].cost-e[s].taxes;t.push({sale_amount:a,tax_amount:r,cost_amount:n,profit_before_tax:o,profit_after_tax:i});var l=[],c=[];e.map((function(e){if(e.reservation){var t=e.reservation_data.medicines.map((function(e){return Xe({},e,{unit:1,total:e.final_price,unit_cost:e.price,discount:0})})),a={NORMAL:{total:"final_normal_price",tax:"normal_tax_value",unit_cost:"normal_price"},TATKAL:{total:"final_tatkal_price",tax:"tatkal_tax_value",unit_cost:"tatkal_price"}};l=[].concat(Object(Ne.a)(l),[Xe({},e.reservation_data.bed_package,{unit:1,total:e.reservation_data.bed_package?e.reservation_data.bed_package[a[e.reservation_data.seat_type].total]:null,tax_value:e.reservation_data.bed_package?e.reservation_data.bed_package[a[e.reservation_data.seat_type].tax]:null,unit_cost:e.reservation_data.bed_package?e.reservation_data.bed_package[a[e.reservation_data.seat_type].unit_cost]:null})],Object(Ne.a)(t))}c.push(Xe({},e,{treatment:[].concat(Object(Ne.a)(l),Object(Ne.a)(e.procedure),Object(Ne.a)(e.inventory))}))}));var p=1,d=[{title:"Total Sales (INR)",key:"sale_amount",dataIndex:"sale_amount",render:function(e,t){return u.a.createElement("span",null,t.sale_amount.toFixed(2))},export:function(e,t){return t.sale_amount.toFixed(2)}},{title:"Total Cost (INR)",key:"cost_amount",dataIndex:"cost_amount",render:function(e,t){return u.a.createElement("span",null,t.cost_amount.toFixed(2))},export:function(e,t){return t.cost_amount.toFixed(2)}},{title:"Total Profit before Tax(INR)",key:"tax_with_out",dataIndex:"profit_before_tax",render:function(e,t){return u.a.createElement("span",null,t.profit_before_tax.toFixed(2))},export:function(e,t){return t.profit_before_tax.toFixed(2)}},{title:"Total Tax(INR)",key:"tax_amount",dataIndex:"tax_amount",render:function(e,t){return u.a.createElement("span",null,t.tax_amount.toFixed(2))},export:function(e,t){return t.tax_amount.toFixed(2)}},{title:"Total Profit after Tax(INR)",key:"tax_with",dataIndex:"profit_after_tax",render:function(e,t){return u.a.createElement("span",null,t.profit_after_tax.toFixed(2))},export:function(e,t){return t.profit_after_tax.toFixed(2)}}],m=[{title:"S. No",key:"sno",render:function(e,t){return u.a.createElement("span",null," ",p++)},width:50},{title:"Date",key:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.created_at).format("ll"))},export:function(e,t){return f()(t.created_at).format("ll")}},{title:"Invoice Number",key:"invoice_id",dataIndex:"invoice_id"},{title:"Patient",key:"patient",dataIndex:"patient",render:function(e,t){return u.a.createElement("span",null,t.patient?t.patient.user.first_name:t.patient)},export:function(e,t){return t.patient?t.patient.user.first_name:t.patient}},{title:"Treatments & Products",key:"treatments",render:function(e,t){return u.a.createElement("span",null,t.treatment.map((function(e){return u.a.createElement(qe.a,null,e.name)})))},export:function(e,t){return t.treatment.map((function(e){return e.name+","}))}}];return"PRODUCTS"==this.props.income_type&&m.push({title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))},export:function(e,t){return t.cost.toFixed(2)}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(e,t){return u.a.createElement("span",null,t.discount.toFixed(2))},export:function(e,t){return t.discount.toFixed(2)}},{title:"tax(INR)",key:"tax",dataIndex:"taxes",render:function(e,t){return u.a.createElement("span",null,t.taxes.toFixed(2))},export:function(e,t){return t.taxes.toFixed(2)}},{title:"Invoice Amount(INR)",key:"amount",dataIndex:"total",render:function(e,t){return u.a.createElement("span",null,t.total.toFixed(2))},export:function(e,t){return t.total.toFixed(2)}},{title:"Amount Paid(INR)",key:"tax",dataIndex:"tax"}),u.a.createElement("div",null,u.a.createElement("h2",null,"All Invoices"),u.a.createElement(P.a,{loading:this.state.loading,columns:d,pagination:!1,dataSource:t}),u.a.createElement(K.a,{loading:this.state.loading,columns:m,pagination:!1,dataSource:c}))}}]),t}(u.a.Component),$e=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadDailyIncome=a.loadDailyIncome.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailyIncome()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.income_type==e.income_type&&this.props.is_cancelled==e.is_cancelled&&this.props.discount==e.discount&&this.props.treatments==e.treatments&&this.props.doctors==e.doctors&&this.props.taxes==e.taxes&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailyIncome()}))}},{key:"loadDailyIncome",value:function(){var e=this;e.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(t.income_type=e.props.income_type),e.props.discount&&(t.discount=e.props.discount),this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.products&&(t.products=this.props.products.toString()),this.props.doctors&&(t.doctors=this.props.doctors.toString()),this.props.taxes&&(t.taxes=this.props.taxes.toString()),this.props.treatments&&(t.treatments=this.props.treatments.toString()),Object(k.b)(S.wb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("ll"))},export:function(e,t){return f()(t.date).format("ll")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(e,t){return u.a.createElement("span",null,t.discount.toFixed(2))}},{title:"Income after Discount(INR)",key:"income_after_discount",render:function(e,t){return u.a.createElement("span",null,(t.cost-t.discount).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax.toFixed(2))}},{title:"Income Amount(INR)",key:"income_amount",render:function(e,t){return u.a.createElement("span",null,(t.cost-(t.discount+t.tax)).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Invoiced Income "),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.report,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("ll")}}),u.a.createElement(L.o,{label:{value:"Income(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r.toFixed(2))}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),et=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadDailyIncome=a.loadDailyIncome.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailyIncome()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.income_type==e.income_type&&this.props.is_cancelled==e.is_cancelled&&this.props.discount==e.discount&&this.props.treatments==e.treatments&&this.props.doctors==e.doctors&&this.props.taxes==e.taxes&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailyIncome()}))}},{key:"loadDailyIncome",value:function(){var e=this;e.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(t.income_type=e.props.income_type),e.props.discount&&(t.discount=e.props.discount),this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.products&&(t.products=this.props.products.toString()),this.props.doctors&&(t.doctors=this.props.doctors.toString()),this.props.taxes&&(t.taxes=this.props.taxes.toString()),this.props.treatments&&(t.treatments=this.props.treatments.toString()),Object(k.b)(S.wb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("MM YYYY"))},export:function(e,t){return f()(t.date).format("MM YYYY")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(e,t){return u.a.createElement("span",null,t.discount.toFixed(2))}},{title:"Income after Discount(INR)",key:"income_after_discount",render:function(e,t){return u.a.createElement("span",null,(t.cost-t.discount).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax.toFixed(2))}},{title:"Income Amount(INR)",key:"income_amount",render:function(e,t){return u.a.createElement("span",null,(t.cost-(t.discount+t.tax)).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Invoiced Income "),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.report,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("MM YYYY")}}),u.a.createElement(L.o,{label:{value:"Income(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r.toFixed(2))}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),tt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadTaxedIncome=a.loadTaxedIncome.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadTaxedIncome()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.income_type==e.income_type&&this.props.is_cancelled==e.is_cancelled&&this.props.discount==e.discount&&this.props.treatments==e.treatments&&this.props.doctors==e.doctors&&this.props.taxes==e.taxes&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadTaxedIncome()}))}},{key:"loadTaxedIncome",value:function(){var e=this;e.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(t.income_type=e.props.income_type),e.props.discount&&(t.discount=e.props.discount),this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.products&&(t.products=this.props.products.toString()),this.props.doctors&&(t.doctors=this.props.doctors.toString()),this.props.taxes&&(t.taxes=this.props.taxes.toString()),this.props.treatments&&(t.treatments=this.props.treatments.toString()),Object(k.b)(S.wb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Tax Name",key:"name",dataIndex:"name"},{title:"Tax (INR)",key:"tax",dataIndex:"total",render:function(e,t){return u.a.createElement("span",null,t.total.toFixed(2))}}],a=["#FFBB28","#FF8042","#1DA57A"],n=this.state.report.reduce((function(e,t){return e+t.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Taxed Invoiced Income"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0&&n?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.total.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},this.state.report.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:n.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),at=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,practiceDoctors:[]},a.loadEachDoctorIncome=a.loadEachDoctorIncome.bind(Object(s.a)(a)),Object(R.d)(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadEachDoctorIncome()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.income_type==e.income_type&&this.props.is_cancelled==e.is_cancelled&&this.props.discount==e.discount&&this.props.treatments==e.treatments&&this.props.doctors==e.doctors&&this.props.taxes==e.taxes&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadEachDoctorIncome()}))}},{key:"loadEachDoctorIncome",value:function(){var e=this;e.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(t.income_type=e.props.income_type),e.props.discount&&(t.discount=e.props.discount),this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.products&&(t.products=this.props.products.toString()),this.props.doctors&&(t.doctors=this.props.doctors.toString()),this.props.taxes&&(t.taxes=this.props.taxes.toString()),this.props.treatments&&(t.treatments=this.props.treatments.toString()),Object(k.b)(S.wb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=this,t=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(e,a){return u.a.createElement("span",null," ",t++)},export:function(e,t,a){return a+1},width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor",render:function(t,a){return u.a.createElement("span",null,"NA"==a.doctor?u.a.createElement("span",null,"No Doctor assigned"):u.a.createElement(u.a.Fragment,null,e.state.practiceDoctors.map((function(e){return e.id==a.doctor?u.a.createElement("span",null,e.user.first_name):null}))))}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(e,t){return u.a.createElement("span",null,t.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(e,t){return u.a.createElement("span",null,(t.cost-t.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(e,t){return u.a.createElement("span",null,(t.cost-(t.discount_value+t.tax_value)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(e,t){return e+t.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Patient Doctor"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var a=Math.PI/180,n=t.cx,r=t.cy,o=t.midAngle,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,h=(t.value,Math.sin(-a*o)),f=Math.cos(-a*o),g=n+(s+10)*f,y=r+(s+10)*h,E=n+(s+30)*f,b=r+(s+30)*h,v=E+22*(f>=0?1:-1),D=b,O=f>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c,fill:p}),u.a.createElement(L.l,{cx:n,cy:r,startAngle:l,endAngle:c,innerRadius:s+6,outerRadius:s+10,fill:p}),u.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(b,"L").concat(v,",").concat(D),stroke:p,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:p,stroke:"none"}),u.a.createElement("text",{x:v+12*(f>=0?1:-1),y:D,textAnchor:O,fill:"#333"},"NA"==d.doctor?"No Doctor assigned":u.a.createElement(u.a.Fragment,null,e.state.practiceDoctors.map((function(e){return e.id==d.doctor?u.a.createElement(u.a.Fragment,null,e.user.first_name):null})))),u.a.createElement("text",{x:v+12*(f>=0?1:-1),y:D,dy:18,textAnchor:O,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(e,t){return u.a.createElement(L.c,{fill:n[t%n.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),t}(u.a.Component),nt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadEachProcedureIncome=a.loadEachProcedureIncome.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadEachProcedureIncome()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.income_type==e.income_type&&this.props.is_cancelled==e.is_cancelled&&this.props.discount==e.discount&&this.props.treatments==e.treatments&&this.props.doctors==e.doctors&&this.props.taxes==e.taxes&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadEachProcedureIncome()}))}},{key:"loadEachProcedureIncome",value:function(){var e=this;e.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(t.income_type=e.props.income_type),e.props.discount&&(t.discount=e.props.discount),this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.products&&(t.products=this.props.products.toString()),this.props.doctors&&(t.doctors=this.props.doctors.toString()),this.props.taxes&&(t.taxes=this.props.taxes.toString()),this.props.treatments&&(t.treatments=this.props.treatments.toString()),Object(k.b)(S.wb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Treatment Category",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(e,t){return u.a.createElement("span",null,t.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(e,t){return u.a.createElement("span",null,(t.cost-t.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(e,t){return u.a.createElement("span",null,(t.cost-(t.discount_value+t.tax_value)).toFixed(2))}}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(e,t){return e+t.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Procedure"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:n.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),rt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadPatientGroupsIncome=a.loadPatientGroupsIncome.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPatientGroupsIncome()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.income_type==e.income_type&&this.props.is_cancelled==e.is_cancelled&&this.props.discount==e.discount&&this.props.treatments==e.treatments&&this.props.doctors==e.doctors&&this.props.taxes==e.taxes&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPatientGroupsIncome()}))}},{key:"loadPatientGroupsIncome",value:function(){var e=this;e.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(t.income_type=e.props.income_type),e.props.discount&&(t.discount=e.props.discount),this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.products&&(t.products=this.props.products.toString()),this.props.doctors&&(t.doctors=this.props.doctors.toString()),this.props.taxes&&(t.taxes=this.props.taxes.toString()),this.props.treatments&&(t.treatments=this.props.treatments.toString()),Object(k.b)(S.wb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Patient Group",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(e,t){return u.a.createElement("span",null,t.discount.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(e,t){return u.a.createElement("span",null,(t.cost-t.discount).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(e,t){return u.a.createElement("span",null,(t.cost-(t.discount+t.tax)).toFixed(2))}}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(e,t){return e+t.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Patient Group"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:n.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),ot=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadEachProductIncome=a.loadEachProductIncome.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadEachProductIncome()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.income_type==e.income_type&&this.props.is_cancelled==e.is_cancelled&&this.props.discount==e.discount&&this.props.treatments==e.treatments&&this.props.doctors==e.doctors&&this.props.taxes==e.taxes&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadEachProductIncome()}))}},{key:"loadEachProductIncome",value:function(){var e=this;e.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(t.income_type=e.props.income_type),e.props.discount&&(t.discount=e.props.discount),this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.products&&(t.products=this.props.products.toString()),this.props.doctors&&(t.doctors=this.props.doctors.toString()),this.props.taxes&&(t.taxes=this.props.taxes.toString()),this.props.treatments&&(t.treatments=this.props.treatments.toString()),Object(k.b)(S.wb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Item Destock",key:"name",dataIndex:"name"},{title:"Quantity",key:"quantity",dataIndex:"product"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(e,t){return u.a.createElement("span",null,t.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(e,t){return u.a.createElement("span",null,(t.cost-t.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(e,t){return u.a.createElement("span",null,(t.cost-(t.discount_value+t.tax_value)).toFixed(2))}}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(e,t){return e+t.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Product"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:n.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),it=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.onChangeCheckbox=function(e){a.setState({is_cancelled:!a.state.is_cancelled})},a.state={advancedOptionShow:!0,sidePanelColSpan:4,type:"ALL",practiceDoctors:[],patientGroup:[],vendorOption:[],taxes_list:[],productItems:[],treatment_data:[]},Object(R.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a.loadTaxes=a.loadTaxes.bind(Object(s.a)(a)),a.loadProductItem=a.loadProductItem.bind(Object(s.a)(a)),a.loadTreatments=a.loadTreatments.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadTaxes(),this.loadProductItem(),this.loadTreatments()}},{key:"loadProductItem",value:function(){var e=this;Object(k.b)(S.Kc,(function(t){e.setState({productItems:t})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"loadPatientGroup",value:function(){var e=this;Object(k.b)(Object(k.e)(S.pc,[this.props.active_practiceId]),(function(t){e.setState({patientGroup:t})}),(function(){}))}},{key:"loadTaxes",value:function(){var e=this;Object(k.b)(Object(k.e)(S.Cd,[this.props.active_practiceId]),(function(t){e.setState({taxes_list:t})}),(function(){}))}},{key:"loadTreatments",value:function(){var e=this;Object(k.b)(Object(k.e)(S.Jc,[this.props.active_practiceId]),(function(t){e.setState({treatment_data:t})}),(function(){}),{pagination:!1})}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Income Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.j?u.a.createElement(Ze,Object.assign({},this.props,this.state)):null,this.state.type==M.H?u.a.createElement($e,Object.assign({},this.props,this.state)):null,this.state.type==M.ib?u.a.createElement(et,Object.assign({},this.props,this.state)):null,this.state.type==M.Xb?u.a.createElement(tt,Object.assign({},this.props,this.state)):null,this.state.type==M.Q?u.a.createElement(at,Object.assign({},this.props,this.state)):null,this.state.type==M.Gb?u.a.createElement(nt,Object.assign({},this.props,this.state)):null,this.state.type==M.xb?u.a.createElement(rt,Object.assign({},this.props,this.state)):null,this.state.type==M.Hb?u.a.createElement(ot,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.h,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Income"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.h},"All Invoice"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.U.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Show income from"),u.a.createElement(D.a.Group,{style:{width:"100%",display:"inline-grid"},onChange:function(t){return e.handleChangeOption("income_type",t.target.value)}},j.yb.map((function(e){return u.a.createElement(D.a,{value:e.value}," ",e.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(t){return e.handleChangeOption("doctors",t)}},this.state.practiceDoctors.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(t){return e.handleChangeOption("patient_groups",t)}},this.state.patientGroup.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Discount"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:function(t){return e.handleChangeOption("discount",t)}},j.w.map((function(e){return u.a.createElement(d.a.Option,{value:e.value},e.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Products",onChange:function(t){return e.handleChangeOption("products",t)}},this.state.productItems.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Treatments"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:function(t){return e.handleChangeOption("treatments",t)}},this.state.treatment_data.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(t){return e.handleChangeOption("taxes",t)}},this.state.taxes_list.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(U.a,{onChange:function(t){return e.onChangeCheckbox(t)}}," Exclude Cancelled"))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")))))}}]),t}(u.a.Component),st=(a(256),a(259)),lt=(a(235),a(236)),ct=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={inventoryList:[],loading:!1},a.loadData=a.loadData.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;e.setState({loading:!0});var t={bill_number:this.props.bill_number,supplier:this.props.supplier,date:this.props.date};(this.props.bill_number||this.props.supplier)&&Object(k.b)(S.zd,(function(t){e.setState({inventoryList:t.results,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=[{title:"name",key:"name",dataIndex:"inventory_item_data.name"},{title:"Batch",key:"batch_number",dataIndex:"batch_number"},{title:"Expiry Date",key:"expiry_date",dataIndex:"expiry_date"},{title:"Item Type",key:"item_type",dataIndex:"inventory_item_data.item_type"},{title:"ADD/CONSUME",key:"item_add_type",dataIndex:"item_add_type"},{title:"Type of Consumption",key:"type_of_consumption",dataIndex:"type_of_consumption"},{title:"Bill File",key:"bill_file",dataIndex:"bill_file",render:function(e){return e?u.a.createElement("a",{target:"_blank",href:Object(k.f)(e)},"Bill"):null}},{title:"Quantity",key:"quantity",dataIndex:"quantity"},{title:"Unit Cost",key:"unit_cost",dataIndex:"unit_cost"},{title:"Total Cost",key:"total_cost",dataIndex:"total_cost"}];return u.a.createElement("div",null,u.a.createElement(P.a,{loading:this.state.loading,bordered:!0,rowKey:function(e){return e.id},pagination:!1,columns:e,dataSource:this.state.inventoryList}))}}]),t}(u.a.Component),pt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleSubmit=function(e){var t=Object(s.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,a){console.log(a),e||t.setState({bill_number:a.bill_number,supplier:a.supplier,inventory:a.inventory,invoice:a.invoice},(function(){t.loadBillSupplier()}))}))},a.onChangeCheckbox=function(e,t){a.setState(Object(_.a)({},e,!t))},a.state={loading:!1,billSuplier:[],startDate:a.props.startDate,endDate:a.props.endDate,nextItemPage:null,supplierList:[],inventory:!0,invoice:!0},a.loadBillSupplier=a.loadBillSupplier.bind(Object(s.a)(a)),a.loadSupplierList=a.loadSupplierList.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadBillSupplier(),this.loadSupplierList()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadBillSupplier()}))}},{key:"loadBillSupplier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this;t.setState({loading:!0});var a=function(e){t.setState((function(t){return 1==e.current?{loading:!1,billSuplier:e.results,nextItemPage:e.next}:{loading:!1,billSuplier:[].concat(Object(Ne.a)(t.billSuplier),Object(Ne.a)(e.results)),nextItemPage:e.next}}))},n=function(){t.setState({loading:!1})},r={page:e,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};t.state.bill_number&&(r.bill_number=t.state.bill_number),t.state.supplier&&(r.supplier=t.state.supplier.toString()),t.state.invoice&&(r.invoice=1),t.state.inventory&&(r.inventory=1),Object(k.b)(S.w,a,n,r)}},{key:"expandIcon",value:function(e){return u.a.createElement(x.a,{onClick:function(t){return e.onExpand(e.record,t)}},"view detail")}},{key:"loadSupplierList",value:function(){var e=this,t={practice:this.props.active_practiceId};Object(k.b)(Object(k.e)(S.Bd,[this.props.active_practiceId]),(function(t){e.setState({supplierList:t})}),(function(){}),t)}},{key:"handleChange",value:function(e,t){this.props.form.setFieldsValue(Object(_.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this,a=this.props.form.getFieldDecorator,n=[{title:"Date",key:"date",dataIndex:"date",render:function(e){return u.a.createElement("span",null,e||"")}},{title:"Bill Number",key:"bill_number",dataIndex:"bill_number"},{title:"Supplier ",key:"name",dataIndex:"supplier_data.name"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report"),u.a.createElement(b.a,{bodyStyle:{padding:0},extra:u.a.createElement("div",null,u.a.createElement(lt.a,{layout:"inline",onSubmit:this.handleSubmit},u.a.createElement(lt.a.Item,{label:"Invoice"},a("invoice",{valuePropName:"checked",initialValue:this.state.invoice})(u.a.createElement(U.a,{onChange:function(t){return e.onChangeCheckbox("invoice",t)}}))),u.a.createElement(lt.a.Item,{label:"Inventory"},a("inventory",{valuePropName:"checked",initialValue:this.state.inventory})(u.a.createElement(U.a,{onChange:function(t){return e.onChangeCheckbox("inventory",t)}}))),u.a.createElement(lt.a.Item,{label:"Bill Number"},a("bill_number",{})(u.a.createElement(st.a,{placeholder:"Bill Numbers"}))),u.a.createElement(lt.a.Item,{key:"supplier",label:"Supplier"},a("supplier",{initialValue:this.state.supplierList?this.state.supplierList.name:null},{rules:[{required:!0,message:"This field required!"}],onChange:this.handleChange})(u.a.createElement(d.a,{placeholder:"Supplier",style:{minWidth:150},mode:"multiple"},this.state.supplierList.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))))),u.a.createElement(lt.a.Item,null,u.a.createElement(x.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"))))},u.a.createElement(P.a,{loading:this.state.loading,bordered:!0,rowKey:function(e){return e.id},expandedRowRender:function(e){return u.a.createElement(ct,Object.assign({},e,t.props))},columns:n,dataSource:this.state.billSuplier,pagination:!1}),u.a.createElement(Le.a,{loaderFunction:function(){return e.loadBillSupplier(e.state.nextItemPage)},loading:this.state.loading,hidden:!this.state.nextItemPage})))}}]),t}(u.a.Component),ut=lt.a.create()(pt),dt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadDailyInventory=a.loadDailyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailyInventory()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.product_item==e.product_item&&this.props.consume==e.consume||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailyInventory()}))}},{key:"loadDailyInventory",value:function(){var e=this;e.setState({loading:!0});var t={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type};this.props.consume&&(t.consume=this.props.consume.toString()),this.props.product_item&&(t.product=this.props.product_item),Object(k.b)(S.zb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=this,t=e.state.report,a=[],n={},r=1;for(r=0;r<t.length;r++)t[r].date in n?n[t[r].date][t[r].type_of_consumption]=t[r].consume:(n[t[r].date]={SALES:0,SERVICES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},n[t[r].date][t[r].type_of_consumption]=t[r].consume);for(var o in n){var i={item_date:o,type:n[o],total_consumption:0},s=n[o].SALES+n[o].SERVICES+n[o].DAMAGED+n[o].RETURNED+n[o].ADJUSTMENT;i.total_consumption=s,a.push(i)}for(var l=[{title:"S. No",key:"sno",render:function(e,t){return u.a.createElement("span",null," ",r++)},export:function(e,t,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"item_date",render:function(e,t){return u.a.createElement("span",null,f()(t.item_date).format("DD MMM"))},export:function(e,t){return f()(t.item_date).format("DD MMM")}}],c=function(t){var a=j.Eb[t].value,n={title:j.Eb[t].label,key:j.Eb[t].value,render:function(e,t){return u.a.createElement("span",null,t.type[a])},export:function(e,t){return t.type.value}};e.props.consume.includes(j.Eb[t].value)&&l.push(n)},p=0;p<j.Eb.length;p++)c(p);l.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Inventory"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Ne.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("DD MMM")}}),u.a.createElement(L.o,{label:{value:"Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,{loading:this.state.loading,columns:l,dataSource:a}))}}]),t}(u.a.Component),mt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadMonthlyInventory=a.loadMonthlyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadMonthlyInventory()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.product_item==e.product_item&&this.props.consume==e.consume||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadMonthlyInventory()}))}},{key:"loadMonthlyInventory",value:function(){var e=this;e.setState({loading:!0});var t={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type};this.props.consume&&(t.consume=this.props.consume.toString()),this.props.product_item&&(t.product=this.props.product_item),Object(k.b)(S.zb,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=this,t=e.state.report,a=[],n={};for(s=0;s<t.length;s++)t[s].date in n?n[t[s].date][t[s].type_of_consumption]=t[s].consume:(n[t[s].date]={SERVICES:0,SALES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},n[t[s].date][t[s].type_of_consumption]=t[s].consume);for(var r in n){var o={item_date:r,type:n[r],total_consumption:0},i=n[r].SERVICES+n[r].SALES+n[r].DAMAGED+n[r].RETURNED+n[r].ADJUSTMENT;o.total_consumption=i,a.push(o)}for(var s=1,l=[{title:"S. No",key:"sno",render:function(e,t){return u.a.createElement("span",null," ",s++)},export:function(e,t,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"item_date",render:function(e,t){return u.a.createElement("span",null,f()(t.item_date).format("MMM YYYY"))},export:function(e,t){return f()(t.item_date).format("MMM YYYY")}}],c=function(t){var a=j.Eb[t].value,n={title:j.Eb[t].label,key:j.Eb[t].value,render:function(e,t){return u.a.createElement("span",null,t.type[a])},export:function(e,t){return t.type.value}};e.props.consume.includes(j.Eb[t].value)&&l.push(n)},p=0;p<j.Eb.length;p++)c(p);l.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Inventory"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Ne.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("MMM YY")}}),u.a.createElement(L.o,{label:{value:"Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,{loading:this.state.loading,columns:l,dataSource:a}))}}]),t}(u.a.Component),ht=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={reportItem_wise:[],reportTotal:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadDailyInventory=a.loadDailyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailyInventory()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.product_item==e.product_item&&this.props.consume==e.consume||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailyInventory()}))}},{key:"loadDailyInventory",value:function(){var e=this;e.setState({loading:!0});var t={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type};this.props.consume&&(t.consume=this.props.consume.toString()),this.props.product_item&&(t.product=this.props.product_item),Object(k.b)(S.zb,(function(t){e.setState({report:t,reportItem_wise:t.item_wise,reportTotal:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){var e=this,t=e.state.reportItem_wise,a=[],n={};for(s=0;s<t.length;s++)t[s].inventory_item__name in n?n[t[s].inventory_item__name][t[s].type_of_consumption]=t[s].consume:(n[t[s].inventory_item__name]={SALES:0,SERVICES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},n[t[s].inventory_item__name][t[s].type_of_consumption]=t[s].consume);for(var r in n){var o={item_name:r,type:n[r],total_consumption:0},i=n[r].SALES+n[r].SERVICES+n[r].DAMAGED+n[r].RETURNED+n[r].ADJUSTMENT;o.total_consumption=i,a.push(o)}for(var s=1,l=[{title:"S. No",key:"sno",render:function(e,t){return u.a.createElement("span",null," ",s++)},export:function(e,t,a){return a+1},width:50},{title:"Item Name",key:"inventory_item__name",dataIndex:"item_name"}],c=function(t){var a=j.Eb[t].value,n={title:j.Eb[t].label,key:j.Eb[t].value,render:function(e,t){return u.a.createElement("span",null,t.type[a])},export:function(e,t){return t.type.value}};e.props.consume.includes(j.Eb[t].value)&&l.push(n)},p=0;p<j.Eb.length;p++)c(p);l.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Top Inventory"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.reportTotal.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.reportTotal,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"inventory_item__name"}),u.a.createElement(L.o,{label:{value:"Top Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,{loading:this.state.loading,columns:l,dataSource:a}))}}]),t}(u.a.Component),ft=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.state={advancedOptionShow:!0,sidePanelColSpan:4,productItems:[],type:"ALL",consume:j.Eb.map((function(e){return e.value}))},a.loadProductItem=a.loadProductItem.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadProductItem()}},{key:"loadProductItem",value:function(){var e=this;Object(k.b)(S.Kc,(function(t){e.setState({productItems:t})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.g?u.a.createElement(ut,Object.assign({},this.props,this.state)):null,this.state.type==M.I?u.a.createElement(dt,Object.assign({},this.props,this.state)):null,this.state.type==M.jb?u.a.createElement(mt,Object.assign({},this.props,this.state)):null,this.state.type==M.ac?u.a.createElement(ht,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.g,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Inventory"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.g},"All Stock Update History"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.Z.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type!==M.g?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(d.a,{style:{minWidth:"200px"},defaultValue:M.d,onChange:function(t){return e.handleChangeOption("product_item",t)}},u.a.createElement(d.a.Option,{value:""},M.d),this.state.productItems.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(U.a.Group,{style:{width:"100%",display:"inline-grid"},defaultValue:j.Eb.map((function(e){return e.value})),onChange:function(t){return e.handleChangeOption("consume",t)}},j.Eb.map((function(e){return u.a.createElement(U.a,{value:e.value}," ",e.label)}))))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")):null))))}}]),t}(u.a.Component);function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Et=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.blood_group&&(t.blood_group=a.props.blood_group),t.mail_to=e,Object(R.g)(S.kc,t)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyNewPatients=a.loadDailyNewPatients.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailyNewPatients(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.blood_group==e.blood_group||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailyNewPatients()}))}},{key:"loadDailyNewPatients",value:function(){var e=this;e.setState({loading:!0});var t={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.blood_group&&(t.blood_group=this.props.blood_group),Object(k.b)(S.kc,(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this.state.report,a=[],n=1;n<=t.length;n++)a.push(yt({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("ll"))},export:function(e,t){return f()(t.date).format("ll")}},{title:"Patients",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:[].concat(a).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Patients",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:4})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};t.mail_to=e,Object(R.g)(S.bc,t)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadExpireMembership=a.loadExpireMembership.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadExpireMembership(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadExpireMembership()}))}},{key:"loadExpireMembership",value:function(){var e=this;e.setState({loading:!0});var t={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};Object(k.b)(S.bc,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(vt({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:function(e,t){return t.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(e){return t.props.activePracticePermissions.PatientPhoneNumber?e:Object(Ie.b)(e)},export:function(e,t){return t.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(e){return t.props.activePracticePermissions.PatientEmailId?e:Object(Ie.a)(e)},export:function(e,t){return t.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(e,t){return t.patient.gender}},{title:"Start Date",key:"start_date",dataIndex:"medical_from"},{title:"Valid Till",key:"valid_till",dataIndex:"medical_to"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Expiring Membership",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(K.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),t}(u.a.Component);function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _t=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),t.mail_to=e,Object(R.g)(S.kc,t)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyPatients=a.loadMonthlyPatients.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadMonthlyPatients(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.blood_group==e.blood_group&&this.props.offer==e.offer||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadMonthlyPatients()}))}},{key:"loadMonthlyPatients",value:function(){var e=this;e.setState({loading:!0});var t={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),Object(k.b)(S.kc,(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this.state.report,a=[],n=1;n<=t.length;n++)a.push(xt({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Month",key:"month",render:function(e,t){return u.a.createElement("span",null,f()(t.month).format("MMM")," \xa0",f()(t.year).format("YYYY"))},export:function(e,t){return f()(t.month).format("MMM YYYY")}},{title:"Patients",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:[].concat(a).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("MMM YYYY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#413ea0",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function St(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?St(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):St(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var kt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};t.mail_to=e,Object(R.g)(S.bc,t)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadNewMembership=a.loadNewMembership.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadNewMembership(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadNewMembership()}))}},{key:"loadNewMembership",value:function(){var e=this;e.setState({loading:!0});var t={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};Object(k.b)(S.bc,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(jt({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:function(e,t){return t.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(e){return t.props.activePracticePermissions.PatientPhoneNumber?e:Object(Ie.b)(e)},export:function(e,t){return t.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(e){return t.props.activePracticePermissions.PatientEmailId?e:Object(Ie.a)(e)},export:function(e,t){return t.patient.user.email}},{title:"Membership Type",key:"membership_type",dataIndex:"medical_membership.name",export:function(e,t){return t.medical_membership.name}},{title:"Start Date",key:"start_date",dataIndex:"medical_from"},{title:"Valid Till",key:"valid_till",dataIndex:"medical_to"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"New Membership ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),t}(u.a.Component);function Mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mt(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var It=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.blood_group&&(t.blood_group=a.props.blood_group),t.mail_to=e,Object(R.g)(S.kc,t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadNewPatient=a.loadNewPatient.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){"DETAILED"==this.props.type&&this.loadNewPatient(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.blood_group==e.blood_group&&this.props.blood_group==e.blood_group||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){"DETAILED"==t.props.type&&this.loadNewPatient()}))}},{key:"loadNewPatient",value:function(){var e=this;e.setState({loading:!0});var t={type:e.props.type?e.props.type:"DETAILED",from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.blood_group&&(t.blood_group=this.props.blood_group),Object(k.b)(S.kc,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Pt({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(e,t){return u.a.createElement("span",null," ",t.s_no)},export:function(e,t,a){return a+1},width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(e,t){return u.a.createElement("span",null,t.custom_id?t.custom_id:t.id)},exports:function(e,t){return t.custom_id?t.custom_id:t.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(e){return t.props.activePracticePermissions.PatientPhoneNumber?e:Object(Ie.b)(e)},exports:function(e){return e}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(e){return t.props.activePracticePermissions.PatientEmailId?e:Object(Ie.a)(e)},exports:function(e){return e}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),t}(u.a.Component);function Yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yt(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD")};t.mail_to=e,Object(R.g)(S.ub,t)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadFirstAppointment=a.loadFirstAppointment.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadFirstAppointment(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadFirstAppointment()}))}},{key:"loadFirstAppointment",value:function(){var e=this;e.setState({loading:!0});var t={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};Object(k.b)(S.ub,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this.state.report,a=[],n=1;n<=t.length;n++)a.push(Rt({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"appointment_time",render:function(e,t){return u.a.createElement("span",null,f()(t.appointment_time).format("LL"))},export:function(e,t){return f()(t.appointment_time).format("LL")}},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name"},{title:"Patient Number",key:"id",render:function(e,t){return u.a.createElement("span",null,t.custom_id?t.custom_id:t.patient_id)},exports:function(e,t){return t.custom_id?t.custom_id:t.patient_id}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients First AppointmentReport",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function Ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function At(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ct(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ct(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Nt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.blood_group&&(t.blood_group=a.props.blood_group),t.mail_to=e,Object(R.g)(S.b,t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadActivePatient=a.loadActivePatient.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadActivePatient(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.blood_group==e.blood_group&&this.props.blood_group==e.blood_group||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){this.loadActivePatient()}))}},{key:"loadActivePatient",value:function(){var e=this;e.setState({loading:!0});var t={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.blood_group&&(t.blood_group=this.props.blood_group),Object(k.b)(S.b,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(At({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(e,t){return u.a.createElement("span",null," ",t.s_no)},export:function(e,t,a){return a+1},width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(e,t){return u.a.createElement("span",null,t.custom_id?t.custom_id:t.id)},exports:function(e,t){return t.custom_id?t.custom_id:t.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(e){return t.props.activePracticePermissions.PatientPhoneNumber?e:Object(Ie.b)(e)},exports:function(e){return e}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(e){return t.props.activePracticePermissions.PatientEmailId?e:Object(Ie.a)(e)},exports:function(e){return e}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Active Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),t}(u.a.Component);function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Lt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.blood_group&&(t.blood_group=a.props.blood_group),t.mail_to=e,Object(R.g)(S.kc,t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadFollowUpPatient=a.loadFollowUpPatient.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadFollowUpPatient(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.blood_group==e.blood_group&&this.props.blood_group==e.blood_group||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){this.loadFollowUpPatient()}))}},{key:"loadFollowUpPatient",value:function(){var e=this;e.setState({loading:!0});var t={follow_start:this.props.startDate.format("YYYY-MM-DD"),follow_end:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.blood_group&&(t.blood_group=this.props.blood_group),Object(k.b)(S.kc,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Ft({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(e,t){return u.a.createElement("span",null,t.custom_id?t.custom_id:t.id)},exports:function(e,t){return t.custom_id?t.custom_id:t.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(e){return t.props.activePracticePermissions.PatientPhoneNumber?e:Object(Ie.b)(e)},exports:function(e){return e}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(e){return t.props.activePracticePermissions.PatientEmailId?e:Object(Ie.a)(e)},exports:function(e){return e}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Follow Up Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(K.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),t}(u.a.Component);function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).sendMail=function(e){var t={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.blood_group&&(t.blood_group=a.props.blood_group),t.mail_to=e,Object(R.g)(S.kc,t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadPatientMedicine=a.loadPatientMedicine.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPatientMedicine(),Object(R.e)(this)}},{key:"componentWillReceiveProps",value:function(e){this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.blood_group==e.blood_group&&this.props.blood_group==e.blood_group||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){this.loadPatientMedicine()}))}},{key:"loadPatientMedicine",value:function(){var e=this;e.setState({loading:!0});var t={follow_start:this.props.startDate.format("YYYY-MM-DD"),follow_end:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(t.groups=this.props.patient_groups.toString()),this.props.blood_group&&(t.blood_group=this.props.blood_group),Object(k.b)(S.kc,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Gt({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(e,t){return u.a.createElement("span",null,t.custom_id?t.custom_id:t.id)},exports:function(e,t){return t.custom_id?t.custom_id:t.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(e){return t.props.activePracticePermissions.PatientPhoneNumber?e:Object(Ie.b)(e)},exports:function(e){return e}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(e){return t.props.activePracticePermissions.PatientEmailId?e:Object(Ie.a)(e)},exports:function(e){return e}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Medicine Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(t){return e.sendMail(t)},style:{width:200}},this.state.mailingUsersList.map((function(e){return u.a.createElement(d.a.Option,{value:e.email},e.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Patients",value:n.length}),u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),t}(u.a.Component),zt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.state={type:"DETAILED",advancedOptionShow:!0,sidePanelColSpan:4,patientGroup:[],offerOption:[]},a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var e=this;Object(k.b)(Object(k.e)(S.pc,[this.props.active_practiceId]),(function(t){e.setState({patientGroup:t})}),(function(){}))}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.qb?u.a.createElement(It,Object.assign({},this.props,this.state)):null,this.state.type==M.J?u.a.createElement(Et,Object.assign({},this.props,this.state)):null,this.state.type==M.U?u.a.createElement(Dt,Object.assign({},this.props,this.state)):null,this.state.type==M.vb?u.a.createElement(wt,Object.assign({},this.props,this.state)):null,this.state.type==M.kb?u.a.createElement(_t,Object.assign({},this.props,this.state)):null,this.state.type==M.pb?u.a.createElement(kt,Object.assign({},this.props,this.state)):null,this.state.type==M.a?u.a.createElement(Nt,Object.assign({},this.props,this.state)):null,this.state.type==M.V?u.a.createElement(Lt,Object.assign({},this.props,this.state)):null,this.state.type==M.cb?u.a.createElement(Wt,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.qb,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Patients"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.qb},"New Patients"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.kb.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==M.qb||this.state.type==M.J||this.state.type==M.kb||this.state.type==M.a||this.state.type==M.V||this.state.type==M.cb?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(t){return e.handleChangeOption("patient_groups",t)}},this.state.patientGroup.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("h4",null,"Blood Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Blood Group",onChange:function(t){return e.handleChangeOption("blood_group",t)},allowClear:!0},j.k.map((function(e){return u.a.createElement(d.a.Option,{value:e.value},e.name)}))))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")):null))))}}]),t}(u.a.Component),Ut=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a),t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=[{title:"Date",key:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.shedule_at).format("LL"))}},{title:"Scheduled At\t",key:"time",render:function(e,t){return u.a.createElement("span",null,f()(t.shedule_at).format("HH:mm"))}},{title:"Patient",dataIndex:"age",key:"age"},{title:"Receipt Number",dataIndex:"age",key:"age"},{title:"Invoice(s)",dataIndex:"age",key:"age"},{title:"Treatments & Products",dataIndex:"age",key:"age"},{title:"Amount Paid (INR)\t",dataIndex:"patient_name",key:"patient_name"},{title:"Advance Amount (INR)",dataIndex:"address",key:"address"},{title:"Payment Info\t",dataIndex:"address",key:"address"},{title:"Vendor Fees (INR)",dataIndex:"address",key:"address"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Payments Report"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:e,dataSource:this.state.report}))}}]),t}(u.a.Component),Kt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a),t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Credit Amount Per Doctor"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Ht=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Refund Payments"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Vt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Each Patient Group"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Qt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients With Unsettled Advance"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),qt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Modes of Payment"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Jt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Day"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Xt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Month"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),Zt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Doctor"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),$t=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Credit Notes"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),ea=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Settlement"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),ta=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadPaymentsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(t.taxes=a.props.taxes.toString()),a.props.patient_groups&&(t.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(t.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.consume&&(t.consume=a.props.consume.toString()),Object(k.b)(Object(k.e)(S.Ac,[e.props.active_practiceId]),(function(t){e.setState({report:t.data,total:t.total,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPaymentsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.taxes==e.taxes&&this.props.doctors==e.doctors&&this.props.payment_mode==e.payment_mode&&this.props.consume==e.consume&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadPaymentsReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Settlement Per Doctor"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.report}))}}]),t}(u.a.Component),aa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.onChangeCheckbox=function(e){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.state={advancedOptionShow:!0,paymentModeOption:[],sidePanelColSpan:4,type:"ALL",practiceDoctors:[],patientGroup:[],vendorOption:[],taxes_list:[]},Object(R.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a.loadPaymentMode=a.loadPaymentMode.bind(Object(s.a)(a)),a.loadTaxes=a.loadTaxes.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadPaymentMode(),this.loadTaxes()}},{key:"loadPatientGroup",value:function(){var e=this;Object(k.b)(Object(k.e)(S.pc,[this.props.active_practiceId]),(function(t){e.setState({patientGroup:t})}),(function(){}))}},{key:"loadPaymentMode",value:function(){var e=this;Object(k.b)(Object(k.e)(S.yc,[this.props.active_practiceId]),(function(t){e.setState({paymentModeOption:t})}),(function(){}))}},{key:"loadTaxes",value:function(){var e=this;Object(k.b)(Object(k.e)(S.Cd,[this.props.active_practiceId]),(function(t){e.setState({taxes_list:t})}),(function(){}))}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Payments Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.j?u.a.createElement(Ut,Object.assign({},this.props,this.state)):null,this.state.type==M.Cb?u.a.createElement(Ht,Object.assign({},this.props,this.state)):null,this.state.type==M.yb?u.a.createElement(Vt,Object.assign({},this.props,this.state)):null,this.state.type==M.wb?u.a.createElement(Qt,Object.assign({},this.props,this.state)):null,this.state.type==M.eb?u.a.createElement(qt,Object.assign({},this.props,this.state)):null,this.state.type==M.zb?u.a.createElement(Jt,Object.assign({},this.props,this.state)):null,this.state.type==M.Bb?u.a.createElement(Xt,Object.assign({},this.props,this.state)):null,this.state.type==M.Ab?u.a.createElement(Zt,Object.assign({},this.props,this.state)):null,this.state.type==M.D?u.a.createElement($t,Object.assign({},this.props,this.state)):null,this.state.type==M.Db?u.a.createElement(ea,Object.assign({},this.props,this.state)):null,this.state.type==M.Eb?u.a.createElement(ta,Object.assign({},this.props,this.state)):null,this.state.type==M.C?u.a.createElement(Kt,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.j,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Payments"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.j},"All Payments"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.ob.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Show"),u.a.createElement(U.a.Group,{style:{width:"100%",display:"inline-grid"},onChange:function(t){return e.handleChangeOption("consume",t)}},j.zb.map((function(e){return u.a.createElement(U.a,{value:e.value}," ",e.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(t){return e.handleChangeOption("doctors",t)}},this.state.practiceDoctors.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(t){return e.handleChangeOption("patient_groups",t)}},this.state.patientGroup.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Modes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Payment Modes",onChange:function(t){return e.handleChangeOption("payment_mode",t)}},this.state.paymentModeOption.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.mode)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(t){return e.handleChangeOption("taxes",t)}},this.state.taxes_list.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(U.a,{onChange:function(t){return e.onChangeCheckbox(t)}}," Exclude Cancelled"))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")))))}}]),t}(u.a.Component),na=(a(267),a(270)),ra=(a(392),a(393));function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ia(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var sa=ra.a.Text,la=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,dailySummary:[],practiceDoctors:[],paidAmountForPaymentMode:{}},a.loadDailySummary=a.loadDailySummary.bind(Object(s.a)(a)),Object(R.d)(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailySummary()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailySummary()}))}},{key:"loadDailySummary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this;t.setState({loading:!0});var a=function(e){t.setState((function(t){var a=[],n={type:"FINAL",unit_cost:0,tax_value:0,unit:1,total:0,discount_value:0,invoice:{inventory:[],prescription:[],procedure:[],payments:[]},paidAmount:0},r={};return e.current>1&&(r=ia({},t.paidAmountForPaymentMode)),e.results.length&&e.results.forEach((function(e){e.inventory.forEach((function(t){a.push(ia({},t,{invoice:e})),n.unit_cost+=t.unit_cost*t.unit,n.tax_value+=t.tax_value,n.discount_value+=t.discount_value,n.total+=t.total})),e.prescription.forEach((function(t){a.push(ia({},t,{invoice:e})),n.unit_cost+=t.unit_cost*t.unit,n.tax_value+=t.tax_value,n.discount_value+=t.discount_value,n.total+=t.total})),e.procedure.forEach((function(t){a.push(ia({},t,{invoice:e})),n.unit_cost+=t.unit_cost*t.unit,n.tax_value+=t.tax_value,n.discount_value+=t.discount_value,n.total+=t.total})),n.paidAmount+=e.payments.map((function(e){return e.pay_amount})).reduce((function(e,t){return e+t}),0),e.payments.forEach((function(e){r[e.payment_mode]?r[e.payment_mode]+=e.pay_amount:r[e.payment_mode]=e.pay_amount}))})),e.count&&!e.next&&a.push(n),1==e.current?{loading:!1,dailySummary:a,nextItemPage:e.next,paidAmountForPaymentMode:r}:{loading:!1,dailySummary:[].concat(Object(Ne.a)(t.dailySummary),a),nextItemPage:e.next,paidAmountForPaymentMode:r}}))},n=function(){t.setState({loading:!1})},r={page:e,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.state.doctors&&(r.doctor=this.state.doctors.toString()),Object(k.b)(S.Bb,a,n,r)}},{key:"filterReport",value:function(e,t){this.setState((function(a){return Object(_.a)({},e,t)}),(function(){this.loadDailySummary()}))}},{key:"render",value:function(){var e=this,t=this,a=1,n=null,r=null,o=null,i=null,s=null,l=null,c=[{title:"S. No",key:"sno",dataIndex:"abcd",align:"center",render:function(e,t,r){var o={props:{}};return t.invoice.invoice_id==n?o.props.rowSpan=0:(n=t.invoice.invoice_id,o.children="FINAL"==t.type?"--":u.a.createElement("span",null," ",a++),o.props.rowSpan=t.invoice.inventory.length+t.invoice.prescription.length+t.invoice.procedure.length,"FINAL"==t.type&&(o.props.rowSpan=1)),o},width:50},{title:"Patient Name",key:"patient_name",dataIndex:"invoice.patient_data.user.first_name",render:function(e,t,a){var n={props:{}};if(t.invoice.invoice_id==r)n.props.rowSpan=0;else{r=t.invoice.invoice_id;var o=t.invoice.payments.map((function(e){return e.pay_amount})).reduce((function(e,t){return e+t}),0).toFixed(2);n.children="FINAL"==t.type?"--":u.a.createElement("span",null,u.a.createElement("b",null,e," (",t.invoice.patient_data.custom_id,")"),u.a.createElement("br",null),u.a.createElement("span",null,"Invoice Income: ",u.a.createElement(sa,{type:"danger"},"INR\xa0",t.invoice.total.toFixed(2))),u.a.createElement("br",null),u.a.createElement("span",null,"Total Payment: ",u.a.createElement(sa,{type:"danger"},"INR\xa0",o)),u.a.createElement("br",null),u.a.createElement("span",null,"Amount Due: ",u.a.createElement(sa,{type:"danger"},"INR\xa0",(t.invoice.total-o).toFixed(2))),u.a.createElement("br",null)),n.props.rowSpan=t.invoice.inventory.length+t.invoice.prescription.length+t.invoice.procedure.length,"FINAL"==t.type&&(n.props.rowSpan=1)}return n}},{title:"Treatment & Products",dataIndex:"name",key:"name"},{title:"Cost (INR)",key:"unit_cost",dataIndex:"unit_cost",align:"right",render:function(e,t){return t.unit_cost?u.a.createElement("span",null,(t.unit_cost.toFixed(2)*t.unit).toFixed(2),"FINAL"==t.type?null:u.a.createElement("span",null,u.a.createElement("br",null),u.a.createElement("small",null,t.unit_cost.toFixed(2),"x",t.unit))):"--"}},{title:"Discount (INR)",key:"discount_value",dataIndex:"discount_value",align:"right",render:function(e,t){return u.a.createElement("span",null,e.toFixed(2))}},{title:"Tax",dataIndex:"tax_value",key:"taxes",align:"right",render:function(e,t){return u.a.createElement("span",null,e.toFixed(2))}},{title:"Invoice No.",key:"invoice_id",dataIndex:"invoice.invoice_id",render:function(e,t){return u.a.createElement("span",null,e,u.a.createElement("br",null),u.a.createElement("small",null,t.invoice.date))}},{title:"Invoice Cost (INR)",key:"invoice_cost",dataIndex:"total",align:"right",render:function(e,t){return u.a.createElement("span",null,e.toFixed(2))}},{title:"Receipt No",key:"payment_data.payment_id",dataIndex:"",render:function(e,t,a){var n={props:{}};return t.invoice.invoice_id==o?n.props.rowSpan=0:(o=t.invoice.invoice_id,n.children=u.a.createElement("span",null,t.invoice.payments.map((function(e){return u.a.createElement("span",null,e.payment_id,u.a.createElement("br",null))}))),n.props.rowSpan=t.invoice.inventory.length+t.invoice.prescription.length+t.invoice.procedure.length,"FINAL"==t.type&&(n.props.rowSpan=1)),n}},{title:"Mode Of Payment",key:"mode_of_payments",dataIndex:"payment_mode",align:"center",render:function(e,t,a){var n={props:{}};return t.invoice.invoice_id==i?n.props.rowSpan=0:(i=t.invoice.invoice_id,n.children=u.a.createElement("span",null,t.invoice.payments.map((function(e){return u.a.createElement("span",null,e.payment_mode||"--",u.a.createElement("br",null))}))),n.props.rowSpan=t.invoice.inventory.length+t.invoice.prescription.length+t.invoice.procedure.length,"FINAL"==t.type&&(n.props.rowSpan=1)),n}},{title:"Amount Paid (INR)",key:"amount_paid",dataIndex:"pay_amount",align:"right",render:function(e,t,a){var n={props:{}};return t.invoice.invoice_id==s?n.props.rowSpan=0:(s=t.invoice.invoice_id,n.children=u.a.createElement("span",null,t.invoice.payments.map((function(e){return u.a.createElement("span",null,e.pay_amount.toFixed(2)||"--",u.a.createElement("br",null))}))),n.props.rowSpan=t.invoice.inventory.length+t.invoice.prescription.length+t.invoice.procedure.length,"FINAL"==t.type&&(n.props.rowSpan=1,n.children=u.a.createElement("span",null,t.paidAmount.toFixed(2)))),n}},{title:"Total Amount Paid",key:"total_amount_paid",dataIndex:"total",align:"right",render:function(e,t,a){var n={props:{}};return t.invoice.invoice_id==l?n.props.rowSpan=0:(l=t.invoice.invoice_id,n.children=u.a.createElement("span",null,t.invoice.payments.map((function(e){return u.a.createElement("b",null,e.pay_amount.toFixed(2)||"--",u.a.createElement("br",null))}))),n.props.rowSpan=t.invoice.inventory.length+t.invoice.prescription.length+t.invoice.procedure.length,"FINAL"==t.type&&(n.props.rowSpan=1,n.children=u.a.createElement("span",null,t.paidAmount.toFixed(2)))),n}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Summary Report"),u.a.createElement(b.a,{bodyStyle:{padding:0},extra:u.a.createElement(u.a.Fragment,null,u.a.createElement("span",null,"Doctors :"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(t){return e.filterReport("doctors",t)}},this.state.practiceDoctors.map((function(e){return u.a.createElement(d.a.Option,{key:e.id,value:e.id},e.user.first_name)}))))},u.a.createElement(P.a,{bordered:!0,rowKey:function(e,t){return t},columns:c,dataSource:this.state.dailySummary,pagination:!1}),u.a.createElement(Le.a,{loaderFunction:function(){return e.loadDailySummary(e.state.nextItemPage)},loading:this.state.loading,hidden:!this.state.nextItemPage}),this.state.nextItemPage?null:u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:6,style:{margin:15}},u.a.createElement("h4",null,"Amount Total by Mode of Payments"),u.a.createElement(na.a,{size:"small",dataSource:Object.keys(this.state.paidAmountForPaymentMode).map((function(e){return{payment_mode:e||"--",value:0}})),renderItem:function(e){return u.a.createElement(na.a.Item,null,u.a.createElement(na.a.Item.Meta,{title:e.payment_mode||"--"}),u.a.createElement("span",null,"INR ",t.state.paidAmountForPaymentMode[e.payment_mode].toFixed(2)))}})))))}}]),t}(u.a.Component),ca=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadBedBookingReport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(s.a)(a);a.setState({loading:!0});var n=function(e){1==e.current?t.setState({bedBookingReports:e.results,loading:!1,nextReport:e.next}):t.setState((function(t){return{bedBookingReports:[].concat(Object(Ne.a)(t.bedBookingReports),Object(Ne.a)(e.results)),loading:!1,nextReport:e.next}}))},r=function(){t.setState({loading:!1})},o={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),page:e,practice:a.props.active_practiceId};a.props.payment_status&&(o.payment_status=a.props.payment_status),a.props.type&&(o.type=a.props.type),a.props.bed_packages&&(o.bed_packages=a.props.bed_packages.join(",")),Object(k.b)(S.u,n,r,o)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadBedBookingReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.bed_packages==e.bed_packages&&this.props.payment_status==e.payment_status&&this.props.type==e.type||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadBedBookingReport()}))}},{key:"render",value:function(){var e=this,t=1,a=[{title:"S. No",key:"sno",render:function(e,a){return u.a.createElement("span",null," ",t++)},export:function(e,a){t++},width:50},{title:"Patient Name",key:"patient",dataIndex:"patient",render:function(e){return e?u.a.createElement("span",null,e.user.first_name,"\xa0(",e.custom_id,")"):null}},{title:"Package Name",key:"name",dataIndex:"bed_package.name"},{title:"Medicine Package",key:"medicine",dataIndex:"medicines",render:function(e,t){return u.a.createElement("span",null,e.map((function(e){return u.a.createElement(qe.a,null,e.name)})))}},{title:"From ",key:"from_date",render:function(e,t){return u.a.createElement("span",null,f()(t.from_date).format("LL"))}},{title:"To ",key:"to_date",render:function(e,t){return u.a.createElement("span",null,f()(t.to_date).format("LL"))}},{title:"Seat/Bed Type",key:"seat_type",dataIndex:"seat_type"},{title:"Seat Number",key:"seat_no",dataIndex:"seat_no"},{title:"Total price",key:"total_price",dataIndex:"total_price",render:function(e){return u.a.createElement("p",null,e.toFixed(2))}},{title:"Payment Status",key:"payment_status",dataIndex:"payment_status"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Seat/Bed Booking Report"),u.a.createElement(K.a,{hideReport:!0,pagination:!1,columns:a,dataSource:this.state.bedBookingReports}),u.a.createElement(Le.a,{loaderFunction:function(){return e.loadBedBookingReport(e.state.nextReport)},loading:this.state.loading,hidden:!this.state.nextReport}))}}]),t}(u.a.Component),pa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadBedBookingReport=function(){var e=Object(s.a)(a);a.setState({loading:!0});var t={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId,report_type:a.props.report_type};a.props.payment_status&&(t.payment_status=a.props.payment_status),a.props.type&&(t.type=a.props.type),a.props.bed_packages&&(t.bed_packages=a.props.bed_packages.join(",")),Object(k.b)(S.u,(function(t){e.setState({bedBookingReports:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadBedBookingReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.bed_packages==e.bed_packages&&this.props.payment_status==e.payment_status&&this.props.type==e.type||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadBedBookingReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("DD MMM "))},export:function(e,t){return f()(t.date).format("DD MMM ")}},{title:"Total Booking",key:"count",dataIndex:"count"},{title:"Amount (INR)",key:"amount",dataIndex:"total"}],a=this.state.bedBookingReports.reduce((function(e,t){return e+t.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Booking Count"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:Object(Ne.a)(this.state.bedBookingReports).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Bookings",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#1DA57A",strokeWidth:4,label:u.a.createElement((function(e){var t=e.x,a=e.y,n=(e.stroke,e.value);return u.a.createElement("text",{x:t,y:a,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n)}),null)})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total Amounts",value:a||"0.00"})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.bedBookingReports}))}}]),t}(u.a.Component),ua=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadBedBookingReport=function(){var e=Object(s.a)(a);a.setState({loading:!0});var t={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId,report_type:a.props.report_type};a.props.payment_status&&(t.payment_status=a.props.payment_status),a.props.type&&(t.type=a.props.type),a.props.bed_packages&&(t.bed_packages=a.props.bed_packages.join(",")),Object(k.b)(S.u,(function(t){e.setState({bedBookingReports:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadBedBookingReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.bed_packages==e.bed_packages&&this.props.payment_status==e.payment_status&&this.props.type==e.type||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadBedBookingReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("MMM YYYY"))},export:function(e,t){return f()(t.date).format("MMM YYYY")}},{title:"Total Booking",key:"count",dataIndex:"count"},{title:"Amount (INR)",key:"amount",dataIndex:"total"}],a=this.state.bedBookingReports.reduce((function(e,t){return e+t.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Booking Count"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Ne.a)(this.state.bedBookingReports).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total Amounts",value:a||"0.00"})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.bedBookingReports}))}}]),t}(u.a.Component),da=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadBedBookingReport=function(){var e=Object(s.a)(a);a.setState({loading:!0});var t={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),report_type:a.props.report_type,practice:a.props.active_practiceId};a.props.payment_status&&(t.payment_status=a.props.payment_status),a.props.type&&(t.type=a.props.type),a.props.bed_packages&&(t.bed_packages=a.props.bed_packages.join(",")),Object(k.b)(S.u,(function(t){e.setState({bedBookingReports:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],activeIndex:0},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadBedBookingReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.bed_packages==e.bed_packages&&this.props.payment_status==e.payment_status&&this.props.type==e.type||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadBedBookingReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Medicine Name",key:"name",dataIndex:"medicine"},{title:"Total Medicine",key:"count",dataIndex:"count"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.bedBookingReports.reduce((function(e,t){return e+t.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Medicine Usage Count"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.medicine+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.bedBookingReports,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.bedBookingReports.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total Amounts",value:n})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.bedBookingReports}))}}]),t}(u.a.Component),ma=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadBedBookingReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),report_type:a.props.report_type,practice:a.props.active_practiceId};a.props.payment_status&&(t.payment_status=a.props.payment_status),a.props.type&&(t.type=a.props.type),a.props.bed_packages&&(t.bed_packages=a.props.bed_packages.join(",")),Object(k.b)(S.u,(function(t){e.setState({bedBookingReports:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],activeIndex:0},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadBedBookingReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.bed_packages==e.bed_packages&&this.props.payment_status==e.payment_status&&this.props.type==e.type||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadBedBookingReport()}))}},{key:"render",value:function(){var e=1,t=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(e,t,a){return a+1},width:50},{title:"Bed Package Name",key:"bed_package",dataIndex:"bed_package"},{title:"Total Bed Package",key:"count",dataIndex:"count"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.bedBookingReports.reduce((function(e,t){return e+t.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Medicine Usage Count"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.bed_package+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.bedBookingReports,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.bedBookingReports.map((function(e,t){return u.a.createElement(L.c,{fill:a[t%a.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total Amounts",value:n})),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.bedBookingReports}))}}]),t}(u.a.Component),ha=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.loadPackages=function(){var e=Object(s.a)(a);Object(k.b)(Object(k.e)(S.v,[a.props.active_practiceId]),(function(t){e.setState({packages:t})}),(function(){}))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.state={report_type:"ALL",sidePanelColSpan:4,advancedOptionShow:!0,packages:[]},a.loadPackages=a.loadPackages.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPackages()}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Bed Booking Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.report_type==M.d?u.a.createElement(ca,Object.assign({},this.props,this.state)):null,this.state.report_type==M.F?u.a.createElement(pa,Object.assign({},this.props,this.state)):null,this.state.report_type==M.gb?u.a.createElement(ua,Object.assign({},this.props,this.state)):null,this.state.report_type==M.db?u.a.createElement(da,Object.assign({},this.props,this.state)):null,this.state.report_type==M.u?u.a.createElement(ma,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.d,onChange:function(t){return e.onChangeHandle("report_type",t)}},u.a.createElement("h2",null,"Bed Booking"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.d},"All Bookings"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.g.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Bed Package"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Bed Package",onChange:function(t){return e.handleChangeOption("bed_packages",t)}},this.state.packages.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Type"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select type",defaultValue:M.d,onChange:function(t){return e.handleChangeOption("type",t)}},u.a.createElement(d.a.Option,{value:""},M.d),j.gb.map((function(e){return u.a.createElement(d.a.Option,{value:e.value},e.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Status"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Payment Status",defaultValue:M.d,onChange:function(t){return e.handleChangeOption("payment_status",t)}},u.a.createElement(d.a.Option,{value:""},M.d),j.pb.map((function(e){return u.a.createElement(d.a.Option,{value:e.value},e.label)}))))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")))))}}]),t}(u.a.Component),fa=a(309);function ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ga(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ga(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ea=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadInventoryRetails=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(t.groups=a.props.patient_groups.toString()),a.props.products&&(t.products=a.props.products.toString()),a.props.doctors&&(t.doctors=a.props.doctors.toString()),a.props.manufacturers&&(t.manufacturers=a.props.manufacturers.toString()),a.props.suppliers&&(t.suppliers=a.props.suppliers.toString()),Object(k.b)(S.Ab,(function(t){var a=[];t.forEach((function(e){var t=ya({},e);t.profit=(e.total-e.cost-e.tax).toFixed(2),a.push(t)})),e.setState({inventoryReports:a,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={inventoryReports:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadInventoryRetails=a.loadInventoryRetails.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadInventoryRetails()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.products==e.products&&this.props.doctors==e.doctors&&this.props.manufacturers==e.manufacturers&&this.props.suppliers==e.suppliers&&this.props.patient_groups==e.patient_groups||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadInventoryRetails()}))}},{key:"render",value:function(){for(var e=this.state.inventoryReports,t=[],a=0,n=0,r=0,o=0,i=0,s=0;s<e.length;s++)n+=e[s].cost,r+=e[s].tax,a+=e[s].total,o+=e[s].total-e[s].cost,i+=e[s].total-e[s].cost-e[s].tax;t.push({sale_amount:a,tax_amount:r,cost_amount:n,profit_before_tax:o,profit_after_tax:i});for(var l=[{title:"Total Sales (INR)",key:"sale_amount",dataIndex:"sale_amount",render:function(e,t){return u.a.createElement("span",null,t.sale_amount.toFixed(2))}},{title:"Total Cost (INR)",key:"cost_amount",dataIndex:"cost_amount",render:function(e,t){return u.a.createElement("span",null,t.cost_amount.toFixed(2))}},{title:"Total Profit before Tax(INR)",key:"tax_with_out",dataIndex:"profit_before_tax",render:function(e,t){return u.a.createElement("span",null,t.profit_before_tax.toFixed(2))}},{title:"Total Tax(INR)",key:"tax_amount",dataIndex:"tax_amount",render:function(e,t){return u.a.createElement("span",null,t.tax_amount.toFixed(2))}},{title:"Total Profit after Tax(INR)",key:"tax_with",dataIndex:"profit_after_tax",render:function(e,t){return u.a.createElement("span",null,t.profit_after_tax.toFixed(2))}}],c=this.state.inventoryReports,p=[],d=1;d<=c.length;d++)p.push(ya({s_no:d},c[d-1]));var m=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("YYYY-MM-DD"))}},{title:"Sales (INR)",key:"sale_amount",dataIndex:"total",render:function(e,t){return u.a.createElement("span",null,t.total.toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Profit before Tax(INR)",key:"tax_with_out",render:function(e,t){return u.a.createElement("span",null,(t.total-t.cost).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax.toFixed(2))}},{title:"Profit after Tax(INR)",key:"tax_with",render:function(e,t){return u.a.createElement("span",null,(t.total-t.cost-t.tax).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Profit Loss"),u.a.createElement(T.a,{size:"large",spinning:this.state.loading},p.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:p,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Sales Profit",angle:-90,position:"insideLeft"}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"profit",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(e){e.payload;var t=e.x,a=e.y,n=e.width,r=(e.height,e.value);return u.a.createElement("text",{x:t+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(P.a,{loading:this.state.loading,columns:l,pagination:!1,dataSource:t}),u.a.createElement(P.a,{loading:this.state.loading,columns:m,pagination:!1,dataSource:p}))}}]),t}(u.a.Component),ba=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.onChangeCheckbox=function(e){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.state={sidePanelColSpan:4,startDate:a.props.startDate,endDate:a.props.endDate,advancedOptionShow:!0,manufacturesOption:[],productsOption:[],suppliersOption:[],practiceDoctors:[],patientGroup:[]},a.loadManufactures=a.loadManufactures.bind(Object(s.a)(a)),a.loadProducts=a.loadProducts.bind(Object(s.a)(a)),a.loadSuppliers=a.loadSuppliers.bind(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),Object(R.d)(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadManufactures(),this.loadProducts(),this.loadSuppliers(),this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var e=this;Object(k.b)(Object(k.e)(S.pc,[this.props.active_practiceId]),(function(t){e.setState({patientGroup:t})}),(function(){}))}},{key:"loadManufactures",value:function(){var e=this;Object(k.b)(S.Rb,(function(t){e.setState({manufacturesOption:t})}),(function(){}))}},{key:"loadSuppliers",value:function(){var e=this,t={practice:this.props.active_practiceId};Object(k.b)(S.Bd,(function(t){e.setState({suppliersOption:t})}),(function(){}),t)}},{key:"loadProducts",value:function(){var e=this,t={practice:this.props.active_practiceId};Object(k.b)(S.Kc,(function(t){e.setState({productsOption:t})}),(function(){}),t)}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},u.a.createElement(Ea,Object.assign({},this.state,this.props))),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.d},u.a.createElement("h2",null,"Inventory Retails"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.d},"Profit Loss"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports")),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(t){return e.handleChangeOption("patient_groups",t)}},this.state.patientGroup.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(t){return e.handleChangeOption("doctors",t)}},this.state.practiceDoctors.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Products"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Products",onChange:function(t){return e.handleChangeOption("products",t)}},this.state.productsOption.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Manufactures"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Manufacturers",onChange:function(t){return e.handleChangeOption("manufacturers",t)}},this.state.manufacturesOption.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Suppliers"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Suppliers",onChange:function(t){return e.handleChangeOption("suppliers",t)}},this.state.suppliersOption.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")))))}}]),t}(u.a.Component);function va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?va(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):va(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}ra.a.Text;var Oa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadMlmReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.agents==e.agents||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var e=this;this.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.agents&&(t.agents=this.props.agents.toString()),Object(k.b)(S.ec,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this.state.report,t=[],a=1;a<=e.length;a++)t.push(Da({s_no:a},e[a-1]));var n=t.reduce((function(e,t){return e+t.total}),0),r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Margin Type wise "),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},t.length>0&&n?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.margin+","+p.total),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:t,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},t.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,{loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",key:"name",dataIndex:"margin"},{title:"Total Amount",key:"amount",dataIndex:"total"}],dataSource:t}))}}]),t}(u.a.Component);function xa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xa(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Sa=ra.a.Text,ja=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],reportSummary:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadMlmReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.agents==e.agents||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var e=this;this.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:"TRANSFER"};this.props.agents&&(t.agents=this.props.agents.toString()),Object(k.b)(S.ec,(function(t){e.setState({report:t.data,reportSummary:t.summary,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this.state.report,a=[],n=1;n<=t.length;n++)a.push(_a({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",dataIndex:"created_at",key:"created_at",render:function(e,t){return u.a.createElement("span",null,f()(t.schedule_at).format("LLL")," ")},export:function(e,t){return f()(t.schedule_at).format("LLL")}},{title:"Agent Name",dataIndex:"patient.user.first_name",key:"name",export:function(e,t){return t.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(Ie.b)(t)},export:function(e,t){return t.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(Ie.a)(t)},export:function(e,t){return t.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(e,t){return t.patient.gender}},{title:"Amount (INR)",dataIndex:"amount",key:"amount",render:function(e,t){return t.is_cancelled?u.a.createElement(Sa,{delete:!0},e):e}},{title:"Amount Type",dataIndex:"amount_type",key:"amount_type"},{title:"Cr/Dr",dataIndex:"ledger_type",key:"ledger_type",render:function(e,t){return t.is_cancelled?u.a.createElement(Sa,{delete:!0},e):e}},{title:"Margin",key:"mlm",dataIndex:"mlm"},{title:"Ledger Comment",dataIndex:"comments",key:"comments"}],o=["#0088FE","#00C49F","#FFBB28","#FF8042"];this.state.reportSummary.reduce((function(e,t){return e+t.total}),0);return u.a.createElement("div",null,u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:this.state.loading},this.state.reportSummary.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.ledger_type+","+p.total),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.reportSummary,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.reportSummary.map((function(e,t){return u.a.createElement(L.c,{fill:o[t%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(K.a,{loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ka(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ka(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Pa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadMlmReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.agents==e.agents||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var e=this;this.setState({loading:!0});var t={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.agents&&(t.agents=this.props.agents.toString()),Object(k.b)(S.dc,(function(t){e.setState({report:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}},{key:"render",value:function(){for(var e=this,t=this.state.report,a=[],n=1;n<=t.length;n++)a.push(Ma({s_no:n},t[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Agent Name",dataIndex:"patient.user.first_name",key:"name",export:function(e,t){return t.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(Ie.b)(t)},export:function(e,t){return t.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(Ie.a)(t)},export:function(e,t){return t.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(e,t){return t.patient.gender}},{title:"Refundable Amount",dataIndex:"refundable_amount",key:"refundable_amount",render:function(e,t){return u.a.createElement("span",null,t.refundable_amount?t.refundable_amount.toFixed(2):"0.00")}},{title:"Non Refundable Amount",dataIndex:"non_refundable",key:"non_refundable",render:function(e,t){return u.a.createElement("span",null,t.non_refundable?t.non_refundable.toFixed(2):"0.00")}}],o=this.state.report.reduce((function(e,t){return e+t.refundable_amount}),0),i=this.state.report.reduce((function(e,t){return e+t.non_refundable}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Wallet Balance Amount"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:12},u.a.createElement(I.a,{title:"Total Refundable Amount(INR)",value:o?o.toFixed(2):"0.00"})),u.a.createElement(O.a,{span:12},u.a.createElement(I.a,{title:"Total Non Refundable Amount(INR)",value:i?i.toFixed(2):"0.00"}))))),u.a.createElement(K.a,{loading:this.state.loading,columns:r,dataSource:a}))}}]),t}(u.a.Component);function Ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ia(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ia(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}u.a.Component,a(234);var Ra=a(18),wa=(a(296),a(298)),Ca=a(1710),Aa=a.n(Ca),Na=(a(1711),b.a.Meta,function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={agentData:{},agentTreeData:{},loading:!1},a.loadAgentTree=a.loadAgentTree.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.agent&&this.loadAgentTree()}},{key:"componentWillReceiveProps",value:function(e){this.props.agent!=e.agent&&this.setState({startDate:e.startDate,endDate:e.endDate},(function(){this.props.agent&&this.loadAgentTree()}))}},{key:"loadAgentTree",value:function(){var e=this;e.setState({loading:!0});Object(k.b)(Object(k.e)(S.f,[e.props.agent]),(function(t){e.setState({agentData:t,loading:!1},(function(){e.setState({agentTreeData:this.general_list(0,t[0][0]),loading:!1})}))}),(function(){e.setState({loading:!1})}))}},{key:"ref_data_level",value:function(e,t){var a=this.state.agentData;return a[t.toString()]?a[t.toString()].filter((function(t){return t.user.referer==e})):[]}},{key:"general_list",value:function(e,t){var a=this.ref_data_level(t.user.id,e+1);for(var n in a)a[n]=this.general_list(e+1,a[n]);return t.children=a,t}},{key:"render",value:function(){return u.a.createElement("div",{style:{background:"#f0f2f5",paddingBottom:"20px"}},u.a.createElement("h2",{style:{padding:"10px"}},"Agent Tree"),u.a.createElement("div",{style:{width:"100%",overflowX:"scroll"}},u.a.createElement(Aa.a,{tree:this.state.agentTreeData,NodeComponent:Ta})))}}]),t}(u.a.Component)),Ta=function(e){var t=e.node;return u.a.createElement("div",null,t.user?u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{style:{margin:"auto",height:160,width:160},bodyStyle:{padding:5,overflow:"hidden"},hoverable:!0},u.a.createElement(v.a,null,u.a.createElement(O.a,{span:24},t.image?u.a.createElement(wa.a,{src:Object(k.f)(t.image),size:50}):u.a.createElement(wa.a,{style:{backgroundColor:"#87d068"},size:50},t.user.first_name?t.user.first_name.charAt(0):u.a.createElement(Ra.a,{type:"user"}))),u.a.createElement(O.a,{span:24},t.user.first_name),u.a.createElement(O.a,{span:24},u.a.createElement("span",null,t.is_approved?u.a.createElement(qe.a,{color:"#87d068"},"Approved"):u.a.createElement(qe.a,{color:"#f50"},"Not Approved"),u.a.createElement("br",null),t.user.mobile,u.a.createElement("br",null),t.user.email))))):null)},Fa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.state={type:"ALL",sidePanelColSpan:4,advancedOptionShow:!0,agentsOption:[]},a.loadAgents=a.loadAgents.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadAgents()}},{key:"loadAgents",value:function(){var e=this,t={agent:!0,practice:this.props.active_practiceId,type:this.props.type};Object(k.b)(S.ic,(function(t){e.setState({agentsOption:t.results})}),(function(){}),t)}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"MLM Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.d?u.a.createElement(ja,Object.assign({},this.state,this.props)):null,this.state.type==M.bb?u.a.createElement(Oa,Object.assign({},this.props,this.state)):null,this.state.type==M.c?u.a.createElement(Na,Object.assign({},this.props,this.state)):null,this.state.type==M.ec?u.a.createElement(Pa,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.d,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"MLM"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.d},"All MLM"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.eb.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==M.c?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Agents"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Agents",showSearch:!0,optionFilterProp:"children",onChange:function(t){return e.handleChangeOption("agent",t)}},this.state.agentsOption.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")):u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Agents"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Agents",showSearch:!0,optionFilterProp:"children",onChange:function(t){return e.handleChangeOption("agents",t)}},this.state.agentsOption.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options "))))))}}]),t}(u.a.Component);function La(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ba(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?La(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ga=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).loadSuggestionsReport=function(){var e=Object(s.a)(a);e.setState({loading:!0});var t={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.status&&(t.status=a.props.status.toString()),Object(k.b)(S.Ad,(function(t){e.setState({report:t.results,loading:!1})}),(function(){e.setState({loading:!1})}),t)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[]},a.loadSuggestionsReport=a.loadSuggestionsReport.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadSuggestionsReport()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.status==e.status||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadSuggestionsReport()}))}},{key:"render",value:function(){for(var e=this.state.report,t=[],a=1;a<=e.length;a++)t.push(Ba({s_no:a},e[a-1]));var n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.created_at).format("DD MMM YYYY"))},export:function(e,t){return f()(t.created_at).format("DD MMM YYYY")}},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",key:"email",dataIndex:"email"},{title:"Mobile",ket:"mobile",dataIndex:"mobile"},{title:"Subject",key:"subject",dataIndex:"subject"},{title:"Description",key:"description",dataIndex:"description"}];return u.a.createElement("div",null,u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(I.a,{title:"Total Suggestions",value:t.length}),u.a.createElement("br",null))),u.a.createElement(K.a,{loading:this.state.loading,columns:n,dataSource:t}))}}]),t}(u.a.Component),Wa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t))},a.onChangeCheckbox=function(e){a.setState({is_complete:!a.state.is_complete})},a.state={type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Suggestions Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.d?u.a.createElement(Ga,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.d,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Suggestions"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.d},"All Suggestions"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"))))))}}]),t}(u.a.Component),za=a(324);function Ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ka(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ua(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ua(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ha=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadReturnInvoice=a.loadReturnInvoice.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadReturnInvoice()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.doctors==e.doctors&&this.props.income_type==e.income_type&&this.props.taxes==e.taxes&&this.props.discount==e.discount&&this.props.products==e.products&&this.props.treatments==e.treatments&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadReturnInvoice()}))}},{key:"loadReturnInvoice",value:function(){var e=this;this.startLoading();var t=this.state,a=t.startDate,n=t.endDate,r=this.props,o=r.active_practiceId,i=r.type,s=r.exclude_cancelled,l=r.patient_groups,c=r.doctors,p=r.income_type,u=r.taxes,d=r.discount,m=r.products,h=r.treatments,f={practice:o,type:i,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!s};l&&(f.groups=l.toString()),c&&(f.doctors=c.toString()),p&&(f.income_type=p),h&&(f.treatments=h.toString()),d&&(f.discount=d),u&&(f.taxes=u.toString()),m&&(f.products=m.toString());Object(k.b)(S.Qc,(function(t){e.setState({report:t}),e.stopLoading()}),(function(t){e.stopLoading()}),f)}},{key:"render",value:function(){for(var e=this.state,t=e.report,a=e.loading,n=[],r=1;r<=t.length;r++)n.push(Ka({s_no:r},t[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(e,t){return u.a.createElement("span",null," ",t.s_no)},width:50},{title:"Date",key:"date",render:function(e,t){return u.a.createElement("span",null,za.get(t,"date"))}},{title:"Patient Name",key:"patientName",render:function(e,t){return u.a.createElement("span",null,za.get(t,"patient_data.user.first_name"))}},{title:"Patient Id",key:"patient_id",render:function(e,t){return u.a.createElement("span",null,za.get(t,"patient_data.custom_id"))}},{title:"Return Id",key:"return_id",render:function(e,t){return u.a.createElement("span",null,za.get(t,"return_id"))}},{title:"Return By",key:"returnBy",render:function(e,t){return u.a.createElement("span",null,za.get(t,"staff_data.user.first_name"))}},{title:"Total Amount",key:"total",render:function(e,t){return u.a.createElement("span",null,za.get(t,"total",0).toFixed(2))}},{title:"Return Amount",key:"return_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"return_value",0).toFixed(2))}},{title:"Cash Return Amount",key:"cash_return",render:function(e,t){return u.a.createElement("span",null,za.get(t,"cash_return",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Returned Invoices"),u.a.createElement(P.a,{loading:a,rowKey:function(e){return e.s_no},pagination:!1,columns:o,expandedRowRender:function(e){return u.a.createElement(Va,{record:[].concat(Object(Ne.a)(e.inventory),Object(Ne.a)(e.procedure))})},dataSource:n}))}}]),t}(u.a.Component);function Va(e){var t=[{title:"Treatment & Products",key:"name",render:function(e,t){return u.a.createElement("span",null,za.get(t,"name"))}},{title:"Cost",key:"cost",render:function(e,t){return u.a.createElement("span",null,za.get(t,"unit_cost",0).toFixed(2))}},{title:"Unit",key:"unit",render:function(e,t){return u.a.createElement("span",null,za.get(t,"unit"))}},{title:"Discount",key:"discount",render:function(e,t){return u.a.createElement("span",null,za.get(t,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax",render:function(e,t){return u.a.createElement("span",null,za.get(t,"tax_value",0).toFixed(2))}},{title:"Total",key:"total",render:function(e,t){return u.a.createElement("span",null,za.get(t,"total",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement(P.a,{columns:t,dataSource:za.get(e,"record"),pagination:!1}))}function Qa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qa(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ja=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadMonthlyInvoiceReturn=function(){var e=Object(s.a)(a);a.startLoading();var t=a.state,n=t.startDate,r=t.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(k.b)(S.Qc,(function(t){e.setState({report:t}),e.stopLoading()}),(function(t){e.stopLoading()}),y)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadMonthlyInvoiceReturn=a.loadMonthlyInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadMonthlyInvoiceReturn()}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==e.startDate&&r==e.endDate&&o==e.patient_groups&&i==e.doctors&&s==e.income_type&&l==e.taxes&&c==e.discount&&p==e.products&&u==e.treatments&&d==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadMonthlyInvoiceReturn()}))}},{key:"render",value:function(){for(var e=this.state,t=e.report,a=e.loading,n=[],r=1;r<=t.length;r++)n.push(qa({s_no:r},t[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("MM YYYY"))},export:function(e,t){return f()(t.date).format("MM YYYY")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(e,t){return u.a.createElement("span",null,t.discount.toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax.toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly wise Return Invoice"),u.a.createElement(T.a,{size:"large",spinning:a},n.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:n,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("MM YYYY")}}),u.a.createElement(L.o,{label:{value:"Return Invoice(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3"})):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,{loading:a,columns:o,dataSource:n}))}}]),t}(u.a.Component),Xa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachProcedureInvoiceReturn=function(){var e=Object(s.a)(a);a.startLoading();var t=a.state,n=t.startDate,r=t.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(k.b)(S.Qc,(function(t){e.setState({report:t}),e.stopLoading()}),(function(t){e.stopLoading()}),y)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadEachProcedureInvoiceReturn=a.loadEachProcedureInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadEachProcedureInvoiceReturn()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.doctors==e.doctors&&this.props.income_type==e.income_type&&this.props.taxes==e.taxes&&this.props.discount==e.discount&&this.props.products==e.products&&this.props.treatments==e.treatments&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadEachProcedureInvoiceReturn()}))}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.report,n=e.activeIndex,r=["#00C49F","#0088FE","#FFBB28","#FF8042"],o=a.reduce((function(e,t){return e+t.cost}),0),i=[{title:"Name",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,za.get(t,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Procedures"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:t},a.length>0?u.a.createElement(L.j,{width:1e3,height:400},u.a.createElement(L.i,{activeIndex:n,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:400,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:o.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:i,dataSource:a}))}}]),t}(u.a.Component),Za=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachProductInvoiceReturn=function(){var e=Object(s.a)(a);a.startLoading();var t=a.state,n=t.startDate,r=t.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(k.b)(S.Qc,(function(t){e.setState({report:t}),e.stopLoading()}),(function(t){e.stopLoading()}),y)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadEachProductInvoiceReturn=a.loadEachProductInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadEachProductInvoiceReturn()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.startDate==e.startDate&&this.props.endDate==e.endDate&&this.props.patient_groups==e.patient_groups&&this.props.doctors==e.doctors&&this.props.income_type==e.income_type&&this.props.taxes==e.taxes&&this.props.discount==e.discount&&this.props.products==e.products&&this.props.treatments==e.treatments&&this.props.exclude_cancelled==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadEachProductInvoiceReturn()}))}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.report,n=e.activeIndex,r=["#0088FE","#00C49F","#FFBB28","#FF8042"],o=a.reduce((function(e,t){return e+t.cost}),0),i=[{title:"Name",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,za.get(t,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Products"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:t},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:n,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:o.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:i,dataSource:a}))}}]),t}(u.a.Component),$a=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachDoctorInvoiceReturn=function(){var e=Object(s.a)(a);a.startLoading();var t=a.state,n=t.startDate,r=t.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(k.b)(S.Qc,(function(t){e.setState({report:t}),e.stopLoading()}),(function(t){e.stopLoading()}),y)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],practiceDoctors:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadEachDoctorInvoiceReturn=a.loadEachDoctorInvoiceReturn.bind(Object(s.a)(a)),Object(R.d)(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadEachDoctorInvoiceReturn()}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==e.startDate&&r==e.endDate&&o==e.patient_groups&&i==e.doctors&&s==e.income_type&&l==e.taxes&&c==e.discount&&p==e.products&&u==e.treatments&&d==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadEachDoctorInvoiceReturn()}))}},{key:"render",value:function(){var e=this.state,t=e.report,a=e.loading,n=e.activeIndex,r=e.practiceDoctors,o=["#0088FE","#00C49F","#FFBB28","#FF8042"],i=t.reduce((function(e,t){return e+t.cost}),0),s=[{title:"Doctor",key:"doctor",dataIndex:"doctor",render:function(e,t){return u.a.createElement("span",null,"NA"==t.doctor?u.a.createElement("span",null,"No Doctor assigned"):u.a.createElement(u.a.Fragment,null,r.map((function(e){return e.id==t.doctor?u.a.createElement("span",null,e.user.first_name):null}))))}},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,za.get(t,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Doctors"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:a},t.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:n,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,o=e.midAngle,i=e.innerRadius,s=e.outerRadius,l=e.startAngle,c=e.endAngle,p=e.fill,d=e.payload,m=e.percent,h=(e.value,Math.sin(-t*o)),f=Math.cos(-t*o),g=a+(s+10)*f,y=n+(s+10)*h,E=a+(s+30)*f,b=n+(s+30)*h,v=E+22*(f>=0?1:-1),D=b,O=f>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c,fill:p}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:s+6,outerRadius:s+10,fill:p}),u.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(b,"L").concat(v,",").concat(D),stroke:p,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:p,stroke:"none"}),u.a.createElement("text",{x:v+12*(f>=0?1:-1),y:D,textAnchor:O,fill:"#333"},"NA"==d.doctor?"No Doctor assigned":u.a.createElement(u.a.Fragment,null,r.map((function(e){return e.id==d.doctor?u.a.createElement(u.a.Fragment,null,e.user.first_name):null})))),u.a.createElement("text",{x:v+12*(f>=0?1:-1),y:D,dy:18,textAnchor:O,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:t,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},t.map((function(e,t){return u.a.createElement(L.c,{fill:o[t%o.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:i.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:s,dataSource:t}))}}]),t}(u.a.Component),en=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachPatientGroupInvoiceReturn=function(){var e=Object(s.a)(a);a.startLoading();var t=a.state,n=t.startDate,r=t.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(k.b)(S.Qc,(function(t){e.setState({report:t}),e.stopLoading()}),(function(t){e.stopLoading()}),y)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadEachPatientGroupInvoiceReturn=a.loadEachPatientGroupInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadEachPatientGroupInvoiceReturn()}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==e.startDate&&r==e.endDate&&o==e.patient_groups&&i==e.doctors&&s==e.income_type&&l==e.taxes&&c==e.discount&&p==e.products&&u==e.treatments&&d==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadEachPatientGroupInvoiceReturn()}))}},{key:"render",value:function(){var e=this.state,t=e.report,a=e.loading,n=e.activeIndex,r=["#00C49F","#0088FE","#00C49F","#FFBB28","#FF8042"],o=t.reduce((function(e,t){return e+t.cost}),0),i=[{title:"Patient Group",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,za.get(t,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Patient Groups"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:a},t.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:n,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:t,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},t.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:o.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:i,dataSource:t}))}}]),t}(u.a.Component),tn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachTaxInvoiceReturn=function(){var e=Object(s.a)(a);a.startLoading();var t=a.state,n=t.startDate,r=t.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(k.b)(S.Qc,(function(t){e.setState({report:t}),e.stopLoading()}),(function(t){e.stopLoading()}),y)},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0},a.loadEachTaxInvoiceReturn=a.loadEachTaxInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadEachTaxInvoiceReturn()}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==e.startDate&&r==e.endDate&&o==e.patient_groups&&i==e.doctors&&s==e.income_type&&l==e.taxes&&c==e.discount&&p==e.products&&u==e.treatments&&d==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadEachTaxInvoiceReturn()}))}},{key:"render",value:function(){var e=this.state,t=e.report,a=e.loading,n=e.activeIndex,r=["#0088FE","#00C49F","#FFBB28","#FF8042"],o=[{title:"Tax",key:"name",dataIndex:"name"},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(e,t){return u.a.createElement("span",null,za.get(t,"tax_value",0).toFixed(2))}},{title:"Total",key:"total",dataIndex:"total",render:function(e,t){return u.a.createElement("span",null,za.get(t,"total",0).toFixed(2))}}],i=t.reduce((function(e,t){return e+t.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Taxes"),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(T.a,{size:"large",spinning:a},t.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:n,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=e.fill,p=e.payload,d=e.percent,m=(e.value,Math.sin(-t*r)),h=Math.cos(-t*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.total.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:t,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},t.map((function(e,t){return u.a.createElement(L.c,{fill:r[t%r.length]})})))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(ee.a,null,u.a.createElement(I.a,{title:"Total",value:i.toFixed(2)})),u.a.createElement(K.a,{loading:this.state.loading,columns:o,dataSource:t}))}}]),t}(u.a.Component);function an(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?an(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):an(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadDailyInvoiceReturn=function(){var e=Object(s.a)(a);a.startLoading();var t=a.state,n=t.startDate,r=t.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(k.b)(S.Qc,(function(t){e.setState({report:t}),e.stopLoading()}),(function(t){e.stopLoading()}),y)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1},a.loadDailyInvoiceReturn=a.loadDailyInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadDailyInvoiceReturn()}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==e.startDate&&r==e.endDate&&o==e.patient_groups&&i==e.doctors&&s==e.income_type&&l==e.taxes&&c==e.discount&&p==e.products&&u==e.treatments&&d==e.exclude_cancelled||this.setState({startDate:e.startDate,endDate:e.endDate},(function(){t.loadDailyInvoiceReturn()}))}},{key:"render",value:function(){for(var e=this.state,t=e.report,a=e.loading,n=[],r=1;r<=t.length;r++)n.push(nn({s_no:r},t[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(e,t){return u.a.createElement("span",null,f()(t.date).format("ll"))},export:function(e,t){return f()(t.date).format("ll")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(e,t){return u.a.createElement("span",null,t.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(e,t){return u.a.createElement("span",null,t.discount.toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(e,t){return u.a.createElement("span",null,t.tax.toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily wise Return Invoice"),u.a.createElement(T.a,{size:"large",spinning:a},n.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:n,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(e){return f()(e).format("ll")}}),u.a.createElement(L.o,{label:{value:"Return Invoice(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3"},u.a.createElement(L.e,{dataKey:"cost"}))):u.a.createElement(F.a,{image:F.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(K.a,{loading:a,columns:o,dataSource:n}))}}]),t}(u.a.Component),on=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeHandle=function(e,t){Object(s.a)(a);a.setState(Object(_.a)({},e,t.target.value))},a.changeSidePanelSize=function(e){a.setState({sidePanelColSpan:e?0:4})},a.handleChangeOption=function(e,t){a.setState(Object(_.a)({},e,t))},a.onChangeCheckbox=function(e){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.state={type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,patientGroup:[],practiceDoctors:[],taxes_list:[],productItems:[],treatment_data:[]},Object(R.d)(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadTaxes(),this.loadProductItem(),this.loadTreatments()}},{key:"loadPatientGroup",value:function(){var e=this;Object(k.b)(Object(k.e)(S.pc,[this.props.active_practiceId]),(function(t){e.setState({patientGroup:t})}),(function(){}))}},{key:"loadTaxes",value:function(){var e=this;Object(k.b)(Object(k.e)(S.Cd,[this.props.active_practiceId]),(function(t){e.setState({taxes_list:t})}),(function(){}))}},{key:"loadProductItem",value:function(){var e=this;Object(k.b)(S.Kc,(function(t){e.setState({productItems:t})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"loadTreatments",value:function(){var e=this;Object(k.b)(Object(k.e)(S.Jc,[this.props.active_practiceId]),(function(t){e.setState({treatment_data:t})}),(function(){}),{pagination:!1})}},{key:"advancedOption",value:function(e){this.setState({advancedOptionShow:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice Report ",u.a.createElement(x.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return e.changeSidePanelSize(e.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==M.i?u.a.createElement(Ha,Object.assign({},this.props,this.state)):null,this.state.type==M.L?u.a.createElement(rn,Object.assign({},this.props,this.state)):null,this.state.type==M.mb?u.a.createElement(Ja,Object.assign({},this.props,this.state)):null,this.state.type==M.Nb?u.a.createElement(Xa,Object.assign({},this.props,this.state)):null,this.state.type==M.Ob?u.a.createElement(Za,Object.assign({},this.props,this.state)):null,this.state.type==M.Lb?u.a.createElement($a,Object.assign({},this.state,this.props)):null,this.state.type==M.Mb?u.a.createElement(en,Object.assign({},this.state,this.props)):null,this.state.type==M.Pb?u.a.createElement(tn,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:M.i,onChange:function(t){return e.onChangeHandle("type",t)}},u.a.createElement("h2",null,"Invoice Returns"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:M.d},"All Returned Invoices"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),j.ab.map((function(e){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:e.value},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(t){return e.handleChangeOption("patient_groups",t)}},this.state.patientGroup.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(t){return e.handleChangeOption("doctors",t)}},this.state.practiceDoctors.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Income Type"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Income Type",onChange:function(t){return e.handleChangeOption("income_type",t)}},j.V.map((function(e){return u.a.createElement(d.a.Option,{value:e.value},e.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(t){return e.handleChangeOption("taxes",t)}},this.state.taxes_list.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Discount"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:function(t){return e.handleChangeOption("discount",t)}},j.w.map((function(e){return u.a.createElement(d.a.Option,{value:e.value},e.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Products",onChange:function(t){return e.handleChangeOption("products",t)}},this.state.productItems.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Treatments"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:function(t){return e.handleChangeOption("treatments",t)}},this.state.treatment_data.map((function(e){return u.a.createElement(d.a.Option,{value:e.id},e.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(U.a,{onChange:function(t){return e.onChangeCheckbox(t)}}," Exclude Cancelled"))):u.a.createElement(x.a,{type:"link",onClick:function(t){return e.advancedOption(!0)}},"Show Advanced Options ")))))}}]),t}(u.a.Component),sn=c.a.Content,ln=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={startDate:f()(),endDate:f()(),active_practiceId:a.props.active_practiceId},a.reportsDateRange=a.reportsDateRange.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"reportsDateRange",value:function(e){this.setState({startDate:f()(e[0],"DD/MM/YYYY"),endDate:f()(e[1],"DD/MM/YYYY")})}},{key:"render",value:function(){var e=this,t=this;return u.a.createElement(c.a,null,u.a.createElement(E,Object.assign({reportsDateRange:this.reportsDateRange},this.props)),u.a.createElement(sn,{style:{margin:"16px"}},u.a.createElement(z.d,null,u.a.createElement(z.b,{exact:!0,path:"/reports/amountdue",render:function(a){return t.props.activePracticePermissions.ReportsAmountDue||t.props.allowAllPermissions?u.a.createElement(W,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/emr",render:function(a){return t.props.activePracticePermissions.ReportsEMR||t.props.allowAllPermissions?u.a.createElement(ze,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/expenses",render:function(a){return t.props.activePracticePermissions.ReportsExpenses||t.props.allowAllPermissions?u.a.createElement(Qe,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/income",render:function(a){return t.props.activePracticePermissions.ReportsIncome||t.props.allowAllPermissions?u.a.createElement(it,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/inventory",render:function(a){return t.props.activePracticePermissions.ReportsInventory||t.props.allowAllPermissions?u.a.createElement(ft,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/inventoryretails",render:function(a){return t.props.activePracticePermissions.ReportsInventoryRetail||t.props.allowAllPermissions?u.a.createElement(ba,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/patients",render:function(a){return t.props.activePracticePermissions.ReportsPatients||t.props.allowAllPermissions?u.a.createElement(zt,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/payments",render:function(a){return t.props.activePracticePermissions.ReportsPayments||t.props.allowAllPermissions?u.a.createElement(aa,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/summary",render:function(a){return t.props.activePracticePermissions.ReportsDailySummary||t.props.allowAllPermissions?u.a.createElement(la,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/bed_booking",render:function(a){return t.props.activePracticePermissions.ReportsBedBooking||t.props.allowAllPermissions?u.a.createElement(ha,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/mlm",render:function(a){return t.props.activePracticePermissions.ReportsMLMReport||t.props.allowAllPermissions?u.a.createElement(Fa,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/invoice-return",render:function(a){return t.props.activePracticePermissions.ReportsMLMReport||t.props.allowAllPermissions?u.a.createElement(on,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{exact:!0,path:"/reports/suggestions",render:function(a){return t.props.activePracticePermissions.ReportsSuggestions||t.props.allowAllPermissions?u.a.createElement(Wa,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}),u.a.createElement(z.b,{render:function(a){return t.props.activePracticePermissions.ReportsAppointments||t.props.allowAllPermissions?u.a.createElement(Ae,Object.assign({},e.props,e.state,a)):u.a.createElement(fa.a,null)}}))))}}]),t}(u.a.Component);t.default=ln},233:function(e,t,a){"use strict";a(246);var n=a(247),r=(a(262),a(263)),o=(a(223),a(224)),i=(a(229),a(230)),s=a(33),l=(a(234),a(18)),c=(a(228),a(227)),p=(a(256),a(259)),u=a(96),d=a(97),m=a(100),h=a(98),f=a(44),g=a(99),y=a(0),E=a.n(y),b=a(488),v=a.n(b),D=(a(614),a(64)),O=a.n(D),x=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",r=[];return a&&(e.forEach((function(e){r.push(e)})),n+=r.join(","),n+="\r\n"),t.forEach((function(t){r=[],e.forEach((function(e){t[e]?r.push(t[e]):r.push("--")})),n+=r.join(","),n+="\r\n"})),n},_=function(e,t){var a,n=t+".csv",r=[];r.push(255,254);for(var o=0;o<e.length;++o)a=e.charCodeAt(o),r.push(255&a),r.push(a/256>>>0);var i=new Blob([new Uint8Array(r)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(i,n);else{var s=document.createElement("a");if(void 0!==s.download){var l=window.URL.createObjectURL(i);s.setAttribute("href",l),s.setAttribute("download",n),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(l)}}};function S(e){e.line(10,20,200,20)}function j(e){e.line(10,270,200,270),e.setFontSize(8),e.text(10,275,"This is a computer generated report.")}var k=a(615),M=a.n(k);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return Y}));var Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,o=t.confirm,i=t.clearFilters;return E.a.createElement("div",{style:{padding:8}},E.a.createElement(p.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,o)},style:{width:188,marginBottom:8,display:"block"}}),E.a.createElement(c.a,{type:"primary",onClick:function(){return a.handleSearch(r,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),E.a.createElement(c.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return E.a.createElement(l.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return null!=a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return E.a.createElement(M.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e?e.toString():""})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.state=I({},e,{searchText:""}),a.excelExport=a.excelExport.bind(Object(f.a)(a)),a.pdfExport=a.pdfExport.bind(Object(f.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.columns==this.state.columns&&e.dataSource==this.state.dataSource&&e.loading==this.state.loading||this.setState(I({},e))}},{key:"pdfExport",value:function(){var e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push({title:e.title,dataKey:e.title})}));var a=[];e.state.dataSource.forEach((function(t,n){var r={};e.state.columns.forEach((function(e){e.export?r[e.title]=e.export(t[e.dataIndex],t,n):r[e.title]=t[e.dataIndex]})),a.push(r)})),function(e,t,a){!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var n=new v.a("p","mm","a4");S(n);var r=Object.create(t);n.autoTable(e,r,{margin:{top:35},startY:n.autoTableEndPosY()+20,headerStyle:{overflow:"linebreak"},bodyStyles:{overflow:"linebreak"}}),j(n),n.save(a+".pdf")}(t,a,"Export"+O()(),!0)}},{key:"excelExport",value:function(){var e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push(e.title)}));var a=[];e.state.dataSource.forEach((function(t,n){var r={};e.state.columns.forEach((function(e){e.export?r[e.title]=e.export(t[e.dataIndex],t,n):r[e.title]=t[e.dataIndex]})),a.push(r)})),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"download",n=x(e,t);_(n,a)}(t,a,"Export"+O()())}},{key:"render",value:function(){var e=this,t=this.state.columns.map((function(t){return t.render?I({},t):I({},t,{},e.getColumnSearchProps(t.dataIndex))}));return E.a.createElement("div",null,this.props.hideReport?null:E.a.createElement(o.a,null,E.a.createElement(i.a,null,E.a.createElement(c.a.Group,{size:"small"},E.a.createElement(c.a,{disabled:this.state.loading,type:"primary",onClick:this.excelExport},E.a.createElement(l.a,{type:"file-excel"})," Excel"),E.a.createElement(c.a,{disabled:this.state.loading,type:"primary",onClick:this.pdfExport},E.a.createElement(l.a,{type:"file-pdf"})," PDF")))),E.a.createElement(o.a,null,E.a.createElement(n.a,Object.assign({pagination:{position:"both",pageSizeOptions:["10","20","30","40","50","100"],showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:function(e,t){return E.a.createElement(r.a,null,"Showing ",E.a.createElement("b",null,t[0])," to ",E.a.createElement("b",null,t[1])," of ",E.a.createElement("b",null,e)," items")}}},this.state,{columns:t}))))}}]),t}(E.a.Component)},275:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));a(228);var n=a(227),r=(a(238),a(239)),o=(a(223),a(224)),i=a(96),s=a(97),l=a(100),c=a(98),p=a(44),u=a(99),d=a(0),m=a.n(d),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).startLoading=function(){a.props.loaderFunction&&(a.props.loaderFunction(),a.startMakingExtraLabels())},a.startMakingExtraLabels=function(){var e=Object(p.a)(a);a.setState((function(e){return e.extraLoadingLabel.length>2?{extraLoadingLabel:""}:{extraLoadingLabel:e.extraLoadingLabel+"."}}),(function(){e.props.loading&&setTimeout((function(){e.startMakingExtraLabels()}),500)}))},a.state={extraLoadingLabel:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.loading?m.a.createElement(r.a,{spinning:this.props.loading},m.a.createElement(o.a,{style:{minHeight:200}})):this.props.hidden?m.a.createElement(o.a,null,m.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},m.a.createElement("small",null,"No More Data Found"))):m.a.createElement(o.a,null,m.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},m.a.createElement(n.a,{type:"primary",onClick:this.startLoading,loading:this.props.loading},this.props.loading?"Loading"+this.state.extraLoadingLabel:"Load More")))}}]),t}(m.a.Component)}}]);
//# sourceMappingURL=16.45045542.chunk.js.map