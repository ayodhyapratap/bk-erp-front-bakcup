(this["webpackJsonpbk-erp-front"]=this["webpackJsonpbk-erp-front"]||[]).push([[12],{1060:function(e,t,a){},1258:function(e,t,a){"use strict";a.r(t);a(183);var n=a(122),l=(a(180),a(120)),r=(a(332),a(333)),i=a(62),s=a(61),o=a(64),c=a(63),u=a(18),m=a(65),d=a(0),p=a.n(d),b=a(37),h=a(113),f=(a(373),a(372)),E=(a(350),a(351)),v=(a(324),a(323)),g=(a(426),a(434)),y=(a(354),a(357)),O=(a(375),a(376)),k=(a(330),a(12)),j=(a(370),a(368)),C=a(338),P=a(84),S=(a(29),a(16)),D=a(35),w=a(379),T=a(24),I=a(4),A=a(337),_=n.a.Header,x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).searchPatient=function(e){var t=Object(u.a)(a);a.setState((function(t){return{searchPatientString:e}}));e&&Object(S.c)(Object(S.f)(D.Wc,[e]),(function(a){t.setState((function(t){return t.searchPatientString==e?{patientListData:Object(C.a)(a.results)}:{}}))}),(function(e){t.setState({searchPatientString:null})}))},a.switchPortal=function(){var e=Object(u.a)(a);Object(S.c)(Object(S.f)(D.Vc,[e.props.user.id]),(function(t){t&&e.setUserCredentials(t.login,t.password)}),(function(){Object(S.a)(I.Q,"Something went wrong.")}))},a.handlePatientSelect=function(e){e&&(a.props.history.push("/patient/".concat(e.replace(A.r,""),"/profile")),a.setState({searchPatientString:null}))},a.state={patientListData:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"setUserCredentials",value:function(e,t){var a=Object(S.o)("Waiting for authentication from server...");sessionStorage.removeItem("token");var n={email:e,password:t};null==sessionStorage.getItem("token")&&Object(S.k)(D.W,n,(function(e){e.success&&(Object(S.p)(a,I.Sb," Authentication Successfully!!"),sessionStorage.setItem("token",e.token)),sessionStorage.getItem("token")?window.open("/task/"):Object(S.p)(a,I.Q,"Authentication failed. User not found.")}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=p.a.createElement(j.a,null,p.a.createElement(j.a.Item,{key:"profile"},p.a.createElement(P.b,{to:"/profile"},"Profile")),p.a.createElement(j.a.Divider,null),p.a.createElement(j.a.Item,{key:"website",onClick:this.switchPortal},p.a.createElement("small",null,"Switch to Tasks >")),p.a.createElement(j.a.Divider,null),p.a.createElement(j.a.Item,{key:"logout"},p.a.createElement("a",{onClick:this.props.logout},"Log out")));return p.a.createElement(_,{style:{background:"#fff",padding:0,boxShadow:"0 2px 4px 0 rgba(38,50,69,.2)",zIndex:1}},p.a.createElement("div",{style:{float:"left",margin:"0px 20px"}},p.a.createElement(k.a,{className:"trigger",type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:function(){return e.props.toggleSider(!e.props.collapsed)}})),p.a.createElement(j.a,{mode:"horizontal",style:{lineHeight:"64px"}},p.a.createElement(j.a.Item,{key:"5"},p.a.createElement(g.a,{placeholder:"Patient Name",showSearch:!0,dropdownMatchSelectWidth:!1,dropdownStyle:{width:400},onSearch:this.searchPatient,defaultActiveFirstOption:!1,showArrow:!1,value:this.state.searchPatientString,filterOption:!1,onSelect:this.handlePatientSelect},this.state.patientListData.map((function(e){return p.a.createElement(g.a.Option,{value:e.id.toString()+A.r},p.a.createElement(y.a.Item,{style:{padding:0}},p.a.createElement(y.a.Item.Meta,{avatar:e.image?p.a.createElement(O.a,{src:Object(S.g)(e.image)}):p.a.createElement(O.a,{style:{backgroundColor:"#87d068"}},e.user.first_name?e.user.first_name.charAt(0):p.a.createElement(k.a,{type:"user"})),title:e.user.first_name,description:t.props.activePracticePermissions.PatientPhoneNumber?e.user.mobile:Object(w.b)(e.user.mobile)}),p.a.createElement("div",null,e.custom_id?e.custom_id:e.user.id)))})))),p.a.createElement(j.a.Item,{key:"4"},p.a.createElement(l.a.Group,null,t.props.activePracticePermissions.AddPatient||t.props.allowAllPermissions?p.a.createElement(P.b,{to:"/patients/profile/add"},p.a.createElement(l.a,{type:"primary"},p.a.createElement(k.a,{type:"plus"}),"Add Patient")):null,t.props.activePracticePermissions.MergePatients||t.props.allowAllPermissions?p.a.createElement(P.b,{to:"/patients/merge"},p.a.createElement(l.a,{type:"primary"},p.a.createElement(k.a,{type:"user-add"}),"Merge Patients")):null)),p.a.createElement(j.a.Item,{key:"3"},p.a.createElement(v.a,{onChange:this.props.switchPractice,defaultValue:this.props.active_practiceId,value:this.props.active_practiceId,style:{width:"300px",maxWidth:"70vw"}},this.props.practiceList&&this.props.practiceList.map((function(e){return p.a.createElement(v.a.Option,{key:e.practice.id,value:e.practice.id},e.practice.name)})))),p.a.createElement("div",{style:{float:"right",margin:"0px 20px"}},this.props.user&&this.props.user.is_superuser?p.a.createElement(E.a,{color:"red"},"SuperUser"):null,p.a.createElement(f.a,{overlay:a,placement:"bottomRight"},p.a.createElement(O.a,{style:{backgroundColor:"#87d068"},icon:"user"})))))}}]),t}(p.a.Component),N=a(760),H=a(511),L=a.n(H),B=n.a.Sider,M=j.a.SubMenu,R=(j.a.ItemGroup,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).onOpenChange=function(e){var t=e.find((function(e){return-1===a.state.openKeys.indexOf(e)}));-1===["sub1","sub2"].indexOf(t)?a.setState({openKeys:e}):a.setState({openKeys:t?[t]:[]})},a.state={openKeys:[]},a.onHotKeyDown=a.onHotKeyDown.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onHotKeyDown",value:function(e){console.log(e);switch(e){case"alt+c":this.props.history.push("/calendar");break;case"alt+p":this.props.history.push("/patients/profile");break;case"alt+r":this.props.history.push("/reports/appointments");break;case"alt+s":this.props.history.push("/settings/clinics");break;case"alt+b":this.props.history.push("/inventory");break;case"alt+w":this.props.history.push("/web/videos")}}},{key:"render",value:function(){var e=this,t=this;return p.a.createElement(N.a,{keyName:A.hb,onKeyDown:function(t){return e.onHotKeyDown(t)}},p.a.createElement(B,{trigger:null,collapsible:!0,collapsed:this.props.collapsed,style:{zIndex:1},breakpoint:"xxl",onBreakpoint:function(e){t.props.toggleSider(e)},onCollapse:function(e,t){}},p.a.createElement("img",{src:L.a,alt:"",style:{width:"100%",padding:"20px"}}),p.a.createElement(j.a,{mode:"inline",defaultSelectedKeys:["1"],openKeys:this.state.openKeys,onOpenChange:this.onOpenChange,theme:"dark"},this.props.activePracticePermissions.ViewCalendar?p.a.createElement(j.a.Item,{key:"1"},p.a.createElement(P.b,{to:"/calendar"},p.a.createElement(k.a,{type:"schedule"}),p.a.createElement("span",{className:"nav-text"},p.a.createElement("span",{className:"shortcutLetterHighlight"},"C"),"alendar"))):null,p.a.createElement(j.a.Item,{key:"26"},p.a.createElement(P.b,{to:this.props.currentPatient?"/patient/".concat(this.props.currentPatient.id,"/profile"):"/patients/profile"},p.a.createElement(k.a,{type:"user"}),p.a.createElement("span",{className:"nav-text"},p.a.createElement("span",{className:"shortcutLetterHighlight"},"P"),"atients"))),p.a.createElement(j.a.Item,{key:"27"},p.a.createElement(P.b,{to:"/reports/appointments"},p.a.createElement(k.a,{type:"bar-chart"}),p.a.createElement("span",{className:"nav-text"},p.a.createElement("span",{className:"shortcutLetterHighlight"},"R"),"eports"))),p.a.createElement(j.a.Item,{key:"5"},p.a.createElement(P.b,{to:"/settings/clinics"},p.a.createElement(k.a,{type:"setting"}),p.a.createElement("span",{className:"nav-text"},p.a.createElement("span",{className:"shortcutLetterHighlight"},"S"),"ettings"))),p.a.createElement(M,{key:"sub1",title:p.a.createElement("span",null,p.a.createElement(k.a,{type:"gold"}),p.a.createElement("span",null,p.a.createElement("span",{className:"shortcutLetterHighlight"},"B"),"ack Office"))},p.a.createElement(j.a.Item,{key:"6"},p.a.createElement(P.b,{to:"/inventory/expenses"},p.a.createElement(k.a,{type:"credit-card"}),p.a.createElement("span",{className:"nav-text"},"Expenses"))),p.a.createElement(j.a.Item,{key:"7"},p.a.createElement(P.b,{to:"/inventory/activity"},p.a.createElement(k.a,{type:"bell"}),p.a.createElement("span",{className:"nav-text"},"Activities"))),p.a.createElement(j.a.Item,{key:"8"},p.a.createElement(P.b,{to:"/inventory/manufacture"},p.a.createElement(k.a,{type:"database"}),p.a.createElement("span",{className:"nav-text"},"Manufacturers"))),p.a.createElement(j.a.Item,{key:"42"},p.a.createElement(P.b,{to:"/inventory/vendor"},p.a.createElement(k.a,{type:"database"}),p.a.createElement("span",{className:"nav-text"},"Vendor"))),p.a.createElement(j.a.Item,{key:"9"},p.a.createElement(P.b,{to:"/inventory/lab"},p.a.createElement(k.a,{type:"experiment"}),p.a.createElement("span",{className:"nav-text"},"Labs"))),p.a.createElement(j.a.Item,{key:"10"},p.a.createElement(P.b,{to:"/inventory"},p.a.createElement(k.a,{type:"gold"}),p.a.createElement("span",{className:"nav-text"},"Inventory")))),this.props.activePracticePermissions.WebAdmin?p.a.createElement(j.a.Item,{key:"web-1"},p.a.createElement(P.b,{to:"/web/videos"},p.a.createElement(k.a,{type:"google"}),p.a.createElement("span",{className:"nav-text"},p.a.createElement("span",{className:"shortcutLetterHighlight"},"W"),"eb Admin"))):null,p.a.createElement(j.a.Item,{key:"11"},p.a.createElement(P.b,{to:"/meeting-booking"},p.a.createElement(k.a,{type:"reconciliation"}),p.a.createElement("span",{className:"nav-text"},"Meeting Booking"))))))}}]),t}(p.a.Component)),F=a(541),V=(a(119),a(34)),Y=(a(326),a(327)),U=(a(121),a(15)),q=(a(181),a(57)),W=(a(328),a(329)),G=(a(339),a(342)),K=(a(186),a(23)),z=a(46),X=a(108),J=W.a.Item,Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=Object(u.a)(a);a.props.form.validateFieldsAndScroll((function(e,a){if(!e){var n;t.setState({changePassLoading:!0});var l=(n={},Object(z.a)(n,X.d,a.oldPass),Object(z.a)(n,X.c,a.newPass),n);Object(S.j)(D.N,l,(function(e){K.a.success(e.message),t.setState({changePassLoading:!1})}),(function(){t.setState({changePassLoading:!1})}))}}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var l=a.props.form;t&&t!=l.getFieldValue("newPass")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,a){a(Object(S.q)(e,t,a))},a.state={confirmDirty:!1,changePassLoading:!1},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator;return p.a.createElement(W.a,{onSubmit:this.handleSubmit},p.a.createElement(J,Object.assign({label:"Old Password"},e),t("oldPass",{rules:[{required:!0,message:"Please enter your old Password!"}]})(p.a.createElement(G.a,{prefix:p.a.createElement(k.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Old Password"}))),p.a.createElement(J,Object.assign({label:"New Password"},e),t("newPass",{rules:[{required:!0,message:"Please enter your new Password!"},{validator:this.validateToNextPassword}]})(p.a.createElement(G.a,{prefix:p.a.createElement(k.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"New Password"}))),p.a.createElement(J,Object.assign({label:"Confirm Password"},e),t("confirmPass",{rules:[{required:!0,message:"Please confirm your new Password!"},{validator:this.compareToFirstPassword}]})(p.a.createElement(G.a,{prefix:p.a.createElement(k.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password",onBlur:this.handleConfirmBlur}))),p.a.createElement(J,null,p.a.createElement(l.a,{loading:this.state.changePassLoading,type:"primary",htmlType:"submit",className:"login-form-button"},"Change Password")))}}]),t}(p.a.Component),Q=n.a.Content,$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={},console.log(a.state),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"loadProfile",value:function(){var e=this;Object(S.c)(D.Ld,(function(t){e.setState({userProfile:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=W.a.create()(Z);return p.a.createElement(Q,{className:"main-container",style:{margin:"24px 16px",minHeight:280}},p.a.createElement(V.a,null,p.a.createElement(U.a,{span:12},p.a.createElement(q.a,{title:"Change Password"},p.a.createElement(e,null))),p.a.createElement(U.a,{span:12},p.a.createElement(q.a,{title:"My Permissions"},p.a.createElement(y.a,{size:"small",dataSource:this.props.activePracticeData?this.props.activePracticeData.permissions_data:[],renderItem:function(e){return p.a.createElement(y.a.Item,null,e.name)}}))),p.a.createElement(Y.a,null),p.a.createElement(U.a,{span:12},p.a.createElement(q.a,{title:"My Profile"},p.a.createElement(V.a,{gutter:16},p.a.createElement(U.a,{span:6},p.a.createElement(ee,{label:"Name ",value:this.props.user.first_name}),p.a.createElement(ee,{label:"Email Id ",value:this.props.user.email}),p.a.createElement(ee,{label:"Contact No.",value:this.props.user.mobile})))))))}}]),t}(p.a.Component);function ee(e){return p.a.createElement(V.a,{gutter:16,style:{marginBottom:"5px"}},p.a.createElement(U.a,{span:12,style:{textAlign:"right"}},e.label,":"),p.a.createElement(U.a,{span:12},p.a.createElement("strong",null,e.value)))}a(1060);var te=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(c.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.activePracticeData&&setTimeout((function(){window.print()}),1e3)}},{key:"componentWillReceiveProps",value:function(e){e.activePracticeData&&setTimeout((function(){window.print()}),1e3)}},{key:"render",value:function(){return this.props.activePracticeData?p.a.createElement("html",{className:"PrintPatientForm"},p.a.createElement("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),p.a.createElement("body",{style:{margin:"0 auto",marginTop:"20px"}},p.a.createElement("div",{style:{margin:"0px 10%"}},p.a.createElement("table",{style:{borderBottom:"1px solid #000",width:"100%"}},p.a.createElement("tr",null,p.a.createElement("td",{style:{width:"150px"}},p.a.createElement("img",{style:{width:"150px"},src:Object(S.g)(this.props.activePracticeData.logo)})),p.a.createElement("td",null,p.a.createElement("h2",{style:{margin:"5px"}},this.props.activePracticeData.name),p.a.createElement("p",{style:{margin:"5px",fontSize:"11px"}},this.props.activePracticeData.address,p.a.createElement("br",null),this.props.activePracticeData.locality,p.a.createElement("br",null),this.props.activePracticeData.city,", ",this.props.activePracticeData.state,"-",this.props.activePracticeData.pincode),p.a.createElement("div",{style:{margin:"5px",fontSize:"11px"}},"Email : ",p.a.createElement("strong",null,this.props.activePracticeData.email),p.a.createElement("br",null),"Phone : ",p.a.createElement("strong",null,this.props.activePracticeData.contact),p.a.createElement("br",null),"Website : ",p.a.createElement("strong",null,this.props.activePracticeData.website),p.a.createElement("br",null))))),p.a.createElement("h3",{className:"centeralign"},"Patient Information"),p.a.createElement("table",null,p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"2"},p.a.createElement("h4",null,"Personal Details"))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign",style:{width:"30%"}},"Name"),p.a.createElement("td",null,p.a.createElement("div",{className:"textfield"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign"},"Patient ID"),p.a.createElement("td",null,p.a.createElement("div",{className:"textfield"}),p.a.createElement("span",{className:"leftrightmargin_10"},"(official use)"))),p.a.createElement("tr",{id:"nationalid",style:{display:"none"}},p.a.createElement("td",{className:"rightalign"},p.a.createElement("span",{id:"nationalidlabel"})),p.a.createElement("td",null,p.a.createElement("div",{className:"textfield"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign"},"Mobile Number"),p.a.createElement("td",null,p.a.createElement("div",{className:"textfield"}))),p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"2"},p.a.createElement("h4",null,"Contact Details"))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign"},"Email"),p.a.createElement("td",null,p.a.createElement("div",{className:"textfield"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign"},"Land-line Number(s)"),p.a.createElement("td",null,p.a.createElement("div",{className:"textfield"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign"},"Address"),p.a.createElement("td",null,p.a.createElement("div",{className:"textarea"}))),p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"2"},p.a.createElement("h4",null,"General Details"))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign"},"Gender"),p.a.createElement("td",null,p.a.createElement("div",{className:"radio"}),p.a.createElement("label",null,"Male "),p.a.createElement("div",{className:"radio"}),p.a.createElement("label",null,"Female "))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign"},"Blood Group"),p.a.createElement("td",null,p.a.createElement("div",{className:"textfield"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"rightalign"},"Date of Birth / Age"),p.a.createElement("td",null,p.a.createElement("div",{className:"textfield"})))),p.a.createElement("p",null,"I hereby declare that the information provided above is true and correct to the best of my knowledge. I give consent to the performance of medical / surgical / anesthesia / diagnostic procedure / treatment to be performed upon myself at B.K. Arogyam & Research Pvt Ltd. I will pay in full any cost of treatment or insurance co-payments according to the office's financial policy."),p.a.createElement("div",{className:"date"},"Date"),p.a.createElement("div",{className:"signature"},"Patient's Signature")))):null}}]),t}(p.a.Component),ae=(a(761),a(400),a(406)),ne=(a(366),a(367)),le=a(21),re=a(322),ie=a.n(re),se=(a(1064),a(334),a(325)),oe=a(545),ce=a(38),ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).changeParamsForBlockedAppointments=function(e,t){var n=Object(u.a)(a);a.setState((function(a){return{blockedAppointmentParams:Object(le.a)({},a.blockedAppointmentParams,Object(z.a)({},e,t))}}),(function(){n.retrieveBlockingAppointments()}))},a.retrieveBlockingAppointments=function(){var e=Object(u.a)(a);e.setState({loading:!0});a.state.blockedAppointmentParams.block_from&&a.state.blockedAppointmentParams.block_to&&Object(S.c)(Object(S.f)(D.q,[a.props.active_practiceId]),(function(t){e.setState((function(e){return{blockingAppointments:t,loading:!1}}))}),(function(){e.setState({loading:!1})}),{start:ie()(e.state.blockedAppointmentParams.block_from).format("YYYY-MM-DD"),end:ie()(e.state.blockedAppointmentParams.block_to).format("YYYY-MM-DD"),doctor:e.state.blockedAppointmentParams.doctor})},a.handleSubmit=function(e){var t=Object(u.a)(a);e.preventDefault();var n={};a.props.form.validateFields((function(e,t){e||(n=Object(le.a)({},t,{practice:a.props.active_practiceId}))}));Object(S.j)(D.x,n,(function(e){t.props.history&&t.props.history.replace("/calendar")}),(function(){}))},a.state={practiceDoctors:[],blockedAppointmentParams:{block_from:ie()(),block_to:ie()()}},Object(se.d)(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this,a=this.props.form.getFieldDecorator,n={labelCol:{span:6},wrapperCol:{span:4}};return p.a.createElement(q.a,{title:"Block Calendar"},p.a.createElement(V.a,null,p.a.createElement(U.a,{span:18},p.a.createElement(W.a,{onSubmit:this.handleSubmit},p.a.createElement(W.a.Item,Object.assign({label:"Block From"},n),a("block_from",{initialValue:ie()(),rules:[{required:!0,message:ce.j}]})(p.a.createElement(ne.a,{showTime:{use12Hours:!0},format:"YYYY-MM-DD hh:mm a",allowClear:!1,onChange:function(t){return e.changeParamsForBlockedAppointments("block_from",t)}}))),p.a.createElement(W.a.Item,Object.assign({label:"Block To"},n),a("block_to",{initialValue:ie()(),rules:[{required:!0,message:ce.j}]})(p.a.createElement(ne.a,{showTime:{use12Hours:!0},format:"YYYY-MM-DD hh:mm a",allowClear:!1,onChange:function(t){return e.changeParamsForBlockedAppointments("block_to",t)}}))),p.a.createElement(W.a.Item,Object.assign({label:"Event Name"},n),a("event",{})(p.a.createElement(G.a,{placeholder:"Event Name"}))),p.a.createElement(W.a.Item,Object.assign({label:"Doctor"},n),a("doctor",{initialValue:6})(p.a.createElement(v.a,{placeholder:"Doctor List",onChange:function(t){return e.changeParamsForBlockedAppointments("doctor",t)}},this.state.practiceDoctors.map((function(e){return p.a.createElement(v.a.Option,{value:e.id,key:e.id},e.user.first_name)}))))),p.a.createElement(W.a.Item,null,p.a.createElement(l.a,{style:{margin:5},type:"primary",htmlType:"submit"},"Submit"),t.props.history?p.a.createElement(l.a,{style:{margin:5},onClick:function(){return t.props.history.goBack()}},"Cancel"):null))),p.a.createElement(U.a,{span:6},p.a.createElement(y.a,{size:"small",dataSource:this.state.blockingAppointments,renderItem:function(a){return a.status==A.m?p.a.createElement("div",null):p.a.createElement(y.a.Item,{color:"transparent",style:{padding:0}},p.a.createElement("div",{style:{border:"1px solid #ddd",borderRadius:"5px",textDecoration:a.status==A.m?"line-through":"inherit",backgroundColor:a.status==A.m?"#aaa":"#eee",width:"100%",marginTop:"2px",borderLeft:"5px solid".concat(a.doctor&&t.state.practice_doctors&&t.state.practice_doctors[a.doctor]?t.props.doctors_object[a.doctor].calendar_colour:"transparent")}},p.a.createElement(de,Object.assign({},a,{changeAppointmentStatus:e.changeAppointmentStatus},e.props))))}}))))}}]),t}(p.a.Component),me=W.a.create()(ue);function de(e){return p.a.createElement("div",{style:{width:"100%"}},p.a.createElement("p",{style:{marginBottom:0}},p.a.createElement(Y.a,{type:"vertical"}),p.a.createElement(ae.a,{placement:"right",content:p.a.createElement(oe.a,Object.assign({appointmentId:e.id,key:e.id},e))},p.a.createElement("span",{style:{width:"calc(100% - 60px)"}},p.a.createElement("b",null,ie()(e.schedule_at).format("LLL")),"\xa0",e.patient.user.first_name),p.a.createElement("p",{style:{color:e.doctor_data?e.doctor_data.calendar_colour:null}},p.a.createElement(Y.a,{type:"vertical"}),p.a.createElement("span",null,e.doctor_data?e.doctor_data.user.first_name:null)))))}var pe=a(380),be=(a(347),a(348)),he=G.a.TextArea,fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).onClose=function(){Object(u.a)(a).props.close()},a.handleSubmit=function(e){e.preventDefault();var t=Object(u.a)(a);a.props.form.validateFieldsAndScroll((function(e,a){if(!e){var n=Object(le.a)({},a);Object(S.j)(D.Dd,n,(function(e){Object(S.a)(I.Sb,"Save Your Suggestions"),t.props.close()}),(function(){}))}}))},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return p.a.createElement("div",null,p.a.createElement(be.a,{title:"Your Suggestion",width:720,onClose:this.onClose,visible:this.props.visible},p.a.createElement(W.a,{layout:"vertical",onSubmit:this.handleSubmit},p.a.createElement(V.a,{gutter:16},p.a.createElement(U.a,{span:12},p.a.createElement(W.a.Item,{label:"Name"},e("name",{rules:[{required:!0,message:"Please enter  name"}]})(p.a.createElement(G.a,{placeholder:"Please enter user name"})))),p.a.createElement(U.a,{span:12},p.a.createElement(W.a.Item,{label:"Email"},e("email",{rules:[{required:!0,message:"Please enter Email"}]})(p.a.createElement(G.a,{style:{width:"100%"},placeholder:"Please enter Email"}))))),p.a.createElement(V.a,{gutter:16},p.a.createElement(U.a,{span:12},p.a.createElement(W.a.Item,{label:"Mobile"},e("mobile")(p.a.createElement(G.a,{placeholder:"Please enter Mobile"})))),p.a.createElement(U.a,{span:12},p.a.createElement(W.a.Item,{label:"Subject"},e("subject")(p.a.createElement(G.a,{style:{width:"100%"},placeholder:"Please enter Email"}))))),p.a.createElement(V.a,{gutter:16},p.a.createElement(U.a,{span:24},p.a.createElement(W.a.Item,{label:"Description"},e("description")(p.a.createElement(he,{placeholder:"Please enter description",autosize:{minRows:4,maxRows:6}}))))),p.a.createElement(Y.a,null),p.a.createElement("div",{style:{textAlign:"-webkit-center"}},p.a.createElement(l.a,{onClick:this.onClose,style:{marginRight:8}},"Cancel"),p.a.createElement(l.a,{htmlType:"submit",onSubmit:this.handleSubmit,type:"primary"},"Submit")))))}}]),t}(p.a.Component),Ee=W.a.create()(fe),ve=(a(481),a(500)),ge=(a(6),a(114)),ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).redirectToHome=function(){window.location.replace("/")},a.state={hasError:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){!function(e,t){var a={text:e.toString(),attachments:[{color:"#36a64f",author_name:window.location.hostname,author_link:"http://flickr.com/bobby/",author_icon:"".concat(window.location.hostname,"/favicon.ico"),title:"BK ERP Admin Application Crash Error",text:t.componentStack,fields:[{title:"Priority",value:"High",short:!1},{title:"Domain",value:window.location.hostname,short:!1},{title:"Path",value:window.location.pathname,short:!1},{title:"User",value:Object(T.f)(),short:!1}],ts:(new ie.a).format("X")}]};(ge.a.prodDomain&&ge.a.crashHandling.slack.sendOnProduction&&ge.a.prodDomain.indexOf(window.location.hostname)>-1||ge.a.crashHandling.slack.sendOnDevelopment)&&Object(S.k)(ge.a.crashHandling.slack.webHookUrl,a,(function(){console.log("The above error has been notified to devs.")}),(function(){console.log("The above error notifications failed")}),{"Content-type":"application/x-www-form-urlencoded"})}(e,t)}},{key:"render",value:function(){return this.state.hasError?p.a.createElement(ve.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong.",extra:p.a.createElement(l.a,{type:"primary",onClick:this.redirectToHome},"Back Home")}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(p.a.Component),Oe=Object(h.a)((function(){return Promise.all([a.e(5),a.e(18)]).then(a.bind(null,1260))})),ke=Object(h.a)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(4),a.e(15)]).then(a.bind(null,1253))})),je=Object(h.a)((function(){return Promise.all([a.e(0),a.e(13),a.e(20)]).then(a.bind(null,1256))})),Ce=Object(h.a)((function(){return Promise.all([a.e(0),a.e(1),a.e(11),a.e(19)]).then(a.bind(null,1257))})),Pe=Object(h.a)((function(){return Promise.all([a.e(5),a.e(22)]).then(a.bind(null,1259))})),Se=Object(h.a)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(14),a.e(17)]).then(a.bind(null,1255))})),De=Object(h.a)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(4),a.e(10)]).then(a.bind(null,1254))})),we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).toggleSider=function(e){a.setState({collapsed:!!e})},a.showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.state={collapsed:!1,active_practiceId:Object(T.h)(),practiceList:Object(T.g)(),activePracticeData:null,activePracticePermissions:{},specialisations:null,allowAllPermissions:!1,loadingPermissions:!1,visible:!1},a.activeData=a.activeData.bind(Object(u.a)(a)),a.switchPractice=a.switchPractice.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.activeData()}},{key:"activeData",value:function(){var e=this,t=function(t){e.setState((function(e){var a={};return t.practice_permissions.forEach((function(e){a[e.codename]=e})),t.global_permissions.forEach((function(e){a[e.codename]=e})),{activePracticePermissions:a,loadingPermissions:!1,practiceList:Object(T.g)()}}),(function(){}))},a=function(){e.setState({loadingPermissions:!1})};e.setState((function(e){var t=null;return e.practiceList.forEach((function(a){a.practice.id==e.active_practiceId&&(t=a.practice)})),t||!e.practiceList.length?{activePracticeData:t,loadingPermissions:!0}:(Object(T.j)(e.practiceList[0].practice.id),{activePracticeData:e.practiceList[0].practice,active_practiceId:e.practiceList[0].practice.id,loadingPermissions:!0})}),(function(){Object(T.b)(e.state.active_practiceId,t,a)}))}},{key:"switchPractice",value:function(e){var t=this;t.setState((function(t){return{active_practiceId:e}}),(function(){Object(T.j)(e),t.activeData()}))}},{key:"render",value:function(){var e=this,t=this;return this.state.loadingPermissions?p.a.createElement(r.a,{spinning:this.state.loadingPermissions,tip:"Loading Permissions...."},p.a.createElement("div",{style:{width:"100vw",height:"100vh"}})):p.a.createElement(n.a,{style:{minHeight:"100vh"}},p.a.createElement(ye,null,p.a.createElement("div",{style:{position:"fixed",right:"29px",bottom:"23px",zIndex:"20"}},p.a.createElement(l.a,{type:"primary",shape:"circle",icon:"mail",size:"large",onClick:this.showDrawer})),p.a.createElement(b.d,null,p.a.createElement(b.b,{path:"/patients/patientprintform",render:function(a){return p.a.createElement(te,Object.assign({},e.state,{key:t.state.active_practiceId}))}}),p.a.createElement(b.b,null,p.a.createElement(n.a,null,p.a.createElement(R,Object.assign({toggleSider:this.toggleSider},this.state,{key:t.state.active_practiceId},this.props)),p.a.createElement(n.a,null,p.a.createElement(x,Object.assign({},this.props,this.state,{switchPractice:this.switchPractice,toggleSider:this.toggleSider})),p.a.createElement(b.d,null,this.state.activePracticePermissions.WebAdmin?p.a.createElement(b.b,{path:"/web",render:function(a){return p.a.createElement(je,Object.assign({},e.state,e.props,a,{key:t.state.active_practiceId}))}}):null,p.a.createElement(b.b,{exact:!0,path:"/calendar/blockcalendar",render:function(a){return t.state.activePracticePermissions.BlockCalendar||t.state.allowAllPermissions?p.a.createElement(me,Object.assign({},e.state,e.props,a)):p.a.createElement(pe.a,null)}}),p.a.createElement(b.b,{path:"/calendar",render:function(e){return t.state.activePracticePermissions.ViewCalendar?p.a.createElement(Oe,Object.assign({},t.state,t.props,e,{key:t.state.active_practiceId})):p.a.createElement(pe.a,null)}}),p.a.createElement(b.b,{path:"/patient/:id",render:function(a){return p.a.createElement(De,Object.assign({},e.state,e.props,a,{key:"".concat(t.state.active_practiceId,"|").concat(a.match.params.id)}))}}),p.a.createElement(b.b,{path:"/settings",render:function(a){return p.a.createElement(Se,Object.assign({},e.state,e.props,a,{key:t.state.active_practiceId,refreshClinicData:e.activeData}))}}),p.a.createElement(b.b,{path:"/inventory",render:function(a){return p.a.createElement(Ce,Object.assign({},e.state,e.props,a,{key:t.state.active_practiceId}))}}),p.a.createElement(b.b,{path:"/reports/:type",render:function(a){return p.a.createElement(ke,Object.assign({},e.state,e.props,a,{key:t.state.active_practiceId}))}}),p.a.createElement(b.b,{path:"/profile",render:function(a){return p.a.createElement($,Object.assign({},e.state,e.props,a,{key:t.state.active_practiceId}))}}),p.a.createElement(b.b,{path:"/meeting-booking",render:function(a){return e.state.activePracticePermissions.ViewMeeting||e.state.allowAllPermissions?p.a.createElement(Pe,Object.assign({},e.state,e.props,a,{key:t.state.active_practiceId})):p.a.createElement(pe.a,null)}}),this.state.activePracticePermissions.ViewCalendar?p.a.createElement(b.b,{exact:!0,path:"/",render:function(a){return p.a.createElement(Oe,Object.assign({},e.state,e.props,a,{key:t.state.active_practiceId}))}}):null,p.a.createElement(b.b,{path:"/",render:function(a){return p.a.createElement(De,Object.assign({},e.state,e.props,a,{key:t.state.active_practiceId}))}}),p.a.createElement(b.b,{component:F.a})))))),p.a.createElement(Ee,Object.assign({},this.state,{close:this.onClose}))))}}]),t}(p.a.Component);t.default=we},325:function(e,t,a){"use strict";a.d(t,"d",(function(){return b})),a.d(t,"f",(function(){return h})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return E})),a.d(t,"c",(function(){return v})),a.d(t,"e",(function(){return g})),a.d(t,"h",(function(){return y})),a.d(t,"g",(function(){return O}));var n=a(21),l=(a(370),a(368)),r=(a(347),a(348)),i=a(0),s=a.n(i),o=a(84),c=a(35),u=a(16),m=a(4),d=a(38),p=r.a.confirm,b=function(e){Object(u.c)(Object(u.f)(c.Ec,[e.props.active_practiceId]),(function(t){var a=[],n={};t.staff.forEach((function(t){(t.role.indexOf(parseInt(m.N))>-1||t.role.indexOf(m.N)>-1)&&(a.push(t),e.props.user.id==t.user.id&&(n=t))})),e.setState({practiceDoctors:a,selectedDoctor:a.length&&!n.id?a[0]:n})}),(function(){}))},h=s.a.createElement(l.a,null,s.a.createElement(l.a.Item,{key:"1"},s.a.createElement(o.b,{to:"/settings/prescriptions"},"Add/Edit Drugs")),s.a.createElement(l.a.Item,{key:"2"},s.a.createElement(o.b,{to:"/settings/procedures"},"Add/Edit Procedures")),s.a.createElement(l.a.Item,{key:"3"},s.a.createElement(o.b,{to:"/settings/emr#treatmentnotes"},"Add/Edit Clinical Notes")),s.a.createElement(l.a.Item,{key:"4"},s.a.createElement(o.b,{to:"/settings/printout"},"Modify EMR/Billing Printout")),s.a.createElement(l.a.Item,{key:"5"},s.a.createElement(o.b,{to:"/settings/billing#taxcatalog"},"Add/Edit taxes")),s.a.createElement(l.a.Item,{key:"6"},s.a.createElement(o.b,{to:"/settings/billing#paymentmodes"},"Add/Edit Payment Modes"))),f=function(e){for(var t=0,a=0;a<e.length;a++)t=((t=e.charCodeAt(a)+((t<<6)-t))>>6)+t;return t},E=function(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function(t){e.setState(Object(n.a)({},t))},l=function(){},r=t.join(",");Object(u.c)(c.T,a,l,{parameters:r})},g=function(e){Object(u.c)(c.Nb,(function(t){e.setState({mailingUsersList:t})}),(function(){}))},y=function(e,t,a,n){p({title:"Are you sure send mail?",content:"Email Id :".concat(t.mail_to),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){Object(u.c)(e,(function(e){a&&Object(u.a)(d.k,"".concat(d.d,"to").concat(t.mail_to))}),(function(){n&&Object(u.a)(m.Q,d.c)}),t)},onCancel:function(){}})},O=function(e,t){Object(u.c)(e,(function(e){}),(function(){}),t)}},334:function(e,t,a){"use strict";a(420);var n=a(419),l=(a(375),a(376)),r=(a(180),a(120)),i=(a(186),a(23)),s=(a(423),a(433)),o=(a(326),a(327)),c=(a(350),a(351)),u=(a(366),a(367)),m=(a(369),a(371)),d=(a(324),a(323)),p=(a(330),a(12)),b=(a(347),a(348)),h=a(46),f=a(21),E=a(62),v=a(61),g=a(64),y=a(63),O=a(18),k=a(65),j=(a(363),a(360)),C=(a(358),a(356)),P=(a(328),a(329)),S=(a(339),a(342)),D=a(0),w=a.n(D),T=a(322),I=a.n(T),A=a(609),_=a.n(A),x=a(468),N=a(637),H=(a(675),a(469)),L=a(676),B=a.n(L),M=a(677),R=a.n(M),F=a(35),V=a(16),Y=a(38),U=a(4),q=S.a.TextArea,W=P.a.Item,G=C.a.Group,K=j.a.Group,z=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).fieldDecorators=function(e,t){var n=a.state.urlInitialValues;return e.type==U.mb?{initialValue:t[e.key]?t[e.key]:n[e.key]?n[e.key]:t[e.key],rules:[{required:e.required,message:Y.j,type:"array"}]}:{initialValue:t[e.key]?t[e.key]:n[e.key]?n[e.key]:t[e.key],rules:[{required:e.required,message:Y.j}]}},a.handleSubmit=function(e){var t=Object(O.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,n){e||(a.props.defaultValues&&a.props.defaultValues.forEach((function(e){n=Object(f.a)(Object(h.a)({},e.key,e.value),n)})),a.state.colorPickerKey&&(n[a.state.colorPickerKey]=a.state.colorPickerColor),t.props.fields.forEach((function(e){if(e.type==U.Pb){var a=e.key;n[a]&&n[a].file&&n[a].file.response?n[a]=n[a].file.response.image_path:n[a]=e.initialValue}else if(e.type==U.lb){var l=e.key;n[l]&&n[l].file&&n[l].file.response?n[l]=n[l].fileList.map((function(e){return e.response.id})):n[l]=e.initialValue}else if(e.type==U.Vb||e.type==U.K||e.type==U.L){var r=e.key;e.format&&(n[r]=I()(n[r]).isValid()?I()(n[r]).format(e.format):null)}else if(e.type==U.Eb){var i=e.key;n[i]=t.state.editorState[i]?B()(Object(H.convertToRaw)(t.state.editorState[i].getCurrentContent())):e.initialValue}})),t.state.formProp.beforeSend&&(n=t.state.formProp.beforeSend(n)),t.state.formProp.confirm?b.a.confirm({title:t.state.formProp.confirmText||"Are you sure to submit?",onOk:function(){t.submitForm(n)},onCancel:function(){}}):t.submitForm(n))}))},a.addMailTemplateTag=function(e,t){Object(O.a)(a);a.setState((function(a){var n=a.editorState[e]?B()(Object(H.convertToRaw)(a.editorState[e].getCurrentContent())):"";return n+=t,{editorState:Object(f.a)({},a.editorState,Object(h.a)({},e,H.EditorState.createWithContent(H.ContentState.createFromBlockArray(R()(n)))))}}))},a.toggleWebCam=function(e,t){a.setState((function(a){return{webCamState:Object(f.a)({},a.webCamState,Object(h.a)({},e,t))}}))},a.getImageandUpload=function(e,t){var n=Object(O.a)(a),l=new FormData;l.append("image",t),l.append("name","file");Object(V.j)(F.tb,l,(function(t){n.props.form.setFieldsValue(Object(h.a)({},e,{file:{response:t}})),Object(V.a)(U.Sb,"Image Captured and processed."),n.setState((function(t){return{webCamState:Object(f.a)({},t.webCamState,Object(h.a)({},e,!1))}}))}),(function(){}),{"content-type":"multipart/form-data"})},a.onEditorStateChange=function(e,t){a.setState((function(a){return{editorState:Object(f.a)({},a.editorState,Object(h.a)({},e,t))}}))},a.state={fields:a.props.fields,formData:{},formProp:Object(f.a)({authorisation:!0},a.props.formProp),disabled:!1,loading:!1,countryOptions:[],stateOptions:[],cityOptions:[],smsFields:{},urlInitialValues:{},webCamState:{},editorState:{}},a.resetFormData=a.resetFormData.bind(Object(O.a)(a)),a.submitForm=a.submitForm.bind(Object(O.a)(a)),a.colorChange=a.colorChange.bind(Object(O.a)(a)),a.loadCountryData=a.loadCountryData.bind(Object(O.a)(a)),a.addSMSTag=a.addSMSTag.bind(Object(O.a)(a)),a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){var e=this;if(this.resetFormData(),this.props.fields.forEach((function(t){t.type==U.B&&e.loadCountryData()})),this.props.history&&this.props.history.location.search){var t=this.props.history.location.search.substr(1).split("&");if(t.length){var a={};t.forEach((function(e){var t=e.split("=");t&&2==t.length&&(isNaN(t[1])||-1==t[1].toString().indexOf(".")?isNaN(t[1])?a[t[0]]=t[1]:a[t[0]]=parseInt(t[1]):a[t[0]]=parseFloat(t[1]))})),this.setState({urlInitialValues:a})}}}},{key:"resetFormData",value:function(){var e={};this.state.fields.forEach((function(t){e[t.key]=t.initialValue})),this.setState({formData:e})}},{key:"submitForm",value:function(e){var t=this;this.setState({disabled:!0,loading:!0});var a=function(e){t.state.formProp.successFn(e),t.setState({disabled:!1,loading:!1}),t.props.changeRedirect&&t.props.changeRedirect()},n=function(){t.state.formProp.errorFn(),t.setState({disabled:!1,loading:!1})},l={};t.state.formProp.authorisation||(l.Authorization=void 0),"post"==this.props.formProp.method?Object(V.j)(this.props.formProp.action,e,a,n,Object(f.a)({},l)):"put"==this.props.formProp.method&&Object(V.l)(this.props.formProp.action,e,a,n,Object(f.a)({},l))}},{key:"colorChange",value:function(e,t){var a=this;this.setState({colorPickerKey:t,colorPickerColor:e.hex},(function(){a.props.form.setFieldsValue(Object(h.a)({},t,e.hex))}))}},{key:"setAddressField",value:function(e,t){"country"==e?this.setState((function(e){var a=[];return e.countryOptions.forEach((function(e){e.id==t&&(a=e.states)})),{stateOptions:a}})):this.setState((function(e){var a=[];return e.stateOptions.forEach((function(e){e.id==t&&(a=e.cities)})),{cityOptions:a}}))}},{key:"loadCountryData",value:function(){var e=this;Object(V.c)(F.rb,(function(t){e.setState({countryOptions:t.country})}),(function(){}))}},{key:"addSMSTag",value:function(e,t){var a=this.props.form.getFieldValue(e)||"";this.props.form.setFieldsValue(Object(h.a)({},e,a+t))}},{key:"render",value:function(){var e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:8},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator;return w.a.createElement("div",null,w.a.createElement(P.a,{onSubmit:this.handleSubmit},this.props.title?w.a.createElement("h2",null,this.props.title):null,this.state.fields?this.state.fields.map((function(h){switch(h.type){case U.sb:return w.a.createElement(P.a.Item,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(S.a,{prefix:w.a.createElement(p.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:h.placeholder,onChange:function(e){return function(){h.onChange&&h.onChange(e)}},disabled:h.disabled?h.disabled:e.state.disabled})));case U.W:return w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(S.a,{placeholder:h.placeholder,onChange:function(e){return function(){h.onChange&&h.onChange(e)}},disabled:h.disabled?h.disabled:e.state.disabled})),h.follow?w.a.createElement("span",{className:"ant-form-text"},h.follow):null);case U.Nb:return w.a.createElement(W,Object.assign({key:h.key},t,{label:h.label,extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(d.a,{placeholder:h.placeholder,disabled:h.disabled?h.disabled:e.state.disabled,mode:h.mode?h.mode:"default"},h.options.map((function(e){return w.a.createElement(d.a.Option,{value:e.value},e.label)})))),h.follow?w.a.createElement("span",{className:"ant-form-text"},h.follow):null);case U.mb:return w.a.createElement(W,Object.assign({key:h.key},t,{label:h.label,extra:h.extra}),a(h.key,Object(f.a)({},e.fieldDecorators(h,e.state.formData)))(w.a.createElement(d.a,{mode:"multiple",placeholder:h.placeholder,showSearch:h.showSearch?h.showSearch:null,disabled:h.disabled?h.disabled:e.state.disabled},h.options.map((function(e){return w.a.createElement(d.a.Option,{value:e.value},e.label)})))),h.follow?w.a.createElement("span",{className:"ant-form-text"},h.follow):null);case U.Fb:return w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(G,{disabled:h.disabled?h.disabled:e.state.disabled},h.options.map((function(e){return w.a.createElement(C.a,{value:e.value},e.label)})))));case U.x:return w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(K,{options:h.options,disabled:h.disabled?h.disabled:e.state.disabled})));case U.Ob:return w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,{valuePropName:"checked",initialValue:h.initialValue},{rules:[{required:h.required,message:Y.j}]})(w.a.createElement(j.a,{disabled:h.disabled?h.disabled:e.state.disabled},h.follow)));case U.pb:return w.a.createElement(W,Object.assign({key:h.key},t,{label:h.label,extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(m.a,{min:h.min,max:h.max,disabled:h.disabled?h.disabled:e.state.disabled})),w.a.createElement("span",{className:"ant-form-text"},h.follow));case U.K:return w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,{initialValue:h.initialValue?I()(h.initialValue):null,rules:[{required:h.required,message:Y.j}]})(w.a.createElement(u.a,{format:h.format,allowClear:!1})));case U.L:return w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,{initialValue:h.initialValue?I()(h.initialValue):null},{rules:[{required:h.required,message:Y.j}]})(w.a.createElement(u.a,{format:h.format,showTime:!0,onChange:function(e){return h.onChange?h.onChange(e):function(){}}})));case U.Ub:return w.a.createElement("div",{key:h.key},w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(q,{autosize:{minRows:h.minRows,maxRows:h.maxRows},placeholder:h.placeholder,disabled:h.disabled?h.disabled:e.state.disabled,onChange:e.inputChange}))));case U.Qb:return w.a.createElement("div",null,w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(q,{autosize:{minRows:h.minRows,maxRows:h.maxRows},placeholder:h.placeholder,disabled:h.disabled?h.disabled:e.state.disabled})),h.options&&h.options.map((function(t){return w.a.createElement(c.a,{color:"#108ee9",onClick:function(){return e.addSMSTag(h.key,t.value)}},t.label)}))));case U.Y:return w.a.createElement("div",null,w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,{initialValue:h.initialValue&&h.initialValue.length?h.initialValue:"",rules:[{required:h.required,message:Y.j}]})(w.a.createElement("div",{style:{border:"1px solid #eee"}},w.a.createElement(N.Editor,{editorState:e.state.editorState[h.key]?e.state.editorState[h.key]:h.initialValue?H.EditorState.createWithContent(H.ContentState.createFromBlockArray(R()(h.initialValue))):H.EditorState.createEmpty(),onEditorStateChange:function(t){return e.onEditorStateChange(h.key,t)}}))),h.options&&h.options.map((function(t){return w.a.createElement(c.a,{color:"#108ee9",onClick:function(){return e.addMailTemplateTag(h.key,t.value)}},t.label)})),h.preview?w.a.createElement("div",null,w.a.createElement(o.a,null,"Preview"),w.a.createElement("div",{style:{maxHeight:200,overflowY:"scroll"},dangerouslySetInnerHTML:{__html:"".concat(e.state.editorState[h.key]?B()(Object(H.convertToRaw)(e.state.editorState[h.key].getCurrentContent())):h.initialValue)||""}}),w.a.createElement(o.a,null)):null));case U.Eb:return w.a.createElement("div",null,w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,{initialValue:h.initialValue&&h.initialValue.length?h.initialValue:"",rules:[]})(w.a.createElement("div",{style:{border:"1px solid #eee"}},w.a.createElement(N.Editor,{editorState:e.state.editorState[h.key]?e.state.editorState[h.key]:h.initialValue?H.EditorState.createWithContent(H.ContentState.createFromBlockArray(R()(h.initialValue))):H.EditorState.createEmpty(),onEditorStateChange:function(t){return e.onEditorStateChange(h.key,t)}}))),h.preview?w.a.createElement("div",null,w.a.createElement(o.a,null,"Preview"),w.a.createElement("div",{style:{maxHeight:200,overflowY:"scroll"},dangerouslySetInnerHTML:{__html:"".concat(e.state.editorState[h.key]?B()(Object(H.convertToRaw)(e.state.editorState[h.key].getCurrentContent())):h.initialValue)||""}}),w.a.createElement(o.a,null)):null));case U.Vb:return w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,{initialValue:h.initialValue?I()(h.initialValue,h.format):null,rules:[{required:h.required,message:Y.j}]})(w.a.createElement(s.a,{format:h.format})));case U.A:return w.a.createElement(W,Object.assign({key:h.key,label:h.label},t,{extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement("div",null,w.a.createElement(_.a,{style:{width:"100%"},onChange:function(t){return e.colorChange(t,h.key)}}),e.state.colorPickerKey?w.a.createElement("div",{style:{margin:"10px",backgroundColor:e.state.colorPickerColor,height:"40px",width:"40px"}}):e.state.formData[h.key]?w.a.createElement("div",{style:{margin:"10px",backgroundColor:e.state.formData[h.key],height:"40px",width:"40px"}}):null)));case U.Pb:var E={name:"image",data:{name:"hello"},action:Object(V.h)(F.sb),headers:{authorization:"authorization-text"},onChange:function(e){e.file.status,"done"===e.file.status?i.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&i.a.error("".concat(e.file.name," file upload failed."))}};return w.a.createElement(P.a.Item,Object.assign({key:h.key},t,{label:h.label}),a(h.key,e.fieldDecorators(h,e.state.formData),{valuePropName:h.key})(w.a.createElement(n.a,E,w.a.createElement(r.a,null,w.a.createElement(p.a,{type:"upload"})," Select File"),h.initialValue?w.a.createElement(l.a,{size:64,src:Object(V.g)(h.initialValue)}):null)),h.allowWebcam?w.a.createElement("span",{className:"ant-form-text"},w.a.createElement("a",{onClick:function(){return e.toggleWebCam(h.key,Math.random())}},"Open Webcam")):null,w.a.createElement(b.a,{footer:null,onCancel:function(){return e.toggleWebCam(h.key,!1)},visible:!!e.state.webCamState[h.key],width:680,key:e.state.webCamState[h.key]},w.a.createElement(x.a,{getScreenShot:function(t){return e.getImageandUpload(h.key,t)}})));case U.lb:var v={name:"image",data:{name:"hello"},action:Object(V.h)(F.sb),headers:{authorization:"authorization-text"},onChange:function(e){e.file.status,"done"===e.file.status?i.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&i.a.error("".concat(e.file.name," file upload failed."))}};return w.a.createElement(P.a.Item,Object.assign({key:h.key},t,{label:h.label}),a(h.key,{valuePropName:h.key})(w.a.createElement(n.a,v,w.a.createElement(r.a,null,w.a.createElement(p.a,{type:"upload"})," Select File"),h.initialValue&&h.initialValue.length?h.initialValue.map((function(e){return w.a.createElement("img",{src:e,style:{maxWidth:"100%"}})})):null)));case U.B:return w.a.createElement(W,Object.assign({key:h.key},t,{label:h.label,extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(d.a,{placeholder:h.placeholder,disabled:h.disabled?h.disabled:e.state.disabled,mode:h.mode?h.mode:"default",onChange:function(t){return e.setAddressField("country",t)}},e.state.countryOptions.map((function(e){return w.a.createElement(d.a.Option,{value:e.id},e.name)})))));case U.Rb:return w.a.createElement(W,Object.assign({key:h.key},t,{label:h.label,extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(d.a,{placeholder:h.placeholder,disabled:h.disabled?h.disabled:e.state.disabled,mode:h.mode?h.mode:"default",onChange:function(t){return e.setAddressField("state",t)}},e.state.stateOptions.map((function(e){return w.a.createElement(d.a.Option,{value:e.id},e.name)})))));case U.P:return w.a.createElement(P.a.Item,Object.assign({key:h.key},t,{label:h.label,extra:h.extra}),a(h.key,{initialValue:e.state.formData[h.key],rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(w.a.createElement(S.a,{placeholder:h.placeholder,disabled:h.disabled?h.disabled:e.state.disabled,onChange:e.inputChange})));case U.z:return w.a.createElement(W,Object.assign({key:h.key},t,{label:h.label,extra:h.extra}),a(h.key,e.fieldDecorators(h,e.state.formData))(w.a.createElement(d.a,{placeholder:h.placeholder,disabled:h.disabled?h.disabled:e.state.disabled,mode:h.mode?h.mode:"default"},e.state.cityOptions.map((function(e){return w.a.createElement(d.a.Option,{value:e.id},e.name)})))));case U.M:return w.a.createElement(o.a,{style:{margin:4}});case U.X:return w.a.createElement(W,Object.assign({key:h.key},t,{label:h.label,extra:h.extra}),h.follow?w.a.createElement("span",{className:"ant-form-text"},h.follow):null);default:return null}})):null,w.a.createElement(W,t,w.a.createElement(r.a,{loading:e.state.loading,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),e.props.history?w.a.createElement(r.a,{style:{margin:5},onClick:function(){return e.props.history.goBack()}},"Cancel"):null)))}}]),t}(w.a.Component);t.a=z},337:function(e,t,a){"use strict";a.d(t,"rb",(function(){return l})),a.d(t,"ob",(function(){return r})),a.d(t,"x",(function(){return i})),a.d(t,"z",(function(){return s})),a.d(t,"G",(function(){return o})),a.d(t,"Gb",(function(){return c})),a.d(t,"vb",(function(){return u})),a.d(t,"tb",(function(){return m})),a.d(t,"X",(function(){return d})),a.d(t,"Y",(function(){return p})),a.d(t,"a",(function(){return b})),a.d(t,"o",(function(){return h})),a.d(t,"d",(function(){return f})),a.d(t,"E",(function(){return E})),a.d(t,"i",(function(){return v})),a.d(t,"D",(function(){return g})),a.d(t,"h",(function(){return y})),a.d(t,"q",(function(){return O})),a.d(t,"jb",(function(){return k})),a.d(t,"ib",(function(){return j})),a.d(t,"ub",(function(){return C})),a.d(t,"T",(function(){return P})),a.d(t,"db",(function(){return S})),a.d(t,"bb",(function(){return D})),a.d(t,"cb",(function(){return w})),a.d(t,"mb",(function(){return T})),a.d(t,"H",(function(){return I})),a.d(t,"Eb",(function(){return A})),a.d(t,"B",(function(){return _})),a.d(t,"j",(function(){return x})),a.d(t,"A",(function(){return N})),a.d(t,"y",(function(){return H})),a.d(t,"Db",(function(){return L})),a.d(t,"Ib",(function(){return B})),a.d(t,"F",(function(){return M})),a.d(t,"n",(function(){return R})),a.d(t,"m",(function(){return F})),a.d(t,"Hb",(function(){return V})),a.d(t,"r",(function(){return Y})),a.d(t,"s",(function(){return U})),a.d(t,"fb",(function(){return q})),a.d(t,"u",(function(){return W})),a.d(t,"v",(function(){return G})),a.d(t,"t",(function(){return K})),a.d(t,"f",(function(){return z})),a.d(t,"qb",(function(){return X})),a.d(t,"gb",(function(){return J})),a.d(t,"zb",(function(){return Z})),a.d(t,"kb",(function(){return Q})),a.d(t,"e",(function(){return $})),a.d(t,"C",(function(){return ee})),a.d(t,"c",(function(){return te})),a.d(t,"k",(function(){return ae})),a.d(t,"I",(function(){return ne})),a.d(t,"Z",(function(){return le})),a.d(t,"g",(function(){return re})),a.d(t,"eb",(function(){return ie})),a.d(t,"pb",(function(){return se})),a.d(t,"U",(function(){return oe})),a.d(t,"ab",(function(){return ce})),a.d(t,"Bb",(function(){return ue})),a.d(t,"w",(function(){return me})),a.d(t,"Cb",(function(){return de})),a.d(t,"lb",(function(){return pe})),a.d(t,"hb",(function(){return be})),a.d(t,"W",(function(){return he})),a.d(t,"b",(function(){return fe})),a.d(t,"N",(function(){return Ee})),a.d(t,"O",(function(){return ve})),a.d(t,"M",(function(){return ge})),a.d(t,"P",(function(){return ye})),a.d(t,"Q",(function(){return Oe})),a.d(t,"R",(function(){return ke})),a.d(t,"S",(function(){return je})),a.d(t,"yb",(function(){return Ce})),a.d(t,"L",(function(){return Pe})),a.d(t,"p",(function(){return Se})),a.d(t,"Ab",(function(){return De})),a.d(t,"xb",(function(){return we})),a.d(t,"wb",(function(){return Te})),a.d(t,"l",(function(){return Ie})),a.d(t,"nb",(function(){return Ae})),a.d(t,"Fb",(function(){return _e})),a.d(t,"J",(function(){return xe})),a.d(t,"K",(function(){return Ne})),a.d(t,"V",(function(){return He})),a.d(t,"sb",(function(){return Le}));var n=a(4),l=[{label:"cash",value:"cash"},{label:"cheque",value:"cheque"},{label:"card",value:"card"},{label:"netbanking",value:"netbanking"},{label:"unknown",value:"unknown"}],r="Cash",i=[{label:"Kidney Disease",value:"Kidney Disease"},{label:"Cancer Disease",value:"Cancer Disease"},{label:"Other Disease",value:"Other Disease"}],s="Medicine",o="Equipment",c="Supplies",u="Procedure",m="Prescriptions",d="Inventory",p=[{label:s,value:s},{label:o,value:o},{label:c,value:c}],b="ADD",h="CONSUME",f=[{label:"PATIENT ID",value:"{{PATIENT_ID}}"},{label:"CLINIC CONTACT",value:"{{CLINICCONTACTNUMBER}}"},{label:"CLINIC NAME",value:"{{CLINIC}}"},{label:"PATIENT NAME",value:"{{PATIENT}}"},{label:"APPOINTMENT CATEGORY",value:"{{CATEGORY}}"},{label:"DATE",value:"{{DATE}}"},{label:"TIME",value:"{{TIME}}"}],E="EMR",v="BILLING",g=[{title:"PRESCRIPTION"},{title:"TREATMENT PLAN"},{title:"CASE SHEET"},{title:"MEDICAL LEAVE"},{title:"REPORT MANUAL"},{title:"LAB ORDER"},{title:"CLINICAL NOTES"}],y=[{title:"INVOICE"},{title:"BOOKING"},{title:"RECEIPTS"},{title:"RETURN"}],O=["PAGE","HEADER","PATIENT","FOOTER"],k=["A2","A3","A4","A5"],j=[{value:"PORTRAIT"},{value:"LANDSCAPE"}],C=[{value:"COLOR"},{value:"BLACK"}],P=[{title:"Yes",value:!0},{title:"No , I already have a letter head.",value:!1}],S=[{value:"Square"},{value:"Narrow"},{value:"Wide"}],D=[{value:"RIGHT"},{value:"LEFT"},{value:"CENTRE"}],w=[{title:"Yes",value:!0},{title:"No",value:!1}],T=[{value:"Exclude Medical History"},{value:"Exclude Patient Number"},{value:"Exclude address"},{value:"Exclude Blood Group"}],I="Exclude Patient Gender & DOB",A=[{title:"Yes",value:!0},{title:"No",value:!1}],_=[{title:"Yes",value:!0},{title:"No",value:!1}],x=[{title:"Yes",value:!0},{title:"No",value:!1}],N=[{label:"day(s)",value:"day(s)"},{label:"week(s)",value:"week(s)"},{label:"month(s)",value:"month(s)"},{label:"year(s)",value:"year(s)"}],H=[{label:"twice daily",value:"twice daily"},{label:"three times a day",value:"three times a day"},{label:"four times a day",value:"four times a day"},{label:"every four hours",value:"every four hours"},{label:"as needed",value:"as needed"},{label:"every 2 hour(s)",value:"every 2 hour(s)"},{label:"every other hour",value:"every other hour"},{label:"every day",value:"every day"},{label:"every other day",value:"every other day"}],L="Scheduled",B="Waiting",M="Engaged",R="CheckOut",F="Cancelled",V=[{label:"Sales",value:"SALES"},{label:"Services",value:"SERVICES"},{label:"Damaged",value:"DAMAGED"},{label:"Returned",value:"RETURNED"},{label:"Adjustment",value:"ADJUSTMENT"}],Y="$_$",U=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],q=[{label:"Valid for absence from court attendance",value:"valid_court"},{label:"Invalid for absence from court attendance",value:"invalid_court"},{label:"Dont mention",value:"no_mention"}],W=[{label:"Degree Fahrenheit",value:"Degree Fahrenheit"},{label:"Degree Celsius",value:"Degree Celsius"}],G=[{label:"Armpit",value:"Armpit"},{label:"Forehead",value:"Forehead"},{label:"Anus",value:"Anus"},{label:"Mouth",value:"Mouth"},{label:"Ear",value:"Ear"}],K=[{label:"Sitting",value:"Sitting"},{label:"Standing",value:"Standing"}],z=[{label:"Scheduled",value:L},{label:"Cancelled",value:F},{label:"Engaged",value:M}],X=[{label:"Success",value:"SUCCESSFUL"},{label:"Failed",value:"FAILED"},{label:"Pending",value:"PENDING"}],J=[{label:"OPD",value:"OPD"},{label:"IPD",value:"IPD"}],Z=[{label:"ADMIN",value:"1"},{label:"CLINIC_ADMIN",value:"2"}],Q=[{name:"Daily New Patients",value:n.H},{name:"Expiring Membership",value:n.S},{name:"Patients First Appointment",value:n.tb},{name:"Monthly New Patients",value:n.ib},{name:"New Membership",value:n.nb},{name:"Active Patients",value:n.a},{name:"Follow Up Report",value:n.T},{name:"Medicine Report",value:n.ab}],$=[{name:"Appointments For Each Category",value:n.m},{name:"Cancellation Numbers",value:n.w},{name:"Average Waiting/engaged Time Day Wise",value:n.s},{name:"Average Waiting/engaged Time Month Wise",value:n.t},{name:"Daily Appointment Count",value:n.C},{name:"Appointments For Each Doctor",value:n.n},{name:"Monthly Appointment Count",value:n.db},{name:"Appointment For Each Patient Group",value:n.o},{name:"Patient Conversion",value:n.p}],ee=[{name:"Daily Treatments Count",value:n.I},{name:"Treatments For Each Doctor",value:n.Yb},{name:"Monthly Treatments Count",value:n.jb},{name:"Treatments For Each Category",value:n.Zb}],te=[{name:"Ageing Amount Due",value:n.b},{name:"Amount Due Per Doctor",value:n.l}],ae=[{name:"A+",value:"A+"},{name:"A-",value:"A-"},{name:"B+",value:"B+"},{name:"B-",value:"B-"},{name:"AB+",value:"AB+"},{name:"AB-",value:"AB-"},{name:"O+",value:"O+"},{name:"O-",value:"O-"}],ne=[{name:"Daily Expenses",value:n.E},{name:"Expenses For Each Type",value:n.R},{name:"Monthly Expenses",value:n.fb}],le=[{name:"Daily Stock Consumption Item Wise",value:n.G},{name:"Monthly Stock Consumption Item Wise",value:n.hb},{name:"Top 10 Consumed Items",value:n.Wb}],re=[{name:"Daily Booking Count",value:n.D},{name:"Monthly Booking Count",value:n.eb},{name:"Medicine Usage Count",value:n.bb},{name:"Bed Booking Package Count",value:n.u}],ie=[{name:"Margin Type wise",value:n.Z},{name:"Wallet Balance Amount",value:n.ac},{name:"Agent Tree View",value:n.c}],se=[{name:"Payment Received From Each Patient Group",value:n.wb},{name:"Patients With Unsettled Advance, As Of Today",value:n.ub},{name:"Modes Of Payment",value:n.cb},{name:"Payment Received Per Day",value:n.xb},{name:"Payment Received Per Doctor",value:n.yb},{name:"Payment Received Per Month",value:n.zb}],oe=[{name:"Daily Invoiced Income",value:n.F},{name:"Monthly Invoiced Income",value:n.gb},{name:"Taxed Invoiced Income",value:n.Tb},{name:"Invoiced Income For Each Doctor",value:n.O},{name:"Invoiced Income For Each Procedure",value:n.Cb},{name:"Invoiced Income For Each Patient Group",value:n.vb},{name:"Invoiced Income For Each Product",value:n.Db}],ce=[{name:"Day wise Return Invoice",value:n.J},{name:"Monthly wise Return Invoice",value:n.kb},{name:"Return Invoice For Each Tax",value:n.Lb},{name:"Return Invoice For Each Procedure",value:n.Jb},{name:"Return Invoice For Each Product",value:n.Kb},{name:"Return Invoice For Each Doctor",value:n.Hb},{name:"Return Invoice For Each Patient Groups",value:n.Ib}],ue=[{label:"all ",value:""},{label:"Services",value:"SERVICES"},{label:"Products",value:"PRODUCTS"},{label:"Lab orders",value:"RESERVATION"}],me=[{label:"Zero",value:"ZERO"},{label:"Non Zero",value:"NON_ZERO"}],de=[{label:"all payments",value:"SALES"},{label:"Only advance payments",value:"SERVICES"},{label:"Payment for services",value:"DAMAGED"},{label:"Payment for products",value:"RETURNED"}],pe=[{label:"DOB",value:"DOB"},{label:"Age",value:"AGE"}],be="alt+c ,alt+p, alt+r, alt+s, alt+b ,alt+w",he="alt+f ,alt+a, alt+o, alt+m, alt+l ,alt+i,alt+e ,alt+n ,alt+y ,alt+t,alt+s ,alt+k, alt+g,alt+u,alt+w",fe=[{label:"Patient Name",value:"name"},{label:"Contact No",value:"phone"},{label:"Age is ",value:"age"},{label:"Age more than ",value:"age_gte"},{label:"Age Less Than",value:"age_lte"},{label:"Has Age ",value:"has_age"},{label:"Date of Birth is ",value:"dob"},{label:"Date of Birth is more than ",value:"dob_gte"},{label:"Date of Birth is less than",value:"dob_lte"},{label:"Birthday is in",value:"dob_month"},{label:"Has Date of Birth",value:"has_dob"},{label:"Patient Id",value:"patient_id"},{label:"Has Aadhar Id",value:"has_aadhar"},{label:"Aadhar Id",value:"aadhar"},{label:"Email",value:"email"},{label:"Has Email",value:"has_email"},{label:"Gender is",value:"gender"},{label:"Has Gender",value:"has_gender"},{label:"Pincode",value:"pincode"},{label:"Has Pincode",value:"has_pincode"},{label:"Has Street Address",value:"has_street"},{label:"Street Address ",value:"street"},{label:"Blood Group",value:"blood_group"},{label:"Referal Source",value:"source"},{label:"Refered by Agent",value:"agent_referal"}],Ee=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],ve=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],ge=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],ye=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],Oe=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],ke=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],je=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],Ce=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],Pe=[{label:"Female",value:"female"},{label:"Male",value:"male"},{label:"Other",value:"other"}],Se=[{label:"Percent",value:"%"},{label:"Rupees",value:"INR"}],De=["/patients/profile/add","/patient/:id/emr/vitalsigns/add","/patient/:id/emr/vitalsigns/edit","/patient/:id/emr/clinicnotes/add","/patient/:id/emr/clinicnotes/edit","/patient/:id/emr/plans/add","/patient/:id/emr/plans/edit","/patient/:id/emr/workdone/add","/patient/:id/emr/workdone/edit","/patient/:id/emr/prescriptions/add","/patient/:id/emr/prescriptions/edit","/patient/:id/prescriptions/template/add","/patient/:id/billing/invoices/add","/patient/:id/billing/invoices/edit","/patient/:id/billing/payments/add","/patient/:id/billing/payments/edit"],we=[{label:"PATIENT NAME",value:"{{PATIENT}}"},{label:"PATIENT ID",value:"{{PATIENT_ID}}"},{label:"CLINIC CONTACT",value:"{{CLINICCONTACTNUMBER}}"},{label:"CLINIC NAME",value:"{{CLINIC}}"},{label:"EXPIRY DATE",value:"{{EXPIRY}}"},{label:"VALUE",value:"{{VALUE}}"},{label:"MAX VALUE",value:"{{MAX_VALUE}}"},{label:"MIN PURCHASE",value:"{{MIN_PURCHASE}}"},{label:"PROMO CODE",value:"{{CODE}}"}],Te=[{label:"PATIENT NAME",value:"{{PATIENT}}"},{label:"PATIENT ID",value:"{{PATIENT_ID}}"},{label:"CLINIC CONTACT",value:"{{CLINICCONTACTNUMBER}}"},{label:"CLINIC NAME",value:"{{CLINIC}}"},{label:"EXPIRY DATE",value:"{{EXPIRY}}"},{label:"VALUE",value:"{{VALUE}}"},{label:"MIN PURCHASE",value:"{{MIN_PURCHASE}}"},{label:"PROMO CODE",value:"{{CODE}}"}],Ie="config_blood_group",Ae="config_source",_e="config_sms_language",xe="config_family_relation",Ne="config_gender",He=[{label:"Services",value:"SERVICES"},{label:"Products",value:"PRODUCTS"}],Le="pdf"},379:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return l}));var n=function(e){return e&&e.length>8?e.substring(0,3)+"*".repeat(e.length-5)+e.substring(e.length-2):e},l=function(e){return e&&e.length>8?e.substring(0,3)+"*".repeat(e.length-e.indexOf("@")-4)+e.substring(e.length-e.indexOf("@")-4):e}},380:function(e,t,a){"use strict";a(119);var n=a(34),l=(a(481),a(500)),r=(a(180),a(120)),i=a(62),s=a(61),o=a(64),c=a(63),u=a(65),m=a(0),d=a.n(m),p=a(84),b=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return d.a.createElement(n.a,{style:{marginTop:"20px"}},d.a.createElement(l.a,{status:"403",title:d.a.createElement("span",null,d.a.createElement("h1",null,d.a.createElement("b",null,"403")),d.a.createElement("h2",null,"Permission Denied")),subTitle:"You don't have permission to view this page.",extra:d.a.createElement(p.b,{to:"/"},d.a.createElement(r.a,{type:"primary"},"Go to Home"))}))}}]),t}(d.a.Component);t.a=b},468:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a(180);var n=a(120),l=a(62),r=a(61),i=a(64),s=a(63),o=a(65),c=a(0),u=a.n(c),m=a(636),d=a.n(m),p=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).setRef=function(e){a.webcam=e},a.capture=function(){var e=a.webcam.getScreenshot();a.props.getScreenShot&&a.props.getScreenShot(e)},a.state={},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{style:{width:680}},u.a.createElement(d.a,{audio:!1,height:480,width:640,ref:this.setRef,videoConstraints:{width:1280,height:720,facingMode:"user"},screenshotFormat:"image/jpeg"}),u.a.createElement(n.a,{onClick:this.capture},"Capture photo"))}}]),t}(u.a.Component)},511:function(e,t,a){e.exports=a.p+"static/media/kidneycarelogo.3378a129.png"},541:function(e,t,a){"use strict";a(119);var n=a(34),l=(a(481),a(500)),r=(a(180),a(120)),i=a(62),s=a(61),o=a(64),c=a(63),u=a(65),m=a(0),d=a.n(m),p=a(84),b=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return d.a.createElement(n.a,{style:{marginTop:"20px"},gutter:24},d.a.createElement(l.a,{status:"404",title:d.a.createElement("span",null,d.a.createElement("h1",null,d.a.createElement("b",null,"404")),d.a.createElement("h2",null,"Page Not Found")),subTitle:"The page you are looking for has been temporarily moved or did not exist.",extra:d.a.createElement(p.b,{to:"/"},d.a.createElement(r.a,{type:"primary"},"Go to Home"))}))}}]),t}(d.a.Component);t.a=b},545:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));a(332);var n=a(333),l=(a(344),a(345)),r=(a(180),a(120)),i=(a(350),a(351)),s=(a(326),a(327)),o=(a(119),a(34)),c=(a(121),a(15)),u=(a(330),a(12)),m=(a(375),a(376)),d=a(62),p=a(61),b=a(64),h=a(63),f=a(18),E=a(65),v=a(0),g=a.n(v),y=a(84),O=a(322),k=a.n(O),j=a(16),C=a(35),P=a(337),S=a(4),D=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(h.a)(t).call(this,e))).loadAppointmentDetails=function(){a.setState({loading:!0});var e=Object(f.a)(a);Object(j.c)(Object(j.f)(C.o,[a.props.appointmentId]),(function(t){e.setState({appointment:t,loading:!1}),console.log("event",t)}),(function(){e.setState({loading:!1})}))},a.updateAppointmentStatus=function(e,t,n){var l=Object(f.a)(a),r={status:n};n==P.Ib?r.waiting=k()().format():n==P.F?r.engaged=k()().format():n==P.n&&(r.checkout=k()().format());Object(j.l)(Object(j.f)(C.o,[e]),r,(function(e){Object(j.a)(S.Sb,"Appointment Status Changed Successfully!!"),l.loadAppointmentDetails()}),(function(){}))},a.changeAppointmentStatus=function(e,t,n){var l=Object(f.a)(a);Object(j.c)(Object(j.f)(C.o,[e]),(function(a){a.status==t?l.updateAppointmentStatus(e,t,n):(Object(j.a)(S.Q,"Appointment status has already changed. Updating Appointments..."),l.loadAppointmentDetails())}),(function(){}))},a.state={loading:!0,appointment:null},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.appointmentId?this.loadAppointmentDetails():this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.state.appointment;return g.a.createElement("div",{style:{width:"300px",minHeight:"200px"}},g.a.createElement(n.a,{spinning:this.state.loading},this.state.appointment?g.a.createElement("div",null,g.a.createElement(o.a,null,g.a.createElement(c.a,{span:8},this.state.appointment.patient.image?g.a.createElement(m.a,{src:this.state.appointment.patient.image,size:80}):g.a.createElement(m.a,{style:{backgroundColor:"#87d068"}},this.state.appointment.patient.user.first_name?this.state.appointment.patient.user.first_name.charAt(0):g.a.createElement(u.a,{type:"user"}))),g.a.createElement(c.a,{span:16},g.a.createElement(y.b,{to:"/patient/".concat(this.state.appointment.patient.id,"/profile"),target:"_blank"},g.a.createElement("h3",null,this.state.appointment.patient.user.first_name,g.a.createElement("br",null),g.a.createElement("small",null,"Patient ID: ",this.state.appointment.patient.custom_id," , ",this.state.appointment.patient.gender,g.a.createElement("br",null),this.state.appointment.patient.user.mobile))))),g.a.createElement(s.a,{style:{margin:0}}),g.a.createElement("small",null,"Status: ",this.state.appointment.status),g.a.createElement("br",null),g.a.createElement("small",null,g.a.createElement(u.a,{type:"clock-circle"})," ",k()(this.state.appointment.schedule_at).format("HH:mm A on MMMM Do")," for ",this.state.appointment.slot," mins."),function(e){switch(e.status){case P.Ib:return g.a.createElement("div",null,g.a.createElement("br",null),g.a.createElement("small",null,"Checked in At ",k()(e.waiting).format("lll")));case P.F:return g.a.createElement("div",null,g.a.createElement("small",null,"Waiting Time ",k()(e.engaged).from(k()(e.waiting))),g.a.createElement("br",null),g.a.createElement("small",null,"Engaged At ",k()(e.engaged).format("lll")));case P.n:return g.a.createElement("div",null,g.a.createElement("small",null,"Waiting Time ",k()(e.engaged).from(k()(e.waiting))),g.a.createElement("br",null),g.a.createElement("small",null,"Engaged Time ",k()(e.checkout).from(k()(e.engaged))),g.a.createElement("br",null),g.a.createElement("small",null,"Total Stay Time ",k()(e.checkout).from(k()(e.waiting))))}return null}(t),g.a.createElement(o.a,{style:{height:"100px",overflow:"scroll",backgroundColor:"#eee",padding:5}},g.a.createElement("div",null,t.status==P.Db?g.a.createElement("span",{style:{width:"70px",float:"right"}},g.a.createElement("a",{onClick:function(){return e.changeAppointmentStatus(t.id,P.Db,P.Ib)},disabled:!e.props.activePracticePermissions.ChangeAppointmentStatus}," Check In")):null,t.status==P.Ib?g.a.createElement("span",{style:{width:"70px",float:"right"}},g.a.createElement("a",{onClick:function(){return e.changeAppointmentStatus(t.id,P.Ib,P.F)},disabled:!e.props.activePracticePermissions.ChangeAppointmentStatus}," Engage")):null,t.status==P.F?g.a.createElement("span",{style:{width:"70px",float:"right"}},g.a.createElement("a",{onClick:function(){return e.changeAppointmentStatus(t.id,P.F,P.n)},disabled:!e.props.activePracticePermissions.ChangeAppointmentStatus}," Check Out")):null,t.status==P.n?g.a.createElement("span",{style:{width:"70px",float:"right"}},g.a.createElement("small",null,"Checked Out")):null,this.state.appointment.doctor_data?g.a.createElement(i.a,{color:this.state.appointment.doctor_data?this.state.appointment.doctor_data.calendar_colour:null},g.a.createElement("b",null,"With ".concat(this.state.appointment.doctor_data.user.first_name)," ")):null),g.a.createElement(s.a,{style:{margin:0}}),g.a.createElement("b",null,"Category:"),this.state.appointment.category_data?this.state.appointment.category_data.name:null,g.a.createElement("p",null,this.state.appointment.first_appointment?g.a.createElement("span",null,"This is Patient's first apppointment"):"")),g.a.createElement(s.a,{style:{margin:0}}),g.a.createElement(o.a,{style:{textAlign:"right"}},g.a.createElement(r.a.Group,{size:"small"},e.props.activePracticePermissions.EditAppointment||e.props.allowAllPermissions?g.a.createElement(r.a,null,g.a.createElement(y.b,{to:"/calendar/".concat(this.state.appointment.id,"/edit-appointment")},g.a.createElement(u.a,{type:"edit"})," Edit")):null,e.props.activePracticePermissions.ChangeAppointmentStatus||e.props.allowAllPermissions?g.a.createElement(l.a,{title:"Are you sure delete this?",onConfirm:function(){return e.changeAppointmentStatus(t.id,t.status,P.m)},okText:"Yes",cancelText:"No"},g.a.createElement(r.a,{type:"danger"},g.a.createElement(u.a,{type:"cross"})," Cancel")):null))):g.a.createElement("h4",null,"No Patient Found")))}}]),t}(g.a.Component)},761:function(e,t,a){"use strict";a(119);var n=a(34),l=(a(328),a(329)),r=a(62),i=a(61),s=a(64),o=a(63),c=a(65),u=a(0),m=a.n(u),d=a(37),p=a(322),b=a.n(p),h=(a(334),a(4)),f=a(35),E=a(16),v=(a(332),a(333)),g=(a(324),a(323)),y=(a(426),a(434)),O=(a(354),a(357)),k=(a(180),a(120)),j=(a(330),a(12)),C=(a(375),a(376)),P=(a(121),a(15)),S=(a(369),a(371)),D=(a(187),a(127)),w=(a(366),a(367)),T=a(338),I=a(46),A=a(21),_=a(18),x=(a(181),a(57)),N=(a(363),a(360)),H=(a(358),a(356)),L=(a(339),a(342)),B=(a(1061),a(38)),M=a(337),R=a(379),F=(L.a.TextArea,l.a.Item),V=(H.a.Group,N.a.Group,x.a.Meta),Y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).loadPracticeTiming=function(){var e=Object(_.a)(a);Object(E.c)(Object(E.f)(f.J,[a.props.active_practiceId]),(function(t){var a={};t.length&&(a=t[0]);var n={};M.s.forEach((function(e){n[e]={},a.visting_hour_same_week?(n[e].startTime=b()(a.first_start_time,"HH:mm:ss"),n[e].endTime=b()(a.second_end_time,"HH:mm:ss"),a.is_two_sessions?(n[e].lunch=!0,n[e].lunchStartTime=b()(a.first_end_time,"HH:mm:ss"),n[e].lunchEndTime=b()(a.second_start_time,"HH:mm:ss")):n[e].lunch=!1):a[e]?(n[e].startTime=b()(a["first_start_time_".concat(e)],"HH:mm:ss"),n[e].endTime=b()(a["second_end_time_".concat(e)],"HH:mm:ss"),a["is_two_sessions_".concat(e)]?(n[e].lunch=!0,n[e].lunchStartTime=b()(a["first_end_time_".concat(e)],"HH:mm:ss"),n[e].lunchEndTime=b()(a["second_start_time_".concat(e)],"HH:mm:ss")):n[e].lunch=!1):n[e]=null})),e.setState({calendarTimings:Object(A.a)({},n)},(function(){e.findOutsidePracticeTiming()}))}),(function(){e.setState({calendarTimings:{}})}))},a.loadDoctorsTiming=function(){var e=Object(_.a)(a);e.state.timeToCheckBlock.doctor&&Object(E.c)(Object(E.f)(f.Y,[a.props.active_practiceId]),(function(t){var a={};t.length&&(a=t[0]);var n={};M.s.forEach((function(e){n[e]={},a.visting_hour_same_week?(n[e].startTime=b()(a.first_start_time,"HH:mm:ss"),n[e].endTime=b()(a.second_end_time,"HH:mm:ss"),a.is_two_sessions?(n[e].lunch=!0,n[e].lunchStartTime=b()(a.first_end_time,"HH:mm:ss"),n[e].lunchEndTime=b()(a.second_start_time,"HH:mm:ss")):n[e].lunch=!1):a[e]?(n[e].startTime=b()(a["first_start_time_".concat(e)],"HH:mm:ss"),n[e].endTime=b()(a["second_end_time_".concat(e)],"HH:mm:ss"),a["is_two_sessions_".concat(e)]?(n[e].lunch=!0,n[e].lunchStartTime=b()(a["first_end_time_".concat(e)],"HH:mm:ss"),n[e].lunchEndTime=b()(a["second_start_time_".concat(e)],"HH:mm:ss")):n[e].lunch=!1):n[e]=null})),e.setState({doctorTimings:Object(A.a)({},n)},(function(){e.findOutsideDoctorTiming()}))}),(function(){}),{doctor:e.state.timeToCheckBlock.doctor})},a.setBlockedTiming=function(e,t){var n=Object(_.a)(a);e&&a.setState((function(a){return{timeToCheckBlock:Object(A.a)({},a.timeToCheckBlock,Object(I.a)({},e,t))}}),(function(){n.loadAppointmentList(),n.findBlockedTiming(),n.findOutsidePracticeTiming(),"doctor"==e?n.loadDoctorsTiming():n.findOutsideDoctorTiming()}))},a.findBlockedTiming=function(){var e=Object(_.a)(a);Object(E.c)(f.x,(function(t){t.forEach((function(t){null==t.doctor?e.setState({practiceBlock:!0}):t.doctor==e.props.timeToCheckBlock.doctor&&e.setState({doctorBlock:!0})}))}),(function(){}),{practice:a.props.active_practiceId,cal_fdate:b()(e.state.timeToCheckBlock.schedule_at).format(),cal_tdate:b()(e.state.timeToCheckBlock.schedule_at).add(e.state.timeToCheckBlock.slot,"minutes").format()})},a.findOutsidePracticeTiming=function(){var e=Object(_.a)(a),t=!0;if(e.state.timeToCheckBlock.schedule_at&&e.state.timeToCheckBlock.slot){var n=e.state.timeToCheckBlock.schedule_at,l=e.state.calendarTimings,r=b()(n).isValid()?b()(n).format("dddd").toLowerCase():null;if(l&&r&&l[r]){var i=l[r];i.lunch?(b()(n,"HH:mm:ss").format("HH:mm:ss")<=i.startTime.format("HH:mm:ss")||b()(n,"HH:mm:ss").format("HH:mm:ss")>i.endTime.format("HH:mm:ss")||b()(n,"HH:mm:ss").format("HH:mm:ss")<i.lunchEndTime.format("HH:mm:ss")&&b()(n,"HH:mm:ss").format("HH:mm:ss")>=i.lunchStartTime.format("HH:mm:ss"))&&(t=!1):(b()(n,"HH:mm:ss").format("HH:mm:ss")<=i.startTime.format("HH:mm:ss")||b()(n,"HH:mm:ss").format("HH:mm:ss")>i.endTime.format("HH:mm:ss"))&&(t=!1)}else r&&!l[r]&&(t=!1)}e.setState({practiceOutsideAvailableTiming:!t})},a.findOutsideDoctorTiming=function(){var e=Object(_.a)(a),t=!0;if(e.state.timeToCheckBlock.schedule_at&&e.state.timeToCheckBlock.slot){var n=e.state.timeToCheckBlock.schedule_at,l=e.state.doctorTimings,r=b()(n).isValid()?b()(n).format("dddd").toLowerCase():null;if(l&&r&&l[r]){var i=l[r];i.lunch?(b()(n,"HH:mm:ss").format("HH:mm:ss")<=i.startTime.format("HH:mm:ss")||b()(n,"HH:mm:ss").format("HH:mm:ss")>i.endTime.format("HH:mm:ss")||b()(n,"HH:mm:ss").format("HH:mm:ss")<i.lunchEndTime.format("HH:mm:ss")&&b()(n,"HH:mm:ss").format("HH:mm:ss")>=i.lunchStartTime.format("HH:mm:ss"))&&(t=!1):(b()(n,"HH:mm:ss").format("HH:mm:ss")<=i.startTime.format("HH:mm:ss")||b()(n,"HH:mm:ss").format("HH:mm:ss")>i.endTime.format("HH:mm:ss"))&&(t=!1)}else r&&l&&!l[r]&&(t=!1)}e.setState({doctorOutsideAvailableTiming:!t})},a.handleSubmit=function(e){var t=Object(_.a)(a);e.preventDefault(),a.props.form.validateFields((function(e,n){if(!e){t.setState({saving:!0});var l=Object(A.a)({},n);l.patient={user:{}},a.state.patientDetails?l.patient=a.state.patientDetails:(l.patient.user.first_name=l.patient_name,l.patient.user.email=l.patient_email,l.patient.user.mobile=l.patient_mobile,l.patient_email=void 0,l.patient_name=void 0,l.patient_mobile=void 0),l.practice=t.props.active_practiceId;var r=function(e){t.setState({saving:!1}),t.props.history&&(t.props.history.goBack(),t.props.history.replace("/patients/appointments")),t.props.loadData&&t.props.loadData(),e&&Object(E.a)(h.Sb,"Appointment Created Successfully")},i=function(){t.setState({saving:!1})};a.state.appointment?Object(E.l)(Object(E.f)(f.o,[a.state.appointment.id]),l,r,i):Object(E.j)(f.h,l,r,i)}}))},a.handlePatientSelect=function(e){if(e){var t=Object(_.a)(a);Object(E.c)(Object(E.f)(f.xc,[e]),(function(e){t.setState({patientDetails:e})}),(function(){}))}},a.handleClick=function(e){a.setState({patientDetails:null})},a.state={redirect:!1,practice_doctors:[],appointmentCategories:null,procedure_category:null,treatmentNotes:null,practice_staff:[],appointment:null,loading:!1,patientListData:[],appointmentDetail:null,saving:!1,doctorBlock:!1,doctorOutsideAvailableTiming:!1,practiceBlock:!1,practiceOutsideAvailableTiming:!1,timeToCheckBlock:{schedule_at:b()(),slot:10},procedureObjectsById:{},startTime:a.props.startTime},a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a.loadDoctors=a.loadDoctors.bind(Object(_.a)(a)),a.loadProcedureCategory=a.loadProcedureCategory.bind(Object(_.a)(a)),a.loadTreatmentNotes=a.loadTreatmentNotes.bind(Object(_.a)(a)),a.searchPatient=a.searchPatient.bind(Object(_.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(_.a)(a)),a.loadAppointment=a.loadAppointment.bind(Object(_.a)(a)),a.loadAppointmentList=a.loadAppointmentList.bind(Object(_.a)(a)),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.loadDoctors(),this.loadProcedureCategory(),this.loadTreatmentNotes(),this.loadAppointmentCategories(),this.loadPracticeTiming(),this.loadAppointmentList(),this.props.match.params.appointmentid)e.loadAppointment();else if(this.props.history&&this.props.history.location.search){var t=this.props.history.location.search.substr(1).split("&");t.length&&t.forEach((function(t){var a=t.split("=");a&&2==a.length&&"patient"==a[0]&&a[1]&&e.handlePatientSelect(a[1])}))}}},{key:"loadAppointment",value:function(){var e=this;this.setState({loading:!0});Object(E.c)(Object(E.f)(f.o,[this.props.match.params.appointmentid]),(function(t){e.setState({appointment:t,patientDetails:t.patient,timeToCheckBlock:t,loading:!1},(function(){e.findBlockedTiming(),e.findOutsideDoctorTiming(),e.loadDoctorsTiming(),e.loadAppointmentList()}))}),(function(){e.setState({loading:!1})}))}},{key:"loadDoctors",value:function(){var e=this;Object(E.c)(Object(E.f)(f.Ec,[this.props.active_practiceId]),(function(t){var a=[],n={};t.staff.forEach((function(t){t.role==h.N&&(a.push(t),e.props.user.id==t.user.id&&(n=t))})),e.setState((function(e){return{selectedDoctor:a.length&&!n.id?a[0].user.id:n.user.id,practice_doctors:a,timeToCheckBlock:Object(A.a)({},e.timeToCheckBlock,{doctor:a.length&&!n.id?a[0].user.id:n.user.id})}}),(function(){e.findBlockedTiming(),e.loadDoctorsTiming()}))}),(function(){}))}},{key:"loadProcedureCategory",value:function(){var e=this;Object(E.c)(Object(E.f)(f.Lc,[this.props.active_practiceId]),(function(t){var a={};t.forEach((function(e){a[e.id]=e})),e.setState({procedure_category:t,procedureObjectsById:Object(A.a)({},a)})}),(function(){}),{pagination:!1})}},{key:"loadTreatmentNotes",value:function(){var e=this;Object(E.c)(Object(E.f)(f.kb,[this.props.active_practiceId]),(function(t){e.setState({treatmentNotes:t})}),(function(){}))}},{key:"loadAppointmentCategories",value:function(){var e=this;Object(E.c)(Object(E.f)(f.p,[this.props.active_practiceId]),(function(t){e.setState({appointmentCategories:t})}),(function(){}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"searchPatient",value:function(e){var t=this;this.setState({searchPatientString:e});e&&Object(E.c)(Object(E.f)(f.Wc,[e]),(function(a){t.setState((function(t){if(t.searchPatientString==e)return a.current>1?{patientListData:[].concat(Object(T.a)(t.patientListData),Object(T.a)(a.results))}:{patientListData:Object(T.a)(a.results)}}))}),(function(e){t.setState({searchPatientString:null})}))}},{key:"loadAppointmentList",value:function(){var e=this,t={start_time:b()(this.state.timeToCheckBlock.schedule_at).format(),end_time:b()(this.state.timeToCheckBlock.schedule_at).add(this.state.timeToCheckBlock.slot,"minutes").format(),doctor:this.state.timeToCheckBlock.doctor};Object(E.c)(Object(E.f)(f.s,[this.props.active_practiceId]),(function(t){e.setState({appointmentList:t})}),(function(e){}),t)}},{key:"render",value:function(){var e=this,t=this,a=this.props.formLayout?this.props.formLayout:{labelCol:{span:6},wrapperCol:{span:14}},r=this.props.formLayout?this.props.formLayout:{wrapperCol:{offset:6,span:14}},i=this.props.form.getFieldDecorator,s=[];this.state.treatmentNotes&&this.state.treatmentNotes.forEach((function(e){s.push({label:e.name,value:e.id})}));var o=[];this.state.appointmentCategories&&this.state.appointmentCategories.forEach((function(e){o.push({label:e.name,value:e.id})}));var c=this.state.appointment?this.state.appointment.schedule_at:this.props.startTime;c||(c=new b.a(new Date).format());return m.a.createElement(x.a,null,m.a.createElement(v.a,{spinning:this.state.saving},m.a.createElement(l.a,{onSubmit:this.handleSubmit},this.props.title?m.a.createElement("h2",null,this.props.title):null,m.a.createElement(F,Object.assign({key:"schedule_at",label:"Appointment Schedule"},a),i("schedule_at",{initialValue:c?b()(c):b()(this.props.startTime),rules:[{required:!0,message:B.j}]})(m.a.createElement(w.a,{showTime:{use12Hours:!0},format:"YYYY/MM/DD hh:mm a",allowClear:!1,onChange:function(t){return e.setBlockedTiming("schedule_at",t)}})),this.state.practiceOutsideAvailableTiming?m.a.createElement(D.a,{message:"Selected time is outside available clinic time!!",type:"warning",showIcon:!0}):null,this.state.practiceBlock?m.a.createElement(D.a,{message:"Selected time is blocked in this clinic !!",type:"warning",showIcon:!0}):null),m.a.createElement(F,Object.assign({key:"slot"},a,{label:"Time Slot"}),i("slot",{initialValue:this.state.appointment?this.state.appointment.slot:10,rules:[{required:!0,message:B.j}]})(m.a.createElement(S.a,{min:1,onChange:function(t){return e.setBlockedTiming("slot",t)}})),m.a.createElement("span",{className:"ant-form-text"},"mins",m.a.createElement(n.a,{style:{float:"right"}},m.a.createElement(P.a,{span:24},this.state.appointmentList&&this.state.appointmentList.length>0?m.a.createElement("div",{span:5,style:{float:"right"}},m.a.createElement("ul",{style:{listStyle:"none",display:"inline-flex",paddingLeft:"15px",paddingRight:"10px"}},t.state.appointmentList.map((function(e){return m.a.createElement("li",{style:{border:"1px solid #bbb",marginLeft:"13px",padding:" 0.01em 14px"}},m.a.createElement("span",{style:{width:"calc(100% - 60px)"}},m.a.createElement("b",null,b()(e.schedule_at).format("LT")),"\xa0",e.patient.user.first_name),"\xa0",m.a.createElement("b",null,"with")," \xa0",e.doctor_data.user.first_name)})))):null))),this.state.appointmentList&&this.state.appointmentList.length>0?m.a.createElement(m.a.Fragment,null,m.a.createElement(D.a,{message:"Selected time slot have assigned someone else !! please select another slot.",type:"warning",showIcon:!0})):null),t.state.patientDetails?m.a.createElement(F,Object.assign({key:"id",value:this.state.patientDetails.id},r),m.a.createElement(x.a,{bordered:!1,style:{background:"#ECECEC"}},m.a.createElement(V,{avatar:this.state.patientDetails.image?m.a.createElement(C.a,{src:Object(E.g)(this.state.patientDetails.image)}):m.a.createElement(C.a,{style:{backgroundColor:"#87d068"}},this.state.patientDetails.user.first_name?this.state.patientDetails.user.first_name.charAt(0):m.a.createElement(j.a,{type:"user"})),title:this.state.patientDetails.user.first_name,description:m.a.createElement("span",null,t.props.activePracticePermissions.PatientPhoneNumber?this.state.patientDetails.user.mobile:Object(R.b)(this.state.patientDetails.user.mobile),m.a.createElement("br",null),m.a.createElement(k.a,{type:"primary",style:{float:"right"},onClick:this.handleClick},"Add New Patient"))}))):m.a.createElement("div",null,m.a.createElement(F,Object.assign({key:"patient_name",label:"Patient Name"},a),i("patient_name",{initialValue:this.state.appointment?this.state.appointment.patient.user.first_name:null,rules:[{required:!0,message:B.j}]})(m.a.createElement(y.a,{placeholder:"Patient Name",showSearch:!0,onSearch:this.searchPatient,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSelect:this.handlePatientSelect},this.state.patientListData.map((function(e){return m.a.createElement(y.a.Option,{value:e.id.toString()},m.a.createElement(O.a.Item,{style:{padding:0}},m.a.createElement(O.a.Item.Meta,{avatar:e.image?m.a.createElement(C.a,{src:Object(E.g)(e.image)}):m.a.createElement(C.a,{style:{backgroundColor:"#87d068"}},e.user.first_name?e.user.first_name.charAt(0):m.a.createElement(j.a,{type:"user"})),title:"".concat(e.user.first_name," (ID:").concat(e.custom_id?e.custom_id:e.user.id,")"),description:t.props.activePracticePermissions.PatientPhoneNumber?e.user.mobile:Object(R.b)(e.user.mobile)})))}))))),m.a.createElement(F,Object.assign({key:"patient_mobile",label:"Mobile Number"},a),i("patient_mobile",{initialValue:this.state.appointment?this.state.appointment.patient.user.mobile:null,rules:[{required:!0,message:B.j}]})(m.a.createElement(L.a,{placeholder:"Mobile Number"}))),m.a.createElement(F,Object.assign({key:"patient_email",label:"Email Address"},a),i("patient_email",{initialValue:this.state.appointment?this.state.appointment.patient.user.email:null,rules:[{type:"email",message:"The input is not valid E-mail!"}]})(m.a.createElement(L.a,{placeholder:"Email Address"})))),m.a.createElement(F,Object.assign({key:"doctor"},a,{label:"Doctor"}),i("doctor",{initialValue:this.state.appointment?this.state.appointment.doctor:this.state.selectedDoctor},{rules:[{required:!0,message:B.j}]})(m.a.createElement(g.a,{placeholder:"Doctor",onChange:function(t){return e.setBlockedTiming("doctor",t)}},this.state.practice_doctors.map((function(e){return m.a.createElement(g.a.Option,{value:e.id},"".concat(e.user.first_name,"(").concat(e.user.email,")"))})))),this.state.doctorBlock?m.a.createElement(D.a,{message:"Selected time is blocked for selected doctor in this clinic!!",type:"warning",showIcon:!0}):null,this.state.doctorOutsideAvailableTiming?m.a.createElement(D.a,{message:"Selected time is out of doctor's visit time in this clinic!!",type:"warning",showIcon:!0}):null,this.state.appointmentList&&this.state.appointmentList.length>0?m.a.createElement(m.a.Fragment,null,m.a.createElement(D.a,{message:"Selected time doctor's busy on other patients in  this clinic!!",type:"warning",showIcon:!0})):null),m.a.createElement(F,Object.assign({key:"category"},a,{label:"Category"}),i("category",{initialValue:this.state.appointment?this.state.appointment.category:null},{rules:[{required:!0,message:B.j}]})(m.a.createElement(g.a,{placeholder:"Category"},o.map((function(e){return m.a.createElement(g.a.Option,{value:e.value},e.label)}))))),this.state.appointment?m.a.createElement(F,Object.assign({key:"status"},a,{label:"Status"}),i("status",{initialValue:this.state.appointment.status})(m.a.createElement(g.a,{placeholder:"Status"},M.f.map((function(e){return m.a.createElement(g.a.Option,{value:e.value},e.label)}))))):null,m.a.createElement(F,Object.assign({key:"notes"},a,{label:"Notes"}),i("notes",{initialValue:this.state.appointment?this.state.appointment.notes:null},{rules:[{required:!0,message:B.j}]})(m.a.createElement(L.a,{placeholder:"Notes"}))),m.a.createElement(F,a,m.a.createElement(k.a,{loading:t.state.saving,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),t.props.history?m.a.createElement(k.a,{style:{margin:5},onClick:function(){return t.props.history.goBack()}},"Cancel"):null))))}}]),t}(m.a.Component),U=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=(f.h,[{key:"practice",value:this.props.active_practiceId}]),a=l.a.create()(Y);return m.a.createElement(n.a,null,m.a.createElement(d.b,{exact:!0,path:"/calendar/:appointmentid/edit-appointment",render:function(n){return e.props.match.params.appointmentid?m.a.createElement(a,Object.assign({},n,e.props,{defaultValues:t,title:"Edit Appointment",changeRedirect:e.changeRedirect})):m.a.createElement(d.a,{to:"/patients/appointments/"})}}),m.a.createElement(d.b,{exact:!0,path:"/calendar/create-appointment",render:function(n){return m.a.createElement(a,Object.assign({},e.props,{defaultValues:t,changeRedirect:e.changeRedirect},n,{title:"ADD Appointment "}))}}))}}]),t}(m.a.Component);t.a=U}}]);
//# sourceMappingURL=12.8ec38ec6.chunk.js.map