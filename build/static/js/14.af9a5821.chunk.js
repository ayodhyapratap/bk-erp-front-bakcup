(window["webpackJsonpbk-erp-front"]=window["webpackJsonpbk-erp-front"]||[]).push([[14,6],{1710:function(t,e,a){t.exports=a(1711)},1711:function(t,e,a){var n=function(t){"use strict";var e,a=Object.prototype,n=a.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,a,n){var r=e&&e.prototype instanceof f?e:f,o=Object.create(r.prototype),i=new M(n||[]);return o._invoke=function(t,e,a){var n=p;return function(r,o){if(n===d)throw new Error("Generator is already running");if(n===m){if("throw"===r)throw o;return k()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var s=x(i,a);if(s){if(s===h)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===p)throw n=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=d;var l=c(t,e,a);if("normal"===l.type){if(n=a.done?m:u,l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n=m,a.method="throw",a.arg=l.arg)}}}(t,a,i),o}function c(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(n){return{type:"throw",arg:n}}}t.wrap=l;var p="suspendedStart",u="suspendedYield",d="executing",m="completed",h={};function f(){}function g(){}function y(){}var E={};E[o]=function(){return this};var b=Object.getPrototypeOf,v=b&&b(b(Y([])));v&&v!==a&&n.call(v,o)&&(E=v);var D=y.prototype=f.prototype=Object.create(E);function O(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(a,r){function o(){return new Promise((function(e,o){!function e(a,r,o,i){var s=c(t[a],t,r);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"===typeof p&&n.call(p,"__await")?Promise.resolve(p.__await).then((function(t){e("next",t,o,i)}),(function(t){e("throw",t,o,i)})):Promise.resolve(p).then((function(t){l.value=t,o(l)}),(function(t){return e("throw",t,o,i)}))}i(s.arg)}(a,r,e,o)}))}return e=e?e.then(o,o):o()}}function x(t,a){var n=t.iterator[a.method];if(n===e){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=e,x(t,a),"throw"===a.method))return h;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=c(n,t.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,h;var o=r.arg;return o?o.done?(a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,h):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function Y(t){if(t){var a=t[o];if(a)return a.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return i.next=i}}return{next:k}}function k(){return{value:e,done:!0}}return g.prototype=D.constructor=y,y.constructor=g,y[s]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(D),t},t.awrap=function(t){return{__await:t}},O(_.prototype),_.prototype[i]=function(){return this},t.AsyncIterator=_,t.async=function(e,a,n,r){var o=new _(l(e,a,n,r));return t.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},O(D),D[s]="Generator",D[o]=function(){return this},D.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},t.values=Y,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return s.type="throw",s.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),S(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var r=n.arg;S(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:Y(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},1713:function(t,e,a){"use strict";var n=a(0);t.exports=function(t){var e=t.tree,a=t.NodeComponent;return n.createElement("div",{className:"reactOrgChart"},function t(e){var r=function(t){return(e.children||[]).length>t+1},o=function(t){return t>0},i=n.createElement("td",{colSpan:2*(e.children||[]).length,className:"nodeGroupCellLines"},n.createElement("table",{className:"nodeLineTable"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"nodeLineCell nodeGroupLineVerticalMiddle"}),n.createElement("td",{colSpan:2,className:"nodeLineCell"}))))),s=(e.children||[]).map((function(t,e){return n.createElement("td",{colSpan:"2",className:"nodeGroupCellLines",key:e},n.createElement("table",{className:"nodeLineTable"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"nodeLineCell nodeGroupLineVerticalMiddle"+(o(e)?" nodeLineBorderTop":"")}),n.createElement("td",{colSpan:2,className:"nodeLineCell"+(r(e)?" nodeLineBorderTop":"")})))))})),l=(e.children||[]).map((function(e,a){return n.createElement("td",{colSpan:"2",className:"nodeGroupCell",key:a},t(e))}));return n.createElement("table",{className:"orgNodeChildGroup"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"nodeCell",colSpan:2*(e.children||[]).length},n.createElement(a,{node:e}))),n.createElement("tr",null,(e.children||[]).length>0&&i),n.createElement("tr",null,s),n.createElement("tr",null,l)))}(e))}},1714:function(t,e,a){},1742:function(t,e,a){"use strict";a.r(e);var n=a(96),r=a(97),o=a(100),i=a(98),s=a(44),l=a(99),c=(a(138),a(101)),p=a(0),u=a.n(p),d=(a(230),a(229)),m=(a(281),a(282)),h=a(64),f=a.n(h),g=c.a.Header,y=m.a.RangePicker,E=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).changeReport=a.changeReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"changeReport",value:function(t){this.props.history.push(t)}},{key:"render",value:function(){var t=this,e=[{name:"Daily Summary",value:"/reports/summary",active:t.props.activePracticePermissions.ReportsDailySummary||t.props.allowAllPermissions},{name:"Income",value:"/reports/income",active:t.props.activePracticePermissions.ReportsIncome||t.props.allowAllPermissions},{name:"Payments",value:"/reports/payments",active:t.props.activePracticePermissions.ReportsPayments||t.props.allowAllPermissions},{name:"Appointment",value:"/reports/appointments",active:t.props.activePracticePermissions.ReportsAppointments||t.props.allowAllPermissions},{name:"Patients",value:"/reports/patients",active:t.props.activePracticePermissions.ReportsPatients||t.props.allowAllPermissions},{name:"Amount Due",value:"/reports/amountdue",active:t.props.activePracticePermissions.ReportsAmountDue||t.props.allowAllPermissions},{name:"Expenses",value:"/reports/expenses",active:t.props.activePracticePermissions.ReportsExpenses||t.props.allowAllPermissions},{name:"Inventory",value:"/reports/inventory",active:t.props.activePracticePermissions.ReportsInventory||t.props.allowAllPermissions},{name:"EMR",value:"/reports/emr",active:t.props.activePracticePermissions.ReportsEMR||t.props.allowAllPermissions},{name:"Bed Booking",value:"/reports/bed_booking",active:t.props.activePracticePermissions.ReportsBedBooking||t.props.allowAllPermissions},{name:"Inventory Retails",value:"/reports/inventoryretails",active:t.props.activePracticePermissions.ReportsInventoryRetail||t.props.allowAllPermissions},{name:"MLM ",value:"/reports/mlm",active:t.props.activePracticePermissions.ReportsMLMReport||t.props.allowAllPermissions},{name:"Invoice Returns ",value:"/reports/invoice-return",active:t.props.activePracticePermissions.ReportsInventoryRetail||t.props.allowAllPermissions},{name:"Suggestions",value:"/reports/suggestions",active:t.props.activePracticePermissions.ReportsSuggestions||t.props.allowAllPermissions}];return u.a.createElement(g,{style:{background:"#fff"}},u.a.createElement("ul",{style:{listStyle:"none"}},u.a.createElement("li",{style:{display:"inline"}},"Select Report Category \xa0"),u.a.createElement("li",{style:{display:"inline"}},u.a.createElement(d.a,{style:{minWidth:"200px"},defaultValue:e[3].name,value:this.props.history.location.pathname,onChange:this.changeReport},e.map((function(t){return u.a.createElement(d.a.Option,{value:t.value,disabled:!t.active},t.name)})))),u.a.createElement("li",{style:{display:"inline",float:"right"}},u.a.createElement(y,{allowClear:!1,onChange:function(e,a){return t.props.reportsDateRange(a)},defaultValue:[f()(),f()()],format:"DD/MM/YYYY"}))))}}]),e}(u.a.Component),b=(a(225),a(226)),v=(a(223),a(224)),D=(a(273),a(270)),O=(a(231),a(232)),_=(a(228),a(227)),x=a(33),j=a(32),S=a(245),M=a(23),Y=a(2),k=(a(249),a(250)),P=(a(255),a(256)),I=a(233),R=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={practice:a.props.active_practiceId,type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.m,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.m,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[],mailingUsersList:[]},a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e,a){return u.a.createElement("span",null,a+1)},width:50},{title:"Invoice Date",key:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("DD MMM YYYY"))}},{title:"Invoice Number",key:"invoice_id",dataIndex:"invoice_id"},{title:"Patient",dataIndex:"first_name",key:"first_name"},{title:"Patient ID",dataIndex:"custom_id",key:"custom_id"},{title:"Doctor Name",dataIndex:"doctor_name",key:"doctor_name"},{title:"Invoice Amount(INR)",key:"total",dataIndex:"total",render:function(t){return t.toFixed(2)}},{title:"Amount Due(INR)",dataIndex:"amount_due",key:"amount_due",render:function(t){return t.toFixed(2)}}],o=a.reduce((function(t,e){return t+e.amount_due}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Total Amount Due ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Amount Due For Listed Invoices(INR)",value:o.toFixed(2)}),u.a.createElement("br",null),u.a.createElement("p",null,"*Advance payments are not considered here. Amounts may vary slightly."))),u.a.createElement(k.a,{loading:n,columns:r,pagination:!1,dataSource:a}))}}]),e}(u.a.Component),w=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={practice:a.props.active_practiceId,type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.m,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.m,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[],mailingUsersList:[]},a.loadReport=a.loadReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=0,o=0,i=0,s=0,l=0,c=0;a.map((function(t){r+=t["0_29"],o+=t["30_59"],i+=t["60_89"],s+=t["89_364"],l+=t[365],c=r+o+i+s+l}));var p=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e,a){return u.a.createElement("span",null,a+1)},width:50},{title:"Name",dataIndex:"first_name",key:"first_name"},{title:"for 0-29 days (INR)",dataIndex:"0_29",key:"0_29",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"for 30-59 days (INR)",dataIndex:"30_59",key:"30_59",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"for 60-89 days (INR)",dataIndex:"60_89",key:"60_89",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"for 89-364 days (INR)",dataIndex:"89_364",key:"89_364",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"for more than 364 days (INR)",dataIndex:"365",key:"365",render:function(t){return u.a.createElement("span",null,t.toFixed(2))}},{title:"Total (INR)",key:"total",render:function(t,e){return u.a.createElement("span",null,(e["0_29"]+e["30_59"]+e["60_89"]+e["89_364"]+e[365]).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Ageing Amount Due ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:22,offset:1},u.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"*Unpaid Invoice Amount."),u.a.createElement(b.a,{title:"Summary",bordered:!1,type:"inner"},u.a.createElement(v.a,null,u.a.createElement(O.a,{span:4},u.a.createElement(P.a,{title:"for 0-29 days (INR)",value:r.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(P.a,{title:"for 30-59 days (INR)",value:o.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(P.a,{title:"for 60-89 days (INR)",value:i.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(P.a,{title:"for 89-364 days (INR)",value:s.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(P.a,{title:"for more than 364 days (INR)",value:l.toFixed(2)})),u.a.createElement(O.a,{span:4},u.a.createElement(P.a,{title:"Total (INR)",value:c.toFixed(2)})))))),u.a.createElement(v.a,{gutter:16},u.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"*Unpaid Invoice Amount."),u.a.createElement(b.a,{title:"Summary",bordered:!1,type:"inner",bodyStyle:{padding:0}},u.a.createElement(k.a,{loading:n,columns:p,pagination:!1,dataSource:a}))))}}]),e}(u.a.Component),C=(a(241),a(242)),A=(a(257),a(34)),L=a(258),T=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};e.mail_to=t,Object(I.h)(j.m,e)},a.state={reportEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,activeIndex:0,mailingUsersList:[]},a.loadReport=a.loadReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}},{key:"loadReport",value:function(){var t=this;t.setState({loading:!0});var e={practice:this.props.active_practiceId,type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};Object(M.c)(j.m,(function(e){t.setState({reportEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=this.state,a=e.reportEachDoctor,n=e.loading,r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50,render:function(t,e,a){return u.a.createElement("span",null,a+1)}},{title:"Doctor",key:"doctor",dataIndex:"doctor_name"},{title:"Invoiced (INR)",key:"invoiced",dataIndex:"invoiced",render:function(t){return t.toFixed(2)}},{title:"Received (INR)",key:"received_amount",dataIndex:"received_amount",render:function(t,e){return u.a.createElement("span",null,(e.invoiced-e.amount_due).toFixed(2))}},{title:"Total Amount Due (INR)",key:"amount_due",dataIndex:"amount_due",render:function(t){return t.toFixed(2)}}],o=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Amount Due Per Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.doctor_name+", INR "+p.invoiced.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"amount_due",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(k.a,{loading:n,columns:r,pagination:!1,dataSource:a}))}}]),e}(u.a.Component),F=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.state={sidePanelColSpan:4,patientGroup:[],practiceDoctors:[],type:"ALL",advancedOptionShow:!0},Object(I.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var t=this;Object(M.c)(Object(M.f)(j.qc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this,e=this.state,a=e.type,n=e.sidePanelColSpan,r=e.advancedOptionShow,o=e.patientGroup,i=e.practiceDoctors;return u.a.createElement("div",null,u.a.createElement("h2",null,"Amount Due Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:n?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(n)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-n},a==Y.bc?u.a.createElement(R,Object.assign({},this.state,this.props)):null,a==Y.b?u.a.createElement(w,Object.assign({},this.state,this.props)):null,a==Y.l?u.a.createElement(T,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:n},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.bc,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Patients"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.bc},"Total Amount Due"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.c.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==Y.bc||this.state.type==Y.b?u.a.createElement(u.a.Fragment,null,r?u.a.createElement(u.a.Fragment,null,u.a.createElement("a",{href:"#",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options"),u.a.createElement(O.a,null," ",u.a.createElement("br",null),this.state.type!=Y.b?u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},o.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null)):null,u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},i.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))))):u.a.createElement("a",{href:"#",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options")):null))))}}]),e}(u.a.Component),N=a(24),B=(a(278),a(276)),G=a(236);function U(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function W(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?U(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var z=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentReport=function(){var t=Object(s.a)(a),e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled,practice:t.props.active_practiceId};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(Object(M.f)(j.r,[t.props.active_practiceId]),(function(e){t.setState({appointmentReports:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){console.log(t);var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(n.categories=a.props.categories.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),n.mail_to=t,Object(I.h)(Object(M.f)(j.r,[e.props.active_practiceId]),n)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,appointmentCategory:[],appointmentReports:[],activeIndex:0,mailingUsersList:[]},a.loadAppointmentReport=a.loadAppointmentReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentReport()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentReports,a=[],n=1;n<=e.length;n++)a.push(W({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.schedule_at).format("DD MMM YYYY"))},export:function(t,e){return f()(e.schedule_at).format("ll")}},{title:"Scheduled At\t",key:"time",dataIndex:"time",render:function(t,e){return u.a.createElement("span",null,f()(e.schedule_at).format("HH:mm"))},export:function(t,e){return f()(e.schedule_at).format("HH:mm")}},{title:"Check-in At",dataIndex:"waiting",key:"waiting",render:function(t,e){return u.a.createElement("span",null,e.waiting?f()(e.waiting).format("lll"):"")},export:function(t,e){return f()(e.schedule_at).format("HH:mm")}},{title:"Waited For (hh:mm:ss)",dataIndex:"age",key:"age",render:function(t,e){return u.a.createElement("span",null,e.engaged?f()(e.engaged).from(f()(e.waiting)):"")},export:function(t,e){return e.engaged?f()(e.engaged).from(f()(e.waiting)):""}},{title:"Engaged At",dataIndex:"engaged",key:"engaged",render:function(t,e){return u.a.createElement("span",null,e.engaged?f()(e.engaged).format("lll"):"")},export:function(t,e){return e.engaged?f()(e.engaged).format("lll"):""}},{title:"Checkout At",dataIndex:"checkout",key:"checkout",render:function(t,e){return u.a.createElement("span",null,e.checkout?f()(e.checkout).format("lll"):"")},export:function(t,e){return e.checkout?f()(e.checkout).format("lll"):""}},{title:"Patient",dataIndex:"patient",key:"patient_name",render:function(t,e){return u.a.createElement("span",null,t.user.first_name)},export:function(t,e){return t.user.first_name}},{title:"Current Status",key:"status",dataIndex:"status"},{title:"Doctor",dataIndex:"doctor",key:"address",render:function(t,e){return u.a.createElement("span",null,e.doctor_data?e.doctor_data.user.first_name:null)},export:function(t,e){return e.doctor_data?e.doctor_data.user.first_name:null}},{title:"Category",dataIndex:"category",key:"address",render:function(t,e){return u.a.createElement("span",null,e.category_data?e.category_data.name:null)},export:function(t,e){return e.category_data?e.category_data.name:null}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Appointments Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Appointments",value:this.state.total}),u.a.createElement("br",null))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component);function K(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?K(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var V=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentWithCategory=function(){var t=Object(s.a)(a);t.setState({loading:!0}),a.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.lc,(function(e){t.setState({appointmentCategory:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,appointmentCategory:[],activeIndex:0,mailingUsersList:[]},a.loadAppointmentWithCategory=a.loadAppointmentWithCategory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentWithCategory(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentWithCategory()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentCategory,a=[],n=1;n<=e.length;n++)a.push(H({s_no:n},e[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment By Category",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.category+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Category",key:"category",dataIndex:"category"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),e}(u.a.Component),q=(a(234),a(235));function J(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?J(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var X=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentEachDoctor=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.lc,(function(e){t.setState({appointmentEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.state={appointmentEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentEachDoctor=a.loadAppointmentEachDoctor.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentEachDoctor(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentEachDoctor()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentEachDoctor,a=[],n=1;n<=e.length;n++)a.push(Q({s_no:n},e[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"],o=a.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment For Each Patient Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.doctor+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:o})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),e}(u.a.Component);function Z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Z(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var tt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentPatientGroup=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.lc,(function(e){t.setState({appointmentGroup:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.state={appointmentGroup:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentPatientGroup=a.loadAppointmentPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentPatientGroup(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentPatientGroup()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentGroup,a=[],n=1;n<=e.length;n++)a.push($({s_no:n},e[n-1]));var r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointment For Each Patient Group",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement("text",{x:a,y:n,dy:8,textAnchor:"middle",fill:c},p.patient_group),u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.patient_group+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Group",key:"patient_group",dataIndex:"patient_group"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),e}(u.a.Component);function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function at(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var nt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentDayWait=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.lc,(function(e){t.setState({appointmentDayWait:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.state={appointmentDayWait:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentDayWait=a.loadAppointmentDayWait.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentDayWait(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentDayWait()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentDayWait,a=[],n=1;n<=e.length;n++)a.push(at({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Time Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("DD MMM YYYY"))},export:function(t,e){return f()(e.date).format("DD MMM YYYY")}},{title:"Avg. waiting Time(hh:mm:ss)",key:"wait",dataIndex:"wait",render:function(t,e){return u.a.createElement("span",null,e.wait?f()().add(e.wait,"second").fromNow():"")},export:function(t,e){return e.wait?f()().add(e.wait,"second").fromNow():""}},{title:"Avg. engaged Time(hh:mm:ss)",key:"engage",dataIndex:"engage",render:function(t,e){return u.a.createElement("span",null,e.engage?f()().add(e.engage,"second").fromNow():"")},export:function(t,e){return e.engage?f()().add(e.engage,"second").fromNow():""}},{title:"Avg. stay Time (hh:mm:ss)",key:"stay",dataIndex:"stay",render:function(t,e){return u.a.createElement("span",null,e.stay?f()().add(e.stay,"second").fromNow():"")},export:function(t,e){return e.stay?f()().add(e.stay,"second").fromNow():""}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Average Waiting/engaged Time Day Wise",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component);function rt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ot(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?rt(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):rt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var it=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentMonthWait=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.lc,(function(e){t.setState({appointmentMonthWait:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.state={appointmentMonthWait:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentMonthWait=a.loadAppointmentMonthWait.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentMonthWait(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentMonthWait()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentMonthWait,a=[],n=1;n<=e.length;n++)a.push(ot({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Time Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("DD MMM YYYY"))},export:function(t,e){return f()(e.date).format("DD MMM YYYY")}},{title:"Avg. waiting Time(hh:mm:ss)",key:"wait",dataIndex:"wait",render:function(t,e){return u.a.createElement("span",null,e.wait?f()().add(e.wait,"second").fromNow():"")},export:function(t,e){return e.wait?f()().add(e.wait,"second").fromNow():""}},{title:"Avg. engaged Time(hh:mm:ss)",key:"engage",dataIndex:"engage",render:function(t,e){return u.a.createElement("span",null,e.engage?f()().add(e.engage,"second").fromNow():"")},export:function(t,e){return e.engage?f()().add(e.engage,"second").fromNow():""}},{title:"Avg. stay Time (hh:mm:ss)",key:"stay",dataIndex:"stay",render:function(t,e){return u.a.createElement("span",null,e.stay?f()().add(e.stay,"second").fromNow():"")},export:function(t,e){return e.stay?f()().add(e.stay,"second").fromNow():""}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Average Waiting/engaged Time Month Wise",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component);function st(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function lt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?st(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):st(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ct=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentCancellation=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.lc,(function(e){console.log(Object.entries(e)),t.setState({appointmentCancel:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={appointmentCancel:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadAppointmentCancellation=a.loadAppointmentCancellation.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentCancellation(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentCancellation()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentCancel,a=[],n=1;n<=e.length;n++)a.push(lt({s_no:n},e[n-1]));var r=["#FFBB28","#FF8042"],o=a.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Cancellations Numbers",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0&&o?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.type+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},a.map((function(t,e){return u.a.createElement(L.c,{fill:r[e%r.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:o})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Status",key:"type",dataIndex:"type"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:a}))}}]),e}(u.a.Component);function pt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ut(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?pt(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var dt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentDaily=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.lc,(function(e){t.setState({appointmentDaily:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.state={appointmentDaily:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentDaily=a.loadAppointmentDaily.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentDaily(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentDaily()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentDaily,a=[],n=1;n<=e.length;n++)a.push(ut({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("DD MMM "))},export:function(t,e){return f()(e.date).format("DD MMM ")}},{title:"Total Appointments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Appointment Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:[].concat(a).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Appointments",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#1DA57A",strokeWidth:4,label:u.a.createElement((function(t){var e=t.x,a=t.y,n=(t.stroke,t.value);return u.a.createElement("text",{x:e,y:a,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n)}),null)})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component);function mt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ht(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?mt(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):mt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ft=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadAppointmentMonthly=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(j.lc,(function(e){t.setState({appointmentMonthly:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.state={appointmentMonthly:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadAppointmentMonthly=a.loadAppointmentMonthly.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentMonthly(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentMonthly()}))}},{key:"render",value:function(){for(var t=this,e=this.state.appointmentMonthly,a=[],n=1;n<=e.length;n++)a.push(ht({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("MMMM YYYY"))},export:function(t,e){return f()(e.date).format("DD MMM YYYY")}},{title:"Total Appointments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Appointment Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:[].concat(a).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),gt=(u.a.Component,a(298));function yt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Et(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?yt(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var bt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={type:a.props.type,practice:a.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.categories&&(e.categories=a.props.categories.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),e.mail_to=t,Object(I.h)(j.lc,e)},a.state={patient_conversion:[],distinct_patients:"",startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadPatientConversion=a.loadPatientConversion.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientConversion(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPatientConversion()}))}},{key:"loadPatientConversion",value:function(){var t=this;t.setState({loading:!0});var e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(M.c)(j.lc,(function(e){t.setState({patient_conversion:e.data,distinct_patients:e.distinct_patients,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.patient_conversion,n=[],r=1;r<=a.length;r++)n.push(Et({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",dataIndex:"date"},{title:"Patient Id",key:"custom_id",dataIndex:"custom_id"},{title:"Patient Name",key:"patient_name",dataIndex:"patient_name"},{title:"Gender",key:"gender",dataIndex:"gender"},{title:"Contact Number",key:"mobile",dataIndex:"mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},exports:function(t){return t}},{title:"Email",key:"email",dataIndex:"email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},exports:function(t){return t}},{title:"Address",key:"address",dataIndex:"address"},{title:"Source",key:"source",dataIndex:"source"},{title:"Last Patient Note",key:"last_note",dataIndex:"last_note",render:function(t,e){return u.a.createElement("span",null,e.last_note?e.last_note+"( "+e.note_by+")":"")}},{title:"Last Payments",key:"invoice_total",dataIndex:"invoice_total"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Conversion",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Conversions",value:this.state.distinct_patients}))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component),vt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.state={sidePanelColSpan:4,appointmentReports:[],type:"ALL",advancedOptionShow:!0,appointmentCategory:[],categories:"",practiceDoctors:[]},a.loadAppointmentCategory=a.loadAppointmentCategory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAppointmentCategory(),Object(I.d)(this)}},{key:"loadAppointmentCategory",value:function(){var t=this;Object(M.c)(Object(M.f)(j.p,[this.props.active_practiceId]),(function(e){t.setState({appointmentCategory:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this,e=this.state,a=e.sidePanelColSpan,n=e.type,r=e.advancedOptionShow,o=e.practiceDoctors,i=e.appointmentCategory;return u.a.createElement("div",null,u.a.createElement("h2",null,"Appointments Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:a?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(a)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-a},n==Y.e?u.a.createElement(z,Object.assign({type:Y.e},this.state,this.props)):null,n==Y.m?u.a.createElement(V,Object.assign({},this.state,this.props)):null,n==Y.n?u.a.createElement(X,Object.assign({},this.state,this.props)):null,n==Y.o?u.a.createElement(tt,Object.assign({},this.state,this.props)):null,n==Y.s?u.a.createElement(nt,Object.assign({},this.state,this.props)):null,n==Y.t?u.a.createElement(it,Object.assign({},this.state,this.props)):null,n==Y.w?u.a.createElement(ct,Object.assign({},this.state,this.props)):null,n==Y.E?u.a.createElement(dt,Object.assign({},this.state,this.props)):null,n==Y.fb?u.a.createElement(ft,Object.assign({},this.state,this.props)):null,n==Y.p?u.a.createElement(bt,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:a},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.e,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Appointments"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.e},"All Appointments"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.e.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),r?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},o.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Appointment Categories"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Category",onChange:function(e){return t.handleChangeOption("categories",e)}},i.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Exclude Cancelled"))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),Dt=a(247),Ot=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadTreatmentEachDoctor=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(Object(M.f)(j.jb,[t.props.active_practiceId]),(function(e){t.setState({treatmentEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(I.h)(Object(M.f)(j.jb,[e.props.active_practiceId]),n)},a.state={treatmentEachDoctor:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadTreatmentEachDoctor=a.loadTreatmentEachDoctor.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTreatmentEachDoctor(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentEachDoctor()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Total Treatments",key:"count",dataIndex:"count"}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.treatmentEachDoctor.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Treatments For Each Patient Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.treatmentEachDoctor.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.doctor+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:Object(Dt.a)(this.state.treatmentEachDoctor).reverse(),cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.treatmentEachDoctor.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:r})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.treatmentEachDoctor}))}}]),e}(u.a.Component),_t=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(I.h)(Object(M.f)(j.jb,[e.props.active_practiceId]),n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyTreatments=a.loadDailyTreatments.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyTreatments(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyTreatments()}))}},{key:"loadDailyTreatments",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),is_complete:!!this.props.is_complete};this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(M.c)(Object(M.f)(j.jb,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"abcd",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("ll"))},export:function(t,e){return f()(e.date).format("ll")}},{title:"Total Treatments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Treatments Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:Object(Dt.a)(this.state.report).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Treatments",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:4})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),xt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadTreatmentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(Object(M.f)(j.jb,[t.props.active_practiceId]),(function(e){t.setState({treatmentPerformed:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(I.h)(Object(M.f)(j.jb,[e.props.active_practiceId]),n)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,treatmentPerformed:[],mailingUsersList:[]},a.loadTreatmentsReport=a.loadTreatmentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTreatmentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Performed On",key:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.schedule_at).format("DD MMM YYYY"))},export:function(t,e){return f()(e.schedule_at).format("DD MMM YYYY")}},{title:"Name",dataIndex:"procedure_name",key:"procedure_name"},{title:"Performed by",key:"doctor",dataIndex:"doctor"},{title:"Total Treatments",key:"quantity",dataIndex:"quantity"}],n=this.state.treatmentPerformed.reduce((function(t,e){return t+e.quantity}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"All Treatments Performed",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Treatments",value:n}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.treatmentPerformed}))}}]),e}(u.a.Component),jt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadTreatmentMonthly=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(Object(M.f)(j.jb,[t.props.active_practiceId]),(function(e){t.setState({treatmentMonthly:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(I.h)(Object(M.f)(j.jb,[e.props.active_practiceId]),n)},a.state={treatmentMonthly:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadTreatmentMonthly=a.loadTreatmentMonthly.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTreatmentMonthly(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentMonthly()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"date",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("MMMM YYYY"))},export:function(t,e){f()(e.date).format("ll")}},{title:"Total Treatments",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Treatments Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.treatmentMonthly.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Dt.a)(this.state.treatmentMonthly).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:this.state.total})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.treatmentMonthly}))}}]),e}(u.a.Component),St=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadTreatmentWithCategory=function(){var t=Object(s.a)(a);a.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),is_complete:!!a.props.is_complete};a.props.doctors&&(e.doctors=a.props.doctors.toString()),Object(M.c)(Object(M.f)(j.jb,[t.props.active_practiceId]),(function(e){t.setState({treatmentCategory:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(n.payment_status=a.props.payment_status),a.props.type&&(n.type=a.props.type),a.props.bed_packages&&(n.bed_packages=a.props.bed_packages.join(",")),n.mail_to=t,Object(I.h)(Object(M.f)(j.jb,[e.props.active_practiceId]),n)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,treatmentCategory:[],activeIndex:0,mailingUsersList:[]},a.loadTreatmentWithCategory=a.loadTreatmentWithCategory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTreatmentWithCategory(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentWithCategory()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Treatment Category",key:"procedure_name",dataIndex:"procedure_name"},{title:"Total Treatments",key:"count",dataIndex:"count"}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Treatments By Category",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.treatmentCategory.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.procedure_name+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:Object(Dt.a)(this.state.treatmentCategory).reverse(),cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.treatmentCategory.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.treatmentCategory}))}}]),e}(u.a.Component),Mt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({is_complete:!a.state.is_complete})},a.state={startDate:a.props.startDate,endDate:a.props.endDate,type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,practiceDoctors:[]},Object(I.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"EMR Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.k?u.a.createElement(xt,Object.assign({},this.state,this.props)):null,this.state.type==Y.K?u.a.createElement(_t,Object.assign({},this.state,this.props)):null,this.state.type==Y.cc?u.a.createElement(Ot,Object.assign({},this.state,this.props)):null,this.state.type==Y.lb?u.a.createElement(jt,Object.assign({},this.state,this.props)):null,this.state.type==Y.dc?u.a.createElement(St,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.k,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Treatments"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.k},"All Treatments Performed"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.C.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Only Completed"))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),Yt=a(1710),kt=a.n(Yt);function Pt(t,e,a,n,r,o,i){try{var s=t[o](i),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(n,r)}function It(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function i(t){Pt(o,n,r,i,s,"next",t)}function s(t){Pt(o,n,r,i,s,"throw",t)}i(void 0)}))}}var Rt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).componentDidMount=It(kt.a.mark((function t(){return kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.ExpenseReport();case 2:Object(I.e)(Object(s.a)(a));case 3:case"end":return t.stop()}}),t)}))),a.ExpenseReport=It(kt.a.mark((function t(){var e,n,r,o;return kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(s.a)(a),a.setState({loading:!0}),n=function(t){e.setState({report:t,loading:!1})},r=function(){e.setState({loading:!1})},o={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId},a.props.payment_mode&&(o.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(o.expense_type=a.props.expense_type.toString()),Object(M.c)(j.ob,n,r,o);case 8:case"end":return t.stop()}}),t)}))),a.sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};a.props.payment_mode&&(n.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(n.expense_type=a.props.expense_type.toString()),n.mail_to=t,Object(I.h)(j.ob,n,!0,!0)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.ExpenseReport=a.ExpenseReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.ExpenseReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Date",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.expense_date).format("DD MMM YYYY"))},export:function(t,e){return f()(e.expense_date).format("ll")}},{title:"\tExpense Type",dataIndex:"expense_type.name",key:"name",export:function(t,e){return e.expense_type.name}},{title:"Expense Amount (INR)",dataIndex:"amount",key:"amount"},{title:"Mode Of Payment",dataIndex:"payment_mode.mode",key:"payment_mode",export:function(t,e){return e.payment_mode.mode}},{title:"Vendor",dataIndex:"vendor.name",key:"vendor.name",export:function(t,e){return e.vendor.name}},{title:"Notes",dataIndex:"remark",key:"remark"}],n=this.state.report.reduce((function(t,e){return t+e.amount}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Expense (INR)",value:n}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),wt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};a.props.payment_mode&&(n.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(n.expense_type=a.props.expense_type.toString()),n.mail_to=t,Object(I.h)(j.pb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyExpense=a.loadDailyExpense.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyExpense(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyExpense()}))}},{key:"loadDailyExpense",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(M.c)(j.pb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("DD MMM"))},export:function(t,e){return f()(e.date).format("DD MMM")}},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],n=this.state.report.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Expense",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Dt.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Expenses(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"total",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:n})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Ct=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};a.props.payment_mode&&(n.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(n.expense_type=a.props.expense_type.toString()),n.mail_to=t,Object(I.h)(j.pb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyExpense=a.loadMonthlyExpense.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMonthlyExpense(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyExpense()}))}},{key:"loadMonthlyExpense",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(M.c)(j.pb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("MMMM YYYY"))},export:function(t,e){return f()(e.date).format("MMM YYYY")}},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],n=this.state.report.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Expense",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Dt.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("MMM YY")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Expenses(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"total",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:n})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),At=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={type:e.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};a.props.payment_mode&&(n.payment_mode=a.props.payment_mode.toString()),a.props.expense_type&&(n.expense_type=a.props.expense_type.toString()),n.mail_to=t,Object(I.h)(j.pb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadExpenseEachType=a.loadExpenseEachType.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadExpenseEachType(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadExpenseEachType()}))}},{key:"loadExpenseEachType",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(M.c)(j.pb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Expense Name",key:"expense",dataIndex:"expense"},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],n=["#89b9d8","#8fc6eb","#81dac9","#f39e94","#bb98c9","#73c1c1"],r=this.state.report.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses Type",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0&&r?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.expense+","+p.total),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:r})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Lt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.state={advancedOptionShow:!0,expenseTypeOption:[],paymentModeOption:[],sidePanelColSpan:4,type:"ALL"},a.loadExpenseType=a.loadExpenseType.bind(Object(s.a)(a)),a.loadPaymentMode=a.loadPaymentMode.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadExpenseType(),this.loadPaymentMode()}},{key:"loadExpenseType",value:function(){var t=this;Object(M.c)(Object(M.f)(j.qb,[this.props.active_practiceId]),(function(e){t.setState({expenseTypeOption:e})}),(function(){}))}},{key:"loadPaymentMode",value:function(){var t=this;Object(M.c)(Object(M.f)(j.zc,[this.props.active_practiceId]),(function(e){t.setState({paymentModeOption:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Expenses Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.f?u.a.createElement(Rt,Object.assign({},this.props,this.state)):null,this.state.type==Y.G?u.a.createElement(wt,Object.assign({},this.props,this.state)):null,this.state.type==Y.hb?u.a.createElement(Ct,Object.assign({},this.props,this.state)):null,this.state.type==Y.T?u.a.createElement(At,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.f,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Expenses"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.f},"All Expenses"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.I.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Expense Type"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Expense Type",onChange:function(e){return t.handleChangeOption("expense_type",e)}},this.state.expenseTypeOption.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Modes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Payment Modes",onChange:function(e){return t.handleChangeOption("payment_mode",e)}},this.state.paymentModeOption.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.mode)}))))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),Tt=(a(263),a(264));function Ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Nt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ft(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ft(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Bt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadInvoices=function(){var t=Object(s.a)(a),e={practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!a.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.products&&(e.products=a.props.products.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.treatments&&(e.treatments=a.props.treatments.toString()),Object(M.c)(j.wb,(function(e){t.setState({invoiceReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(I.h)(j.wb,n)},a.state={inventoryReports:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,invoiceReports:[],mailingUsersList:[]},a.loadInvoices=a.loadInvoices.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadInvoices(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadInvoices()}))}},{key:"render",value:function(){for(var t=this,e=this.state.invoiceReports,a=[],n=0,r=0,o=0,i=0,s=0,l=0;l<e.length;l++)r+=e[l].cost,o+=e[l].taxes,n+=e[l].total,i+=e[l].total-e[l].cost,s+=e[l].total-e[l].cost-e[l].taxes;a.push({sale_amount:n,tax_amount:o,cost_amount:r,profit_before_tax:i,profit_after_tax:s});var c=[],p=[];e.map((function(t){if(t.reservation){var e=t.reservation_data.medicines.map((function(t){return Nt({},t,{unit:1,total:t.final_price,unit_cost:t.price,discount:0})})),a={NORMAL:{total:"final_normal_price",tax:"normal_tax_value",unit_cost:"normal_price"},TATKAL:{total:"final_tatkal_price",tax:"tatkal_tax_value",unit_cost:"tatkal_price"}};c=[].concat(Object(Dt.a)(c),[Nt({},t.reservation_data.bed_package,{unit:1,total:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].total]:null,tax_value:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].tax]:null,unit_cost:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].unit_cost]:null})],Object(Dt.a)(e))}p.push(Nt({},t,{treatment:[].concat(Object(Dt.a)(c),Object(Dt.a)(t.procedure),Object(Dt.a)(t.inventory))}))}));var m=1,h=[{title:"Total Sales (INR)",key:"sale_amount",dataIndex:"sale_amount",render:function(t,e){return u.a.createElement("span",null,e.sale_amount.toFixed(2))},export:function(t,e){return e.sale_amount.toFixed(2)}},{title:"Total Cost (INR)",key:"cost_amount",dataIndex:"cost_amount",render:function(t,e){return u.a.createElement("span",null,e.cost_amount.toFixed(2))},export:function(t,e){return e.cost_amount.toFixed(2)}},{title:"Total Profit before Tax(INR)",key:"tax_with_out",dataIndex:"profit_before_tax",render:function(t,e){return u.a.createElement("span",null,e.profit_before_tax.toFixed(2))},export:function(t,e){return e.profit_before_tax.toFixed(2)}},{title:"Total Tax(INR)",key:"tax_amount",dataIndex:"tax_amount",render:function(t,e){return u.a.createElement("span",null,e.tax_amount.toFixed(2))},export:function(t,e){return e.tax_amount.toFixed(2)}},{title:"Total Profit after Tax(INR)",key:"tax_with",dataIndex:"profit_after_tax",render:function(t,e){return u.a.createElement("span",null,e.profit_after_tax.toFixed(2))},export:function(t,e){return e.profit_after_tax.toFixed(2)}}],g=[{title:"S. No",key:"sno",render:function(t,e){return u.a.createElement("span",null," ",m++)},width:50},{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.created_at).format("ll"))},export:function(t,e){return f()(e.created_at).format("ll")}},{title:"Invoice Number",key:"invoice_id",dataIndex:"invoice_id"},{title:"Patient",key:"patient",dataIndex:"patient",render:function(t,e){return u.a.createElement("span",null,e.patient?e.patient.user.first_name:e.patient)},export:function(t,e){return e.patient?e.patient.user.first_name:e.patient}},{title:"Treatments & Products",key:"treatments",render:function(t,e){return u.a.createElement("span",null,e.treatment.map((function(t){return u.a.createElement(Tt.a,null,t.name)})))},export:function(t,e){return e.treatment.map((function(t){return t.name+","}))}}];return"PRODUCTS"==this.props.income_type&&g.push({title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))},export:function(t,e){return e.cost.toFixed(2)}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))},export:function(t,e){return e.discount.toFixed(2)}},{title:"tax(INR)",key:"tax",dataIndex:"taxes",render:function(t,e){return u.a.createElement("span",null,e.taxes.toFixed(2))},export:function(t,e){return e.taxes.toFixed(2)}},{title:"Invoice Amount(INR)",key:"amount",dataIndex:"total",render:function(t,e){return u.a.createElement("span",null,e.total.toFixed(2))},export:function(t,e){return e.total.toFixed(2)}},{title:"Amount Paid(INR)",key:"tax",dataIndex:"tax"}),u.a.createElement("div",null,u.a.createElement("h2",null,"All Invoices",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(k.a,{loading:this.state.loading,columns:h,pagination:!1,dataSource:a}),u.a.createElement(G.a,{loading:this.state.loading,columns:g,pagination:!1,dataSource:p}))}}]),e}(u.a.Component),Gt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(I.h)(j.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyIncome=a.loadDailyIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyIncome(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyIncome()}))}},{key:"loadDailyIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(M.c)(j.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("ll"))},export:function(t,e){return f()(e.date).format("ll")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Income after Discount(INR)",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}},{title:"Income Amount(INR)",key:"income_amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Invoiced Income",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.report,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("ll")}}),u.a.createElement(L.o,{label:{value:"Income(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r.toFixed(2))}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Ut=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(I.h)(j.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyIncome=a.loadDailyIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyIncome(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyIncome()}))}},{key:"loadDailyIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(M.c)(j.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("MM YYYY"))},export:function(t,e){return f()(e.date).format("MM YYYY")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Income after Discount(INR)",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}},{title:"Income Amount(INR)",key:"income_amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Invoiced Income",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.report,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("MM YYYY")}}),u.a.createElement(L.o,{label:{value:"Income(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r.toFixed(2))}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Wt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(I.h)(j.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadTaxedIncome=a.loadTaxedIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadTaxedIncome(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTaxedIncome()}))}},{key:"loadTaxedIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(M.c)(j.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Tax Name",key:"name",dataIndex:"name"},{title:"Tax (INR)",key:"tax",dataIndex:"total",render:function(t,e){return u.a.createElement("span",null,e.total.toFixed(2))}}],n=["#FFBB28","#FF8042","#1DA57A"],r=this.state.report.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Taxed Invoiced Income",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0&&r?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.total.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),zt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(I.h)(j.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,practiceDoctors:[],mailingUsersList:[]},a.loadEachDoctorIncome=a.loadEachDoctorIncome.bind(Object(s.a)(a)),Object(I.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachDoctorIncome(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachDoctorIncome()}))}},{key:"loadEachDoctorIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(M.c)(j.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor",render:function(e,a){return u.a.createElement("span",null,"NA"==a.doctor?u.a.createElement("span",null,"No Doctor assigned"):u.a.createElement(u.a.Fragment,null,t.state.practiceDoctors.map((function(t){return t.id==a.doctor?u.a.createElement("span",null,t.user.first_name):null}))))}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,e.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Patient Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(e){var a=Math.PI/180,n=e.cx,r=e.cy,o=e.midAngle,i=e.innerRadius,s=e.outerRadius,l=e.startAngle,c=e.endAngle,p=e.fill,d=e.payload,m=e.percent,h=(e.value,Math.sin(-a*o)),f=Math.cos(-a*o),g=n+(s+10)*f,y=r+(s+10)*h,E=n+(s+30)*f,b=r+(s+30)*h,v=E+22*(f>=0?1:-1),D=b,O=f>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c,fill:p}),u.a.createElement(L.l,{cx:n,cy:r,startAngle:l,endAngle:c,innerRadius:s+6,outerRadius:s+10,fill:p}),u.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(b,"L").concat(v,",").concat(D),stroke:p,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:p,stroke:"none"}),u.a.createElement("text",{x:v+12*(f>=0?1:-1),y:D,textAnchor:O,fill:"#333"},"NA"==d.doctor?"No Doctor assigned":u.a.createElement(u.a.Fragment,null,t.state.practiceDoctors.map((function(t){return t.id==d.doctor?u.a.createElement(u.a.Fragment,null,t.user.first_name):null})))),u.a.createElement("text",{x:v+12*(f>=0?1:-1),y:D,dy:18,textAnchor:O,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Kt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(I.h)(j.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachProcedureIncome=a.loadEachProcedureIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachProcedureIncome(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProcedureIncome()}))}},{key:"loadEachProcedureIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(M.c)(j.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Treatment Category",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,e.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Procedure",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Ht=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(I.h)(j.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadPatientGroupsIncome=a.loadPatientGroupsIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroupsIncome(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPatientGroupsIncome()}))}},{key:"loadPatientGroupsIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(M.c)(j.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Patient Group",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Patient Group",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Vt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n={practice:e.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!a.props.is_cancelled};e.props.income_type&&(n.income_type=e.props.income_type),e.props.discount&&(n.discount=e.props.discount),a.props.patient_groups&&(n.groups=a.props.patient_groups.toString()),a.props.products&&(n.products=a.props.products.toString()),a.props.doctors&&(n.doctors=a.props.doctors.toString()),a.props.taxes&&(n.taxes=a.props.taxes.toString()),a.props.treatments&&(n.treatments=a.props.treatments.toString()),n.mail_to=t,Object(I.h)(j.wb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachProductIncome=a.loadEachProductIncome.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachProductIncome(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProductIncome()}))}},{key:"loadEachProductIncome",value:function(){var t=this;t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(M.c)(j.wb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Item Destock",key:"name",dataIndex:"name"},{title:"Quantity",key:"quantity",dataIndex:"product"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,e.discount_value.toFixed(2))}},{title:"Income After Discount",key:"income_after_discount",render:function(t,e){return u.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))}},{title:"Tax (INR)",key:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax_value.toFixed(2))}},{title:"Invoiced Amount(INR)",key:"amount",render:function(t,e){return u.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.report.reduce((function(t,e){return t+e.cost}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Income For Each Product",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:r.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),qt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({is_cancelled:!a.state.is_cancelled})},a.state={advancedOptionShow:!0,sidePanelColSpan:4,type:"ALL",practiceDoctors:[],patientGroup:[],vendorOption:[],taxes_list:[],productItems:[],treatment_data:[]},Object(I.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a.loadTaxes=a.loadTaxes.bind(Object(s.a)(a)),a.loadProductItem=a.loadProductItem.bind(Object(s.a)(a)),a.loadTreatments=a.loadTreatments.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadTaxes(),this.loadProductItem(),this.loadTreatments()}},{key:"loadProductItem",value:function(){var t=this;Object(M.c)(j.Lc,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"loadPatientGroup",value:function(){var t=this;Object(M.c)(Object(M.f)(j.qc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"loadTaxes",value:function(){var t=this;Object(M.c)(Object(M.f)(j.Dd,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}},{key:"loadTreatments",value:function(){var t=this;Object(M.c)(Object(M.f)(j.Kc,[this.props.active_practiceId]),(function(e){t.setState({treatment_data:e})}),(function(){}),{pagination:!1})}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Income Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.j?u.a.createElement(Bt,Object.assign({},this.props,this.state)):null,this.state.type==Y.H?u.a.createElement(Gt,Object.assign({},this.props,this.state)):null,this.state.type==Y.ib?u.a.createElement(Ut,Object.assign({},this.props,this.state)):null,this.state.type==Y.Xb?u.a.createElement(Wt,Object.assign({},this.props,this.state)):null,this.state.type==Y.Q?u.a.createElement(zt,Object.assign({},this.props,this.state)):null,this.state.type==Y.Gb?u.a.createElement(Kt,Object.assign({},this.props,this.state)):null,this.state.type==Y.xb?u.a.createElement(Ht,Object.assign({},this.props,this.state)):null,this.state.type==Y.Hb?u.a.createElement(Vt,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.h,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Income"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.h},"All Invoice"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.U.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Show income from"),u.a.createElement(D.a.Group,{style:{width:"100%",display:"inline-grid"},onChange:function(e){return t.handleChangeOption("income_type",e.target.value)}},S.Ab.map((function(t){return u.a.createElement(D.a,{value:t.value}," ",t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Discount"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:function(e){return t.handleChangeOption("discount",e)}},S.w.map((function(t){return u.a.createElement(d.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Products",onChange:function(e){return t.handleChangeOption("products",e)}},this.state.productItems.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Treatments"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:function(e){return t.handleChangeOption("treatments",e)}},this.state.treatment_data.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(e){return t.handleChangeOption("taxes",e)}},this.state.taxes_list.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Exclude Cancelled"))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),Jt=(a(248),a(251)),Qt=(a(238),a(239)),Xt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).state={inventoryList:[],loading:!1},a.loadData=a.loadData.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var t=this;t.setState({loading:!0});var e={bill_number:this.props.bill_number,supplier:this.props.supplier,date:this.props.date};(this.props.bill_number||this.props.supplier)&&Object(M.c)(j.Ad,(function(e){t.setState({inventoryList:e.results,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=[{title:"name",key:"name",dataIndex:"inventory_item_data.name"},{title:"Batch",key:"batch_number",dataIndex:"batch_number"},{title:"Expiry Date",key:"expiry_date",dataIndex:"expiry_date"},{title:"Item Type",key:"item_type",dataIndex:"inventory_item_data.item_type"},{title:"ADD/CONSUME",key:"item_add_type",dataIndex:"item_add_type"},{title:"Type of Consumption",key:"type_of_consumption",dataIndex:"type_of_consumption"},{title:"Bill File",key:"bill_file",dataIndex:"bill_file",render:function(t){return t?u.a.createElement("a",{target:"_blank",href:Object(M.g)(t)},"Bill"):null}},{title:"Quantity",key:"quantity",dataIndex:"quantity"},{title:"Unit Cost",key:"unit_cost",dataIndex:"unit_cost"},{title:"Total Cost",key:"total_cost",dataIndex:"total_cost"}];return u.a.createElement("div",null,u.a.createElement(k.a,{loading:this.state.loading,bordered:!0,rowKey:function(t){return t.id},pagination:!1,columns:t,dataSource:this.state.inventoryList}))}}]),e}(u.a.Component),Zt=a(261),$t=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};e.state.bill_number&&(n.bill_number=e.state.bill_number),e.state.supplier&&(n.supplier=e.state.supplier.toString()),e.state.invoice&&(n.invoice=1),e.state.inventory&&(n.inventory=1),n.mail_to=t,Object(I.h)(j.w,n)},a.handleSubmit=function(t){var e=Object(s.a)(a);t.preventDefault(),a.props.form.validateFieldsAndScroll((function(t,a){console.log(a),t||e.setState({bill_number:a.bill_number,supplier:a.supplier,inventory:a.inventory,invoice:a.invoice},(function(){e.loadBillSupplier()}))}))},a.onChangeCheckbox=function(t,e){a.setState(Object(x.a)({},t,!e))},a.state={loading:!1,billSuplier:[],startDate:a.props.startDate,endDate:a.props.endDate,nextItemPage:null,supplierList:[],inventory:!0,invoice:!0,mailingUsersList:[]},a.loadBillSupplier=a.loadBillSupplier.bind(Object(s.a)(a)),a.loadSupplierList=a.loadSupplierList.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBillSupplier(),this.loadSupplierList(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBillSupplier()}))}},{key:"loadBillSupplier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.setState({loading:!0});var a=function(t){e.setState((function(e){return 1==t.current?{loading:!1,billSuplier:t.results,nextItemPage:t.next}:{loading:!1,billSuplier:[].concat(Object(Dt.a)(e.billSuplier),Object(Dt.a)(t.results)),nextItemPage:t.next}}))},n=function(){e.setState({loading:!1})},r={page:t,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};e.state.bill_number&&(r.bill_number=e.state.bill_number),e.state.supplier&&(r.supplier=e.state.supplier.toString()),e.state.invoice&&(r.invoice=1),e.state.inventory&&(r.inventory=1),Object(M.c)(j.w,a,n,r)}},{key:"expandIcon",value:function(t){return u.a.createElement(_.a,{onClick:function(e){return t.onExpand(t.record,e)}},"view detail")}},{key:"loadSupplierList",value:function(){var t=this,e={practice:this.props.active_practiceId};Object(M.c)(Object(M.f)(j.Cd,[this.props.active_practiceId]),(function(e){t.setState({supplierList:e})}),(function(){}),e)}},{key:"handleChange",value:function(t,e){this.props.form.setFieldsValue(Object(x.a)({},t,e))}},{key:"render",value:function(){var t=this,e=this,a=this.props.form.getFieldDecorator,n=[{title:"Date",key:"date",dataIndex:"date",render:function(t){return u.a.createElement("span",null,t||"")}},{title:"Bill Number",key:"bill_number",dataIndex:"bill_number"},{title:"Supplier ",key:"name",dataIndex:"supplier_data.name"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(b.a,{bodyStyle:{padding:0},extra:u.a.createElement("div",null,u.a.createElement(Qt.a,{layout:"inline",onSubmit:this.handleSubmit},u.a.createElement(Qt.a.Item,{label:"Invoice"},a("invoice",{valuePropName:"checked",initialValue:this.state.invoice})(u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox("invoice",e)}}))),u.a.createElement(Qt.a.Item,{label:"Inventory"},a("inventory",{valuePropName:"checked",initialValue:this.state.inventory})(u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox("inventory",e)}}))),u.a.createElement(Qt.a.Item,{label:"Bill Number"},a("bill_number",{})(u.a.createElement(Jt.a,{placeholder:"Bill Numbers"}))),u.a.createElement(Qt.a.Item,{key:"supplier",label:"Supplier"},a("supplier",{initialValue:this.state.supplierList?this.state.supplierList.name:null},{rules:[{required:!0,message:"This field required!"}],onChange:this.handleChange})(u.a.createElement(d.a,{placeholder:"Supplier",style:{minWidth:150},mode:"multiple"},this.state.supplierList.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))))),u.a.createElement(Qt.a.Item,null,u.a.createElement(_.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"))))},u.a.createElement(k.a,{loading:this.state.loading,bordered:!0,rowKey:function(t){return t.id},expandedRowRender:function(t){return u.a.createElement(Xt,Object.assign({},t,e.props))},columns:n,dataSource:this.state.billSuplier,pagination:!1}),u.a.createElement(Zt.a,{loaderFunction:function(){return t.loadBillSupplier(t.state.nextItemPage)},loading:this.state.loading,hidden:!this.state.nextItemPage})))}}]),e}(u.a.Component),te=Qt.a.create()($t),ee=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type};a.props.consume&&(n.consume=a.props.consume.toString()),a.props.product_item&&(n.product=a.props.product_item),n.mail_to=t,Object(I.h)(j.zb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyInventory=a.loadDailyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyInventory(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInventory()}))}},{key:"loadDailyInventory",value:function(){var t=this;t.setState({loading:!0});var e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(M.c)(j.zb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=this,a=e.state.report,n=[],r={},o=1;for(o=0;o<a.length;o++)a[o].date in r?r[a[o].date][a[o].type_of_consumption]=a[o].consume:(r[a[o].date]={SALES:0,SERVICES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},r[a[o].date][a[o].type_of_consumption]=a[o].consume);for(var i in r){var s={item_date:i,type:r[i],total_consumption:0},l=r[i].SALES+r[i].SERVICES+r[i].DAMAGED+r[i].RETURNED+r[i].ADJUSTMENT;s.total_consumption=l,n.push(s)}for(var c=[{title:"S. No",key:"sno",render:function(t,e){return u.a.createElement("span",null," ",o++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"item_date",render:function(t,e){return u.a.createElement("span",null,f()(e.item_date).format("DD MMM"))},export:function(t,e){return f()(e.item_date).format("DD MMM")}}],p=function(t){var a=S.Gb[t].value,n={title:S.Gb[t].label,key:S.Gb[t].value,render:function(t,e){return u.a.createElement("span",null,e.type[a])},export:function(t,e){return e.type.value}};e.props.consume.includes(S.Gb[t].value)&&c.push(n)},m=0;m<S.Gb.length;m++)p(m);c.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Inventory",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Dt.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("DD MMM")}}),u.a.createElement(L.o,{label:{value:"Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:c,dataSource:n}))}}]),e}(u.a.Component),ae=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type};a.props.consume&&(n.consume=a.props.consume.toString()),a.props.product_item&&(n.product=a.props.product_item),n.mail_to=t,Object(I.h)(j.zb,n)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyInventory=a.loadMonthlyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMonthlyInventory(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyInventory()}))}},{key:"loadMonthlyInventory",value:function(){var t=this;t.setState({loading:!0});var e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(M.c)(j.zb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=this,a=e.state.report,n=[],r={};for(l=0;l<a.length;l++)a[l].date in r?r[a[l].date][a[l].type_of_consumption]=a[l].consume:(r[a[l].date]={SERVICES:0,SALES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},r[a[l].date][a[l].type_of_consumption]=a[l].consume);for(var o in r){var i={item_date:o,type:r[o],total_consumption:0},s=r[o].SERVICES+r[o].SALES+r[o].DAMAGED+r[o].RETURNED+r[o].ADJUSTMENT;i.total_consumption=s,n.push(i)}for(var l=1,c=[{title:"S. No",key:"sno",render:function(t,e){return u.a.createElement("span",null," ",l++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"item_date",render:function(t,e){return u.a.createElement("span",null,f()(e.item_date).format("MMM YYYY"))},export:function(t,e){return f()(e.item_date).format("MMM YYYY")}}],p=function(t){var a=S.Gb[t].value,n={title:S.Gb[t].label,key:S.Gb[t].value,render:function(t,e){return u.a.createElement("span",null,e.type[a])},export:function(t,e){return e.type.value}};e.props.consume.includes(S.Gb[t].value)&&c.push(n)},m=0;m<S.Gb.length;m++)p(m);c.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Inventory",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Dt.a)(this.state.report).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("MMM YY")}}),u.a.createElement(L.o,{label:{value:"Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:c,dataSource:n}))}}]),e}(u.a.Component),ne=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e=Object(s.a)(a),n={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:e.props.type};a.props.consume&&(n.consume=a.props.consume.toString()),a.props.product_item&&(n.product=a.props.product_item),n.mail_to=t,Object(I.h)(j.zb,n)},a.state={reportItem_wise:[],reportTotal:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyInventory=a.loadDailyInventory.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyInventory(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInventory()}))}},{key:"loadDailyInventory",value:function(){var t=this;t.setState({loading:!0});var e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(M.c)(j.zb,(function(e){t.setState({report:e,reportItem_wise:e.item_wise,reportTotal:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){var t=this,e=this,a=e.state.reportItem_wise,n=[],r={};for(l=0;l<a.length;l++)a[l].inventory_item__name in r?r[a[l].inventory_item__name][a[l].type_of_consumption]=a[l].consume:(r[a[l].inventory_item__name]={SALES:0,SERVICES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0},r[a[l].inventory_item__name][a[l].type_of_consumption]=a[l].consume);for(var o in r){var i={item_name:o,type:r[o],total_consumption:0},s=r[o].SALES+r[o].SERVICES+r[o].DAMAGED+r[o].RETURNED+r[o].ADJUSTMENT;i.total_consumption=s,n.push(i)}for(var l=1,c=[{title:"S. No",key:"sno",render:function(t,e){return u.a.createElement("span",null," ",l++)},export:function(t,e,a){return a+1},width:50},{title:"Item Name",key:"inventory_item__name",dataIndex:"item_name"}],p=function(t){var a=S.Gb[t].value,n={title:S.Gb[t].label,key:S.Gb[t].value,render:function(t,e){return u.a.createElement("span",null,e.type[a])},export:function(t,e){return e.type.value}};e.props.consume.includes(S.Gb[t].value)&&c.push(n)},m=0;m<S.Gb.length;m++)p(m);c.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return u.a.createElement("div",null,u.a.createElement("h2",null,"Top Inventory",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.reportTotal.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:this.state.reportTotal,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"inventory_item__name"}),u.a.createElement(L.o,{label:{value:"Top Quantity Consumed",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:this.state.loading,columns:c,dataSource:n}))}}]),e}(u.a.Component),re=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.state={advancedOptionShow:!0,sidePanelColSpan:4,productItems:[],type:"ALL",consume:S.Gb.map((function(t){return t.value}))},a.loadProductItem=a.loadProductItem.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadProductItem()}},{key:"loadProductItem",value:function(){var t=this;Object(M.c)(j.Lc,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.g?u.a.createElement(te,Object.assign({},this.props,this.state)):null,this.state.type==Y.I?u.a.createElement(ee,Object.assign({},this.props,this.state)):null,this.state.type==Y.jb?u.a.createElement(ae,Object.assign({},this.props,this.state)):null,this.state.type==Y.ac?u.a.createElement(ne,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.g,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Inventory"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.g},"All Stock Update History"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.Z.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type!==Y.g?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(d.a,{style:{minWidth:"200px"},defaultValue:Y.d,onChange:function(e){return t.handleChangeOption("product_item",e)}},u.a.createElement(d.a.Option,{value:""},Y.d),this.state.productItems.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a.Group,{style:{width:"100%",display:"inline-grid"},defaultValue:S.Gb.map((function(t){return t.value})),onChange:function(e){return t.handleChangeOption("consume",e)}},S.Gb.map((function(t){return u.a.createElement(B.a,{value:t.value}," ",t.label)}))))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")):null))))}}]),e}(u.a.Component);function oe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ie(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?oe(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var se=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(I.h)(j.kc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyNewPatients=a.loadDailyNewPatients.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyNewPatients(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyNewPatients()}))}},{key:"loadDailyNewPatients",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(M.c)(j.kc,(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(ie({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("ll"))},export:function(t,e){return f()(e.date).format("ll")}},{title:"Patients",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:[].concat(a).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Total Patients",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:4})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component);function le(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ce(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?le(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var pe=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};e.mail_to=t,Object(I.h)(j.bc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadExpireMembership=a.loadExpireMembership.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadExpireMembership(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadExpireMembership()}))}},{key:"loadExpireMembership",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};Object(M.c)(j.bc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(ce({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:function(t,e){return e.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},export:function(t,e){return e.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},export:function(t,e){return e.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(t,e){return e.patient.gender}},{title:"Start Date",key:"start_date",dataIndex:"medical_from"},{title:"Valid Till",key:"valid_till",dataIndex:"medical_to"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Expiring Membership",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),e}(u.a.Component);function ue(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function de(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ue(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ue(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var me=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),e.mail_to=t,Object(I.h)(j.kc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyPatients=a.loadMonthlyPatients.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMonthlyPatients(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.offer==t.offer||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyPatients()}))}},{key:"loadMonthlyPatients",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),Object(M.c)(j.kc,(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(de({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Month",key:"month",render:function(t,e){return u.a.createElement("span",null,f()(e.month).format("MMM")," \xa0",f()(e.year).format("YYYY"))},export:function(t,e){return f()(e.month).format("MMM YYYY")}},{title:"Patients",key:"count",dataIndex:"count"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:[].concat(a).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("MMM YYYY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#413ea0",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total Patients",value:this.state.total})),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component);function he(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function fe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?he(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ge=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};e.mail_to=t,Object(I.h)(j.bc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadNewMembership=a.loadNewMembership.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadNewMembership(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadNewMembership()}))}},{key:"loadNewMembership",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};Object(M.c)(j.bc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(fe({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:function(t,e){return e.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},export:function(t,e){return e.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},export:function(t,e){return e.patient.user.email}},{title:"Membership Type",key:"membership_type",dataIndex:"medical_membership.name",export:function(t,e){return e.medical_membership.name}},{title:"Start Date",key:"start_date",dataIndex:"medical_from"},{title:"Valid Till",key:"valid_till",dataIndex:"medical_to"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"New Membership ",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component);function ye(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ee(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ye(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ye(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var be=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(I.h)(j.kc,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadNewPatient=a.loadNewPatient.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){"DETAILED"==this.props.type&&this.loadNewPatient(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){"DETAILED"==e.props.type&&this.loadNewPatient()}))}},{key:"loadNewPatient",value:function(){var t=this;t.setState({loading:!0});var e={type:t.props.type?t.props.type:"DETAILED",from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(M.c)(j.kc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Ee({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e){return u.a.createElement("span",null," ",e.s_no)},export:function(t,e,a){return a+1},width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.id)},exports:function(t,e){return e.custom_id?e.custom_id:e.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},exports:function(t){return t}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},exports:function(t){return t}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"New Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),e}(u.a.Component);function ve(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function De(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ve(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ve(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Oe=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD")};e.mail_to=t,Object(I.h)(j.ub,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadFirstAppointment=a.loadFirstAppointment.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadFirstAppointment(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadFirstAppointment()}))}},{key:"loadFirstAppointment",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};Object(M.c)(j.ub,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(De({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"appointment_time",render:function(t,e){return u.a.createElement("span",null,f()(e.appointment_time).format("LL"))},export:function(t,e){return f()(e.appointment_time).format("LL")}},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.patient_id)},exports:function(t,e){return e.custom_id?e.custom_id:e.patient_id}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients First AppointmentReport",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component);function _e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function xe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_e(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_e(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var je=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(I.h)(j.b,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadActivePatient=a.loadActivePatient.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadActivePatient(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.loadActivePatient()}))}},{key:"loadActivePatient",value:function(){var t=this;t.setState({loading:!0});var e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(M.c)(j.b,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(xe({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e){return u.a.createElement("span",null," ",e.s_no)},export:function(t,e,a){return a+1},width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.id)},exports:function(t,e){return e.custom_id?e.custom_id:e.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},exports:function(t){return t}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},exports:function(t){return t}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Active Patients Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),e}(u.a.Component);function Se(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Me(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Se(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ye=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(I.h)(j.kc,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadFollowUpPatient=a.loadFollowUpPatient.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadFollowUpPatient(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.loadFollowUpPatient()}))}},{key:"loadFollowUpPatient",value:function(){var t=this;t.setState({loading:!0});var e={follow_start:this.props.startDate.format("YYYY-MM-DD"),follow_end:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(M.c)(j.kc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Me({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.id)},exports:function(t,e){return e.custom_id?e.custom_id:e.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},exports:function(t){return t}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},exports:function(t){return t}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Follow Up Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Patients",value:this.state.report.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{hideReport:!0,loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component);function ke(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Pe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ke(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ke(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ie=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={from_date:a.props.startDate.format("YYYY-MM-DD"),to_date:a.props.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.blood_group&&(e.blood_group=a.props.blood_group),e.mail_to=t,Object(I.h)(j.kc,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,report:[],loading:!1,mailingUsersList:[]},a.loadPatientMedicine=a.loadPatientMedicine.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientMedicine(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.loadPatientMedicine()}))}},{key:"loadPatientMedicine",value:function(){var t=this;t.setState({loading:!0});var e={follow_start:this.props.startDate.format("YYYY-MM-DD"),follow_end:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(M.c)(j.kc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Pe({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:function(t,e){return u.a.createElement("span",null,e.custom_id?e.custom_id:e.id)},exports:function(t,e){return e.custom_id?e.custom_id:e.id}},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},exports:function(t){return t}},{title:"Email",key:"user.email",dataIndex:"user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},exports:function(t){return t}},{title:"Gender",key:"gender",dataIndex:"gender"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patient Medicine Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Patients",value:n.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,hideReport:!0,dataSource:n}))}}]),e}(u.a.Component),Re=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.state={type:"DETAILED",advancedOptionShow:!0,sidePanelColSpan:4,patientGroup:[],offerOption:[]},a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var t=this;Object(M.c)(Object(M.f)(j.qc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.qb?u.a.createElement(be,Object.assign({},this.props,this.state)):null,this.state.type==Y.J?u.a.createElement(se,Object.assign({},this.props,this.state)):null,this.state.type==Y.U?u.a.createElement(pe,Object.assign({},this.props,this.state)):null,this.state.type==Y.vb?u.a.createElement(Oe,Object.assign({},this.props,this.state)):null,this.state.type==Y.kb?u.a.createElement(me,Object.assign({},this.props,this.state)):null,this.state.type==Y.pb?u.a.createElement(ge,Object.assign({},this.props,this.state)):null,this.state.type==Y.a?u.a.createElement(je,Object.assign({},this.props,this.state)):null,this.state.type==Y.V?u.a.createElement(Ye,Object.assign({},this.props,this.state)):null,this.state.type==Y.cb?u.a.createElement(Ie,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.qb,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Patients"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.qb},"New Patients"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.kb.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==Y.qb||this.state.type==Y.J||this.state.type==Y.kb||this.state.type==Y.a||this.state.type==Y.V||this.state.type==Y.cb?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("h4",null,"Blood Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Blood Group",onChange:function(e){return t.handleChangeOption("blood_group",e)},allowClear:!0},S.k.map((function(t){return u.a.createElement(d.a.Option,{value:t.value},t.name)}))))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")):null))))}}]),e}(u.a.Component),we=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a),e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=[{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.shedule_at).format("LL"))}},{title:"Scheduled At\t",key:"time",render:function(t,e){return u.a.createElement("span",null,f()(e.shedule_at).format("HH:mm"))}},{title:"Patient",dataIndex:"age",key:"age"},{title:"Receipt Number",dataIndex:"age",key:"age"},{title:"Invoice(s)",dataIndex:"age",key:"age"},{title:"Treatments & Products",dataIndex:"age",key:"age"},{title:"Amount Paid (INR)\t",dataIndex:"patient_name",key:"patient_name"},{title:"Advance Amount (INR)",dataIndex:"address",key:"address"},{title:"Payment Info\t",dataIndex:"address",key:"address"},{title:"Vendor Fees (INR)",dataIndex:"address",key:"address"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Payments Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:e,dataSource:this.state.report}))}}]),e}(u.a.Component),Ce=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a),e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!0,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Credit Amount Per Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Ae=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Refund Payments",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Le=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Each Patient Group",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Te=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Patients With Unsettled Advance",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Fe=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Modes of Payment",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Ne=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Day",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Be=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Month",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Ge=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Received Per Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Ue=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Credit Notes",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),We=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Settlement",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),ze=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadPaymentsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={type:t.props.type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!a.props.exclude_cancelled};a.props.taxes&&(e.taxes=a.props.taxes.toString()),a.props.patient_groups&&(e.patient_groups=a.props.patient_groups.toString()),a.props.payment_mode&&(e.payment_mode=a.props.payment_mode.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.consume&&(e.consume=a.props.consume.toString()),Object(M.c)(Object(M.f)(j.Bc,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e=Object(s.a)(a),n=a.state,r=n.startDate,o=n.endDate,i=a.props,l={practice:i.active_practiceId,type:i.type,start:r.format("YYYY-MM-DD"),end:o.format("YYYY-MM-DD")};l.mail_to=t,Object(I.h)(Object(M.f)(j.Bc,[e.props.active_practiceId]),l)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadPaymentsReport=a.loadPaymentsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPaymentsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Payment Settlement Per Doctor",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.report}))}}]),e}(u.a.Component),Ke=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.state={advancedOptionShow:!0,paymentModeOption:[],sidePanelColSpan:4,type:"ALL",practiceDoctors:[],patientGroup:[],vendorOption:[],taxes_list:[]},Object(I.d)(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),a.loadPaymentMode=a.loadPaymentMode.bind(Object(s.a)(a)),a.loadTaxes=a.loadTaxes.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadPaymentMode(),this.loadTaxes()}},{key:"loadPatientGroup",value:function(){var t=this;Object(M.c)(Object(M.f)(j.qc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"loadPaymentMode",value:function(){var t=this;Object(M.c)(Object(M.f)(j.zc,[this.props.active_practiceId]),(function(e){t.setState({paymentModeOption:e})}),(function(){}))}},{key:"loadTaxes",value:function(){var t=this;Object(M.c)(Object(M.f)(j.Dd,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Payments Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.j?u.a.createElement(we,Object.assign({},this.props,this.state)):null,this.state.type==Y.Cb?u.a.createElement(Ae,Object.assign({},this.props,this.state)):null,this.state.type==Y.yb?u.a.createElement(Le,Object.assign({},this.props,this.state)):null,this.state.type==Y.wb?u.a.createElement(Te,Object.assign({},this.props,this.state)):null,this.state.type==Y.eb?u.a.createElement(Fe,Object.assign({},this.props,this.state)):null,this.state.type==Y.zb?u.a.createElement(Ne,Object.assign({},this.props,this.state)):null,this.state.type==Y.Bb?u.a.createElement(Be,Object.assign({},this.props,this.state)):null,this.state.type==Y.Ab?u.a.createElement(Ge,Object.assign({},this.props,this.state)):null,this.state.type==Y.D?u.a.createElement(Ue,Object.assign({},this.props,this.state)):null,this.state.type==Y.Db?u.a.createElement(We,Object.assign({},this.props,this.state)):null,this.state.type==Y.Eb?u.a.createElement(ze,Object.assign({},this.props,this.state)):null,this.state.type==Y.C?u.a.createElement(Ce,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.j,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Payments"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.j},"All Payments"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.pb.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Show"),u.a.createElement(B.a.Group,{style:{width:"100%",display:"inline-grid"},onChange:function(e){return t.handleChangeOption("consume",e)}},S.Bb.map((function(t){return u.a.createElement(B.a,{value:t.value}," ",t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Modes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Payment Modes",onChange:function(e){return t.handleChangeOption("payment_mode",e)}},this.state.paymentModeOption.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.mode)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(e){return t.handleChangeOption("taxes",e)}},this.state.taxes_list.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Exclude Cancelled"))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),He=(a(268),a(271)),Ve=(a(392),a(393));function qe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Je(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?qe(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qe(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Qe=Ve.a.Text,Xe=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId};a.state.doctors&&(e.doctor=a.state.doctors.toString()),e.mail_to=t,Object(I.h)(j.Bb,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,dailySummary:[],practiceDoctors:[],paidAmountForPaymentMode:{},mailingUsersList:[]},a.loadDailySummary=a.loadDailySummary.bind(Object(s.a)(a)),Object(I.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailySummary(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailySummary()}))}},{key:"loadDailySummary",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.setState({loading:!0});var a=function(t){e.setState((function(e){var a=[],n={type:"FINAL",unit_cost:0,tax_value:0,unit:1,total:0,discount_value:0,invoice:{inventory:[],prescription:[],procedure:[],payments:[]},paidAmount:0},r={};return t.current>1&&(r=Je({},e.paidAmountForPaymentMode)),t.results.length&&t.results.forEach((function(t){t.inventory.forEach((function(e){a.push(Je({},e,{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),t.prescription.forEach((function(e){a.push(Je({},e,{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),t.procedure.forEach((function(e){a.push(Je({},e,{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),n.paidAmount+=t.payments.map((function(t){return t.pay_amount})).reduce((function(t,e){return t+e}),0),t.payments.forEach((function(t){r[t.payment_mode]?r[t.payment_mode]+=t.pay_amount:r[t.payment_mode]=t.pay_amount}))})),t.count&&!t.next&&a.push(n),1==t.current?{loading:!1,dailySummary:a,nextItemPage:t.next,paidAmountForPaymentMode:r}:{loading:!1,dailySummary:[].concat(Object(Dt.a)(e.dailySummary),a),nextItemPage:t.next,paidAmountForPaymentMode:r}}))},n=function(){e.setState({loading:!1})},r={page:t,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.state.doctors&&(r.doctor=this.state.doctors.toString()),Object(M.c)(j.Bb,a,n,r)}},{key:"filterReport",value:function(t,e){this.setState((function(a){return Object(x.a)({},t,e)}),(function(){this.loadDailySummary()}))}},{key:"render",value:function(){var t=this,e=this,a=1,n=null,r=null,o=null,i=null,s=null,l=null,c=[{title:"S. No",key:"sno",dataIndex:"abcd",align:"center",render:function(t,e,r){var o={props:{}};return e.invoice.invoice_id==n?o.props.rowSpan=0:(n=e.invoice.invoice_id,o.children="FINAL"==e.type?"--":u.a.createElement("span",null," ",a++),o.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(o.props.rowSpan=1)),o},width:50},{title:"Patient Name",key:"patient_name",dataIndex:"invoice.patient_data.user.first_name",render:function(t,e,a){var n={props:{}};if(e.invoice.invoice_id==r)n.props.rowSpan=0;else{r=e.invoice.invoice_id;var o=e.invoice.payments.map((function(t){return t.pay_amount})).reduce((function(t,e){return t+e}),0).toFixed(2);n.children="FINAL"==e.type?"--":u.a.createElement("span",null,u.a.createElement("b",null,t," (",e.invoice.patient_data.custom_id,")"),u.a.createElement("br",null),u.a.createElement("span",null,"Invoice Income: ",u.a.createElement(Qe,{type:"danger"},"INR\xa0",e.invoice.total.toFixed(2))),u.a.createElement("br",null),u.a.createElement("span",null,"Total Payment: ",u.a.createElement(Qe,{type:"danger"},"INR\xa0",o)),u.a.createElement("br",null),u.a.createElement("span",null,"Amount Due: ",u.a.createElement(Qe,{type:"danger"},"INR\xa0",(e.invoice.total-o).toFixed(2))),u.a.createElement("br",null)),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1)}return n}},{title:"Treatment & Products",dataIndex:"name",key:"name"},{title:"Cost (INR)",key:"unit_cost",dataIndex:"unit_cost",align:"right",render:function(t,e){return e.unit_cost?u.a.createElement("span",null,(e.unit_cost.toFixed(2)*e.unit).toFixed(2),"FINAL"==e.type?null:u.a.createElement("span",null,u.a.createElement("br",null),u.a.createElement("small",null,e.unit_cost.toFixed(2),"x",e.unit))):"--"}},{title:"Discount (INR)",key:"discount_value",dataIndex:"discount_value",align:"right",render:function(t,e){return u.a.createElement("span",null,t.toFixed(2))}},{title:"Tax",dataIndex:"tax_value",key:"taxes",align:"right",render:function(t,e){return u.a.createElement("span",null,t.toFixed(2))}},{title:"Invoice No.",key:"invoice_id",dataIndex:"invoice.invoice_id",render:function(t,e){return u.a.createElement("span",null,t,u.a.createElement("br",null),u.a.createElement("small",null,e.invoice.date))}},{title:"Invoice Cost (INR)",key:"invoice_cost",dataIndex:"total",align:"right",render:function(t,e){return u.a.createElement("span",null,t.toFixed(2))}},{title:"Receipt No",key:"payment_data.payment_id",dataIndex:"",render:function(t,e,a){var n={props:{}};return e.invoice.invoice_id==o?n.props.rowSpan=0:(o=e.invoice.invoice_id,n.children=u.a.createElement("span",null,e.invoice.payments.map((function(t){return u.a.createElement("span",null,t.payment_id,u.a.createElement("br",null))}))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1)),n}},{title:"Mode Of Payment",key:"mode_of_payments",dataIndex:"payment_mode",align:"center",render:function(t,e,a){var n={props:{}};return e.invoice.invoice_id==i?n.props.rowSpan=0:(i=e.invoice.invoice_id,n.children=u.a.createElement("span",null,e.invoice.payments.map((function(t){return u.a.createElement("span",null,t.payment_mode||"--",u.a.createElement("br",null))}))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1)),n}},{title:"Amount Paid (INR)",key:"amount_paid",dataIndex:"pay_amount",align:"right",render:function(t,e,a){var n={props:{}};return e.invoice.invoice_id==s?n.props.rowSpan=0:(s=e.invoice.invoice_id,n.children=u.a.createElement("span",null,e.invoice.payments.map((function(t){return u.a.createElement("span",null,t.pay_amount.toFixed(2)||"--",u.a.createElement("br",null))}))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1,n.children=u.a.createElement("span",null,e.paidAmount.toFixed(2)))),n}},{title:"Total Amount Paid",key:"total_amount_paid",dataIndex:"total",align:"right",render:function(t,e,a){var n={props:{}};return e.invoice.invoice_id==l?n.props.rowSpan=0:(l=e.invoice.invoice_id,n.children=u.a.createElement("span",null,e.invoice.payments.map((function(t){return u.a.createElement("b",null,t.pay_amount.toFixed(2)||"--",u.a.createElement("br",null))}))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1,n.children=u.a.createElement("span",null,e.paidAmount.toFixed(2)))),n}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Summary Report"),u.a.createElement(b.a,{bodyStyle:{padding:0},extra:u.a.createElement(u.a.Fragment,null,u.a.createElement("span",null,"Doctors :\xa0"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.filterReport("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(d.a.Option,{key:t.id,value:t.id},t.user.first_name)}))),"\xa0\xa0",u.a.createElement("span",null,"E-Mail To:\xa0",u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))},u.a.createElement(k.a,{bordered:!0,rowKey:function(t,e){return e},columns:c,dataSource:this.state.dailySummary,pagination:!1}),u.a.createElement(Zt.a,{loaderFunction:function(){return t.loadDailySummary(t.state.nextItemPage)},loading:this.state.loading,hidden:!this.state.nextItemPage}),this.state.nextItemPage?null:u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:6,style:{margin:15}},u.a.createElement("h4",null,"Amount Total by Mode of Payments"),u.a.createElement(He.a,{size:"small",dataSource:Object.keys(this.state.paidAmountForPaymentMode).map((function(t){return{payment_mode:t||"--",value:0}})),renderItem:function(t){return u.a.createElement(He.a.Item,null,u.a.createElement(He.a.Item.Meta,{title:t.payment_mode||"--"}),u.a.createElement("span",null,"INR ",e.state.paidAmountForPaymentMode[t.payment_mode].toFixed(2)))}})))))}}]),e}(u.a.Component),Ze=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Object(s.a)(a);a.setState({loading:!0});var n=function(t){1==t.current?e.setState({bedBookingReports:t.results,loading:!1,nextReport:t.next}):e.setState((function(e){return{bedBookingReports:[].concat(Object(Dt.a)(e.bedBookingReports),Object(Dt.a)(t.results)),loading:!1,nextReport:t.next}}))},r=function(){e.setState({loading:!1})},o={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),page:t,practice:a.props.active_practiceId};a.props.payment_status&&(o.payment_status=a.props.payment_status),a.props.type&&(o.type=a.props.type),a.props.bed_packages&&(o.bed_packages=a.props.bed_packages.join(",")),Object(M.c)(j.u,n,r,o)},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(I.h)(j.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,a){e++},width:50},{title:"Patient Name",key:"patient",dataIndex:"patient",render:function(t){return t?u.a.createElement("span",null,t.user.first_name,"\xa0(",t.custom_id,")"):null}},{title:"Package Name",key:"name",dataIndex:"bed_package.name"},{title:"Medicine Package",key:"medicine",dataIndex:"medicines",render:function(t,e){return u.a.createElement("span",null,t.map((function(t){return u.a.createElement(Tt.a,null,t.name)})))}},{title:"From ",key:"from_date",render:function(t,e){return u.a.createElement("span",null,f()(e.from_date).format("LL"))}},{title:"To ",key:"to_date",render:function(t,e){return u.a.createElement("span",null,f()(e.to_date).format("LL"))}},{title:"Seat/Bed Type",key:"seat_type",dataIndex:"seat_type"},{title:"Seat Number",key:"seat_no",dataIndex:"seat_no"},{title:"Total price",key:"total_price",dataIndex:"total_price",render:function(t){return u.a.createElement("p",null,t.toFixed(2))}},{title:"Payment Status",key:"payment_status",dataIndex:"payment_status"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Seat/Bed Booking Report",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(G.a,{hideReport:!0,pagination:!1,columns:a,dataSource:this.state.bedBookingReports}),u.a.createElement(Zt.a,{loaderFunction:function(){return t.loadBedBookingReport(t.state.nextReport)},loading:this.state.loading,hidden:!this.state.nextReport}))}}]),e}(u.a.Component),$e=(a(259),a(260)),ta=($e.a.confirm,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=Object(s.a)(a);a.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId,report_type:a.props.report_type};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),Object(M.c)(j.u,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(I.h)(j.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("DD MMM "))},export:function(t,e){return f()(e.date).format("DD MMM ")}},{title:"Total Booking",key:"count",dataIndex:"count"},{title:"Amount (INR)",key:"amount",dataIndex:"total"}],n=this.state.bedBookingReports.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily Booking Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.h,{width:1e3,height:300,data:Object(Dt.a)(this.state.bedBookingReports).reverse(),margin:{top:5,right:30,left:20,bottom:55}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Bookings",angle:-90,position:"insideLeft"}}),u.a.createElement(L.b,{strokeDasharray:"3 3"}),u.a.createElement(L.m,null),u.a.createElement(L.g,{type:"monotone",dataKey:"count",stroke:"#1DA57A",strokeWidth:4,label:u.a.createElement((function(t){var e=t.x,a=t.y,n=(t.stroke,t.value);return u.a.createElement("text",{x:e,y:a,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n)}),null)})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total Amounts",value:n||"0.00"})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.bedBookingReports}))}}]),e}(u.a.Component)),ea=($e.a.confirm,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=Object(s.a)(a);a.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId,report_type:a.props.report_type};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),Object(M.c)(j.u,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(I.h)(j.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Month",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("MMM YYYY"))},export:function(t,e){return f()(e.date).format("MMM YYYY")}},{title:"Total Booking",key:"count",dataIndex:"count"},{title:"Amount (INR)",key:"amount",dataIndex:"total"}],n=this.state.bedBookingReports.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly Booking Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:Object(Dt.a)(this.state.bedBookingReports).reverse(),margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("MMM YY")}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total Amounts",value:n||"0.00"})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.bedBookingReports}))}}]),e}(u.a.Component)),aa=($e.a.confirm,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=Object(s.a)(a);a.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),report_type:a.props.report_type,practice:a.props.active_practiceId};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),Object(M.c)(j.u,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(I.h)(j.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],activeIndex:0,mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Medicine Name",key:"name",dataIndex:"medicine"},{title:"Total Medicine",key:"count",dataIndex:"count"}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.bedBookingReports.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Medicine Usage Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.medicine+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.bedBookingReports,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.bedBookingReports.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total Amounts",value:r})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.bedBookingReports}))}}]),e}(u.a.Component)),na=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadBedBookingReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),report_type:a.props.report_type,practice:a.props.active_practiceId};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),Object(M.c)(j.u,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){Object(s.a)(a);var e={practice:a.props.active_practiceId,report_type:a.props.report_type,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.payment_status&&(e.payment_status=a.props.payment_status),a.props.type&&(e.type=a.props.type),a.props.bed_packages&&(e.bed_packages=a.props.bed_packages.join(",")),e.mail_to=t,Object(I.h)(j.u,e)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,bedBookingReports:[],packages:[],activeIndex:0,mailingUsersList:[]},a.loadBedBookingReport=a.loadBedBookingReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadBedBookingReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}},{key:"render",value:function(){var t=this,e=1,a=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(t,a){return u.a.createElement("span",null," ",e++)},export:function(t,e,a){return a+1},width:50},{title:"Bed Package Name",key:"bed_package",dataIndex:"bed_package"},{title:"Total Bed Package",key:"count",dataIndex:"count"}],n=["#0088FE","#00C49F","#FFBB28","#FF8042"],r=this.state.bedBookingReports.reduce((function(t,e){return t+e.count}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Bed Booking Package Count",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.bed_package+","+p.count),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.bedBookingReports,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.bedBookingReports.map((function(t,e){return u.a.createElement(L.c,{fill:n[e%n.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total Amounts",value:r})),u.a.createElement(G.a,{loading:this.state.loading,columns:a,dataSource:this.state.bedBookingReports}))}}]),e}(u.a.Component),ra=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.loadPackages=function(){var t=Object(s.a)(a);Object(M.c)(Object(M.f)(j.v,[a.props.active_practiceId]),(function(e){t.setState({packages:e})}),(function(){}))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.state={report_type:"ALL",sidePanelColSpan:4,advancedOptionShow:!0,packages:[]},a.loadPackages=a.loadPackages.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPackages()}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Bed Booking Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.report_type==Y.d?u.a.createElement(Ze,Object.assign({},this.props,this.state)):null,this.state.report_type==Y.F?u.a.createElement(ta,Object.assign({},this.props,this.state)):null,this.state.report_type==Y.gb?u.a.createElement(ea,Object.assign({},this.props,this.state)):null,this.state.report_type==Y.db?u.a.createElement(aa,Object.assign({},this.props,this.state)):null,this.state.report_type==Y.u?u.a.createElement(na,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.d,onChange:function(e){return t.onChangeHandle("report_type",e)}},u.a.createElement("h2",null,"Bed Booking"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.d},"All Bookings"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.g.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Bed Package"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Bed Package",onChange:function(e){return t.handleChangeOption("bed_packages",e)}},this.state.packages.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Type"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select type",defaultValue:Y.d,onChange:function(e){return t.handleChangeOption("type",e)}},u.a.createElement(d.a.Option,{value:""},Y.d),S.gb.map((function(t){return u.a.createElement(d.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Payment Status"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Payment Status",defaultValue:Y.d,onChange:function(e){return t.handleChangeOption("payment_status",e)}},u.a.createElement(d.a.Option,{value:""},Y.d),S.qb.map((function(t){return u.a.createElement(d.a.Option,{value:t.value},t.label)}))))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),oa=a(302);function ia(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function sa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ia(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ia(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var la=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadInventoryRetails=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={practice:t.props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.products&&(e.products=a.props.products.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.manufacturers&&(e.manufacturers=a.props.manufacturers.toString()),a.props.suppliers&&(e.suppliers=a.props.suppliers.toString()),Object(M.c)(j.Ab,(function(e){var a=[];e.forEach((function(t){var e=sa({},t);e.profit=(t.total-t.cost-t.tax).toFixed(2),a.push(e)})),t.setState({inventoryReports:a,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){var e={practice:Object(s.a)(a).props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.patient_groups&&(e.groups=a.props.patient_groups.toString()),a.props.products&&(e.products=a.props.products.toString()),a.props.doctors&&(e.doctors=a.props.doctors.toString()),a.props.manufacturers&&(e.manufacturers=a.props.manufacturers.toString()),a.props.suppliers&&(e.suppliers=a.props.suppliers.toString()),e.mail_to=t,Object(I.h)(j.Ab,e)},a.state={inventoryReports:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadInventoryRetails=a.loadInventoryRetails.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadInventoryRetails(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.doctors==t.doctors&&this.props.manufacturers==t.manufacturers&&this.props.suppliers==t.suppliers&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadInventoryRetails()}))}},{key:"render",value:function(){for(var t=this,e=this.state.inventoryReports,a=[],n=0,r=0,o=0,i=0,s=0,l=0;l<e.length;l++)r+=e[l].cost,o+=e[l].tax,n+=e[l].total,i+=e[l].total-e[l].cost,s+=e[l].total-e[l].cost-e[l].tax;a.push({sale_amount:n,tax_amount:o,cost_amount:r,profit_before_tax:i,profit_after_tax:s});for(var c=[{title:"Total Sales (INR)",key:"sale_amount",dataIndex:"sale_amount",render:function(t,e){return u.a.createElement("span",null,e.sale_amount.toFixed(2))}},{title:"Total Cost (INR)",key:"cost_amount",dataIndex:"cost_amount",render:function(t,e){return u.a.createElement("span",null,e.cost_amount.toFixed(2))}},{title:"Total Profit before Tax(INR)",key:"tax_with_out",dataIndex:"profit_before_tax",render:function(t,e){return u.a.createElement("span",null,e.profit_before_tax.toFixed(2))}},{title:"Total Tax(INR)",key:"tax_amount",dataIndex:"tax_amount",render:function(t,e){return u.a.createElement("span",null,e.tax_amount.toFixed(2))}},{title:"Total Profit after Tax(INR)",key:"tax_with",dataIndex:"profit_after_tax",render:function(t,e){return u.a.createElement("span",null,e.profit_after_tax.toFixed(2))}}],p=this.state.inventoryReports,m=[],h=1;h<=p.length;h++)m.push(sa({s_no:h},p[h-1]));var g=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("YYYY-MM-DD"))}},{title:"Sales (INR)",key:"sale_amount",dataIndex:"total",render:function(t,e){return u.a.createElement("span",null,e.total.toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Profit before Tax(INR)",key:"tax_with_out",render:function(t,e){return u.a.createElement("span",null,(e.total-e.cost).toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}},{title:"Profit after Tax(INR)",key:"tax_with",render:function(t,e){return u.a.createElement("span",null,(e.total-e.cost-e.tax).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Profit Loss",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:this.state.loading},m.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:m,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("DD MMM")},label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),u.a.createElement(L.o,{label:{value:"Sales Profit",angle:-90,position:"insideLeft"}}),u.a.createElement(L.o,null),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"profit",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:function(t){t.payload;var e=t.x,a=t.y,n=t.width,r=(t.height,t.value);return u.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},r)}})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(k.a,{loading:this.state.loading,columns:c,pagination:!1,dataSource:a}),u.a.createElement(k.a,{loading:this.state.loading,columns:g,pagination:!1,dataSource:m}))}}]),e}(u.a.Component),ca=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.state={sidePanelColSpan:4,startDate:a.props.startDate,endDate:a.props.endDate,advancedOptionShow:!0,manufacturesOption:[],productsOption:[],suppliersOption:[],practiceDoctors:[],patientGroup:[]},a.loadManufactures=a.loadManufactures.bind(Object(s.a)(a)),a.loadProducts=a.loadProducts.bind(Object(s.a)(a)),a.loadSuppliers=a.loadSuppliers.bind(Object(s.a)(a)),a.loadPatientGroup=a.loadPatientGroup.bind(Object(s.a)(a)),Object(I.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadManufactures(),this.loadProducts(),this.loadSuppliers(),this.loadPatientGroup()}},{key:"loadPatientGroup",value:function(){var t=this;Object(M.c)(Object(M.f)(j.qc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"loadManufactures",value:function(){var t=this;Object(M.c)(j.Rb,(function(e){t.setState({manufacturesOption:e})}),(function(){}))}},{key:"loadSuppliers",value:function(){var t=this,e={practice:this.props.active_practiceId};Object(M.c)(j.Cd,(function(e){t.setState({suppliersOption:e})}),(function(){}),e)}},{key:"loadProducts",value:function(){var t=this,e={practice:this.props.active_practiceId};Object(M.c)(j.Lc,(function(e){t.setState({productsOption:e})}),(function(){}),e)}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Inventory Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},u.a.createElement(la,Object.assign({},this.state,this.props))),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.d},u.a.createElement("h2",null,"Inventory Retails"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.d},"Profit Loss"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports")),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Products"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Products",onChange:function(e){return t.handleChangeOption("products",e)}},this.state.productsOption.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Manufactures"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Manufacturers",onChange:function(e){return t.handleChangeOption("manufacturers",e)}},this.state.manufacturesOption.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Suppliers"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Suppliers",onChange:function(e){return t.handleChangeOption("suppliers",e)}},this.state.suppliersOption.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component);function pa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ua(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?pa(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pa(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}Ve.a.Text;var da=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={practice:Object(s.a)(a).props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:a.props.type};a.props.agents&&(e.agents=a.props.agents.toString()),e.mail_to=t,Object(I.h)(j.ec,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMlmReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.agents==t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var t=this;this.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.agents&&(e.agents=this.props.agents.toString()),Object(M.c)(j.ec,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(ua({s_no:n},e[n-1]));var r=a.reduce((function(t,e){return t+e.total}),0),o=["#0088FE","#00C49F","#FFBB28","#FF8042"];return u.a.createElement("div",null,u.a.createElement("h2",null,"Margin Type wise",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},a.length>0&&r?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{label:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.margin+","+p.total),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},a.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(G.a,{loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",key:"name",dataIndex:"margin"},{title:"Total Amount",key:"amount",dataIndex:"total"}],dataSource:a}))}}]),e}(u.a.Component);function ma(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ha(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ma(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ma(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var fa=Ve.a.Text,ga=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e={practice:Object(s.a)(a).props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD"),type:"TRANSFER"};a.props.agents&&(e.agents=a.props.agents.toString()),e.mail_to=t,Object(I.h)(j.ec,e)},a.state={report:[],reportSummary:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMlmReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.agents==t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var t=this;this.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:"TRANSFER"};this.props.agents&&(e.agents=this.props.agents.toString()),Object(M.c)(j.ec,(function(e){t.setState({report:e.data,reportSummary:e.summary,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(ha({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",dataIndex:"created_at",key:"created_at",render:function(t,e){return u.a.createElement("span",null,f()(e.schedule_at).format("LLL")," ")},export:function(t,e){return f()(e.schedule_at).format("LLL")}},{title:"Agent Name",dataIndex:"patient.user.first_name",key:"name",export:function(t,e){return e.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},export:function(t,e){return e.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},export:function(t,e){return e.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(t,e){return e.patient.gender}},{title:"Amount (INR)",dataIndex:"amount",key:"amount",render:function(t,e){return e.is_cancelled?u.a.createElement(fa,{delete:!0},t):t}},{title:"Amount Type",dataIndex:"amount_type",key:"amount_type"},{title:"Cr/Dr",dataIndex:"ledger_type",key:"ledger_type",render:function(t,e){return e.is_cancelled?u.a.createElement(fa,{delete:!0},t):t}},{title:"Margin",key:"mlm",dataIndex:"mlm"},{title:"Ledger Comment",dataIndex:"comments",key:"comments"}],i=["#0088FE","#00C49F","#FFBB28","#FF8042"];this.state.reportSummary.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"ALl MLM",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:this.state.loading},this.state.reportSummary.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:this.state.activeIndex,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.ledger_type+","+p.total),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:this.state.reportSummary,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.reportSummary.map((function(t,e){return u.a.createElement(L.c,{fill:i[e%i.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component);function ya(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ea(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ya(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ya(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ba=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).sendMail=function(t){var e={practice:Object(s.a)(a).props.active_practiceId,start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.agents&&(e.agents=a.props.agents.toString()),e.mail_to=t,Object(I.h)(j.dc,e)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMlmReport=a.loadMlmReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMlmReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.agents==t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}},{key:"loadMlmReport",value:function(){var t=this;this.setState({loading:!0});var e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.agents&&(e.agents=this.props.agents.toString()),Object(M.c)(j.dc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}},{key:"render",value:function(){for(var t=this,e=this,a=this.state.report,n=[],r=1;r<=a.length;r++)n.push(Ea({s_no:r},a[r-1]));var o=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Agent Name",dataIndex:"patient.user.first_name",key:"name",export:function(t,e){return e.patient.user.first_name}},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:function(t){return e.props.activePracticePermissions.PatientPhoneNumber?t:Object(gt.b)(t)},export:function(t,e){return e.patient.user.mobile}},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:function(t){return e.props.activePracticePermissions.PatientEmailId?t:Object(gt.a)(t)},export:function(t,e){return e.patient.user.email}},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:function(t,e){return e.patient.gender}},{title:"Refundable Amount",dataIndex:"refundable_amount",key:"refundable_amount",render:function(t,e){return u.a.createElement("span",null,e.refundable_amount?e.refundable_amount.toFixed(2):"0.00")}},{title:"Non Refundable Amount",dataIndex:"non_refundable",key:"non_refundable",render:function(t,e){return u.a.createElement("span",null,e.non_refundable?e.non_refundable.toFixed(2):"0.00")}}],i=this.state.report.reduce((function(t,e){return t+e.refundable_amount}),0),s=this.state.report.reduce((function(t,e){return t+e.non_refundable}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Wallet Balance Amount",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:12},u.a.createElement(P.a,{title:"Total Refundable Amount(INR)",value:i?i.toFixed(2):"0.00"})),u.a.createElement(O.a,{span:12},u.a.createElement(P.a,{title:"Total Non Refundable Amount(INR)",value:s?s.toFixed(2):"0.00"}))))),u.a.createElement(G.a,{loading:this.state.loading,columns:o,dataSource:n}))}}]),e}(u.a.Component);function va(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Da(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?va(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):va(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}u.a.Component,a(237);var Oa=a(18),_a=(a(297),a(299)),xa=a(1713),ja=a.n(xa),Sa=(a(1714),b.a.Meta,function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).state={agentData:{},agentTreeData:{},loading:!1},a.loadAgentTree=a.loadAgentTree.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.props.agent&&this.loadAgentTree()}},{key:"componentWillReceiveProps",value:function(t){this.props.agent!=t.agent&&this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.props.agent&&this.loadAgentTree()}))}},{key:"loadAgentTree",value:function(){var t=this;t.setState({loading:!0});Object(M.c)(Object(M.f)(j.f,[t.props.agent]),(function(e){t.setState({agentData:e,loading:!1},(function(){t.setState({agentTreeData:this.general_list(0,e[0][0]),loading:!1})}))}),(function(){t.setState({loading:!1})}))}},{key:"ref_data_level",value:function(t,e){var a=this.state.agentData;return a[e.toString()]?a[e.toString()].filter((function(e){return e.user.referer==t})):[]}},{key:"general_list",value:function(t,e){var a=this.ref_data_level(e.user.id,t+1);for(var n in a)a[n]=this.general_list(t+1,a[n]);return e.children=a,e}},{key:"render",value:function(){return u.a.createElement("div",{style:{background:"#f0f2f5",paddingBottom:"20px"}},u.a.createElement("h2",{style:{padding:"10px"}},"Agent Tree"),u.a.createElement("div",{style:{width:"100%",overflowX:"scroll"}},u.a.createElement(ja.a,{tree:this.state.agentTreeData,NodeComponent:Ma})))}}]),e}(u.a.Component)),Ma=function(t){var e=t.node;return u.a.createElement("div",null,e.user?u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{style:{margin:"auto",height:160,width:160},bodyStyle:{padding:5,overflow:"hidden"},hoverable:!0},u.a.createElement(v.a,null,u.a.createElement(O.a,{span:24},e.image?u.a.createElement(_a.a,{src:Object(M.g)(e.image),size:50}):u.a.createElement(_a.a,{style:{backgroundColor:"#87d068"},size:50},e.user.first_name?e.user.first_name.charAt(0):u.a.createElement(Oa.a,{type:"user"}))),u.a.createElement(O.a,{span:24},e.user.first_name),u.a.createElement(O.a,{span:24},u.a.createElement("span",null,e.is_approved?u.a.createElement(Tt.a,{color:"#87d068"},"Approved"):u.a.createElement(Tt.a,{color:"#f50"},"Not Approved"),u.a.createElement("br",null),e.user.mobile,u.a.createElement("br",null),e.user.email))))):null)},Ya=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.state={type:"ALL",sidePanelColSpan:4,advancedOptionShow:!0,agentsOption:[]},a.loadAgents=a.loadAgents.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadAgents()}},{key:"loadAgents",value:function(){var t=this,e={agent:!0,practice:this.props.active_practiceId,type:this.props.type};Object(M.c)(j.ic,(function(e){t.setState({agentsOption:e.results})}),(function(){}),e)}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"MLM Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.d?u.a.createElement(ga,Object.assign({},this.state,this.props)):null,this.state.type==Y.bb?u.a.createElement(da,Object.assign({},this.props,this.state)):null,this.state.type==Y.c?u.a.createElement(Sa,Object.assign({},this.props,this.state)):null,this.state.type==Y.ec?u.a.createElement(ba,Object.assign({},this.props,this.state)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.d,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"MLM"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.d},"All MLM"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.eb.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.type==Y.c?u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Agents"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Agents",showSearch:!0,optionFilterProp:"children",onChange:function(e){return t.handleChangeOption("agent",e)}},this.state.agentsOption.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")):u.a.createElement(u.a.Fragment,null,this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Agents"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Agents",showSearch:!0,optionFilterProp:"children",onChange:function(e){return t.handleChangeOption("agents",e)}},this.state.agentsOption.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options "))))))}}]),e}(u.a.Component);a(25);function ka(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Pa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ka(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ka(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ia=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).loadSuggestionsReport=function(){var t=Object(s.a)(a);t.setState({loading:!0});var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.status&&(e.status=a.props.status.toString()),Object(M.c)(j.Bd,(function(e){t.setState({report:e.results,loading:!1})}),(function(){t.setState({loading:!1})}),e)},a.sendMail=function(t){Object(s.a)(a);var e={start:a.state.startDate.format("YYYY-MM-DD"),end:a.state.endDate.format("YYYY-MM-DD")};a.props.status&&(e.status=a.props.status.toString()),e.mail_to=t,Object(I.h)(j.Bd,e,!0,!0)},a.state={startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,report:[],mailingUsersList:[]},a.loadSuggestionsReport=a.loadSuggestionsReport.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadSuggestionsReport(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.status==t.status||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadSuggestionsReport()}))}},{key:"render",value:function(){for(var t=this,e=this.state.report,a=[],n=1;n<=e.length;n++)a.push(Pa({s_no:n},e[n-1]));var r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.created_at).format("DD MMM YYYY"))},export:function(t,e){return f()(e.created_at).format("DD MMM YYYY")}},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",key:"email",dataIndex:"email"},{title:"Mobile",ket:"mobile",dataIndex:"mobile"},{title:"Subject",key:"subject",dataIndex:"subject"},{title:"Description",key:"description",dataIndex:"description"}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Suggestions",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6,style:{textAlign:"center"}},u.a.createElement(P.a,{title:"Total Suggestions",value:a.length}),u.a.createElement("br",null))),u.a.createElement(G.a,{loading:this.state.loading,columns:r,dataSource:a}))}}]),e}(u.a.Component),Ra=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({is_complete:!a.state.is_complete})},a.state={type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0},a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Suggestions Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.d?u.a.createElement(Ia,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.d,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Suggestions"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.d},"All Suggestions"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"))))))}}]),e}(u.a.Component),wa=a(279);function Ca(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Aa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ca(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ca(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var La=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(I.h)(j.Rc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadReturnInvoice=a.loadReturnInvoice.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadReturnInvoice(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReturnInvoice()}))}},{key:"loadReturnInvoice",value:function(){var t=this;this.startLoading();var e=this.state,a=e.startDate,n=e.endDate,r=this.props,o=r.active_practiceId,i=r.type,s=r.exclude_cancelled,l=r.patient_groups,c=r.doctors,p=r.income_type,u=r.taxes,d=r.discount,m=r.products,h=r.treatments,f={practice:o,type:i,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!s};l&&(f.groups=l.toString()),c&&(f.doctors=c.toString()),p&&(f.income_type=p),h&&(f.treatments=h.toString()),d&&(f.discount=d),u&&(f.taxes=u.toString()),m&&(f.products=m.toString());Object(M.c)(j.Rc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),f)}},{key:"render",value:function(){for(var t=this,e=this.state,a=e.report,n=e.loading,r=[],o=1;o<=a.length;o++)r.push(Aa({s_no:o},a[o-1]));var i=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:function(t,e){return u.a.createElement("span",null," ",e.s_no)},width:50},{title:"Date",key:"date",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"date"))}},{title:"Patient Name",key:"patientName",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"patient_data.user.first_name"))}},{title:"Patient Id",key:"patient_id",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"patient_data.custom_id"))}},{title:"Return Id",key:"return_id",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"return_id"))}},{title:"Return By",key:"returnBy",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"staff_data.user.first_name"))}},{title:"Total Amount",key:"total",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"total",0).toFixed(2))}},{title:"Return Amount",key:"return_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"return_value",0).toFixed(2))}},{title:"Cash Return Amount",key:"cash_return",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"cash_return",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"All Returned Invoices",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(k.a,{loading:n,rowKey:function(t){return t.s_no},pagination:!1,columns:i,expandedRowRender:function(t){return u.a.createElement(Ta,{record:[].concat(Object(Dt.a)(t.inventory),Object(Dt.a)(t.procedure))})},dataSource:r}))}}]),e}(u.a.Component);function Ta(t){var e=[{title:"Treatment & Products",key:"name",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"name"))}},{title:"Cost",key:"cost",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"unit_cost",0).toFixed(2))}},{title:"Unit",key:"unit",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"unit"))}},{title:"Discount",key:"discount",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"tax_value",0).toFixed(2))}},{title:"Total",key:"total",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"total",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement(k.a,{columns:e,dataSource:wa.get(t,"record"),pagination:!1}))}function Fa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Na(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Fa(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Fa(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ba=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadMonthlyInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(M.c)(j.Rc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),y)},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(I.h)(j.Rc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadMonthlyInvoiceReturn=a.loadMonthlyInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadMonthlyInvoiceReturn(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyInvoiceReturn()}))}},{key:"render",value:function(){for(var t=this,e=this.state,a=e.report,n=e.loading,r=[],o=1;o<=a.length;o++)r.push(Na({s_no:o},a[o-1]));var i=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("MM YYYY"))},export:function(t,e){return f()(e.date).format("MM YYYY")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Monthly wise Return Invoice",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:n},r.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:r,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("MM YYYY")}}),u.a.createElement(L.o,{label:{value:"Return Invoice(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3"})):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:n,columns:i,dataSource:r}))}}]),e}(u.a.Component),Ga=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachProcedureInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(M.c)(j.Rc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),y)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(I.h)(j.Rc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachProcedureInvoiceReturn=a.loadEachProcedureInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachProcedureInvoiceReturn(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProcedureInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.loading,n=e.report,r=e.activeIndex,o=["#00C49F","#0088FE","#FFBB28","#FF8042"],i=n.reduce((function(t,e){return t+e.cost}),0),s=[{title:"Name",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Procedures",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:a},n.length>0?u.a.createElement(L.j,{width:1e3,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:n,cx:400,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},n.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:i.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:s,dataSource:n}))}}]),e}(u.a.Component),Ua=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachProductInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(M.c)(j.Rc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),y)},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(I.h)(j.Rc,g)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachProductInvoiceReturn=a.loadEachProductInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachProductInvoiceReturn(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProductInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.loading,n=e.report,r=e.activeIndex,o=["#0088FE","#00C49F","#FFBB28","#FF8042"],i=n.reduce((function(t,e){return t+e.cost}),0),s=[{title:"Name",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Products",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:a},n.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:n,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},n.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:i.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:s,dataSource:n}))}}]),e}(u.a.Component),Wa=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachDoctorInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(M.c)(j.Rc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),y)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(I.h)(j.Rc,g)},a.state={report:[],practiceDoctors:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachDoctorInvoiceReturn=a.loadEachDoctorInvoiceReturn.bind(Object(s.a)(a)),Object(I.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachDoctorInvoiceReturn(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachDoctorInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=e.activeIndex,o=e.practiceDoctors,i=["#0088FE","#00C49F","#FFBB28","#FF8042"],s=a.reduce((function(t,e){return t+e.cost}),0),l=[{title:"Doctor",key:"doctor",dataIndex:"doctor",render:function(t,e){return u.a.createElement("span",null,"NA"==e.doctor?u.a.createElement("span",null,"No Doctor assigned"):u.a.createElement(u.a.Fragment,null,o.map((function(t){return t.id==e.doctor?u.a.createElement("span",null,t.user.first_name):null}))))}},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Doctors",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,h=(t.value,Math.sin(-e*r)),f=Math.cos(-e*r),g=a+(s+10)*f,y=n+(s+10)*h,E=a+(s+30)*f,b=n+(s+30)*h,v=E+22*(f>=0?1:-1),D=b,O=f>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c,fill:p}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:s+6,outerRadius:s+10,fill:p}),u.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(b,"L").concat(v,",").concat(D),stroke:p,fill:"none"}),u.a.createElement("circle",{cx:v,cy:D,r:2,fill:p,stroke:"none"}),u.a.createElement("text",{x:v+12*(f>=0?1:-1),y:D,textAnchor:O,fill:"#333"},"NA"==d.doctor?"No Doctor assigned":u.a.createElement(u.a.Fragment,null,o.map((function(t){return t.id==d.doctor?u.a.createElement(u.a.Fragment,null,t.user.first_name):null})))),u.a.createElement("text",{x:v+12*(f>=0?1:-1),y:D,dy:18,textAnchor:O,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:a,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:i[e%i.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:s.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:l,dataSource:a}))}}]),e}(u.a.Component),za=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachPatientGroupInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(M.c)(j.Rc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),y)},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(I.h)(j.Rc,g)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachPatientGroupInvoiceReturn=a.loadEachPatientGroupInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachPatientGroupInvoiceReturn(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachPatientGroupInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=e.activeIndex,o=["#00C49F","#0088FE","#00C49F","#FFBB28","#FF8042"],i=a.reduce((function(t,e){return t+e.cost}),0),s=[{title:"Patient Group",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"discount_value",0).toFixed(2))}},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"tax_value",0).toFixed(2))}},{title:"Cost",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"cost",0).toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Patient Groups",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.cost.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:i.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:s,dataSource:a}))}}]),e}(u.a.Component),Ka=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadEachTaxInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(M.c)(j.Rc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),y)},a.onPieEnter=function(t,e){a.setState({activeIndex:e})},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(I.h)(j.Rc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,activeIndex:0,mailingUsersList:[]},a.loadEachTaxInvoiceReturn=a.loadEachTaxInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadEachTaxInvoiceReturn(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachTaxInvoiceReturn()}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.report,n=e.loading,r=e.activeIndex,o=["#0088FE","#00C49F","#FFBB28","#FF8042"],i=[{title:"Tax",key:"name",dataIndex:"name"},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"tax_value",0).toFixed(2))}},{title:"Total",key:"total",dataIndex:"total",render:function(t,e){return u.a.createElement("span",null,wa.get(e,"total",0).toFixed(2))}}],s=a.reduce((function(t,e){return t+e.total}),0);return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice For Each Taxes",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(v.a,null,u.a.createElement(O.a,{span:12,offset:6},u.a.createElement(C.a,{size:"large",spinning:n},a.length>0?u.a.createElement(L.j,{width:800,height:400},u.a.createElement(L.i,{activeIndex:r,activeShape:function(t){var e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=t.fill,p=t.payload,d=t.percent,m=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),f=a+(i+10)*h,g=n+(i+10)*m,y=a+(i+30)*h,E=n+(i+30)*m,b=y+22*(h>=0?1:-1),v=E,D=h>=0?"start":"end";return u.a.createElement("g",null,u.a.createElement(L.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l,fill:c}),u.a.createElement(L.l,{cx:a,cy:n,startAngle:s,endAngle:l,innerRadius:i+6,outerRadius:i+10,fill:c}),u.a.createElement("path",{d:"M".concat(f,",").concat(g,"L").concat(y,",").concat(E,"L").concat(b,",").concat(v),stroke:c,fill:"none"}),u.a.createElement("circle",{cx:b,cy:v,r:2,fill:c,stroke:"none"}),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,textAnchor:D,fill:"#333"},p.name+","+p.total.toFixed(2)),u.a.createElement("text",{x:b+12*(h>=0?1:-1),y:v,dy:18,textAnchor:D,fill:"#999"},"(Rate ".concat((100*d).toFixed(2),"%)")))},data:a,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((function(t,e){return u.a.createElement(L.c,{fill:o[e%o.length]})})))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),u.a.createElement(q.a,null,u.a.createElement(P.a,{title:"Total",value:s.toFixed(2)})),u.a.createElement(G.a,{loading:this.state.loading,columns:i,dataSource:a}))}}]),e}(u.a.Component);function Ha(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Va(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ha(a,!0).forEach((function(e){Object(x.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ha(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var qa=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).startLoading=function(){a.setState({loading:!0})},a.stopLoading=function(){a.setState({loading:!1})},a.loadDailyInvoiceReturn=function(){var t=Object(s.a)(a);a.startLoading();var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,l=o.type,c=o.exclude_cancelled,p=o.patient_groups,u=o.doctors,d=o.income_type,m=o.taxes,h=o.discount,f=o.products,g=o.treatments,y={practice:i,type:l,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!c};p&&(y.groups=p.toString()),u&&(y.doctors=u.toString()),d&&(y.income_type=d),g&&(y.treatments=g.toString()),h&&(y.discount=h),m&&(y.taxes=m.toString()),f&&(y.products=f.toString());Object(M.c)(j.Rc,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),y)},a.sendMail=function(t){var e=a.state,n=e.startDate,r=e.endDate,o=a.props,i=o.active_practiceId,s=o.type,l=o.exclude_cancelled,c=o.patient_groups,p=o.doctors,u=o.income_type,d=o.taxes,m=o.discount,h=o.products,f=o.treatments,g={practice:i,type:s,start:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD"),is_cancelled:!!l};c&&(g.groups=c.toString()),p&&(g.doctors=p.toString()),u&&(g.income_type=u),f&&(g.treatments=f.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),h&&(g.products=h.toString()),g.mail_to=t,Object(I.h)(j.Rc,g)},a.state={report:[],startDate:a.props.startDate,endDate:a.props.endDate,loading:!1,mailingUsersList:[]},a.loadDailyInvoiceReturn=a.loadDailyInvoiceReturn.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadDailyInvoiceReturn(),Object(I.e)(this)}},{key:"componentWillReceiveProps",value:function(t){var e=this,a=this.props,n=a.startDate,r=a.endDate,o=a.patient_groups,i=a.doctors,s=a.income_type,l=a.taxes,c=a.discount,p=a.products,u=a.treatments,d=a.exclude_cancelled;n==t.startDate&&r==t.endDate&&o==t.patient_groups&&i==t.doctors&&s==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&u==t.treatments&&d==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInvoiceReturn()}))}},{key:"render",value:function(){for(var t=this,e=this.state,a=e.report,n=e.loading,r=[],o=1;o<=a.length;o++)r.push(Va({s_no:o},a[o-1]));var i=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:function(t,e){return u.a.createElement("span",null,f()(e.date).format("ll"))},export:function(t,e){return f()(e.date).format("ll")}},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:function(t,e){return u.a.createElement("span",null,e.cost.toFixed(2))}},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:function(t,e){return u.a.createElement("span",null,e.discount.toFixed(2))}},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:function(t,e){return u.a.createElement("span",null,e.tax.toFixed(2))}}];return u.a.createElement("div",null,u.a.createElement("h2",null,"Daily wise Return Invoice",u.a.createElement("span",{style:{float:"right"}},u.a.createElement("p",null,u.a.createElement("small",null,"E-Mail To:\xa0"),u.a.createElement(d.a,{onChange:function(e){return t.sendMail(e)},style:{width:200}},this.state.mailingUsersList.map((function(t){return u.a.createElement(d.a.Option,{value:t.email},t.name)})))))),u.a.createElement(C.a,{size:"large",spinning:n},r.length>0?u.a.createElement(L.d,{width:1e3,height:400,data:r,margin:{top:20,right:20,bottom:20,left:20}},u.a.createElement(L.n,{dataKey:"date",tickFormatter:function(t){return f()(t).format("ll")}}),u.a.createElement(L.o,{label:{value:"Return Invoice(INR)",angle:-90,position:"insideLeft"}}),u.a.createElement(L.m,null),u.a.createElement(L.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3"},u.a.createElement(L.e,{dataKey:"cost"}))):u.a.createElement(A.a,{image:A.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),u.a.createElement(G.a,{loading:n,columns:i,dataSource:r}))}}]),e}(u.a.Component),Ja=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).onChangeHandle=function(t,e){Object(s.a)(a);a.setState(Object(x.a)({},t,e.target.value))},a.changeSidePanelSize=function(t){a.setState({sidePanelColSpan:t?0:4})},a.handleChangeOption=function(t,e){a.setState(Object(x.a)({},t,e))},a.onChangeCheckbox=function(t){a.setState({exclude_cancelled:!a.state.exclude_cancelled})},a.state={type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,patientGroup:[],practiceDoctors:[],taxes_list:[],productItems:[],treatment_data:[]},Object(I.d)(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.loadPatientGroup(),this.loadTaxes(),this.loadProductItem(),this.loadTreatments()}},{key:"loadPatientGroup",value:function(){var t=this;Object(M.c)(Object(M.f)(j.qc,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}},{key:"loadTaxes",value:function(){var t=this;Object(M.c)(Object(M.f)(j.Dd,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}},{key:"loadProductItem",value:function(){var t=this;Object(M.c)(j.Lc,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}},{key:"loadTreatments",value:function(){var t=this;Object(M.c)(Object(M.f)(j.Kc,[this.props.active_practiceId]),(function(e){t.setState({treatment_data:e})}),(function(){}),{pagination:!1})}},{key:"advancedOption",value:function(t){this.setState({advancedOptionShow:t})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Return Invoice Report ",u.a.createElement(_.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:function(){return t.changeSidePanelSize(t.state.sidePanelColSpan)}},"Panel")),u.a.createElement(b.a,null,u.a.createElement(v.a,{gutter:16},u.a.createElement(O.a,{span:24-this.state.sidePanelColSpan},this.state.type==Y.i?u.a.createElement(La,Object.assign({},this.props,this.state)):null,this.state.type==Y.L?u.a.createElement(qa,Object.assign({},this.props,this.state)):null,this.state.type==Y.mb?u.a.createElement(Ba,Object.assign({},this.props,this.state)):null,this.state.type==Y.Nb?u.a.createElement(Ga,Object.assign({},this.props,this.state)):null,this.state.type==Y.Ob?u.a.createElement(Ua,Object.assign({},this.props,this.state)):null,this.state.type==Y.Lb?u.a.createElement(Wa,Object.assign({},this.state,this.props)):null,this.state.type==Y.Mb?u.a.createElement(za,Object.assign({},this.state,this.props)):null,this.state.type==Y.Pb?u.a.createElement(Ka,Object.assign({},this.state,this.props)):null),u.a.createElement(O.a,{span:this.state.sidePanelColSpan},u.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:Y.i,onChange:function(e){return t.onChangeHandle("type",e)}},u.a.createElement("h2",null,"Invoice Returns"),u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:Y.d},"All Returned Invoices"),u.a.createElement("p",null,u.a.createElement("br",null)),u.a.createElement("h2",null,"Related Reports"),S.ab.map((function(t){return u.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),this.state.advancedOptionShow?u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!1)}},"Hide Advanced Options "),u.a.createElement(O.a,null," ",u.a.createElement("br",null),u.a.createElement("h4",null,"Patient Groups"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:function(e){return t.handleChangeOption("patient_groups",e)}},this.state.patientGroup.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Doctors"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:function(e){return t.handleChangeOption("doctors",e)}},this.state.practiceDoctors.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.user.first_name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Income Type"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Income Type",onChange:function(e){return t.handleChangeOption("income_type",e)}},S.V.map((function(t){return u.a.createElement(d.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Taxes"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:function(e){return t.handleChangeOption("taxes",e)}},this.state.taxes_list.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Discount"),u.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:function(e){return t.handleChangeOption("discount",e)}},S.w.map((function(t){return u.a.createElement(d.a.Option,{value:t.value},t.label)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Product"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Products",onChange:function(e){return t.handleChangeOption("products",e)}},this.state.productItems.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h4",null,"Treatments"),u.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:function(e){return t.handleChangeOption("treatments",e)}},this.state.treatment_data.map((function(t){return u.a.createElement(d.a.Option,{value:t.id},t.name)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(B.a,{onChange:function(e){return t.onChangeCheckbox(e)}}," Exclude Cancelled"))):u.a.createElement(_.a,{type:"link",onClick:function(e){return t.advancedOption(!0)}},"Show Advanced Options ")))))}}]),e}(u.a.Component),Qa=c.a.Content,Xa=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(i.a)(e).call(this,t))).state={startDate:f()(),endDate:f()(),active_practiceId:a.props.active_practiceId},a.reportsDateRange=a.reportsDateRange.bind(Object(s.a)(a)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"reportsDateRange",value:function(t){this.setState({startDate:f()(t[0],"DD/MM/YYYY"),endDate:f()(t[1],"DD/MM/YYYY")})}},{key:"render",value:function(){var t=this,e=this;return u.a.createElement(c.a,null,u.a.createElement(E,Object.assign({reportsDateRange:this.reportsDateRange},this.props)),u.a.createElement(Qa,{style:{margin:"16px"}},u.a.createElement(N.d,null,u.a.createElement(N.b,{exact:!0,path:"/reports/amountdue",render:function(a){return e.props.activePracticePermissions.ReportsAmountDue||e.props.allowAllPermissions?u.a.createElement(F,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/emr",render:function(a){return e.props.activePracticePermissions.ReportsEMR||e.props.allowAllPermissions?u.a.createElement(Mt,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/expenses",render:function(a){return e.props.activePracticePermissions.ReportsExpenses||e.props.allowAllPermissions?u.a.createElement(Lt,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/income",render:function(a){return e.props.activePracticePermissions.ReportsIncome||e.props.allowAllPermissions?u.a.createElement(qt,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/inventory",render:function(a){return e.props.activePracticePermissions.ReportsInventory||e.props.allowAllPermissions?u.a.createElement(re,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/inventoryretails",render:function(a){return e.props.activePracticePermissions.ReportsInventoryRetail||e.props.allowAllPermissions?u.a.createElement(ca,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/patients",render:function(a){return e.props.activePracticePermissions.ReportsPatients||e.props.allowAllPermissions?u.a.createElement(Re,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/payments",render:function(a){return e.props.activePracticePermissions.ReportsPayments||e.props.allowAllPermissions?u.a.createElement(Ke,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/summary",render:function(a){return e.props.activePracticePermissions.ReportsDailySummary||e.props.allowAllPermissions?u.a.createElement(Xe,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/bed_booking",render:function(a){return e.props.activePracticePermissions.ReportsBedBooking||e.props.allowAllPermissions?u.a.createElement(ra,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/mlm",render:function(a){return e.props.activePracticePermissions.ReportsMLMReport||e.props.allowAllPermissions?u.a.createElement(Ya,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/invoice-return",render:function(a){return e.props.activePracticePermissions.ReportsMLMReport||e.props.allowAllPermissions?u.a.createElement(Ja,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{exact:!0,path:"/reports/suggestions",render:function(a){return e.props.activePracticePermissions.ReportsSuggestions||e.props.allowAllPermissions?u.a.createElement(Ra,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}),u.a.createElement(N.b,{render:function(a){return e.props.activePracticePermissions.ReportsAppointments||e.props.allowAllPermissions?u.a.createElement(vt,Object.assign({},t.props,t.state,a)):u.a.createElement(oa.a,null)}}))))}}]),e}(u.a.Component);e.default=Xa},236:function(t,e,a){"use strict";a(249);var n=a(250),r=(a(263),a(264)),o=(a(223),a(224)),i=(a(231),a(232)),s=a(33),l=(a(237),a(18)),c=(a(228),a(227)),p=(a(248),a(251)),u=a(96),d=a(97),m=a(100),h=a(98),f=a(44),g=a(99),y=a(0),E=a.n(y),b=a(488),v=a.n(b),D=(a(614),a(64)),O=a.n(D),_=function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",r=[];return a&&(t.forEach((function(t){r.push(t)})),n+=r.join(","),n+="\r\n"),e.forEach((function(e){r=[],t.forEach((function(t){e[t]?r.push(e[t]):r.push("--")})),n+=r.join(","),n+="\r\n"})),n},x=function(t,e){var a,n=e+".csv",r=[];r.push(255,254);for(var o=0;o<t.length;++o)a=t.charCodeAt(o),r.push(255&a),r.push(a/256>>>0);var i=new Blob([new Uint8Array(r)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(i,n);else{var s=document.createElement("a");if(void 0!==s.download){var l=window.URL.createObjectURL(i);s.setAttribute("href",l),s.setAttribute("download",n),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(l)}}};function j(t){t.line(10,20,200,20)}function S(t){t.line(10,270,200,270),t.setFontSize(8),t.text(10,275,"This is a computer generated report.")}var M=a(615),Y=a.n(M);a(279),a(23),a(32),a(233);function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function P(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}a.d(e,"a",(function(){return I}));var I=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).getColumnSearchProps=function(t){return{filterDropdown:function(e){var n=e.setSelectedKeys,r=e.selectedKeys,o=e.confirm,i=e.clearFilters;return E.a.createElement("div",{style:{padding:8}},E.a.createElement(p.a,{ref:function(t){a.searchInput=t},placeholder:"Search ".concat(t),value:r[0],onChange:function(t){return n(t.target.value?[t.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,o)},style:{width:188,marginBottom:8,display:"block"}}),E.a.createElement(c.a,{type:"primary",onClick:function(){return a.handleSearch(r,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),E.a.createElement(c.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(t){return E.a.createElement(l.a,{type:"search",style:{color:t?"#1890ff":void 0}})},onFilter:function(e,a){return null!=a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return E.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t?t.toString():""})}}},a.handleSearch=function(t,e){e(),a.setState({searchText:t[0]})},a.handleReset=function(t){t(),a.setState({searchText:""})},a.state=P({},t,{searchText:""}),a.excelExport=a.excelExport.bind(Object(f.a)(a)),a.pdfExport=a.pdfExport.bind(Object(f.a)(a)),a}return Object(g.a)(e,t),Object(d.a)(e,[{key:"componentWillReceiveProps",value:function(t){t.columns==this.state.columns&&t.dataSource==this.state.dataSource&&t.loading==this.state.loading||this.setState(P({},t))}},{key:"pdfExport",value:function(){var t=this,e=[];t.state.columns.forEach((function(t){t.hideExport||e.push({title:t.title,dataKey:t.title})}));var a=[];t.state.dataSource.forEach((function(e,n){var r={};t.state.columns.forEach((function(t){t.export?r[t.title]=t.export(e[t.dataIndex],e,n):r[t.title]=e[t.dataIndex]})),a.push(r)})),function(t,e,a){!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var n=new v.a("p","mm","a4");j(n);var r=Object.create(e);n.autoTable(t,r,{margin:{top:35},startY:n.autoTableEndPosY()+20,headerStyle:{overflow:"linebreak"},bodyStyles:{overflow:"linebreak"}}),S(n),n.save(a+".pdf")}(e,a,"Export"+O()(),!0)}},{key:"excelExport",value:function(){var t=this,e=[];t.state.columns.forEach((function(t){t.hideExport||e.push(t.title)}));var a=[];t.state.dataSource.forEach((function(e,n){var r={};t.state.columns.forEach((function(t){t.export?r[t.title]=t.export(e[t.dataIndex],e,n):r[t.title]=e[t.dataIndex]})),a.push(r)})),function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"download",n=_(t,e);x(n,a)}(e,a,"Export"+O()())}},{key:"render",value:function(){var t=this,e=this.state.columns.map((function(e){return e.render?P({},e):P({},e,{},t.getColumnSearchProps(e.dataIndex))}));return E.a.createElement("div",null,this.props.hideReport?null:E.a.createElement(o.a,null,E.a.createElement(i.a,null,E.a.createElement(c.a.Group,{size:"small"},E.a.createElement(c.a,{disabled:this.state.loading,type:"primary",onClick:this.excelExport},E.a.createElement(l.a,{type:"file-excel"})," Excel"),E.a.createElement(c.a,{disabled:this.state.loading,type:"primary",onClick:this.pdfExport},E.a.createElement(l.a,{type:"file-pdf"})," PDF")))),E.a.createElement(o.a,null,E.a.createElement(n.a,Object.assign({pagination:{position:"both",pageSizeOptions:["10","20","30","40","50","100"],showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:function(t,e){return E.a.createElement(r.a,null,"Showing ",E.a.createElement("b",null,e[0])," to ",E.a.createElement("b",null,e[1])," of ",E.a.createElement("b",null,t)," items")}}},this.state,{columns:e}))))}}]),e}(E.a.Component)},261:function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));a(228);var n=a(227),r=(a(241),a(242)),o=(a(223),a(224)),i=a(96),s=a(97),l=a(100),c=a(98),p=a(44),u=a(99),d=a(0),m=a.n(d),h=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).startLoading=function(){a.props.loaderFunction&&(a.props.loaderFunction(),a.startMakingExtraLabels())},a.startMakingExtraLabels=function(){var t=Object(p.a)(a);a.setState((function(t){return t.extraLoadingLabel.length>2?{extraLoadingLabel:""}:{extraLoadingLabel:t.extraLoadingLabel+"."}}),(function(){t.props.loading&&setTimeout((function(){t.startMakingExtraLabels()}),500)}))},a.state={extraLoadingLabel:""},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return this.props.loading?m.a.createElement(r.a,{spinning:this.props.loading},m.a.createElement(o.a,{style:{minHeight:200}})):this.props.hidden?m.a.createElement(o.a,null,m.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},m.a.createElement("small",null,"No More Data Found"))):m.a.createElement(o.a,null,m.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},m.a.createElement(n.a,{type:"primary",onClick:this.startLoading,loading:this.props.loading},this.props.loading?"Loading"+this.state.extraLoadingLabel:"Load More")))}}]),e}(m.a.Component)}}]);
//# sourceMappingURL=14.af9a5821.chunk.js.map