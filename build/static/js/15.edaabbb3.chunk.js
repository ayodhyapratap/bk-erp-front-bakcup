(window["webpackJsonpbk-erp-front"]=window["webpackJsonpbk-erp-front"]||[]).push([[15],{1728:function(e,t,a){},1743:function(e,t,a){"use strict";a.r(t);var n=a(96),i=a(97),r=a(100),l=a(98),s=a(99),c=(a(138),a(101)),o=a(0),u=a.n(o),d=(a(259),a(260)),m=(a(223),a(224)),p=(a(232),a(233)),f=(a(296),a(297)),h=(a(245),a(246)),b=(a(228),a(227)),g=(a(236),a(18)),y=(a(256),a(257)),E=(a(234),a(235)),_=a(44),v=(a(225),a(226)),O=a(65),j=a(32),k=a(23),S=(v.a.Meta,function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).showModal=function(e){a.setState((function(){return{visible:!0,practice:e}}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={practiceList:[],specialisations:null,loading:!0,visible:!1,practice:{}},a.deletePractice=a.deletePractice.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.admin_practiceData()}},{key:"admin_practiceData",value:function(){var e=this;Object(k.c)(j.k,(function(t){var a={};t[0].specialisations.forEach((function(e){a[e.id]=e})),console.log(a),e.setState({practiceList:t,specialisations:a,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"deletePractice",value:function(e){var t=this;Object(k.j)(Object(k.f)(j.Ec,[e]),{},(function(e){console.log("data"),t.admin_practiceData(),t.props.refreshClinicData&&t.props.refreshClinicData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"name",key:"name",render:function(t,a){return u.a.createElement("a",{href:"#",onClick:function(){return e.showModal(a)}},t)}},{title:"Tagline",dataIndex:"tagline",key:"tagline"},{title:"Address",dataIndex:"address",key:"address"},{title:"Specialisation",key:"specialisation",dataIndex:"specialisation"},{title:"SMS Language",dataIndex:"language",key:"language"},{title:"Action",key:"action",render:function(a,n){return u.a.createElement("span",null,u.a.createElement(O.b,{to:"/settings/clinics/"+n.id+"/edit"},"Edit"),u.a.createElement(E.a,{type:"vertical"}),t.props.practiceList.length>1?u.a.createElement(y.a,{title:"Are you sure delete this Practice?",onConfirm:function(){return e.deletePractice(n.id)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")):null)}}];return u.a.createElement(m.a,null,u.a.createElement("h2",null,"Practice Details",u.a.createElement(O.b,{to:"/settings/clinics/add"},u.a.createElement(b.a,{type:"primary",style:{float:"right"}},u.a.createElement(g.a,{type:"plus"}),"\xa0Add"))),u.a.createElement(v.a,{loading:this.state.loading},u.a.createElement(h.a,{pagination:!1,columns:a,dataSource:this.state.practiceList})),u.a.createElement(d.a,{visible:this.state.visible,closable:!1,width:600,onCancel:this.handleCancel,footer:null},u.a.createElement(b.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:this.handleCancel}),u.a.createElement(m.a,{style:{paddingBottom:"25px"}},u.a.createElement(p.a,{span:12,offset:10},this.state.practice.logo?u.a.createElement(f.a,{shape:"square",size:"large",src:Object(k.g)(this.state.practice.logo)}):null)),u.a.createElement(P,{label:"Practice Name : ",value:this.state.practice.name}),u.a.createElement(P,{label:"Tagline : ",value:this.state.practice.tagline}),u.a.createElement(P,{label:"Email Id: ",value:this.state.practice.email}),u.a.createElement(P,{label:"Contact Number : ",value:this.state.practice.contact}),u.a.createElement(P,{label:"Website : ",value:this.state.practice.website}),u.a.createElement(P,{label:"GSTIN : ",value:this.state.practice.gstin}),u.a.createElement(P,{label:"Specialisation",value:this.state.practice.specialisation}),P({label:"Address",value:this.state.practice.address?this.state.practice.address:this.state.practice.locality})))}}]),t}(u.a.Component));function P(e){return u.a.createElement(m.a,{gutter:16},u.a.createElement(p.a,{span:8},u.a.createElement("p",null,u.a.createElement("b",null,e.label))),u.a.createElement(p.a,{span:16},e.value))}var D=a(24),x=(a(241),a(242)),I=(a(279),a(276)),C=(a(616),a(618)),w=(a(262),a(264)),A=a(33),M=(a(293),a(295)),T=a(243),V=a(2),N=a(16),R=a(64),F=a.n(R),L=(a(377),a(394)),H=(a(237),a(238)),W=a(25),q=a(247);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).loadData=function(){var e=Object(_.a)(a);Object(k.c)(Object(k.f)(j.Y,[a.props.active_practiceId]),(function(t){var a=!0,n={},i={};if(t.length&&t[0]){var r=t[0];q.s.forEach((function(e){n[e]=r[e],i["is_two_sessions_".concat(e)]=r["is_two_sessions_".concat(e)]})),a=r.visting_hour_same_week,i.is_two_sessions=r.is_two_sessions}t.length?e.setState({timings:t[0],visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1}):(e.setState({timings:{},visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1}),Object(k.a)(V.bc,"Doctors visit timing is empty"))}),(function(){}),{doctor:a.state.doctorId})},a.handleSubmit=function(e){var t=Object(_.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,n){if(!e){console.log(n);var i=B({},n);i.first_start_time&&(i.first_start_time=F()(i.first_start_time).format("HH:mm")),i.first_end_time&&(i.first_end_time=F()(i.first_end_time).format("HH:mm")),i.second_start_time&&(i.second_start_time=F()(i.second_start_time).format("HH:mm")),i.second_end_time&&(i.second_end_time=F()(i.second_end_time).format("HH:mm")),i.doctor=t.state.doctorId,q.s.forEach((function(e){i["first_start_time_".concat(e)]&&(i["first_start_time_".concat(e)]=F()(i["first_start_time_".concat(e)]).format("HH:mm")),i["first_end_time_".concat(e)]&&(i["first_end_time_".concat(e)]=F()(i["first_end_time_".concat(e)]).format("HH:mm")),i["second_start_time_".concat(e)]&&(i["second_start_time_".concat(e)]=F()(i["second_start_time_".concat(e)]).format("HH:mm")),i["second_end_time_".concat(e)]&&(i["second_end_time_".concat(e)]=F()(i["second_end_time_".concat(e)]).format("HH:mm"))})),t.state.timings&&(i.id=t.state.timings.id);Object(k.j)(Object(k.f)(j.Y,[a.props.active_practiceId]),i,(function(e){t.setState({loading:!0}),t.props.history.goBack(),t.props.loadData&&t.props.loadData(),Object(k.a)(V.Sb,"Doctor Timings Saved successfully!!")}),(function(){}))}}))},a.changeVistingHourSameWeek=function(e){console.log(e.target),a.setState(Object(A.a)({},e.target.id,e.target.checked))},a.changeOpenPracticeDays=function(e,t){a.setState((function(a){return{openPracticeDays:B({},a.openPracticeDays,Object(A.a)({},e,t))}}))},a.changePracticeTwoSessions=function(e,t){a.setState((function(a){return{twoSessions:B({},a.twoSessions,Object(A.a)({},e,t))}}))},a.state={doctorId:a.props.match.params.docId,timings:null,openPracticeDays:{},visting_hour_same_week:!0,twoSessions:{},loading:!0},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.doctorId&&this.loadData()}},{key:"render",value:function(){var e=this;if(this.state.doctorId){if(this.state.timings){var t=this,a=this.props.formLayout?this.props.formLayout:{labelCol:{span:12},wrapperCol:{span:12}},n=this.props.form.getFieldDecorator;return u.a.createElement("div",null,u.a.createElement(v.a,{loading:this.state.loading},u.a.createElement(H.a,{onSubmit:this.handleSubmit},u.a.createElement(H.a.Item,Object.assign({key:"visting_hour_same_week"},a),n("visting_hour_same_week",{valuePropName:"checked",initialValue:!!t.state.timings&&t.state.visting_hour_same_week},{rules:[{message:W.j}]})(u.a.createElement(I.a,{onChange:this.changeVistingHourSameWeek},"Visiting hours are  same for all working days in a week"))),u.a.createElement(E.a,{style:{margin:4}}),this.state.visting_hour_same_week?u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement(p.a,{span:4}),u.a.createElement(p.a,{span:18},u.a.createElement(H.a.Item,Object.assign({key:"is_two_sessions"},a),n("is_two_sessions",{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings.is_two_sessions||t.state.twoSessions.is_two_sessions)},{rules:[{message:W.j}]})(u.a.createElement(I.a,{onChange:function(t){return e.changePracticeTwoSessions("is_two_sessions",t.target.checked)}},"Practice operates in two sessions."))),u.a.createElement(m.a,{gutter:16},u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"first_start_time",label:"Practice Starts At"},a),n("first_start_time",{initialValue:t.state.timings&&t.state.timings.first_start_time?F()(t.state.timings.first_start_time,"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm"})))),t.state.twoSessions.is_two_sessions?u.a.createElement("div",null,u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"first_end_time",label:"Lunch At"},a),n("first_end_time",{initialValue:t.state.timings&&t.state.timings.first_end_time?F()(t.state.timings.first_end_time,"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm"})))),u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"second_start_time",label:"Resume At"},a),n("second_start_time",{initialValue:t.state.timings&&t.state.timings.second_start_time?F()(t.state.timings.second_start_time,"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm"}))))):null,u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"second_end_time",label:"Practice Ends At"},a),n("second_end_time",{initialValue:t.state.timings&&t.state.timings.second_end_time?F()(t.state.timings.second_end_time,"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm"}))))))),u.a.createElement(E.a,{style:{margin:4}})):q.s.map((function(i){return u.a.createElement("div",{key:i},u.a.createElement(m.a,null,u.a.createElement(p.a,{span:4},u.a.createElement("h4",null,i.replace(/^\w/,(function(e){return e.toUpperCase()})))),u.a.createElement(p.a,{span:18},u.a.createElement(H.a.Item,Object.assign({key:"".concat(i)},a),n("".concat(i),{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings["".concat(i)]||t.state.openPracticeDays[i])},{rules:[{message:W.j}]})(u.a.createElement(I.a,{onChange:function(e){return t.changeOpenPracticeDays(i,e.target.checked)}},"Practice is open on ".concat(i.replace(/^\w/,(function(e){return e.toUpperCase()})))))),t.state.openPracticeDays[i]?u.a.createElement("div",null,u.a.createElement(H.a.Item,Object.assign({key:"is_two_sessions_".concat(i)},a),n("is_two_sessions_".concat(i),{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings["is_two_sessions_".concat(i)]||t.state.twoSessions["is_two_sessions_".concat(i)])},{rules:[{message:W.j}]})(u.a.createElement(I.a,{onChange:function(t){return e.changePracticeTwoSessions("is_two_sessions_".concat(i),t.target.checked)}},"Practice operates in two sessions."))),u.a.createElement(m.a,{gutter:16},u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"first_start_time_".concat(i),label:"Practice Starts At"},a),n("first_start_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["first_start_time_".concat(i)]?F()(t.state.timings["first_start_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm"})))),t.state.twoSessions["is_two_sessions_".concat(i)]?u.a.createElement("div",null,u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"first_end_time_".concat(i),label:"Lunch At"},a),n("first_end_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["first_end_time_".concat(i)]?F()(t.state.timings["first_end_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm"})))),u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"second_start_time_".concat(i),label:"Resume At"},a),n("second_start_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["second_start_time_".concat(i)]?F()(t.state.timings["second_start_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm"}))))):null,u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"second_end_time_".concat(i),label:"Practice Ends At"},a),n("second_end_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["second_end_time_".concat(i)]?F()(t.state.timings["second_end_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm"})))))):null)),u.a.createElement(E.a,{style:{margin:4}}))})),u.a.createElement(H.a.Item,a,u.a.createElement(b.a,{loading:t.state.loading,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),t.props.history?u.a.createElement(b.a,{style:{margin:5},onClick:function(){return t.props.history.goBack()}},"Cancel"):null))))}return u.a.createElement(v.a,{loading:!0})}return u.a.createElement(D.a,{to:"/settings/clinics-staff"})}}]),t}(u.a.Component),z=H.a.create()(Y),K=a(239);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=h.a.Column,J=(h.a.ColumnGroup,M.a.TabPane),X=d.a.confirm;function $(e){return F()(e,"HH:mm").format("HH:mm")}var ee=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).getAllPermissions=function(){var e=Object(_.a)(a);Object(k.c)(j.j,(function(t){e.setState({allPermissions:t.practice_permissions,allGlobalPermissions:t.global_permissions})}),(function(){}))},a.handleClick=function(e){a.setState({current:e.key})},a.loadDoctorsTiming=function(){var e=Object(_.a)(a),t=e.state.practice_doctors.map((function(e){return e.id}));Object(k.c)(Object(k.f)(j.Y,[a.props.active_practiceId]),(function(t){e.setState((function(e){var a={};return t.forEach((function(e){a[e.doctor.id]=e})),{doctorsTiming:a}}))}),(function(){}),{doctor:t.join(",")})},a.changeTab=function(e){a.setState({defaultActiveTab:e}),a.props.history.push("/settings/clinics-staff"+e)},a.toggleEnableStaffPractice=function(e,t){var n=Object(_.a)(a);Object(k.j)(Object(k.f)(j.mb,[e]),{practice:n.props.active_practiceId,is_active:!!t},(function(e){t?Object(k.a)(V.Sb,"Staff enabled for this practice successfully!!"):Object(k.a)(V.Sb,"Staff disabled for this practice successfully!!"),n.admin_StaffData()}),(function(){}))},a.toggleAllPermissions=function(e,t){var n=Object(_.a)(a),i=[];"LOCAL"==e&&n.state.allPermissions.forEach((function(e){var a={name:e.name,codename:e.codename,is_active:!!t,practice:n.props.active_practiceId,staff:n.state.currentUser};n.state.editPermissions[e.codename]&&(a.id=n.state.editPermissions[e.codename].id),i.push(a)})),"GLOBAL"==e&&n.state.allGlobalPermissions.forEach((function(e){var a={name:e.name,codename:e.codename,is_active:!!t,staff:n.state.currentUser};n.state.editPermissions[e.codename]&&(a.id=n.state.editPermissions[e.codename].id),i.push(a)}));var r=function(e){n.editPermissions(n.state.currentUser),n.setState({bulkEditLoading:!1})},l=function(){n.setState({bulkEditLoading:!1})};X({title:"Are you sure to select all permissions for this user?",onOk:function(){n.setState({bulkEditLoading:e}),Object(k.j)(j.Jd,{permissions:i},r,l)},onCancel:function(){return!1}})},a.state={current:"staff",practice_staff:[],practice_doctors:[],roles:null,permissionEditModal:!1,editPermissions:{},allPermissions:[],allGlobalPermissions:[],loading:!0,defaultActiveTab:a.props.location.hash,doctorsTiming:{},bulkEditLoading:!1},a.setPermission=a.setPermission.bind(Object(_.a)(a)),a.staffRoles(),a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllPermissions(),this.loadData()}},{key:"setPermission",value:function(e,t,a,n){var i=this,r=a.target.checked;if(this.setState((function(t){var a=Z({},t.editPermissions[e]);return a.loading=!0,{editPermissions:Z({},t.editPermissions,Object(A.a)({},e,a))}})),r){var l={name:t,codename:e,is_active:!0,practice:n?i.props.active_practiceId:null,staff:i.state.currentUser};Object(k.j)(j.Zc,l,(function(t){i.setState((function(a){return{editPermissions:Z({},a.editPermissions,Object(A.a)({},e,t))}}))}),(function(){}))}else if(i.state.editPermissions[e].id){Object(k.i)(Object(k.f)(j.Yc,[i.state.editPermissions[e].id]),{is_active:!1},(function(e){i.setState((function(t){return{editPermissions:Z({},t.editPermissions,Object(A.a)({},e.codename,void 0))}}))}),(function(){}))}}},{key:"editPermissions",value:function(e){var t=this;if(!e)return t.setState({permissionEditModal:!1}),!0;t.setState({permissionEditModal:!0,editPermissions:[],currentUser:e});Object(k.c)(Object(k.f)(j.Ld,[e,t.props.active_practiceId]),(function(e){var a={};e.forEach((function(e){a[e.codename]=e})),t.setState({editPermissions:a})}),(function(){}))}},{key:"loadData",value:function(){this.admin_StaffData()}},{key:"deleteStaff",value:function(e){var t=this;Object(k.l)(Object(k.f)(j.rd,[e]),{is_active:!1},(function(e){t.loadData()}),(function(){}))}},{key:"staffRoles",value:function(){var e=this;Object(k.c)(j.zd,(function(t){e.setState({roles:t})}),(function(){}))}},{key:"admin_StaffData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Dc,[this.props.active_practiceId]),(function(t){var a=[],n=[];t.staff.forEach((function(e){e.role==V.N?a.push(Z({},e.user,{},e)):n.push(Z({},e.user,{},e))})),e.setState({practice_doctors:a,practice_staff:n,loading:!1},(function(){e.loadDoctorsTiming()}))}),(function(){e.setState({loading:!1})}),{all:!0})}},{key:"clinicData",value:function(){var e=Object(N.g)(),t=(Object.keys(e),this);Object(k.c)(Object(k.f)(j.Dc,[this.props.active_practiceId]),(function(e){var a=[],n=[];e.staff.forEach((function(e){e.role==V.N?a.push(Z({},e.user,{},e)):n.push(Z({},e.user,{},e))})),t.setState({practice_doctors:a,practice_staff:n},(function(){t.loadDoctorsTiming()}))}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"first_name",key:"first_name"},{title:"Email",dataIndex:"email",key:"email",render:function(e,t){return t.user&&t.user.is_active?t.user.email:e}},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"Registration Number",dataIndex:"registration_number",key:"registration_number"},{title:"Enable Staff",dataIndex:"in_practice",key:"enable_staff",render:function(e,a){return a.user&&a.user.is_superuser?u.a.createElement(w.a,{color:"red"},"Not Allowed"):u.a.createElement(C.a,{defaultChecked:!!e,onChange:function(e){return t.toggleEnableStaffPractice(a.id,e)}})}},{title:"Last Login",key:"user",render:function(e,t){return t.user&&t.user.is_active?t.user.last_login?F()(t.user.last_login).fromNow():"--":u.a.createElement(w.a,{color:"#f50"},"Activation Pending")}},{title:"Action",key:"action",render:function(e,a){return u.a.createElement("span",null,u.a.createElement(O.b,{to:"/settings/clinics-staff/"+a.id+"/edit"},u.a.createElement("a",null,"Edit")),u.a.createElement(E.a,{type:"vertical"}),a.user&&a.user.is_superuser?u.a.createElement(w.a,{color:"red"},"SuperUser"):u.a.createElement(u.a.Fragment,null,u.a.createElement("a",{onClick:function(){return t.editPermissions(a.id)},disabled:!a.in_practice},"Permissions"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this staff?",onConfirm:function(){return t.deleteStaff(a.id)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete"))))}}],n=[{title:"Name",dataIndex:"first_name",key:"name"},{title:"Email",dataIndex:"email",key:"email",render:function(e,t){return t.user&&t.user.is_active?t.user.email:e}},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"Enable Staff",dataIndex:"in_practice",key:"enable_staff",render:function(e,a){return a.user&&a.user.is_superuser?u.a.createElement(w.a,{color:"red"},"Not Allowed"):u.a.createElement(C.a,{defaultChecked:!!e,onChange:function(e){return t.toggleEnableStaffPractice(a.id,e)}})}},{title:"Last Login",key:"user",render:function(e,t){return t.user&&t.user.is_active?t.user.last_login?F()(t.user.last_login).fromNow():"--":u.a.createElement(w.a,{color:"#f50"},"Activation Pending")}},{title:"Action",key:"action",render:function(e,a){return u.a.createElement("span",null,u.a.createElement(O.b,{to:"/settings/clinics-staff/staff/"+a.id+"/edit"},u.a.createElement("a",null,"Edit")),u.a.createElement(E.a,{type:"vertical"}),a.user&&a.user.is_superuser?u.a.createElement(w.a,{color:"red"},"SuperUser"):u.a.createElement(u.a.Fragment,null,u.a.createElement("a",{onClick:function(){return t.editPermissions(a.id)},disabled:!a.in_practice},"Permissions"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this staff?",onConfirm:function(){return t.deleteStaff(a.id)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete"))))}}],i=[{title:"Name",dataIndex:"user.first_name",key:"name"},{title:"Confirmation SMS",dataIndex:"confirmation_sms",key:"confirmation_sms",render:function(e){return u.a.createElement("span",null,u.a.createElement(I.a,{checked:e}))}},{title:"Schedule SMS",dataIndex:"schedule_sms",key:"schedule_sms",render:function(e){return u.a.createElement("span",null,u.a.createElement(I.a,{checked:e}))}},{title:"Confirmation EMAIL",dataIndex:"confirmation_email",key:"confirmation_email",render:function(e){return u.a.createElement("span",null,u.a.createElement(I.a,{checked:e}))}},{title:"Online Appointment SMS",dataIndex:"online_appointment_sms",key:"online_appointment_sms",render:function(e){return u.a.createElement(I.a,{checked:e})}},{title:"Action",key:"action",render:function(e,t){return u.a.createElement("span",null,u.a.createElement(O.b,{to:"/settings/clinics-staff/"+t.id+"/edit"},u.a.createElement("a",null,"Edit")))}}],r=[{title:"Name",dataIndex:"user.first_name",key:"name"},{title:"Confirmation SMS",dataIndex:"confirmation_sms",key:"confirmation_sms",render:function(e){return u.a.createElement("span",null,u.a.createElement(I.a,{checked:e}))}},{title:"Schedule SMS",dataIndex:"schedule_sms",key:"schedule_sms",render:function(e){return u.a.createElement("span",null,u.a.createElement(I.a,{checked:e}))}},{title:"Confirmation EMAIL",dataIndex:"confirmation_email",key:"confirmation_email",render:function(e){return u.a.createElement("span",null,u.a.createElement(I.a,{checked:e}))}},{title:"Online Appointment SMS",dataIndex:"online_appointment_sms",key:"online_appointment_sms",render:function(e){return u.a.createElement(I.a,{checked:e})}},{title:"Action",key:"action",render:function(e,t){return t.user&&t.is_superuser?u.a.createElement(w.a,null," Not Allowed"):u.a.createElement("span",null,u.a.createElement(O.b,{to:"/settings/clinics-staff/staff/"+t.id+"/edit"},u.a.createElement("a",null,"Edit")))}}];return u.a.createElement(m.a,null,u.a.createElement("h2",null,"Practice Staff"),u.a.createElement(D.d,null,u.a.createElement(D.b,{path:"/settings/clinics-staff/:docId/edit-timing",render:function(a){return u.a.createElement(z,Object.assign({},e.props,a,{loadData:t.loadData}))}}),u.a.createElement(D.b,null,u.a.createElement(v.a,null,u.a.createElement(M.a,{defaultActiveKey:this.state.defaultActiveTab,onChange:this.changeTab},u.a.createElement(J,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"user-add"}),"Manage Staff"),key:"#staff"},u.a.createElement("h2",null,"Doctors",u.a.createElement(O.b,{to:"/settings/clinics-staff/adddoctor"},u.a.createElement(b.a,{type:"primary",style:{float:"right"}},u.a.createElement(g.a,{type:"plus"}),"\xa0Add Doctor")),u.a.createElement(O.b,{to:"/settings/clinics-staff/addstaff"},u.a.createElement(b.a,{type:"primary",style:{float:"right",marginRight:"5px"}},u.a.createElement(g.a,{type:"plus"}),"\xa0Add Staff"))),u.a.createElement(K.a,{loading:this.state.loading,pagination:!1,columns:a,dataSource:this.state.practice_doctors}),u.a.createElement(E.a,null),u.a.createElement("h2",null,"Staff "),u.a.createElement(K.a,{loading:this.state.loading,pagination:!1,columns:n,dataSource:this.state.practice_staff})),u.a.createElement(J,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"team"}),"Staff Notification"),key:"#notification"},u.a.createElement("h2",null,"Doctors"),u.a.createElement(h.a,{loading:this.state.loading,pagination:!1,columns:i,dataSource:this.state.practice_doctors}),u.a.createElement(E.a,null),u.a.createElement("h2",null,"Staff"),u.a.createElement(h.a,{loading:this.state.loading,pagination:!1,columns:r,dataSource:this.state.practice_staff})),u.a.createElement(J,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"schedule"}),"Doctors visit Timing"),key:"#timing"},u.a.createElement(h.a,{loading:this.state.loading,dataSource:this.state.practice_doctors},u.a.createElement(Q,{title:"Name",dataIndex:"user.first_name",key:"name"}),u.a.createElement(Q,{title:"Visit Timing",dataIndex:"loginstatus",key:"VisitTiming",render:function(e,a){return function(e){if(e)return e.visting_hour_same_week?u.a.createElement("span",null,u.a.createElement("b",null,"Mon-Sun : "),$(e.first_start_time),e.is_two_sessions?"-"+$(e.first_end_time)+" ||LUNCH|| "+$(e.second_start_time):null,"-",$(e.second_end_time)):q.s.map((function(t){return e[t]?u.a.createElement("span",null,u.a.createElement("b",null,t," : "),$(e["first_start_time_".concat(t)]),e["is_two_sessions_".concat(t)]?"-"+$(e["first_end_time_".concat(t)])+"||LUNCH||"+$(e["second_start_time_".concat(t)]):null,"-",$(e["second_end_time_".concat(t)]),u.a.createElement("br",null)):null}));return null}(t.state.doctorsTiming[a.id])}}),u.a.createElement(Q,{title:"Action",key:"action",render:function(e,t){return u.a.createElement(O.b,{to:"/settings/clinics-staff/"+t.id+"/edit-timing"},u.a.createElement("a",null,"Edit Timing"))}})))),u.a.createElement(d.a,{title:"Edit Permissions",visible:this.state.permissionEditModal,onCancel:function(){return e.editPermissions()},footer:null},u.a.createElement(x.a,{spinning:"LOCAL"==this.state.bulkEditLoading},u.a.createElement(m.a,null,u.a.createElement("h3",null,u.a.createElement(I.a,{checked:t.state.allPermissions.length&&t.state.allPermissions.reduce((function(e,a){return e&&a&&t.state.editPermissions[e.codename]&&t.state.editPermissions[a.codename]})),onClick:function(t){return e.toggleAllPermissions("LOCAL",t.target.checked)}},"Select All Permissions"))),t.state.allPermissions.map((function(a){return u.a.createElement(m.a,null,u.a.createElement(I.a,{value:a.codename,checked:t.state.editPermissions[a.codename],disabled:t.state.editPermissions[a.codename]&&t.state.editPermissions[a.codename].loading,onClick:function(t){return e.setPermission(a.codename,a.name,t,!0)}},a.id," ",a.name))}))),u.a.createElement(E.a,null,"Global Permissions"),u.a.createElement(x.a,{spinning:"GLOBAL"==this.state.bulkEditLoading},u.a.createElement(m.a,null,u.a.createElement("h3",null,u.a.createElement(I.a,{checked:t.state.allGlobalPermissions.length&&t.state.allGlobalPermissions.reduce((function(e,a){return e&&a&&t.state.editPermissions[e.codename]&&t.state.editPermissions[a.codename]})),onClick:function(t){return e.toggleAllPermissions("GLOBAL",t.target.checked)}},"Select All Permissions"))),t.state.allGlobalPermissions.map((function(a){return u.a.createElement(m.a,null,u.a.createElement(I.a,{value:a.codename,checked:t.state.editPermissions[a.codename],disabled:t.state.editPermissions[a.codename]&&t.state.editPermissions[a.codename].loading,onClick:function(t){return e.setPermission(a.codename,a.name,t,!1)},style:{display:"list-item"}},a.id," ",a.name))}))))))))}}]),t}(u.a.Component),te=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={redirect:!1,editStaff:null,roles:[]},a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a.loadEditPracticeStaff=a.loadEditPracticeStaff.bind(Object(_.a)(a)),a.props.match.params.doctorid&&a.loadEditPracticeStaff(),a.staffRoles(),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"staffRoles",value:function(){var e=this;Object(k.c)(j.zd,(function(t){e.setState({roles:t})}),(function(){}))}},{key:"loadEditPracticeStaff",value:function(){var e=this.props.match.params.doctorid;console.log(e);var t=this;Object(k.c)(Object(k.f)(j.rd,[e]),(function(e){t.setState({editStaff:e})}),(function(){t.setState({})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e,t=this,a=this,n=[{label:"Doctor",key:"user.first_name",required:!0,placeholder:"Doctor Name",initialValue:this.state.editStaff?this.state.editStaff.user.first_name:null,type:V.W},{label:"Mobile Number",key:"user.mobile",placeholder:"Mobile Number",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.mobile:null,type:V.W},{label:"Email Id",key:"user.email",placeholder:"Email Id",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.email:null,type:V.P},{label:"Registration Number",key:"registration_number",placeholder:"Registration Number",initialValue:this.state.editStaff?this.state.editStaff.registration_number:null,type:V.W},{label:"Calendar Colour",key:"calendar_colour",initialValue:this.state.editStaff?this.state.editStaff.calendar_colour:null,type:V.A,required:!0},{label:"Schedule SMS",key:"schedule_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.schedule_sms,type:V.Ob},{label:"Confirmation SMS",key:"confirmation_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_sms,type:V.Ob},{label:"Confirmation Email",key:"confirmation_email",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_email,type:V.Ob},{label:"Online Appointment SMS",key:"online_appointment_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.online_appointment_sms,type:V.Ob}],i={successFn:function(e){Object(k.a)(V.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/clinics-staff")},errorFn:function(){},action:j.l,method:"post"};this.state.editStaff&&(e={successFn:function(e){Object(k.a)(V.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/clinics-staff")},errorFn:function(){},action:Object(k.f)(j.rd,[a.props.match.params.doctorid]),method:"put"});var r=[{key:"role",value:[3]}],l=H.a.create()(T.a);return u.a.createElement(m.a,null,u.a.createElement(v.a,null,u.a.createElement(D.b,{exact:!0,path:"/settings/clinics-staff/:doctorid/edit",render:function(a){return t.props.match.params.doctorid?u.a.createElement(l,Object.assign({defaultValues:r,title:"Edit Doctor",changeRedirect:t.changeRedirect,formProp:e,fields:n},a)):u.a.createElement(D.a,{to:"/settings/clinics-staff"})}}),u.a.createElement(D.b,{exact:!0,path:"/settings/clinics-staff/adddoctor",render:function(e){return u.a.createElement(l,Object.assign({defaultValues:r,changeRedirect:t.changeRedirect,title:"Add Doctor ",formProp:i,fields:n},e))}})),this.state.redirect&&u.a.createElement(D.a,{to:"/settings/clinics-staff"}))}}]),t}(u.a.Component),ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={redirect:!1,editStaff:null},a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a.loadEditPracticeStaff=a.loadEditPracticeStaff.bind(Object(_.a)(a)),a.props.match.params.staffid&&a.loadEditPracticeStaff(),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"loadEditPracticeStaff",value:function(){var e=this.props.match.params.staffid;console.log(e);var t=this;Object(k.c)(Object(k.f)(j.rd,[e]),(function(e){t.setState({editStaff:e})}),(function(){t.setState({})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e,t=this,a=this,n=[{label:"Staff Name",key:"user.first_name",required:!0,placeholder:"Staff Name",initialValue:this.state.editStaff?this.state.editStaff.user.first_name:null,type:V.W},{label:"Mobile Number",key:"user.mobile",placeholder:"Mobile Number",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.mobile:null,type:V.W},{label:"Email Id",key:"user.email",placeholder:"Email Id",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.email:null,type:V.P},{label:"Role",key:"role",required:!0,initialValue:this.state.editStaff?[this.state.editStaff.role]:null,type:V.Nb,options:q.zb.map((function(e){return{label:e.label,value:[e.value]}}))},{label:"Schedule SMS",key:"schedule_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.schedule_sms,type:V.Ob},{label:"Confirmation SMS",key:"confirmation_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_sms,type:V.Ob},{label:"Confirmation Email",key:"confirmation_email",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_email,type:V.Ob},{label:"Online Appointment SMS",key:"online_appointment_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.online_appointment_sms,type:V.Ob}],i={successFn:function(e){Object(k.a)(V.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/clinics-staff")},errorFn:function(){},action:j.l,method:"post"};this.state.editStaff&&(e={successFn:function(e){Object(k.a)(V.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/clinics-staff")},errorFn:function(){},action:Object(k.f)(j.rd,[a.props.match.params.staffid]),method:"put"});var r=[],l=H.a.create()(T.a);return u.a.createElement(m.a,null,u.a.createElement(v.a,null,u.a.createElement(D.b,{exact:!0,path:"/settings/clinics-staff/staff/:staffid/edit",render:function(a){return t.props.match.params.staffid?u.a.createElement(l,Object.assign({defaultValues:r,title:"Edit Staff",changeRedirect:t.changeRedirect,formProp:e,fields:n},a)):u.a.createElement(D.a,{to:"/settings/clinics-staff"})}}),u.a.createElement(D.b,{exact:!0,path:"/settings/clinics-staff/addstaff",render:function(e){return u.a.createElement(l,Object.assign({defaultValues:r,changeRedirect:t.changeRedirect,title:"Add Staff ",formProp:i,fields:n},e))}})),this.state.redirect&&u.a.createElement(D.a,{to:"/settings/clinics-staff"}))}}]),t}(u.a.Component),ne=a(231),ie=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state=Object(A.a)({redirect:!1,specialisations:null,countries:null},q.Fb,[]),a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(k.c)(j.rb,(function(t){var a={};t.specialisation.forEach((function(e){a[e.id]=e})),console.log(a),e.setState({specialisations:t.specialisation,countries:t.country})}),(function(){})),Object(ne.c)(this,[q.Fb])}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=[];this.state.specialisations&&this.state.specialisations.forEach((function(t){e.push({label:t.name,value:t.id})}));var t=[{label:"Practice Logo",key:"logo",type:V.Pb,allowWebcam:!1},{label:"Practice Name",key:"name",placeholder:"Practice Name",required:!0,type:V.W},{label:"Practice Tagline",key:"tagline",placeholder:"Practice Tagline",required:!0,type:V.W},{label:"Practice Specialisation",key:"specialisation",placeholder:"Practice Specialisation",type:V.W},{label:"Practice Street Address",key:"address",placeholder:"Practice Street Address",type:V.W},{label:"Practice Locality",key:"locality",placeholder:"Practice Locality",type:V.W},{label:"Practice Country",key:"country",placeholder:"Practice Country",type:V.W},{label:"Practice State",key:"state",placeholder:"Practice State",type:V.W},{label:"Practice City",key:"city",placeholder:"Practice City",type:V.W},{label:"Practice PINCODE",key:"pincode",placeholder:"Practice PINCODE",type:V.W},{label:"Practice Contact Number",key:"contact",placeholder:"Practice Contact Number",type:V.W},{label:"Practice Email",key:"email",placeholder:"Practice Email",type:V.P},{label:"SMS Language",key:"language",placeholder:"SMS Language",initialValue:this.props.activePracticeData.language?this.props.activePracticeData.language:[],type:V.Nb,options:this.state[q.Fb].map((function(e){return{label:e,value:e}}))},{label:"Practice Website",key:"website",placeholder:"Practice Website",type:V.W},{label:"GSTIN",key:"gstin",placeholder:"GSTIN",type:V.W},{label:"Invoice Prefix",placeholder:"DEL/INV/",key:"invoice_prefix",type:V.W,required:!0},{label:"Payment Prefix",placeholder:"DEL/RCPT/",key:"payment_prefix",type:V.W,required:!0},{label:"Return Prefix",placeholder:"DEL/RET/",key:"return_prefix",type:V.W,required:!0}],a={successFn:function(e){Object(k.a)(V.Sb,"success"),this.props.history&&this.props.history.replace("/settings/clinics")},errorFn:function(){},action:j.k,method:"post"},n=H.a.create()(T.a);return u.a.createElement(m.a,null,u.a.createElement(v.a,null,u.a.createElement(n,Object.assign({title:"Practice Details",changeRedirect:this.changeRedirect,formProp:a,fields:t},this.props))),this.state.redirect&&u.a.createElement(D.a,{to:"/settings/clinics"}))}}]),t}(u.a.Component),re=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={},a.loadWishSMS=a.loadWishSMS.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadWishSMS()}},{key:"loadWishSMS",value:function(){var e=this;Object(k.c)(Object(k.f)(j.S,[this.props.active_practiceId]),(function(t){e.setState({wishsmsData:t[t.length-1]})}),(function(){}))}},{key:"render",value:function(){console.log("wishSMS",this.state.wishsmsData);var e=[{key:"birthday_wish_sms",initialValue:!!this.state.wishsmsData&&this.state.wishsmsData.birthday_wish_sms,type:V.Ob,extra:"This SMS is sent to the Patient on the morning of their birthday",follow:u.a.createElement("b",null,"BIRTHDAY WISH SMS")},{key:"birthday_wish_text",placeholder:"{clinic}{patient}}",initialValue:this.state.wishsmsData?this.state.wishsmsData.birthday_wish_text:" ",minRows:4,type:V.Qb,options:q.d},{key:"anniversary_wish_sms",initialValue:!!this.state.wishsmsData&&this.state.wishsmsData.anniversary_wish_sms,type:V.Ob,extra:"This SMS is sent to the Patient on the morning of their anniversary",follow:u.a.createElement("b",null,"ANNIVERSARY WISH SMS")},{key:"anniversary_wish_text",placeholder:"{anniversary}",initialValue:this.state.wishsmsData?this.state.wishsmsData.anniversary_wish_text:" ",minRows:4,type:V.Qb,options:q.d},{key:"online_appointment_sms",type:V.Ob,initialValue:!!this.state.wishsmsData&&this.state.wishsmsData.online_appointment_sms,extra:"This SMS is sent to the Patient when they request an appointment on your practice marketing page",follow:u.a.createElement("b",null,"ONLINE APPOINTMENT SMS")},{key:"online_appointment_text",placeholder:"{online appointment}",initialValue:this.state.wishsmsData?this.state.wishsmsData.online_appointment_text:" ",minRows:4,type:V.Qb,options:q.d}],t={successFn:function(e){Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.S,[this.props.active_practiceId]),method:"post"},a=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.wishsmsData?this.state.wishsmsData.id:null}],n=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement(n,{formProp:t,defaultValues:a,fields:e}))}}]),t}(u.a.Component),le=(a(230),a(229)),se=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleChangeLanguage=function(e,t){var n=Object(_.a)(a);n.setState(Object(A.a)({},e,t),(function(){n.loadData()}))},a.state=Object(A.a)({redirect:!1,data:null,language:a.props.activePracticeData&&a.props.activePracticeData.language?a.props.activePracticeData.language:""},q.Fb,[]),a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),Object(ne.c)(this,[q.Fb])}},{key:"loadData",value:function(){var e=this,t={};e.state.language&&(t.language=e.state.language),Object(k.c)(Object(k.f)(j.S,[this.props.active_practiceId]),(function(t){console.log("length",t.length-1),e.setState({data:t[t.length-1]})}),(function(){}),t)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t=this,a=[{label:"Contact Number",key:"contact_number",placeholder:"Contact Number",initialValue:this.state.data?this.state.data.contact_number:" ",extra:"Maximum 15 characters & represented as {{CLINICCONTACTNUMBER}}",type:V.W},{label:"Email",key:"email",placeholder:"Email Address",initialValue:this.state.data?this.state.data.email:" ",extra:"All replies by Patients for emails will be sent to this address",type:V.W},{label:"SMS clinic Name",key:"sms_clinic_name",placeholder:"Clinic Name",initialValue:this.state.data?this.state.data.sms_clinic_name:" ",extra:"{{CLINIC}} will use this name.",type:V.W},{key:"appointment_confirmation_sms",placeholder:"Appointment Confirmation SMS Text",initialValue:!!this.state.data&&this.state.data.appointment_confirmation_sms,type:V.Ob,extra:"SMS is sent to the Patient on successfully adding an appointment",follow:u.a.createElement("b",null,"APPOINTMENT CONFIRMATION SMS")},{key:"appointment_confirmation_text",placeholder:"Appointment Cancellation SMS Text",initialValue:this.state.data?this.state.data.appointment_confirmation_text:null,minRows:4,type:V.Qb,options:q.d},{key:"appointment_cancellation_sms",initialValue:!!this.state.data&&this.state.data.appointment_cancellation_sms,type:V.Ob,extra:"SMS is sent to the Patient when the appointment is cancelled",follow:u.a.createElement("b",null,"APPOINTMENT CANCELLATION SMS")},{key:"appointment_cancellation_text",placeholder:"Appointment Cancellation SMS Text",initialValue:this.state.data?this.state.data.appointment_cancellation_text:null,minRows:4,type:V.Qb,options:q.d},{key:"appointment_reminder_sms",placeholder:"Appointment Reminder SMS Text",initialValue:!!this.state.data&&this.state.data.appointment_reminder_sms,type:V.Ob,extra:"This SMS is automatically sent to the Patient at selected time & date before the appointment.",follow:u.a.createElement("b",null,"APPOINTMENT REMINDER SMS")},{key:"appointment_reminder_text",placeholder:"Appointment Reminder SMS Text",initialValue:this.state.data?this.state.data.appointment_reminder_text:null,minRows:4,type:V.Qb,options:q.d},{key:"send_on_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_of_appointment,type:V.Ob,follow:"Send reminder SMS on the day of appointment at 7:30 AM"},{key:"send_on_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_of_appointment,follow:"Send reminder SMS on the day before the appointment at",type:V.Ob},{key:"send_on_day_of_appointment_time",initialValue:this.state.data&&F()(this.state.data.send_on_day_of_appointment_time).isValid()?F()(this.state.data.send_on_day_of_appointment_time):null,type:V.Vb},{key:"follow_up_reminder_sms",initialValue:!!this.state.data&&this.state.data.follow_up_reminder_sms,type:V.Ob,extra:"This SMS is sent to the Patient on the morning of the followup sms.",follow:u.a.createElement("b",null,"FOLLOW UP REMINDER SMS")},{key:"follow_up_reminder_sms_text",placeholder:"Follow-up Reminder SMS Text",initialValue:this.state.data?this.state.data.follow_up_reminder_sms_text:null,minRows:4,type:V.Qb,options:q.d},{key:"send_follow_up_reminder_time",initialValue:this.state.data?this.state.data.send_follow_up_reminder_time:null,extra:"Time to Send follow-up SMS after the last appointment.",type:V.Nb,options:[{label:"1 Month",value:1},{label:"3 Month",value:3},{label:"6 Month",value:6}]},{key:"payment_sms",initialValue:!!this.state.data&&this.state.data.payment_sms,type:V.Ob,extra:"This SMS is sent to the Patient when payment is received.",follow:u.a.createElement("b",null,"PAYMENT SMS")},{key:"payment_sms_text",placeholder:"Payment SMS Text",initialValue:this.state.data?this.state.data.payment_sms_text:null,minRows:4,type:V.Qb,options:q.d},{key:"promo_code_text",initialValue:!!this.state.data&&this.state.data.promo_code_text,type:V.X,extra:"This SMS is sent to the Patient for promo code.",follow:u.a.createElement("b",null,"Promo Code Fixed Rupee SMS Text")},{key:"promo_code_value_text",placeholder:"Promo Code Fixed Rupee SMS Text",initialValue:this.state.data?this.state.data.promo_code_value_text:null,minRows:4,type:V.Qb,options:q.wb},{key:"promo_code_text",initialValue:!!this.state.data&&this.state.data.promo_code_text,type:V.X,extra:"This SMS is sent to the Patient for promo code.",follow:u.a.createElement("b",null,"Promo Code Percent Discount SMS Text")},{key:"promo_code_precent_text",placeholder:"Promo Code Percent Discount SMS Text",initialValue:this.state.data?this.state.data.promo_code_precent_text:null,minRows:4,type:V.Qb,options:q.xb},{key:"lab_order_confirmation_sms",initialValue:!!this.state.data&&this.state.data.lab_order_confirmation_sms,type:V.Ob,extra:"This SMS is sent to the Patient when he is prescribed a lab order.",follow:u.a.createElement("b",null,"LAB ORDER CONFIRMATION SMS")},{key:"lab_order_confirmation_text",placeholder:"Lab Order Confirmation SMS Text",initialValue:this.state.data?this.state.data.lab_order_confirmation_text:null,minRows:4,type:V.Qb,options:q.d},{key:"lab_order_due_on_sms",placeholder:"Lab Order Due On SMS Text",initialValue:!!this.state.data&&this.state.data.lab_order_due_on_sms,extra:"This SMS is sent to the Patient informing lab order due date",type:V.Ob,follow:u.a.createElement("b",null,"LAB ORDER DUE ON SMS")},{key:"lab_order_result_sms",initialValue:!!this.state.data&&this.state.data.lab_order_result_sms,extra:"This SMS is sent to the Patient when lab order results are ready",type:V.Ob,follow:u.a.createElement("b",null,"LAB ORDER RESULT SMS")},{key:"lab_order_reminder_sms",initialValue:!!this.state.data&&this.state.data.lab_order_reminder_sms,type:V.Ob,extra:"This reminder SMS is sent to the Patient",follow:u.a.createElement("b",null,"LAB ORDER REMINDER SMS")}],n={successFn:function(e){Object(k.a)(V.Sb,"success"),t.loadData()},errorFn:function(){},action:Object(k.f)(j.S,[t.props.active_practiceId]),method:"post"},i=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.data?this.state.data.id:null},{key:"sms_language",value:this.state.language}],r=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement(p.a,{span:8},u.a.createElement("span",{style:{float:"right",color:"rgba(0, 0, 0, 0.85)"}},"SMS Language : \xa0")),u.a.createElement(p.a,{span:8},u.a.createElement(le.a,{defaultValue:this.data&&this.data.sms_language?this.data.sms_language:t.state.language,style:{width:220},onChange:function(t){return e.handleChangeLanguage("language",t)}},this.state[q.Fb].map((function(e){return u.a.createElement(le.a.Option,{value:e},e)}))),u.a.createElement("br",null),u.a.createElement("span",null,"SMS to Patients will be sent in this language"))),u.a.createElement(r,Object.assign({formProp:n,defaultValues:i,fields:a},this.props)))}}]),t}(u.a.Component),ce=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={},a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.cb,[this.props.active_practiceId]),(function(t){e.setState({data:t[0]})}),(function(){}))}},{key:"render",value:function(){var e=[{label:"Contact Number",key:"contact_number",placeholder:"Contact Number",initialValue:this.state.data?this.state.data.contact_number:" ",extra:"Maximum 15 characters & represented as {{CLINICCONTACTNUMBER}}",type:V.W},{label:"Email",key:"email",placeholder:"Email Address",initialValue:this.state.data?this.state.data.email:" ",extra:"All replies by Patients for emails will be sent to this address",type:V.W},{label:"SMS clinic Name",key:"email_clinic_name",placeholder:"Clinic Name",initialValue:this.state.data?this.state.data.email_clinic_name:" ",extra:"{{CLINIC}} will use this name.",type:V.W},{label:"Clinic Logo",key:"clinic_logo",initialValue:this.state.data?this.state.data.clinic_logo:" ",type:V.Pb},{key:"appointment_confirmation_email",initialValue:!!this.state.data&&this.state.data.appointment_confirmation_email,type:V.Ob,follow:u.a.createElement("b",null,"APPOINTMENT CONFIRMATION EMAIL"),options:[],extra:"Email is sent to the Patient on successfully adding an appointment"},{key:"appointment_confirmation_email_text",initialValue:this.state.data?this.state.data.appointment_confirmation_email_text:"",type:V.Y,options:q.d},{type:V.M},{key:"appointment_cancellation_email",initialValue:!!this.state.data&&this.state.data.appointment_cancellation_email,type:V.Ob,follow:u.a.createElement("b",null,"APPOINTMENT CANCELLATION EMAIL"),extra:"Email is sent to the Patient when the appointment is cancelled"},{key:"appointment_cancellation_email_text",initialValue:this.state.data?this.state.data.appointment_cancellation_email_text:"",type:V.Y,options:q.d},{type:V.M},{key:"appointment_reminder_email",initialValue:!!this.state.data&&this.state.data.appointment_reminder_email,type:V.Ob,follow:u.a.createElement("b",null,"APPOINTMENT REMINDER EMAIL"),extra:"Email is sent to the Patient on the morning of the appointment date"},{key:"send_on_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_of_appointment,type:V.Ob,follow:"Send reminder SMS on the day of appointment at 7:30 AM"},{key:"send_before_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_before_day_of_appointment,follow:"Send reminder SMS on the day before the appointment at",type:V.Ob},{key:"send_on_day_of_appointment_time",initialValue:this.state.data&&F()(this.state.data.send_on_day_of_appointment_time).isValid()?F()(this.state.data.send_on_day_of_appointment_time):null,type:V.Vb},{type:V.M},{key:"followup_reminder_email",initialValue:!!this.state.data&&this.state.data.followup_reminder_email,type:V.Ob,follow:u.a.createElement("b",null,"FOLLOW-UP REMINDER EMAIL"),extra:"Email is sent to the Patient on the morning of their planned follow-up date"},{key:"appointment_reminder_email_text",initialValue:this.state.data?this.state.data.appointment_reminder_email_text:"",type:V.Y,options:q.d},{type:V.M},{key:"birthday_wish_email",initialValue:!!this.state.data&&this.state.data.birthday_wish_email,type:V.Ob,follow:u.a.createElement("b",null,"BIRTHDAY WISH EMAIL"),extra:"Email is sent to the Patient on the morning of their birthday"},{key:"birthday_wish_email_text",initialValue:this.state.data?this.state.data.birthday_wish_email_text:"",type:V.Y,options:q.d},{type:V.M},{key:"lab_order_confirmation_email",initialValue:!!this.state.data&&this.state.data.lab_order_confirmation_email,type:V.Ob,follow:u.a.createElement("b",null,"LAB ORDER CONFIRMATION EMAIL"),extra:"Email is sent to the Patient when he is prescribed a Lab Order"},{key:"lab_order_confirmation_email_text",initialValue:this.state.data?this.state.data.lab_order_confirmation_email_text:"",type:V.Y,options:q.d},{type:V.M},{key:"lab_order_due_date_email",initialValue:!!this.state.data&&this.state.data.lab_order_due_date_email,type:V.Ob,follow:u.a.createElement("b",null,"LAB ORDER DUE DATE EMAIL"),extra:"Email is sent to the Patient when due date is entered for a Lab Order"},{key:"lab_order_due_date_email_text",initialValue:this.state.data?this.state.data.lab_order_due_date_email_text:"",type:V.Y,options:q.d},{type:V.M},{key:"lab_order_result_email",initialValue:!!this.state.data&&this.state.data.lab_order_result_email,type:V.Ob,follow:u.a.createElement("b",null,"LAB ORDER RESULT EMAIL"),extra:"Email is sent to the Patient when result for a Lab Order is ready"},{key:"alab_order_result_email_text",initialValue:this.state.data?this.state.data.alab_order_result_email_text:"",type:V.Y,options:q.d},{type:V.M},{key:"anniversary_wish_email",initialValue:!!this.state.data&&this.state.data.anniversary_wish_email,type:V.Ob,follow:u.a.createElement("b",null,"ANNIVERSARY WISH EMAIL"),extra:"Email is sent to the Patient on the morning of their anniversary"},{key:"anniversary_wish_email_text",initialValue:this.state.data?this.state.data.anniversary_wish_email_text:"",type:V.Y,options:q.d}],t={successFn:function(e){Object(k.a)(V.Sb,"Communication Settings Saved Successfully!!"),console.log("form",e)},errorFn:function(){},action:Object(k.f)(j.cb,[this.props.active_practiceId]),method:"post"},a=[{key:"practice",value:this.props.active_practiceId,is_active:!1},{key:"id",value:this.state.data?this.state.data.id:null}],n=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement(n,Object.assign({formProp:t,defaultValues:a,fields:e},this.props)))}}]),t}(u.a.Component),oe=M.a.TabPane,ue=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement("h2",null,"Communication Settings"),u.a.createElement(v.a,null,u.a.createElement(M.a,{defaultActiveKey:"appointmentsms"},u.a.createElement(oe,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"schedule"}),"Appointment & FollowUp SMS"),key:"appointmentsms"},u.a.createElement(se,this.props)),u.a.createElement(oe,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"mail"}),"Emails"),key:"emails"},u.a.createElement(ce,this.props)),u.a.createElement(oe,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"android"}),"Wish SMS"),key:"wishsms"},u.a.createElement(re,this.props))))))}}]),t}(u.a.Component),de=(a(250),a(253)),me=a(248),pe=(u.a.Component,a(302)),fe=(u.a.Component,a(284),a(286));function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var be=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).changeNetPrice=function(e){var t=Object(_.a)(a),n=a.props.form,i=n.getFieldsValue;n.setFields;setTimeout((function(){var e=i();if(e.cost_with_tax){var a=0;e.taxes.forEach((function(e){t.state.taxes.forEach((function(t){t.id==e&&(a+=t.tax_value)}))}));var n=e.cost_with_tax/(1+.01*a);t.setState({retail_price:n.toFixed(2)})}else t.setState({retail_price:0})}),1e3)},a.handleSubmit=function(e){var t=Object(_.a)(a);e.preventDefault(),a.props.form.validateFields((function(e,n){if(!e){var i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n,{cost:t.state.retail_price});a.state.editingProcedureData&&(i.id=a.state.editingProcedureData.id),Object(k.j)(Object(k.f)(j.Kc,[a.props.active_practiceId]),i,(function(e){Object(k.a)(V.Sb,"Procedure Updated Successfully!!"),t.props.loadData&&t.props.loadData(),t.props.history.replace("settings/procedures")}),(function(){}))}}))},a.state={editingProcedureData:a.props.editingProcedureData?a.props.editingProcedureData:null,taxes:[],procedure_category:[],redirect:!1,productMargin:[],retail_price:0},a.loadTaxes=a.loadTaxes.bind(Object(_.a)(a)),a.loadProcedures=a.loadProcedures.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(this.loadTaxes(),this.loadProcedures(),this.loadProductMargin(),this.props.editingProcedureData&&this.setState({retail_price:this.props.editingProcedureData.cost}),this.props.history&&this.props.history.location.search){var e=this.props.history.location.search.substr(1).split("&");if(e.length){var t={},a=this.props.form.setFieldsValue;e.forEach((function(e){var n=e.split("=");n&&2==n.length&&(isNaN(n[1])||-1==n[1].toString().indexOf(".")?isNaN(n[1])?(t[n[0]]=n[1],a(Object(A.a)({},n[0],n[1]))):(t[n[0]]=parseInt(n[1]),a(Object(A.a)({},n[0],parseInt(n[1])))):(t[n[0]]=parseFloat(n[1]),a(Object(A.a)({},n[0],parseFloat(n[1])))))}))}}}},{key:"loadProductMargin",value:function(){var e=this;Object(k.c)(j.Mc,(function(t){e.setState({productMargin:t})}),(function(){}))}},{key:"loadProcedures",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Kc,[this.props.active_practiceId]),(function(t){e.setState({procedure_category:t})}),(function(){}),{pagination:!1})}},{key:"loadTaxes",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Ed,[this.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t={labelCol:{span:8},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator;return u.a.createElement("div",null,u.a.createElement(v.a,null,u.a.createElement(H.a,{onSubmit:this.handleSubmit},u.a.createElement("h2",null,this.state.editingProcedureData?"Edit Procedures":"Add Procedures"),u.a.createElement(H.a.Item,Object.assign({label:"Procedure Name"},t),a("name",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.name:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(de.a,{placeholder:"Procedure Name"}))),u.a.createElement(H.a.Item,Object.assign({label:"Procedure Net Price"},t),a("cost_with_tax",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.cost_with_tax:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(fe.a,{onChange:this.changeNetPrice})),u.a.createElement("span",{className:"ant-form-text"},"INR")),u.a.createElement(H.a.Item,Object.assign({label:"Tax"},t),a("taxes",{initialValue:this.state.editingProcedureData&&this.state.editingProcedureData.taxes?this.state.editingProcedureData.taxes.map((function(e){return e.id})):[]})(u.a.createElement(I.a.Group,{onChange:this.changeNetPrice},this.state.taxes.map((function(e){return u.a.createElement(I.a,{value:e.id},e.name+(e.tax_value?"("+e.tax_value+"%)":""))}))))),u.a.createElement(H.a.Item,Object.assign({label:"Procedure Retail Price"},t),u.a.createElement("span",{className:"ant-form-text"},u.a.createElement("b",null,e.state.retail_price),"\xa0INR")),u.a.createElement(H.a.Item,Object.assign({key:"margin"},t,{label:"MLM Margin"}),a("margin",{initialValue:this.state.editingProcedureData&&this.state.editingProcedureData.margin?this.state.editingProcedureData.margin.id:null})(u.a.createElement(le.a,null,this.state.productMargin.map((function(e){return u.a.createElement(le.a.Option,{value:e.id},e.name)}))))),u.a.createElement(H.a.Item,Object.assign({key:"under"},t,{label:"Add Under"}),a("under",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.under:null})(u.a.createElement(le.a,null,this.state.procedure_category.map((function(e){return u.a.createElement(le.a.Option,{value:e.id},e.name)}))))),u.a.createElement(H.a.Item,Object.assign({label:"Default Note"},t),a("default_notes",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.default_notes:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(de.a,{placeholder:"Default Note"}))),u.a.createElement(H.a.Item,null,u.a.createElement(b.a,{style:{margin:5},type:"primary",htmlType:"submit"},"Submit"),e.props.history?u.a.createElement(b.a,{style:{margin:5},onClick:function(){return e.props.history.goBack()}},"Cancel"):null))))}}]),t}(u.a.Component),ge=H.a.create()(be),ye=a(261),Ee=(h.a.Column,h.a.ColumnGroup,M.a.TabPane,function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleClick=function(e){a.setState({current:e.key})},a.changeSearchValue=function(e){a.setState({searchString:e},(function(){this.loadProcedures()}))},a.state={current:"staff",procedure_category:null,editingProcedureData:null,loading:!0},a.loadProcedures=a.loadProcedures.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadProcedures()}},{key:"loadProcedures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this,a={page:e};this.state.searchString&&(a.name=this.state.searchString);var n=function(e){1==e.current&&t.state.searchString==a.name?t.setState({procedure_category:e.results,next:e.next,loading:!1}):t.setState((function(t){return{procedure_category:[].concat(Object(me.a)(t.procedure_category),Object(me.a)(e.results)),next:e.next,loading:!1}}))},i=function(){};Object(k.c)(Object(k.f)(j.Kc,[this.props.active_practiceId]),n,i,a)}},{key:"deleteObject",value:function(e){var t=this,a={id:e.id,is_active:!1};a.is_active=!1;Object(k.j)(Object(k.f)(j.Kc,[this.props.active_practiceId]),a,(function(e){t.loadProcedures()}),(function(){}))}},{key:"editProcedure",value:function(e){this.setState({editingProcedureData:e,loading:!1});var t="/settings/procedures/"+e.id+"/editprocedure";this.props.history.push(t)}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Procedure Name",dataIndex:"name",key:"name"},{title:"Procedure Unit Cost",dataIndex:"cost_with_tax",key:"cost"},{title:"MLM Margin",dataIndex:"margin",key:"margin",render:function(e){return u.a.createElement("span",null,e?e.name:null)}},{title:"Applicable Taxes",dataIndex:"taxes",key:"taxes",render:function(e){return u.a.createElement("span",null,e&&e.length?e.map((function(e){return u.a.createElement(w.a,null," ",e.name,"|",u.a.createElement("b",null,e.tax_value,"%"))})):null)}},{title:"Standard Notes",dataIndex:"default_notes",key:"default_notes"},{title:"Action",key:"action",render:function(a,n){return u.a.createElement("span",null,u.a.createElement(O.b,{to:"/settings/procedures/addprocedure?under="+n.id},"Add SubCategory"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement("a",{onClick:function(){return e.editProcedure(n)}},"Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}];return u.a.createElement(D.d,null,u.a.createElement(D.b,{path:"/settings/procedures/addprocedure",render:function(t){return e.props.activePracticePermissions.SettingsProcedureCatalog||e.props.allowAllPermissions?u.a.createElement(ge,Object.assign({},e.props,t,{loadData:e.loadProcedures})):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/procedures/:id/editprocedure",render:function(a){return t.props.activePracticePermissions.SettingsProcedureCatalog||t.props.allowAllPermissions?t.state.editingProcedureData?u.a.createElement(ge,Object.assign({},e.state,e.props,a,{loadData:e.loadProcedures})):u.a.createElement(D.a,{to:"/settings/procedures"}):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,null,u.a.createElement(m.a,null,u.a.createElement("h2",null,"Procedures Catalog",u.a.createElement(O.b,{to:"/settings/procedures/addprocedure"},u.a.createElement(b.a,{type:"primary",style:{float:"right"}},u.a.createElement(g.a,{type:"plus"}),"\xa0Add Procedure"))),u.a.createElement(v.a,null,u.a.createElement("div",{className:"row mar-b-10"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement(de.a,{onChange:function(t){return e.changeSearchValue(t.target.value)},value:this.state.searchString,style:{width:200},placeholder:"Search Procedure..."}))),u.a.createElement(h.a,{columns:a,pagination:!1,dataSource:this.state.procedure_category}),u.a.createElement(ye.a,{loading:this.state.loading,hidden:!this.state.next,loaderFunction:function(){return e.loadProcedures(e.state.next)}})))))}}]),t}(u.a.Component)),_e=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,modes:null},a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.zc,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({modes:t})}),(function(){}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editPayment",value:function(e){this.setState({editingId:e.id,editingmode:e.mode,editingType:e.payment_type,editingFee:e.fee,visible:!0})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(j.zc,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Mode of Payment",placeholder:"",dataIndex:"mode",key:"mode"},{title:"Payment Type",dataIndex:"payment_type",key:"payment_type"},{title:"Fees",dataIndex:"fee",key:"fee",render:function(e,t){return u.a.createElement("span",null,e," %")}},{title:"Action",key:"action",render:function(a,n){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editPayment(n)}},"Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this payment mode?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}],n=[{label:"Mode of payment",key:"mode",required:!0,type:V.W},{label:"Payment Type",key:"payment_type",required:!0,type:V.Nb,options:q.rb},{label:"Vendor Fee",key:"fee",required:!0,type:V.pb,min:0,follow:"%"}],i=[{label:"Mode of payment",key:"mode",required:!0,initialValue:this.state.editingmode,type:V.W},{label:"Payment Type",key:"payment_type",required:!0,initialValue:this.state.editingType,type:V.Nb,options:q.rb},{label:"Vendor Fee",key:"fee",required:!0,initialValue:this.state.editingFee,type:V.pb,min:0,follow:"%"}],r={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(k.a)(V.Sb,"sucess")},errorFn:function(){},action:Object(k.f)(j.zc,[this.props.active_practiceId]),method:"post"},l=[{key:"practice",value:this.props.active_practiceId}],s=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],c=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement(c,Object.assign({defaultValues:l,formProp:r,fields:n},this.props)),u.a.createElement(E.a,null),u.a.createElement(K.a,{columns:a,dataSource:this.state.modes}),u.a.createElement(d.a,{title:"Edit Payment Mode",visible:this.state.visible,footer:null,onCancel:this.handleCancel},u.a.createElement(c,{defaultValues:s,formProp:r,fields:i}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return")))}}]),t}(u.a.Component),ve=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,taxes:null,loading:!0},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Ed,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({taxes:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editingId:e.id,editingName:e.name,editingValue:e.tax_value,visible:!0})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(j.Ed,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Tax Value",dataIndex:"tax_value",key:"tax_value",render:function(e,t){return u.a.createElement("span",null,e," %")}},{title:"Actions",key:"action",render:function(t,a){return u.a.createElement("span",null,u.a.createElement(y.a,{title:"Are you sure delete this?",onConfirm:function(){return e.deleteObject(a)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}],a=[{label:"Tax name",key:"name",placeholder:"Tax Name",required:!0,type:V.W},{label:"Tax Value",key:"tax_value",follow:"%",max:100,min:0,required:!0,type:V.pb}],n=[{label:"Tax name",key:"name",required:!0,initialValue:this.state.editingName,type:V.W},{label:"Tax Value",key:"tax_value",follow:"%",max:100,min:0,required:!0,initialValue:this.state.editingValue,type:V.pb}],i={successFn:function(t){e.handleCancel(),e.loadData(),console.log(t),console.log("sucess"),Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.Ed,[this.props.active_practiceId]),method:"post"},r=[{key:"practice",value:this.props.active_practiceId}],l=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],s=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement(s,Object.assign({defaultValues:r,formProp:i,fields:a},this.props)),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.taxes}),u.a.createElement(d.a,{title:"Edit Tax",visible:this.state.visible,footer:null,onCancel:this.handleCancel},u.a.createElement(s,{defaultValues:l,formProp:i,fields:n}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(u.a.Component),Oe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={practiceDetail:{}},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Cc,[this.props.active_practiceId]),(function(t){var a=t.countries;e.setState({countries:a,practiceDetail:t})}),(function(){}))}},{key:"render",value:function(){var e=[{key:"hide_cancelled_invoice",type:V.Ob,follow:u.a.createElement("b",null,"Hide Cancelled Invoice"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_invoice},{key:"hide_cancelled_return",type:V.Ob,follow:u.a.createElement("b",null,"Hide Cancelled Return Invoice"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_return},{key:"hide_cancelled_payment",type:V.Ob,follow:u.a.createElement("b",null,"Hide Cancelled Payments"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_payment}],t={successFn:function(e){Object(k.a)(V.Sb,"Settings Saved Successfuly!!")},errorFn:function(){},action:Object(k.f)(j.Cc,[this.props.active_practiceId]),method:"put"},a=H.a.create()(T.a),n=[{key:"id",value:this.props.active_practiceId}];return u.a.createElement("div",null,u.a.createElement(a,Object.assign({formProp:t,fields:e},this.props,{defaultValues:n})))}}]),t}(u.a.Component),je=M.a.TabPane,ke=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={defaultActiveKey:a.props.location.hash},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement("h2",null,"Billing"),u.a.createElement(v.a,null,u.a.createElement(M.a,{defaultActiveKey:this.state.defaultActiveKey},u.a.createElement(je,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"cluster"}),"Tax Catalog"),key:"#taxcatalog"},u.a.createElement(ve,Object.assign({},this.state,this.props))),u.a.createElement(je,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"dollar"}),"Accepted Modes of payment "),key:"#paymentmodes"},u.a.createElement(_e,this.props)),u.a.createElement(je,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"block"}),"Cancelled Invoice"),key:"cancelledinvoice"},u.a.createElement(Oe,Object.assign({},this.state,this.props)))))))}}]),t}(u.a.Component),Se=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,data:null,loading:!0},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(this.props.id,[this.props.active_practiceId]),(function(t){e.setState({data:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editFunction",value:function(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(this.props.id,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editFunction(n)}},"  Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}],n=[{label:this.props.name,key:"name",required:!0,type:V.W}],i=[{label:this.props.name,key:"name",required:!0,initialValue:this.state.editingName,type:V.W}],r={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(this.props.id,[this.props.active_practiceId]),method:"post"},l=[{key:"practice",value:this.props.active_practiceId}],s=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],c=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement(c,{defaultValues:l,formProp:r,fields:n}),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:a,dataSource:this.state.data}),u.a.createElement(d.a,{title:"Edit "+this.props.name,visible:this.state.visible,footer:null,onCancel:this.handleCancel},u.a.createElement(c,{defaultValues:s,formProp:r,fields:i}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(u.a.Component),Pe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={redirect:!1,vitalSign:null},a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a.loadVitalSign=a.loadVitalSign.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadVitalSign()}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"loadVitalSign",value:function(){var e=this;Object(k.c)(Object(k.f)(j.lb,[e.props.active_practiceId]),(function(t){e.setState({vitalSign:t[t.length-1]})}),(function(){e.setState({})}))}},{key:"render",value:function(){var e=[{label:"Default temperature measurement in",key:"temperature_unit",type:V.Nb,initialValue:this.state.vitalSign?this.state.vitalSign.temperature_unit:null,options:q.u.map((function(e){return{label:e.label,value:e.value}}))},{label:"Default temperature measurement method",key:"temperature_method",type:V.Nb,initialValue:this.state.vitalSign?this.state.vitalSign.temperature_method:null,options:q.v.map((function(e){return{label:e.label,value:e.value}}))},{label:"Default blood pressure measurement method",key:"blood_pressure_method",initialValue:this.state.vitalSign?this.state.vitalSign.blood_pressure_method:null,type:V.Nb,options:q.t.map((function(e){return{label:e.label,value:e.value}}))}],t=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.vitalSign?this.state.vitalSign.id:null}],a=H.a.create()(T.a),n={successFn:function(e){Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.lb,[this.props.active_practiceId]),method:"post"};return u.a.createElement(m.a,null,u.a.createElement(a,{defaultValues:t,formProp:n,fields:e}))}}]),t}(u.a.Component),De=M.a.TabPane,xe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={defaultActiveKey:a.props.location.hash},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("propss",this.props),u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement("h2",null,"EMR Settings"),u.a.createElement(v.a,null,u.a.createElement(M.a,{defaultActiveKey:this.state.defaultActiveKey},u.a.createElement(De,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"sound"}),"Complaints"),key:"#complaints"},u.a.createElement(Se,Object.assign({},this.props,{id:j.db,name:"Complaints"}))),u.a.createElement(De,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"eye"}),"Observations"),key:"#observations"},u.a.createElement(Se,Object.assign({},this.props,{id:j.ib,name:"Observations"}))),u.a.createElement(De,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"plus-square"}),"Diagnoses"),key:"#diagnoses"},u.a.createElement(Se,Object.assign({},this.props,{id:j.eb,name:"Diagnoses"}))),u.a.createElement(De,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"laptop"}),"Investigations"),key:"#investigations"},u.a.createElement(Se,Object.assign({},this.props,{id:j.gb,name:"Investigations"}))),u.a.createElement(De,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"solution"}),"Notes"),key:"#treatmentnotes"},u.a.createElement(Se,Object.assign({},this.props,{id:j.kb,name:"Treatment Notes"}))),u.a.createElement(De,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"medicine-box"}),"Medication"),key:"#medication"},u.a.createElement(Se,Object.assign({},this.props,{id:j.hb,name:"Medication"}))),u.a.createElement(De,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"file"}),"File Labels"),key:"#filetags"},u.a.createElement(Se,Object.assign({},this.props,{id:j.fb,name:"File Labels"}))),u.a.createElement(De,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"heart"}),"Vital Signs"),key:"#vitalsigns"},u.a.createElement(Pe,this.props))))))}}]),t}(u.a.Component),Ie=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state=Object(A.a)({practiceDetail:null,countries:null},q.Fb,[]),a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"componentDidMount",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Cc,[this.props.practiceId]),(function(t){var a=t.countries;e.setState({countries:a,practiceDetail:t})}),(function(){})),Object(ne.c)(this,[q.Fb])}},{key:"render",value:function(){var e=[];if(this.state.practiceDetail&&this.state.practiceDetail.specialisations.forEach((function(t){e.push({label:t.name,value:t.id})})),this.state.practiceDetail){var t=[{label:"Practice Logo",key:"logo",type:V.Pb,initialValue:this.state.practiceDetail.logo,allowWebcam:!1},{label:"Practice Name",key:"name",required:!0,placeholder:"Practice Name",initialValue:this.state.practiceDetail.name,type:V.W},{label:"Practice Tagline",key:"tagline",placeholder:"Practice Tagline",required:!0,initialValue:this.state.practiceDetail.tagline,type:V.W},{label:"Practice Specialisation",key:"specialisation",placeholder:"Practice Specialisation",initialValue:this.state.practiceDetail.specialisation,type:V.W},{label:"Practice Street Address",key:"address",placeholder:"Practice Street Address",initialValue:this.state.practiceDetail.address,type:V.W},{label:"Practice locality",initialValue:this.state.practiceDetail.locality,key:"locality",placeholder:"Practice Locality",type:V.W},{label:"Practice City",initialValue:this.state.practiceDetail.City,placeholder:"Practice City",key:"city",type:V.W},{label:"Practice state",key:"state",placeholder:"Practice State",initialValue:this.state.practiceDetail.state,type:V.W},{label:"Practice Country",key:"country",placeholder:"Practice Country",initialValue:this.state.practiceDetail.country,type:V.W},{label:"Practice PINCODE",key:"pincode",placeholder:"Practice PINCODE",initialValue:this.state.practiceDetail.pincode,type:V.W},{label:"Practice Contact Number",key:"contact",placeholder:"Practice Contact Number",initialValue:this.state.practiceDetail.contact,type:V.W},{label:"Practice Email",key:"email",placeholder:"Practice Email",initialValue:this.state.practiceDetail.email,type:V.P},{label:"SMS Language",key:"language",placeholder:"SMS Language",initialValue:this.state.practiceDetail&&this.state.practiceDetail.language?this.state.practiceDetail.language:this.props.activePracticeData.language,type:V.Nb,options:this.state[q.Fb].map((function(e){return{label:e,value:e}}))},{label:"Practice website",key:"website",placeholder:"Practice Website",initialValue:this.state.practiceDetail.website,type:V.W},{label:"GSTIN",initialValue:this.state.practiceDetail.gstin,placeholder:"GSTIN",key:"gstin",type:V.W},{label:"Invoice Prefix",initialValue:this.state.practiceDetail.invoice_prefix,placeholder:"DEL/INV/",key:"invoice_prefix",type:V.W,required:!0},{label:"Payment Prefix",initialValue:this.state.practiceDetail.payment_prefix,placeholder:"DEL/RCPT/",key:"payment_prefix",type:V.W,required:!0},{label:"Return Prefix",placeholder:"DEL/RET/",initialValue:this.state.practiceDetail.return_prefix,key:"return_prefix",type:V.W,required:!0}],a=H.a.create()(T.a),n={successFn:function(e){Object(k.a)(V.Sb,"success"),this.props.history&&this.props.history.replace("/settings/clinics")},errorFn:function(){},action:Object(k.f)(j.Cc,[this.props.practiceId]),method:"put"};return u.a.createElement(m.a,null,u.a.createElement(v.a,null,u.a.createElement(a,Object.assign({title:"Edit Practice Details",changeRedirect:this.changeRedirect,formProp:n,fields:t},this.props)),this.state.redirect&&u.a.createElement(D.a,{to:"/settings/clinics"})))}return u.a.createElement(v.a,{loading:!0})}}]),t}(u.a.Component);function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var we=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).setFormParams=function(e,t){a.setState(Object(A.a)({},e,t))},a.handleSubmit=function(e){var t=Object(_.a)(a);a.props.form.validateFieldsAndScroll((function(a,n){var i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n,{practice:t.props.active_practiceId,maintain_inventory:e,item_type:q.z});t.state.editPrescreption&&(i.id=t.state.editPrescreption.id);Object(k.j)(j.xb,i,(function(e){Object(k.a)(V.Sb,"success"),t.props.loadData();t.props.history.replace("/settings/prescriptions")}),(function(){}))}))},a.state={drugTypeList:[],drugUnitList:[],editPrescreption:a.props.editCatalog?a.props.editCatalog:null},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadDrugType(),this.loadDrugUnit()}},{key:"loadDrugType",value:function(){var e=this;Object(k.c)(Object(k.f)(j.ab,[this.props.active_practiceId]),(function(t){e.setState({drugTypeList:t})}),(function(){}))}},{key:"loadDrugUnit",value:function(){var e=this;Object(k.c)(Object(k.f)(j.bb,[this.props.active_practiceId]),(function(t){e.setState({drugUnitList:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=this.props.formLayout?this.props.formLayout:{labelCol:{span:6},wrapperCol:{span:14}},n=this.props.form.getFieldDecorator;return u.a.createElement(v.a,null,u.a.createElement(H.a,null,u.a.createElement("h2",null,this.props.title),u.a.createElement(H.a.Item,Object.assign({key:"name",label:"Name"},a),n("name",{initialValue:t.state.editPrescreption?t.state.editPrescreption.name:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(de.a,{placeholder:"Medicine Name"}))),this.state.drugType&&this.state.drugType==V.W?u.a.createElement(H.a.Item,Object.assign({key:"drug_type_extra",label:"Medicine Type"},a),n("drug_type_extra",{initialValue:t.state.editPrescreption?t.state.editPrescreption.drug_type_extra:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(de.a,null)),u.a.createElement("a",{onClick:function(){return t.setFormParams("drugType",V.Nb)}},"Choose Medicine Type")):u.a.createElement(H.a.Item,Object.assign({key:"drug_type"},a,{label:"Medicine Type"}),n("drug_type",{initialValue:this.state.editPrescreption?this.state.editPrescreption.drug_type:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(le.a,null,t.state.drugTypeList.map((function(e){return u.a.createElement(le.a.Option,{value:e.id},e.name)})))),u.a.createElement("a",{onClick:function(){return t.setFormParams("drugType",V.W)}},"Add New Medicine Type")),u.a.createElement(H.a.Item,Object.assign({key:"strength"},a,{label:"Dosage"}),n("strength",{initialValue:t.state.editPrescreption?t.state.editPrescreption.strength:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(fe.a,{min:0}))),this.state.drugUnit&&this.state.drugUnit==V.W?u.a.createElement(H.a.Item,Object.assign({key:"unit_type_extra",label:"Medicine Unit"},a),n("unit_type_extra",{initialValue:t.state.editPrescreption?t.state.editPrescreption.unit_type_extra:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(de.a,null)),u.a.createElement("a",{onClick:function(){return t.setFormParams("drugUnit",V.Nb)}},"Choose Medicine Unit")):u.a.createElement(H.a.Item,Object.assign({key:"stength_unit"},a,{label:"Medicine Unit"}),n("stength_unit",{initialValue:this.state.editPrescreption?this.state.editPrescreption.stength_unit:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(le.a,null,t.state.drugUnitList.map((function(e){return u.a.createElement(le.a.Option,{value:e.id},e.name)})))),u.a.createElement("a",{onClick:function(){return t.setFormParams("drugUnit",V.W)}},"Add New Medicine Unit")),u.a.createElement(H.a.Item,Object.assign({key:"instructions"},a,{label:"Instructions"}),n("instructions",{initialValue:t.state.editPrescreption?t.state.editPrescreption.instructions:null})(u.a.createElement(de.a,null))),u.a.createElement(H.a.Item,a,u.a.createElement(b.a,{onClick:function(){return e.handleSubmit(!1)}},"Save Medicine"),"\xa0\xa0\xa0",u.a.createElement(b.a,{onClick:function(){return e.handleSubmit(!0)},type:"primary"},"Save & Add to Inventory"),"\xa0\xa0\xa0",t.props.history?u.a.createElement(b.a,{onClick:function(){return t.props.history.goBack()}},"Cancel"):null)))}}]),t}(u.a.Component),Ae=H.a.create()(we);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}u.a.Component;var Ve=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={catalog:null,editCatalog:{},loading:!0,loadMorePrescriptions:null},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a.loadInitialData=a.loadInitialData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(j.xb,(function(t){console.log("get table"),e.setState({catalog:t.results,loadMorePrescriptions:t.next,loading:!1})}),(function(){e.setState({loading:!1})}),{practice:this.props.active_practiceId,item_type:q.z,maintain_inventory:!1,page:e.state.loadMorePrescriptions||1})}},{key:"loadInitialData",value:function(){var e=this;this.setState({loadMorePrescriptions:null},(function(){e.loadData()}))}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(j.xb,a,(function(e){t.loadData()}),(function(){}))}},{key:"editCatalog",value:function(e){this.setState({editCatalog:e,loading:!1}),this.props.history.push("/settings/prescriptions/edit")}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"name",key:"code"},{title:"Dosage",dataIndex:"strength",key:"strength",render:function(e,t){return u.a.createElement("span",null,e,"\xa0",t.stength_unit)}},{title:"Medicine Instructions",dataIndex:"instructions",key:"instructions"},{title:"Action",key:"action",render:function(a,n){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editCatalog(n)}},"Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this prescription?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}];return u.a.createElement(m.a,null,u.a.createElement(D.d,null,u.a.createElement(D.b,{exact:!0,path:"/settings/prescriptions/add",render:function(){return u.a.createElement(Ae,Object.assign({},e.props,{loadData:e.loadInitialData,title:"Add Prescription"}))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/prescriptions/edit",render:function(t){return e.state.editCatalog.id?u.a.createElement(Ae,Object.assign({},e.state,{title:"Edit Prescription",loadData:e.loadInitialData},e.props,t)):u.a.createElement(D.a,{to:"/settings/prescriptions/"})}}),u.a.createElement(D.b,null,u.a.createElement("div",null,u.a.createElement("h2",null,"All presciptions",u.a.createElement(O.b,{to:"/settings/prescriptions/add"},u.a.createElement(b.a,{type:"primary",style:{float:"right"}},u.a.createElement(g.a,{type:"plus"}),"\xa0Add"))),u.a.createElement(v.a,null,u.a.createElement(K.a,{loading:this.state.loading,columns:a,dataSource:this.state.catalog,pagination:!1})),u.a.createElement(ye.a,{loaderFunction:this.loadData,loading:this.state.loading,hidden:!this.state.loadMorePrescriptions})))))}}]),t}(u.a.Component),Ne=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showDeletedExpenses=function(){a.setState({showDeleted:!0,deletedLoading:!0}),a.loadData(!0)},a.state={redirect:!1,visible:!1,expenses:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedExpenses:[]},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,a=function(a){console.log("get table"),e?t.setState({deletedExpenses:a,deletedLoading:!1}):t.setState({expenses:a,loading:!1})},n=function(){};e?Object(k.c)(Object(k.f)(j.qb,[this.props.active_practiceId]),a,n,{deleted:!0}):Object(k.c)(Object(k.f)(j.qb,[this.props.active_practiceId]),a,n)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editingId:e.id,editingName:e.name,editingValue:e.tax_value,loading:!1,visible:!0})}},{key:"deleteObject",value:function(e,t){var a=this,n=e;n.is_active=t;Object(k.j)(Object(k.f)(j.qb,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Expense Type",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return n.is_active?u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editTax(n)}},"  Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure to delete this?",onConfirm:function(){return t.deleteObject(n,!1)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete"))):u.a.createElement("span",null,u.a.createElement(y.a,{title:"Are you sure to show this?",onConfirm:function(){return t.deleteObject(n,!0)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Show")))}}],n=[{label:"Expense Type",key:"name",placeholder:"Expense Type",required:!0,type:V.W}],i=[{label:"Expense Type",key:"name",required:!0,initialValue:this.state.editingName,type:V.W}],r={successFn:function(e){t.handleCancel(),t.loadData(),Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.qb,[this.props.active_practiceId]),method:"post"},l=[{key:"practice",value:this.props.active_practiceId}],s=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],c=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement("h2",null,"Expense Types"),u.a.createElement(v.a,null,u.a.createElement(c,{defaultValues:l,formProp:r,fields:n}),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:a,dataSource:this.state.expenses}),this.state.showDeleted?u.a.createElement("div",null,u.a.createElement(K.a,{loading:this.state.deletedLoading,columns:a,dataSource:this.state.deletedExpenses})):u.a.createElement("h4",null,u.a.createElement("a",{onClick:function(){return e.showDeletedExpenses()}},"Show Deleted Expense Types"))),u.a.createElement(d.a,{title:"Edit Expense Type",visible:this.state.visible,footer:null,onCancel:this.handleCancel},u.a.createElement(c,{defaultValues:s,formProp:r,fields:i}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return")))}}]),t}(u.a.Component),Re=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showDeletedMedicalHistory=function(){a.setState({showDeleted:!0,deletedLoading:!0}),a.loadData(!0)},a.state={redirect:!1,visible:!1,history:null,loading:!0,deletedHistory:[],showDeleted:!1,deletedLoading:!1},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,a=function(a){console.log("get table"),e?t.setState({deletedHistory:a,deletedLoading:!1}):t.setState({history:a,loading:!1})},n=function(){t.setState({loading:!1})};e?Object(k.c)(Object(k.f)(j.Ub,[this.props.active_practiceId]),a,n,{deleted:!0}):Object(k.c)(Object(k.f)(j.Ub,[this.props.active_practiceId]),a,n)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}},{key:"deleteObject",value:function(e,t){var a=this,n=e;n.is_active=t;Object(k.j)(Object(k.f)(j.Ub,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Medical History",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return n.is_active?u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editTax(n)}},"  Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure to delete this?",onConfirm:function(){return t.deleteObject(n,!1)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete"))):u.a.createElement("span",null,u.a.createElement(y.a,{title:"Are you sure to show this?",onConfirm:function(){return t.deleteObject(n,!0)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Show")))}}],n=[{label:"Medical History",key:"name",required:!0,type:V.W}],i=[{label:"Medical history ",key:"name",required:!0,initialValue:this.state.editingName,type:V.W}],r={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.Ub,[this.props.active_practiceId]),method:"post"},l=[{key:"id",value:this.state.editingId}],s=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement("h2",null,"Medical History"),u.a.createElement(v.a,null,u.a.createElement(s,{defaultValues:[],formProp:r,fields:n}),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:a,dataSource:this.state.history}),this.state.showDeleted?u.a.createElement("div",null,u.a.createElement(K.a,{loading:this.state.deletedLoading,columns:a,dataSource:this.state.deletedHistory})):u.a.createElement("h4",null,u.a.createElement("a",{onClick:function(){return e.showDeletedMedicalHistory()}},"Show Deleted Medical History"))),u.a.createElement(d.a,{title:"Basic Modal",visible:this.state.visible,footer:null},u.a.createElement(s,{title:"Change history",defaultValues:l,formProp:r,fields:i}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(u.a.Component),Fe=a(536);function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function He(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],qe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).changeVistingHourSameWeek=function(e){console.log(e.target),a.setState(Object(A.a)({},e.target.id,e.target.checked))},a.changeOpenPracticeDays=function(e,t){a.setState((function(a){return{openPracticeDays:He({},a.openPracticeDays,Object(A.a)({},e,t))}}))},a.changePracticeTwoSessions=function(e,t){a.setState((function(a){return{twoSessions:He({},a.twoSessions,Object(A.a)({},e,t))}}))},a.handleSubmit=function(e){var t=Object(_.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,n){if(!e){console.log(n);var i=He({},n);i.first_start_time&&(i.first_start_time=F()(i.first_start_time).format("HH:mm")),i.first_end_time&&(i.first_end_time=F()(i.first_end_time).format("HH:mm")),i.second_start_time&&(i.second_start_time=F()(i.second_start_time).format("HH:mm")),i.second_end_time&&(i.second_end_time=F()(i.second_end_time).format("HH:mm")),We.forEach((function(e){i["first_start_time_".concat(e)]&&(i["first_start_time_".concat(e)]=F()(i["first_start_time_".concat(e)]).format("HH:mm")),i["first_end_time_".concat(e)]&&(i["first_end_time_".concat(e)]=F()(i["first_end_time_".concat(e)]).format("HH:mm")),i["second_start_time_".concat(e)]&&(i["second_start_time_".concat(e)]=F()(i["second_start_time_".concat(e)]).format("HH:mm")),i["second_end_time_".concat(e)]&&(i["second_end_time_".concat(e)]=F()(i["second_end_time_".concat(e)]).format("HH:mm"))})),t.state.timings&&(i.id=t.state.timings.id);Object(k.j)(Object(k.f)(j.J,[a.props.active_practiceId]),i,(function(e){t.loadData(),Object(k.a)(V.Sb,"Calendar Timings Saved successfully!!")}),(function(){}))}}))},a.state={redirect:!1,visible:!1,timings:null,loading:!0,visting_hour_same_week:!0,openPracticeDays:{},twoSessions:{}},a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.J,[this.props.active_practiceId]),(function(t){var a=!0,n={},i={};if(t.length&&t[0]){var r=t[0];We.forEach((function(e){n[e]=r[e],i["is_two_sessions_".concat(e)]=r["is_two_sessions_".concat(e)]})),a=r.visting_hour_same_week,i.is_two_sessions=r.is_two_sessions}e.setState({timings:t[0],visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1})}),(function(){e.setState({timings:{},loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t=this,a=this.props.formLayout?this.props.formLayout:{labelCol:{span:12},wrapperCol:{span:12}},n=this.props.form.getFieldDecorator;return u.a.createElement("div",null,u.a.createElement(H.a,{onSubmit:this.handleSubmit},u.a.createElement(H.a.Item,Object.assign({key:"today_first_day"},a),n("today_first_day",{valuePropName:"checked",initialValue:!!t.state.timings&&t.state.timings.today_first_day},{rules:[{message:W.j}]})(u.a.createElement(I.a,null,"Always show today as first day on my calendar"))),u.a.createElement(H.a.Item,Object.assign({key:"calendar_slot"},a,{label:"Show Calendar Slots of"}),n("calendar_slot",{initialValue:t.state.timings?t.state.timings.calendar_slot:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(fe.a,{min:5})),u.a.createElement("span",{className:"ant-form-text"},"mins.")),u.a.createElement(H.a.Item,Object.assign({key:"visting_hour_same_week"},a),n("visting_hour_same_week",{valuePropName:"checked",initialValue:!!t.state.timings&&t.state.timings.visting_hour_same_week},{rules:[{message:W.j}]})(u.a.createElement(I.a,{onChange:this.changeVistingHourSameWeek},"Visiting hours are  same for all working days in a week"))),u.a.createElement(E.a,{style:{margin:4}}),this.state.visting_hour_same_week?u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement(p.a,{span:4}),u.a.createElement(p.a,{span:18},u.a.createElement(H.a.Item,Object.assign({key:"is_two_sessions"},a),n("is_two_sessions",{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings.is_two_sessions||t.state.twoSessions.is_two_sessions)},{rules:[{message:W.j}]})(u.a.createElement(I.a,{onChange:function(t){return e.changePracticeTwoSessions("is_two_sessions",t.target.checked)}},"Practice operates in two sessions."))),u.a.createElement(m.a,{gutter:16},u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"first_start_time",label:"Practice Starts At"},a),n("first_start_time",{initialValue:t.state.timings&&t.state.timings.first_start_time?F()(t.state.timings.first_start_time,"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm",allowClear:!1})))),t.state.twoSessions.is_two_sessions?u.a.createElement("div",null,u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"first_end_time",label:"Lunch At"},a),n("first_end_time",{initialValue:t.state.timings&&t.state.timings.first_end_time?F()(t.state.timings.first_end_time,"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm",allowClear:!1})))),u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"second_start_time",label:"Resume At"},a),n("second_start_time",{initialValue:t.state.timings&&t.state.timings.second_start_time?F()(t.state.timings.second_start_time,"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm",allowClear:!1}))))):null,u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"second_end_time",label:"Practice Ends At"},a),n("second_end_time",{initialValue:t.state.timings&&t.state.timings.second_end_time?F()(t.state.timings.second_end_time,"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm",allowClear:!1}))))))),u.a.createElement(E.a,{style:{margin:4}})):We.map((function(i){return u.a.createElement("div",{key:i},u.a.createElement(m.a,null,u.a.createElement(p.a,{span:4},u.a.createElement("h4",null,i.replace(/^\w/,(function(e){return e.toUpperCase()})))),u.a.createElement(p.a,{span:18},u.a.createElement(H.a.Item,Object.assign({key:"".concat(i)},a),n("".concat(i),{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings["".concat(i)]||t.state.openPracticeDays[i])},{rules:[{message:W.j}]})(u.a.createElement(I.a,{onChange:function(e){return t.changeOpenPracticeDays(i,e.target.checked)}},"Practice is open on ".concat(i.replace(/^\w/,(function(e){return e.toUpperCase()})))))),t.state.openPracticeDays[i]?u.a.createElement("div",null,u.a.createElement(H.a.Item,Object.assign({key:"is_two_sessions_".concat(i)},a),n("is_two_sessions_".concat(i),{valuePropName:"checked",initialValue:!!t.state.timings&&(t.state.timings["is_two_sessions_".concat(i)]||t.state.twoSessions["is_two_sessions_".concat(i)])},{rules:[{message:W.j}]})(u.a.createElement(I.a,{onChange:function(t){return e.changePracticeTwoSessions("is_two_sessions_".concat(i),t.target.checked)}},"Practice operates in two sessions."))),u.a.createElement(m.a,{gutter:16},u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"first_start_time_".concat(i),label:"Practice Starts At"},a),n("first_start_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["first_start_time_".concat(i)]?F()(t.state.timings["first_start_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm",allowClear:!1})))),t.state.twoSessions["is_two_sessions_".concat(i)]?u.a.createElement("div",null,u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"first_end_time_".concat(i),label:"Lunch At"},a),n("first_end_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["first_end_time_".concat(i)]?F()(t.state.timings["first_end_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm",allowClear:!1})))),u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"second_start_time_".concat(i),label:"Resume At"},a),n("second_start_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["second_start_time_".concat(i)]?F()(t.state.timings["second_start_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm",allowClear:!1}))))):null,u.a.createElement(p.a,{span:12},u.a.createElement(H.a.Item,Object.assign({key:"second_end_time_".concat(i),label:"Practice Ends At"},a),n("second_end_time_".concat(i),{initialValue:t.state.timings&&t.state.timings["second_end_time_".concat(i)]?F()(t.state.timings["second_end_time_".concat(i)],"HH:mm"):null,rules:[{required:!0,message:W.j}]})(u.a.createElement(L.a,{format:"HH:mm",allowClear:!1})))))):null)),u.a.createElement(E.a,{style:{margin:4}}))})),u.a.createElement(H.a.Item,a,u.a.createElement(b.a,{loading:t.state.loading,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),t.props.history?u.a.createElement(b.a,{style:{margin:5},onClick:function(){return t.props.history.goBack()}},"Cancel"):null)))}}]),t}(u.a.Component),Ue=H.a.create()(qe),Be=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,appointmentCategories:null,loading:!0},a.loadAppointmentCategories=a.loadAppointmentCategories.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadAppointmentCategories()}},{key:"loadAppointmentCategories",value:function(){var e=this;Object(k.c)(Object(k.f)(j.p,[this.props.active_practiceId]),(function(t){e.setState((function(e){return t.forEach((function(e){e.color=Object(ne.b)(Object(ne.a)(e.name))})),{appointmentCategories:t,loading:!1}}))}),(function(){}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editCategory",value:function(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(j.p,[this.props.active_practiceId]),a,(function(e){t.loadAppointmentCategories()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{dataIndex:"color",key:"color",render:function(e){return u.a.createElement(w.a,{color:"#"+e},"#")}},{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editCategory(n)}},"  Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}],n=[{label:"Category name",key:"name",placeholder:"Category Name",required:!0,type:V.W}],i=[{label:"Category name",key:"name",required:!0,initialValue:this.state.editingName,type:V.W}],r={successFn:function(e){t.handleCancel(),t.loadAppointmentCategories(),console.log(e),console.log("sucess"),Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.p,[this.props.active_practiceId]),method:"post"},l=[{key:"id",value:this.state.editingId}],s=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement(s,Object.assign({defaultValues:[],formProp:r,fields:n},this.props)),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:a,dataSource:this.state.appointmentCategories}),u.a.createElement(d.a,{title:"Edit Appointment Category",visible:this.state.visible,footer:null,onCancel:this.handleCancel},u.a.createElement(s,{defaultValues:l,formProp:r,fields:i}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(u.a.Component),Ye=M.a.TabPane,ze=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={loading:!0,defaultActiveKey:a.props.location.hash},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("h2",null,"Calendar Settings"),u.a.createElement(m.a,null,u.a.createElement(v.a,null,u.a.createElement(M.a,{defaultActiveKey:this.state.defaultActiveKey},u.a.createElement(Ye,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"schedule"}),"Calender Timings Settings"),key:"#timings"},u.a.createElement(Ue,Object.assign({},this.state,this.props))),u.a.createElement(Ye,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"reconciliation"}),"Appointment Categories"),key:"#categories"},u.a.createElement(Be,this.props))))))}}]),t}(u.a.Component),Ke=(a(287),a(283)),Ge=c.a.Sider,Ze=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement(Ge,{trigger:null,collapsible:!0,style:{overflow:"auto",minHeight:"100vh",background:"#fff"}},u.a.createElement(Ke.a,{mode:"inline",defaultSelectedKeys:["5"]},u.a.createElement(Ke.a.ItemGroup,{key:"g1",title:u.a.createElement(E.a,{style:{margin:"0px"}},"Practice Settings")},this.props.activePracticePermissions.SettingsPracticeDetail?u.a.createElement(Ke.a.Item,{key:"5"},u.a.createElement(O.b,{to:"/settings/clinics"},u.a.createElement(g.a,{type:"shop"}),"Practice Details")):null,this.props.activePracticePermissions.SettingsCommunincations?u.a.createElement(Ke.a.Item,{key:"7"},u.a.createElement(O.b,{to:"/settings/communication-settings"},u.a.createElement(g.a,{type:"message"}),"Communication")):null,this.props.activePracticePermissions.SettingsCalendar?u.a.createElement(Ke.a.Item,{key:"17"},u.a.createElement(O.b,{to:"/settings/calendarsettings#timings"},u.a.createElement(g.a,{type:"schedule"}),"Calendar")):null,this.props.activePracticePermissions.SettingsPracticeStaff?u.a.createElement(Ke.a.Item,{key:"6"},u.a.createElement(O.b,{to:"/settings/clinics-staff"},u.a.createElement(g.a,{type:"team"}),"Practice Staff")):null,this.props.activePracticePermissions.ZoomUser?u.a.createElement(Ke.a.Item,{key:"35"},u.a.createElement(O.b,{to:"/settings/zoom-user"},u.a.createElement(g.a,{type:"user"}),u.a.createElement("span",{className:"nav-text"},"Zoom User"))):null,this.props.activePracticePermissions.SettingsAgents||this.props.allowAllPermissions?u.a.createElement(Ke.a.Item,{key:"32"},u.a.createElement(O.b,{to:"/settings/agents"},u.a.createElement(g.a,{type:"usergroup-add"}),u.a.createElement("span",{className:"nav-text"},"Advisor"))):null,this.props.activePracticePermissions.SettingsAgentRoles||this.props.allowAllPermissions?u.a.createElement(Ke.a.Item,{key:"33"},u.a.createElement(O.b,{to:"/settings/agent-roles"},u.a.createElement(g.a,{type:"apartment"}),u.a.createElement("span",{className:"nav-text"},"Advisor Roles"))):null,this.props.activePracticePermissions.SettingsProcedureCatalog?u.a.createElement(Ke.a.Item,{key:"8"},u.a.createElement(O.b,{to:"/settings/procedures"},u.a.createElement(g.a,{type:"folder-open"}),"Procedure Catalog")):null,this.props.activePracticePermissions.SettingsBilling?u.a.createElement(Ke.a.Item,{key:"9"},u.a.createElement(O.b,{to:"/settings/billing#taxcatalog"},u.a.createElement(g.a,{type:"audit"}),"Billing")):null,this.props.activePracticePermissions.SettingsLoyalty?u.a.createElement(Ke.a.Item,{key:"10"},u.a.createElement(O.b,{to:"/settings/loyalty"},u.a.createElement(g.a,{type:"trophy"}),"Loyalty")):null,this.props.activePracticePermissions.SettingsMLMSettings?u.a.createElement(Ke.a.Item,{key:"30"},u.a.createElement(O.b,{to:"/settings/mlm"},u.a.createElement(g.a,{type:"wallet"}),u.a.createElement("span",{className:"nav-text"},"MLM"))):null,this.props.activePracticePermissions.SettingsEMR?u.a.createElement(Ke.a.Item,{key:"12"},u.a.createElement(O.b,{to:"/settings/emr#complaints"},u.a.createElement(g.a,{type:"file-text"})," EMR")):null,this.props.activePracticePermissions.SettingsPrescriptions?u.a.createElement(Ke.a.Item,{key:"13"},u.a.createElement(O.b,{to:"/settings/prescriptions"},u.a.createElement(g.a,{type:"file-text"})," Prescriptions")):null,this.props.activePracticePermissions.SettingsLabs?u.a.createElement(Ke.a.Item,{key:"14"},u.a.createElement(O.b,{to:"/settings/labs"},u.a.createElement(g.a,{type:"experiment"}),"Labs")):null,this.props.activePracticePermissions.SettingsPrintouts?u.a.createElement(Ke.a.Item,{key:"18"},u.a.createElement(O.b,{to:"/settings/printout"},u.a.createElement(g.a,{type:"printer"})," Printout")):null,this.props.activePracticePermissions.SettingsMedicalHistory?u.a.createElement(Ke.a.Item,{key:"15"},u.a.createElement(O.b,{to:"/settings/medical-history"},u.a.createElement(g.a,{type:"medicine-box"})," Medical History")):null,this.props.activePracticePermissions.SettingsExpenseTypes?u.a.createElement(Ke.a.Item,{key:"16"},u.a.createElement(O.b,{to:"/settings/expense-types"},u.a.createElement(g.a,{type:"dollar"})," Expense Types")):null,u.a.createElement(Ke.a.Item,{key:"20"},u.a.createElement(O.b,{to:"/settings/integration"},u.a.createElement(g.a,{type:"link"})," My Integrations"))),u.a.createElement(Ke.a.ItemGroup,{key:"g2",title:u.a.createElement(E.a,{style:{margin:"0px"}},"Bed & Medicine")},this.props.activePracticePermissions.SettingsRoomTypes?u.a.createElement(Ke.a.Item,{key:"22"},u.a.createElement(O.b,{to:"/settings/roomtypes"},u.a.createElement(g.a,{type:"apartment"})," Room Types")):null,this.props.activePracticePermissions.SettingsBedPackages?u.a.createElement(Ke.a.Item,{key:"23"},u.a.createElement(O.b,{to:"/settings/bed-packages"},u.a.createElement(g.a,{type:"box-plot"})," Bed Packages")):null,this.props.activePracticePermissions.SettingsMedicinePackages?u.a.createElement(Ke.a.Item,{key:"24"},u.a.createElement(O.b,{to:"/settings/medicine-packages"},u.a.createElement(g.a,{type:"medicine-box"})," Medicine Packages")):null,this.props.activePracticePermissions.SettingsDiseaseList?u.a.createElement(Ke.a.Item,{key:"25"},u.a.createElement(O.b,{to:"/settings/diseases"},u.a.createElement(g.a,{type:"apartment"})," Disease List")):null)))}}]),t}(u.a.Component),Qe=(a(51),a(1728),a(490)),Je=a(4),Xe=a.n(Je),$e=a(22);function et(e){return(et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function at(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t){return!t||"object"!==et(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=nt(this,it(t).apply(this,arguments))).renderCollapsePanel=function(t){var a,n,i,r=t.getPrefixCls,l=e.props,s=l.prefixCls,c=l.className,u=void 0===c?"":c,d=l.showArrow,m=void 0===d||d,p=r("collapse",s),f=Xe()((a={},n="".concat(p,"-no-arrow"),i=!m,n in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a),u);return o.createElement(Qe.default.Panel,tt({},e.props,{prefixCls:p,className:f}))},e}var a,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,e),a=t,(n=[{key:"render",value:function(){return o.createElement($e.a,null,this.renderCollapsePanel)}}])&&at(a.prototype,n),i&&at(a,i),t}(o.Component),st=a(722);function ct(e){return(ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ut(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function dt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mt(e,t){return!t||"object"!==ct(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=mt(this,pt(t).apply(this,arguments))).renderExpandIcon=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,n=e.props.expandIcon,i=n?n(t):o.createElement(g.a,{type:"right",rotate:t.isActive?90:void 0});return o.isValidElement(i)?o.cloneElement(i,{className:"".concat(a,"-arrow")}):i},e.renderCollapse=function(t){var a,n=t.getPrefixCls,i=e.props,r=i.prefixCls,l=i.className,s=void 0===l?"":l,c=i.bordered,u=i.expandIconPosition,d=n("collapse",r),m=Xe()((ut(a={},"".concat(d,"-borderless"),!c),ut(a,"".concat(d,"-icon-position-").concat(u),!0),a),s);return o.createElement(Qe.default,ot({},e.props,{expandIcon:function(t){return e.renderExpandIcon(t,d)},prefixCls:d,className:m}))},e}var a,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,e),a=t,(n=[{key:"render",value:function(){return o.createElement($e.a,null,this.renderCollapse)}}])&&dt(a.prototype,n),i&&dt(a,i),t}(o.Component);ht.Panel=lt,ht.defaultProps={bordered:!0,openAnimation:ot(ot({},st.a),{appear:function(){}}),expandIconPosition:"left"};var bt=ht,gt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=Object(_.a)(a);a.props.form.validateFieldsAndScroll((function(e,n){var i={};i={comissions:[],name:n.margin_name,level_count:n.level_count};for(var r=function(e){a.state.staffRoles.forEach((function(t){i.comissions.push({level:e,role:t.id,commision_percent:n[e][t.id]})}))},l=1;l<=t.state.level_count;l++)r(l);if(t.state.editId&&(i.id=t.state.editId),!e){t.setState({changePassLoading:!0,redirect:!0});Object(k.j)(j.vb,i,(function(e){Object(k.a)(V.Sb,e.details),t.props.loadData(),t.props.history&&t.props.history.replace("/settings/mlm")}),(function(){}))}}))},a.add=function(e){var t=a.props.form,n=t.getFieldValue("keys").concat(e);t.setFieldsValue({keys:n})},a.setLevelCount=function(e){Object(_.a)(a).setState({level_count:e<5?e:5})},a.state={redirect:!1,level_count:3,margin:null,editRecord:a.props.editRecord?a.props.editRecord:null,editId:a.props.editId?a.props.editId:null,loading:!0,editRecordMargins:{}},a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(this.loadRoles(),this.state.editRecord&&this.state.editId){var e={};this.state.editRecord.forEach((function(t){e[t.roleId]=t})),this.setState({editRecordMargins:e}),this.loadMlmData()}}},{key:"loadMlmData",value:function(){var e=this;Object(k.c)(j.vb,(function(t){t.map((function(t){t.id==e.props.editId&&e.setState({margin:t,loading:!1},(function(){e.setLevelCount(t.level_count)}))}))}),(function(){e.setState({loading:!0})}))}},{key:"loadRoles",value:function(){var e=this;Object(k.c)(j.e,(function(t){e.setState({staffRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=(t.getFieldValue,{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}});a("keys",{initialValue:[]});var i=[{title:"Roles",dataIndex:"name",key:"name"}];if(this.state.level_count)for(var r=function(t){i.push({title:"Level "+t,dataIndex:"Level "+t,key:"Level "+t,render:function(i,r){return u.a.createElement(H.a.Item,Object.assign({},n,{required:!0,key:"".concat(t,"[").concat(r.id,"]")}),a("".concat(t,"[").concat(r.id,"]"),{validateTrigger:["onChange","onBlur"],initialValue:e.state.editRecordMargins&&e.state.editRecordMargins[r.id]?e.state.editRecordMargins[r.id][t]:null})(u.a.createElement(fe.a,{min:0,placeholder:"Percent Commission"})))}})},l=1;l<=this.state.level_count;l++)r(l);return u.a.createElement(v.a,{title:"Manage MLM Commission"},u.a.createElement(H.a,{onSubmit:this.handleSubmit,className:"login-form"},u.a.createElement(H.a.Item,Object.assign({},n,{label:"Margin Name",required:!0,key:"margin_name"}),a("margin_name",{validateTrigger:["onChange","onBlur"],initialValue:this.state.margin?this.state.margin.name:null})(u.a.createElement(de.a,{placeholder:"Margin Type Name"}))),u.a.createElement(H.a.Item,Object.assign({},n,{label:"No of Levels",required:!1,key:"level_count"}),a("level_count",{validateTrigger:["onChange","onBlur"],initialValue:this.state.level_count})(u.a.createElement(fe.a,{min:1,max:5,placeholder:"Level Count",onChange:this.setLevelCount}))),u.a.createElement(h.a,{loading:this.state.loading,bordered:!0,pagination:!1,columns:i,dataSource:this.state.staffRoles}),u.a.createElement(H.a.Item,null,u.a.createElement("br",null),u.a.createElement(b.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Set MLM Commissions"))),this.state.redirect&&u.a.createElement(D.a,{to:"/settings/mlm"}))}}]),t}(u.a.Component),yt=H.a.create()(gt);function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}M.a.TabPane;var _t=bt.Panel,vt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={mlmItems:[],productMargin:[],active_practiceId:a.props.active_practiceId,loading:!0},a.loadMlmData=a.loadMlmData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a.loadRoles=a.loadRoles.bind(Object(_.a)(a)),a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){this.loadMlmData(),this.loadRoles(),this.loadProductMargin()}},{key:"loadMlmData",value:function(){var e=this;Object(k.c)(j.vb,(function(t){e.setState({mlmItems:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"loadRoles",value:function(){var e=this;Object(k.c)(j.e,(function(t){e.setState({staffRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"loadProductMargin",value:function(){var e=this;Object(k.c)(j.Mc,(function(t){e.setState({productMargin:t})}),(function(){}))}},{key:"editObject",value:function(e,t){this.setState({editId:e,editRecord:t,loading:!1},(function(){this.props.history.push("/settings/mlm/edit")}))}},{key:"deleteObject",value:function(e){var t=this,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{is_active:!1});a.is_active=!1;Object(k.l)(Object(k.f)(j.sd,[e.id]),a,(function(e){t.loadData()}),(function(){}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t=this,a={};this.state.staffRoles&&this.state.staffRoles.forEach((function(e){a[e.id]=e.name}));var n={};t.state.productMargin.forEach((function(e){n[e.id]=[{title:"Role",key:"role",dataIndex:"role"}];for(var t=1;t<=e.level_count;t++)n[e.id].push({title:"Level "+t,key:t,dataIndex:t,render:function(e){return u.a.createElement("span",null,e,"%")}})}));var i={};return t.state.mlmItems.forEach((function(e){i[e.id]=[],t.state.staffRoles&&t.state.staffRoles.forEach((function(t){var a={role:t.name,roleId:t.id};if(e.level_count)for(var n=1;n<=e.level_count;n++)if(e.comissions)for(var r=0;r<e.comissions.length;r++){var l=e.comissions[r];if(l.margin==e.id&&l.level==n&&t.id==l.role){a[n]=l.commision_percent;break}}i[e.id].push(a)}))})),u.a.createElement("div",null,u.a.createElement(D.d,null,u.a.createElement(D.b,{exact:!0,path:"/settings/mlm/generate",render:function(t){return u.a.createElement(yt,Object.assign({},t,{loadData:e.loadData}))}}),this.state.editId&&this.state.editRecord?u.a.createElement(D.b,{exact:!0,path:"/settings/mlm/edit",render:function(t){return u.a.createElement(yt,Object.assign({},t,{key:e.state.editId,loadData:e.loadData},e.state))}}):null,u.a.createElement(D.b,null,u.a.createElement("div",null,u.a.createElement("h2",null,"MLM Commissions",u.a.createElement(O.b,{to:"/settings/mlm/generate"},u.a.createElement(b.a,{type:"primary",style:{float:"right"}},u.a.createElement(g.a,{type:"plus"}),"\xa0Add"))),u.a.createElement(v.a,null,this.state.productMargin?u.a.createElement(bt,{defaultActiveKey:["0"],accordion:!0},this.state.productMargin.map((function(a,r){return u.a.createElement(_t,{header:a.name,key:r,extra:[u.a.createElement(b.a.Group,{size:"small"},u.a.createElement(b.a,{type:"primary",onClick:function(){return e.editObject(a.id,i[a.id])}},u.a.createElement(g.a,{type:"edit"})," Edit"),u.a.createElement(y.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(a)},okText:"Yes",cancelText:"No"},u.a.createElement(b.a,{type:"danger"},u.a.createElement(g.a,{type:"delete"})," Delete")))]},u.a.createElement(h.a,{loading:e.state.loading,pagination:!1,style:{marginTop:10},dataSource:i[a.id],rowKey:"role",columns:n[a.id],bordered:!0}))}))):u.a.createElement("h4",null,"No MLM Data"))))))}}]),t}(u.a.Component),Ot=(a(374),a(373)),jt=(a(273),a(270)),kt=a(339),St=a(53);function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xt=de.a.TextArea,It=q.q.map((function(e){return u.a.createElement(jt.a.Button,{value:e},e)})),Ct=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).changeFormType=function(e){a.setState({selectedFormType:e.target.value})},a.handleSubmit=function(e){console.log(e),e.preventDefault();var t=Object(_.a)(a);a.props.form.validateFields((function(e,n){if(console.log(n),!e){var i=Dt({type:t.state.type},n),r="logo_path";i[r]&&n[r].file&&n[r].file.response?i[r]=n[r].file.response.image_path:i[r]=t.state.print_setting.logo_path,i.save_for_all||(i=Dt({},i,{sub_type:t.state.sub_type,id:t.state.print_setting.id})),delete i.save_for_all;var l=function(e){Object(k.a)(V.Sb,"Settings Saved Successfully!!")},s=function(){};n.save_for_all?Object(k.j)(Object(k.f)(j.Tc,[a.props.active_practiceId]),i,l,s):Object(k.j)(Object(k.f)(j.Fc,[a.props.active_practiceId,t.state.type,t.state.sub_type]),i,l,s)}}))},a.handleFormEditSettings=function(e,t){a.setState((function(a){return{editedPrintSettings:Dt({},a.editedPrintSettings,Object(A.a)({},e,t))}}))},a.loadPDF=function(e){Object(_.a)(a);Object(k.c)(e,(function(e){e.report&&window.open(St.a+e.report)}),(function(){}))},a.onchangeHandle=function(e,t){Object(_.a)(a);a.setState(Object(A.a)({},e,t),(function(){this.state.is_patient_not&&this.props.form.resetFields()}))},a.state={type:a.props.type,sub_type:a.props.sub_type,selectedFormType:"PAGE",print_setting:{},editedPrintSettings:{}},a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Fc,[this.props.active_practiceId,e.state.type,e.state.sub_type]),(function(t){t.length&&e.setState({print_setting:t[0]})}),(function(){}))}},{key:"render",value:function(){var e=this;console.log(this.state);var t={labelCol:{xs:{span:8},sm:{span:8},md:{span:8},lg:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16},md:{span:16},lg:{span:16}}},a=q.jb.map((function(e){return u.a.createElement(le.a.Option,{value:e},e)})),n=q.T.map((function(e){return u.a.createElement(jt.a,{value:e.value},e.title)})),i=q.db.map((function(e){return u.a.createElement(jt.a,{value:e.value},e.value)})),r=q.bb.map((function(e){return u.a.createElement(jt.a,{value:e.value},e.value)})),l=q.cb.map((function(e){return u.a.createElement(jt.a,{value:e.value},e.title)})),s={name:"image",data:{name:"hello"},action:Object(k.h)(j.sb),headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?kt.message.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&kt.message.error("".concat(e.file.name," file upload failed."))}},c=(q.mb.map((function(e){return u.a.createElement("li",null,u.a.createElement(I.a,{value:e.value},e.value))})),q.ib.map((function(e){return u.a.createElement(jt.a,{value:e.value},e.value)}))),o=q.ub.map((function(e){return u.a.createElement(jt.a,{value:e.value},e.value)})),d="?preview=true&type="+this.props.type+"&sub_type="+this.props.sub_type;if(this.state.print_setting){var f=Dt({},this.state.print_setting,{},this.state.editedPrintSettings);Object.keys(f).forEach((function(e){f[e]&&(d+="&"+e+"="+encodeURIComponent(f[e]))}))}var h=this.props.form.getFieldDecorator;return u.a.createElement(m.a,null,u.a.createElement(p.a,{span:24},u.a.createElement(H.a,{onSubmit:this.handleSubmit},u.a.createElement("div",{className:"div_padding_top"},u.a.createElement(m.a,{gutter:16},u.a.createElement(p.a,{span:12},u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement(jt.a.Group,{buttonStyle:"solid",size:"small",onChange:this.changeFormType,defaultValue:this.state.selectedFormType},It),u.a.createElement("br",null)),u.a.createElement("div",{hidden:"PAGE"!=this.state.selectedFormType},u.a.createElement("h2",null,"Page Setup"),u.a.createElement(H.a.Item,Object.assign({key:"page_size"},t,{label:"Paper Size"}),h("page_size",{initialValue:this.state.print_setting.page_size})(u.a.createElement(le.a,{style:{width:"100%"},onChange:function(t){return e.handleFormEditSettings("page_size",t)}},a))),u.a.createElement(H.a.Item,Object.assign({label:"Orientation"},t),h("page_orientation",{initialValue:this.state.print_setting.page_orientation})(u.a.createElement(jt.a.Group,{onChange:function(t){return e.handleFormEditSettings("orientation",t.target.value)}},c))),u.a.createElement(H.a.Item,Object.assign({label:u.a.createElement("span",null,"Printer Type\xa0")},t),h("page_print_type",{initialValue:this.state.print_setting.page_print_type})(u.a.createElement(jt.a.Group,{onChange:function(t){return e.handleFormEditSettings("printerType",t.target.value)}},o))),u.a.createElement(H.a.Item,Object.assign({key:"page_margin_top",label:u.a.createElement("span",null,"Top Margin")},t),h("page_margin_top",{initialValue:this.state.print_setting.page_margin_top})(u.a.createElement(fe.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("page_margin_top",t)}})),u.a.createElement("span",{className:"ant-form-text"},"Inches")),u.a.createElement(H.a.Item,Object.assign({key:"page_margin_left",label:u.a.createElement("span",null,"Left Margin")},t),h("page_margin_left",{initialValue:this.state.print_setting.page_margin_left})(u.a.createElement(fe.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("page_margin_left",t)}})),u.a.createElement("span",{className:"ant-form-text"},"Inches")),u.a.createElement(H.a.Item,Object.assign({key:"page_margin_bottom",label:u.a.createElement("span",null,"Bottom Margin")},t),h("page_margin_bottom",{initialValue:this.state.print_setting.page_margin_bottom})(u.a.createElement(fe.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("page_margin_bottom",t)}})),u.a.createElement("span",{className:"ant-form-text"},"Inches")),u.a.createElement(H.a.Item,Object.assign({key:"page_margin_right",label:u.a.createElement("span",null,"Right Margin")},t),h("page_margin_right",{initialValue:this.state.print_setting.page_margin_right})(u.a.createElement(fe.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("page_margin_right",t)}})),u.a.createElement("span",{className:"ant-form-text"},"Inches"))),u.a.createElement("div",{hidden:"HEADER"!=this.state.selectedFormType},u.a.createElement("h2",null,"Customize Header"),u.a.createElement(H.a.Item,Object.assign({key:"header_include"},t,{label:u.a.createElement("span",null,"Include Header\xa0")}),h("header_include",{initialValue:this.state.print_setting.header_include})(u.a.createElement(jt.a.Group,{onChange:function(t){return e.handleFormEditSettings("header_include",t.target.value)}},n))),u.a.createElement(H.a.Item,Object.assign({key:"header_text"},t,{label:u.a.createElement("span",null,"Header\xa0")}),h("header_text",{initialValue:this.state.print_setting.header_text})(u.a.createElement(de.a,{onChange:function(t){return e.handleFormEditSettings("header_text",t.target.value)}}))),u.a.createElement(H.a.Item,Object.assign({key:"header_left_text"},t,{label:u.a.createElement("span",null,"Left Text\xa0")}),h("header_left_text",{initialValue:this.state.print_setting.header_left_text})(u.a.createElement(xt,{onChange:function(t){return e.handleFormEditSettings("header_left_text",t.target.value)}}))),u.a.createElement(H.a.Item,Object.assign({key:"header_right_text"},t,{label:u.a.createElement("span",null,"Right Text\xa0")}),h("header_right_text",{initialValue:this.state.print_setting.header_right_text})(u.a.createElement(xt,{onChange:function(t){return e.handleFormEditSettings("header_right_text",t.target.value)}}))),u.a.createElement(H.a.Item,Object.assign({key:"logo_include"},t,{label:u.a.createElement("span",null,"Include Logo\xa0")}),h("logo_include",{initialValue:this.state.print_setting.logo_include})(u.a.createElement(jt.a.Group,{onChange:function(t){return e.handleFormEditSettings("logo_include",t.target.value)}},l))),u.a.createElement(H.a.Item,Object.assign({key:"logo_path"},t,{label:u.a.createElement("span",null,"Logo\xa0")}),h("logo_path")(u.a.createElement(Ot.a,s,u.a.createElement(b.a,null,u.a.createElement(g.a,{type:"upload"})," Click to Upload")))),u.a.createElement(H.a.Item,Object.assign({key:"logo_type"},t,{label:u.a.createElement("span",null,"Type\xa0")}),h("logo_type",{initialValue:this.state.print_setting.logo_type})(u.a.createElement(jt.a.Group,{onChange:function(t){return e.handleFormEditSettings("logo_type",t.target.value)}},i))),u.a.createElement(H.a.Item,Object.assign({key:"logo_alignment"},t,{label:u.a.createElement("span",null,"Alignment\xa0")}),h("logo_alignment",{initialValue:this.state.print_setting.logo_alignment})(u.a.createElement(jt.a.Group,{onChange:function(t){return e.handleFormEditSettings("logo_alignment",t.target.value)}},r)))),u.a.createElement("div",{hidden:"PATIENT"!=this.state.selectedFormType},u.a.createElement("h2",null,"Customize Patient Details"),u.a.createElement(H.a.Item,null,h("patient_details",{})(u.a.createElement(I.a,{onChange:function(t){return e.onchangeHandle("is_patient_not",t.target.checked)}},"Show Patient Details"))),u.a.createElement("ul",{className:"subLists"},u.a.createElement(H.a.Item,null,h("exclude_history",{})(u.a.createElement(I.a,null,"Exclude Mediacal History"))),u.a.createElement(H.a.Item,null,h("exclude_phone",{})(u.a.createElement(I.a,null,"Exclude Patient Number"))),u.a.createElement(H.a.Item,null,h("exclude_email",{})(u.a.createElement(I.a,null,"Exclude Patient Email Id"))),u.a.createElement(H.a.Item,null,h("exclude_address",{})(u.a.createElement(I.a,null,"Exclude address"))),u.a.createElement(H.a.Item,null,h("exclude_blood_group",{})(u.a.createElement(I.a,null,"Exclude Blood Group"))),u.a.createElement(H.a.Item,null,h("exclude_gender_dob",{})(u.a.createElement(I.a,null,q.H))))),u.a.createElement("div",{hidden:"FOOTER"!=this.state.selectedFormType},u.a.createElement("h2",null,"Footer Setup"),u.a.createElement(H.a.Item,Object.assign({key:"footer_margin_top"},t,{label:u.a.createElement("span",null,"Top Margin\xa0")}),h("footer_margin_top",{initialValue:this.state.print_setting.footer_margin_top})(u.a.createElement(fe.a,{min:0,max:10,onChange:function(t){return e.handleFormEditSettings("footer_margin_top",t)}})),u.a.createElement("span",{className:"ant-form-text"},"Inches")),u.a.createElement(H.a.Item,Object.assign({key:"footer_text"},t,{label:u.a.createElement("span",null,"Full Width Content\xa0")}),h("footer_text",{initialValue:this.state.print_setting.footer_text})(u.a.createElement(xt,{rows:3,onChange:function(t){return e.handleFormEditSettings("footer_text",t.target.value)}}))),u.a.createElement(H.a.Item,Object.assign({key:"footer_left_text"},t,{label:u.a.createElement("span",null,"Left Signature\xa0")}),h("footer_left_text",{initialValue:this.state.print_setting.footer_left_text})(u.a.createElement(xt,{onChange:function(t){return e.handleFormEditSettings("footer_left_text",t.target.value)}}))),u.a.createElement(H.a.Item,Object.assign({key:"footer_right_text"},t,{label:u.a.createElement("span",null,"Right Signature\xa0")}),h("footer_right_text",{initialValue:this.state.print_setting.footer_right_text})(u.a.createElement(xt,{onChange:function(t){return e.handleFormEditSettings("footer_right_text",t.target.value)}})))),u.a.createElement(m.a,null,u.a.createElement(E.a,null),u.a.createElement(H.a.Item,Object.assign({},t,{key:"save_for_all"}),h("save_for_all",{})(u.a.createElement(I.a,null,u.a.createElement("b",null," Save for all")))),u.a.createElement(H.a.Item,null,u.a.createElement(b.a,{style:{margin:5},type:"primary",htmlType:"submit",value:"ALL"},"Save"),u.a.createElement(b.a,{style:{margin:5},onClick:function(){return e.loadPDF(j.Jc+d+"&pdf=1")}},"Show Print Preview")))),u.a.createElement(p.a,{span:12,style:{textAlign:"center"}},u.a.createElement("div",{style:{position:"absolute",backgroundColor:"black",color:"white",padding:10,right:20,top:50}},u.a.createElement("b",null,"PREVIEW")),u.a.createElement("iframe",{src:Object(k.h)(j.Jc+d),style:{width:"100%",height:"100%",minHeight:"600px",boxShadow:"-2px 0px 4px #B8B8B8"}})))))))}}]),t}(u.a.Component),wt=H.a.create()(Ct),At=M.a.TabPane,Mt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).setRandomKey=function(e){console.log(e),a.setState({randomKey:Math.random(),activeKey:e})},a.state={randomKey:Math.random(),activeKey:"a"},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this;return u.a.createElement("div",null,u.a.createElement("h2",null,"Print Settings"),u.a.createElement(M.a,{defaultActiveKey:q.E,size:"small",type:"card"},u.a.createElement(At,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"calculator"}),q.E),key:q.E},u.a.createElement(v.a,null,u.a.createElement("h4",null,u.a.createElement("div",null,u.a.createElement(M.a,{size:"small",onChange:this.setRandomKey},q.D.map((function(a,n){return u.a.createElement(At,{tab:a.title,key:n},u.a.createElement(wt,{key:n.toString()==t.state.activeKey.toString()?a.title+t.state.randomKey:a.title,sub_type:a.title,active_practiceId:e.props.active_practiceId,type:"EMR"}))}))))))),u.a.createElement(At,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"audit"}),q.i),key:q.i},u.a.createElement(v.a,null,u.a.createElement("h4",null,u.a.createElement("div",null,u.a.createElement(M.a,{size:"small",onChange:this.setRandomKey},q.h.map((function(a,n){return u.a.createElement(At,{tab:a.title,key:n},u.a.createElement(wt,{key:n.toString()==t.state.activeKey.toString()?a.title+t.state.randomKey:a.title,sub_type:a.title,active_practiceId:e.props.active_practiceId,type:"BILLING"}))})))))))))}}]),t}(u.a.Component),Tt=M.a.TabPane,Vt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={integrateData:[],loading:!0},a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props&&this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Uc,[e.props.user.id]),(function(t){e.setState({integrateData:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=[{key:"login",type:V.W,initialValue:this.state.integrateData.login,required:!0,label:"Email Id"},{key:"password",type:V.sb,initialValue:this.state.integrateData.password,required:!0,label:"Password"}],a={method:"post",successFn:function(t){e.loadData()},errorFn:function(){},action:Object(k.f)(j.Uc,[this.props.user.id])},n=kt.Form.create()(T.a);return u.a.createElement(m.a,null,u.a.createElement(v.a,null,u.a.createElement("h2",null,"My Integrations"),u.a.createElement(M.a,null,u.a.createElement(Tt,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"check-circle"}),"Task Tracker"),key:"Complaints"},u.a.createElement(n,{fields:t,formProp:a})))))}}]),t}(u.a.Component),Nt=function(e){function t(e){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).call(this,e))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("h2",null,"Email PDF Settings"),u.a.createElement(v.a,null,u.a.createElement(wt,{sub_type:"INVOICE",active_practiceId:this.props.active_practiceId,type:"MAIL"})))}}]),t}(u.a.Component),Rt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).loadRequiredData=function(){var e=Object(_.a)(a);Object(k.c)(Object(k.f)(j.Sc,[a.props.active_practiceId]),(function(t){e.setState({roomTypes:t})}),(function(){}))},a.state={editPackage:a.props.editPackage?a.props.editPackage:null,roomTypes:[],taxes:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadRequiredData(),this.loadTaxes()}},{key:"loadTaxes",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Ed,[this.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t=H.a.create()(T.a),a=[{label:"Package Name",key:"name",required:!0,initialValue:this.props.editPackage?this.props.editPackage.name:null,type:V.W},{label:"Days of Booking",key:"no_of_days",required:!0,initialValue:this.props.editPackage?this.props.editPackage.no_of_days:null,type:V.pb,follow:"INR"},{label:"Normal Price",key:"normal_price",required:!0,initialValue:this.props.editPackage?(this.props.editPackage.normal_price+this.props.editPackage.normal_tax_value).toFixed(2):null,type:V.pb,follow:"INR"},{label:"Tatkal Price",key:"tatkal_price",required:!0,initialValue:this.props.editPackage?(this.props.editPackage.tatkal_price+this.props.editPackage.tatkal_tax_value).toFixed(2):null,type:V.pb,follow:"INR"},{label:"Image",key:"image",initialValue:this.props.editPackage?this.props.editPackage.image:null,type:V.Pb},{label:"Room Type",key:"room",required:!0,initialValue:this.props.editPackage?this.props.editPackage.room:null,type:V.Nb,options:this.state.roomTypes.map((function(e){return Object.create({label:e.name,value:e.id})}))},{label:"Taxes",key:"taxes",initialValue:this.props.editPackage&&this.props.editPackage.taxes?this.props.editPackage.taxes.map((function(e){return e.id})):[],type:V.mb,options:this.state.taxes.map((function(e){return Object.create({label:e.name+"("+e.tax_value+"%)",value:e.id})}))},{label:"Description",key:"description",initialValue:this.props.editPackage?this.props.editPackage.description:"",type:V.Ub,minRows:3}],n={method:"post",action:Object(k.f)(j.v,[this.props.active_practiceId]),successFn:function(){Object(k.a)(V.Sb,"Package Saved Successfully"),e.props.loadData&&e.props.loadData(),e.props.history.replace("/settings/bed-packages")},errorFn:function(){}},i=[];return this.state.editPackage&&i.push({key:"id",value:this.state.editPackage.id}),u.a.createElement("div",null,u.a.createElement(v.a,null,u.a.createElement(t,Object.assign({fields:a,formProp:n,defaultValues:i,title:this.state.editPackage?"Edit Bed Package":"Add Bed Packages"},this.props))))}}]),t}(u.a.Component),Ft=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).loadData=function(){var e=Object(_.a)(a);Object(k.c)(Object(k.f)(j.v,[a.props.active_practiceId]),(function(t){e.setState({loading:!1,packages:t})}),(function(){e.setState({loading:!1})}))},a.editObject=function(e){a.setState({editPackage:e,loading:!1}),a.props.history.push("/settings/bed-packages/edit")},a.state={loading:!1,packages:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(j.v,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{dataIndex:"image",key:"image",render:function(e){return e?u.a.createElement("img",{src:Object(k.g)(e),alt:"",style:{maxWidth:200,maxHeight:100}}):null}},{title:"Package Name",dataIndex:"name",key:"name"},{title:"Days",dataIndex:"no_of_days",key:"no_of_days"},{title:"Normal Price+tax (INR)",dataIndex:"normal_price",key:"normal_price",render:function(e,t){return u.a.createElement("p",null,(t.normal_price+t.normal_tax_value).toFixed(2))}},{title:"Tatkal Price+tax (INR)",dataIndex:"tatkal_price",key:"tatkal_price",render:function(e,t){return u.a.createElement("p",null,(t.tatkal_price+t.tatkal_tax_value).toFixed(2))}},{title:"Description",dataIndex:"description",key:"description"},{title:"Action",key:"action",render:function(a,n){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editObject(n)}},"Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this prescription?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}];return u.a.createElement(D.d,null,u.a.createElement(D.b,{path:"/settings/bed-packages/add",render:function(t){return u.a.createElement(Rt,Object.assign({},e.props,t,{loadData:e.loadData}))}}),u.a.createElement(D.b,{path:"/settings/bed-packages/edit",render:function(t){return e.state.editPackage?u.a.createElement(Rt,Object.assign({},e.state,e.props,t,{loadData:e.loadData})):u.a.createElement(D.a,{to:"/settings/bed-packages"})}}),u.a.createElement(D.b,null,u.a.createElement(v.a,{title:u.a.createElement("h4",null,"Bed Packages ",u.a.createElement(O.b,{to:"/settings/bed-packages/add"},u.a.createElement(b.a,{style:{float:"right"},type:"primary"},u.a.createElement(g.a,{type:"plus"})," Add")))},u.a.createElement(K.a,{dataSource:this.state.packages,loading:this.state.loading,columns:a}))))}}]),t}(u.a.Component),Lt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showDeletedExpenses=function(){a.setState({showDeleted:!0,deletedLoading:!0}),a.loadData(!0)},a.state={redirect:!1,visible:!1,rooms:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedRooms:[],editObj:{}},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,a=function(a){console.log("get table"),e?t.setState({deletedRooms:a,deletedLoading:!1}):t.setState({rooms:a,loading:!1})},n=function(){e?t.setState({deletedLoading:!1}):t.setState({loading:!1})};e?Object(k.c)(Object(k.f)(j.Sc,[this.props.active_practiceId]),a,n,{deleted:!0,practice:this.props.active_practiceId}):Object(k.c)(Object(k.f)(j.Sc,[this.props.active_practiceId]),a,n)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editObj:e,visible:!0})}},{key:"deleteObject",value:function(e,t){var a=this,n=e;n.is_active=t;Object(k.j)(Object(k.f)(j.Sc,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Room Type",dataIndex:"name",key:"name"},{title:"Normal Bed Count",dataIndex:"normal_seats",key:"normal_seats"},{title:"Tatkal Bed Count",dataIndex:"tatkal_seats",key:"tatkal_seats"},{title:"Action",key:"action",render:function(a,n){return n.is_active?u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editTax(n)}},"  Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure to delete this?",onConfirm:function(){return t.deleteObject(n,!1)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete"))):u.a.createElement("span",null,u.a.createElement(y.a,{title:"Are you sure show this?",onConfirm:function(){return t.deleteObject(n,!0)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Show")))}}],n=[{label:"Room Type",key:"name",required:!0,type:V.W},{label:"Normal Bed Count",key:"normal_seats",required:!0,type:V.pb,min:0},{label:"Tatkal Bed Count",key:"tatkal_seats",required:!0,type:V.pb,min:0}],i=[{label:"Room Type",key:"name",required:!0,initialValue:this.state.editObj.name,type:V.W},{label:"Normal Bed Count",key:"normal_seats",required:!0,initialValue:this.state.editObj.normal_seats,type:V.pb,min:0},{label:"Tatkal Bed Count",required:!0,initialValue:this.state.editObj.tatkal_seats,key:"tatkal_seats",type:V.pb,min:0}],r={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.Sc,[this.props.active_practiceId]),method:"post"},l=[{key:"practice",value:this.props.active_practiceId}],s=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editObj.id}],c=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement("h2",null,"Room Types"),u.a.createElement(v.a,null,u.a.createElement(c,{defaultValues:l,formProp:r,fields:n}),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:a,dataSource:this.state.rooms})),u.a.createElement(d.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},u.a.createElement(c,{title:"Edit Room Type",defaultValues:s,formProp:r,fields:i}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(u.a.Component),Ht=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={redirect:!1,fields:[{label:"Offer Name ",key:"code",placeholder:"Offer Name",required:!0,type:V.W},{label:"Description ",key:"description",placeholder:"E.g. 20% off on all services",type:V.W},{label:"Discount",key:"discount",required:!0,type:V.pb},{label:"Discount Unit",key:"unit",required:!0,options:[{label:"Percent",value:"%"},{label:"Rupees",value:"INR"}],type:V.Nb,initialValue:"%"}]},a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"render",value:function(){var e=this,t={successFn:function(t){Object(k.a)(V.Sb,"success"),e.props.loadData&&e.props.loadData(),e.props.history&&e.props.history.replace("/settings/loyalty")},errorFn:function(){},action:Object(k.f)(j.gc,[this.props.active_practiceId]),method:"post",beforeSubmit:function(e){console.log(e)}},a=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement(a,Object.assign({formProp:t,fields:this.state.fields},this.props)),this.state.redirect&&u.a.createElement(D.a,{to:"/settings/loyalty"}))}}]),t}(u.a.Component),Wt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={offers:null,loading:!0},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.gc,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({offers:t,loading:!1})}),(function(){e.setState({loading:!0})}))}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(j.gc,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"code",key:"code"},{title:"Description",dataIndex:"description",key:"description"},{title:"Discount",dataIndex:"discount",key:"discount"},{title:"Discount Unit",dataIndex:"unit",key:"unit"},{title:"Action",key:"action",render:function(t,a){return u.a.createElement(y.a,{title:"Are you sure delete this Offer?",onConfirm:function(){return e.deleteObject(a)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete"))}}];return u.a.createElement(m.a,null,u.a.createElement(Ht,Object.assign({},this.props,{loadData:this.loadData})),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.offers}))}}]),t}(u.a.Component),qt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=[{label:"Membership Name ",key:"name",placeholder:"Membership Name",required:!0,type:V.W},{label:"Fee",key:"fee",required:!0,type:V.pb,follow:"INR"},{label:"Benefit",key:"benefit",required:!0,type:V.pb,follow:"%"},{label:"Validity",key:"validity",required:!0,type:V.pb,follow:"Months"}],t=this,a={successFn:function(e){Object(k.a)(V.Sb,"success"),t.props.loadData&&t.props.loadData(),t.props.history&&t.props.history.replace("/settings/loyalty")},errorFn:function(){},action:Object(k.f)(j.ac,[this.props.active_practiceId]),method:"post"},n=[{key:"practice",value:this.state.active_practiceId}],i=H.a.create()(T.a);return u.a.createElement(m.a,null,u.a.createElement(i,Object.assign({fields:e,formProp:a,defaultValues:n},this.props)))}}]),t}(u.a.Component),Ut=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).loadData=function(){var e=Object(_.a)(a);Object(k.c)(j.ac,(function(t){e.setState({membership:t})}),(function(){}))},a.state={membership:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"deleteObject",value:function(e){var t=this,a={is_active:!1,id:e.id};Object(k.j)(j.ac,a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Fee (INR)",dataIndex:"fee",key:"fee"},{title:"Benefit (%)",dataIndex:"benefit",key:"benefit"},{title:"Validity (Months)",dataIndex:"validity",key:"validity"},{title:"Action",key:"action",render:function(t,a){return u.a.createElement(y.a,{title:"Are you sure delete this prescription?",onConfirm:function(){return e.deleteObject(a)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete"))}}];return u.a.createElement(m.a,null,u.a.createElement(qt,Object.assign({},this.props,{loadData:this.loadData})),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:t,dataSource:this.state.membership}))}}]),t}(u.a.Component),Bt=(a(281),a(282)),Yt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).loadPatient=function(e){var t=Object(_.a)(a);e&&Object(k.c)(Object(k.f)(j.Vc,[e]),(function(e){e.results.length>0&&t.setState({patientList:e.results})}),(function(){}))},a.handleSubmit=function(e){var t=Object(_.a)(a);t.setState({loading:!0}),e.preventDefault(),a.props.form.validateFields((function(e,a){if(!e){var n=a;n.practice=t.props.active_practiceId;Object(k.j)(j.Nc,n,(function(e){t.setState({loading:!1}),Object(k.a)(V.Sb,"Successfully Created!"),t.props.form.resetFields(),t.props.loadData(),t.props.history&&t.props.history.replace("/settings/loyalty")}),(function(){}))}}))},a.state={editPromoCode:[],patientList:[],loading:!1},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.patientList,a={labelCol:{span:8},wrapperCol:{span:14}},n=this.props.form.getFieldDecorator;return u.a.createElement("div",null,u.a.createElement(H.a,{onSubmit:this.handleSubmit},u.a.createElement(H.a.Item,Object.assign({label:"Promo Code"},a,{key:"promo_code"}),n("promo_code",{initialValue:""})(u.a.createElement(de.a,{placeholder:"Promo Code"}))),u.a.createElement(H.a.Item,Object.assign({label:"Promo Code Value"},a,{key:"code_value"}),n("code_value",{initialValue:""})(u.a.createElement(fe.a,{placeholder:"Promo Code Value"}))),u.a.createElement(H.a.Item,Object.assign({label:"Code Type"},a,{key:"code_type"}),n("code_type",{initialValue:""})(u.a.createElement(le.a,{placeholder:"Code Type",style:{width:"100%"}},q.p.map((function(e){return u.a.createElement(le.a.Option,{value:e.value},e.label," (",e.value,")")}))))),u.a.createElement(H.a.Item,Object.assign({label:"Min Order"},a,{key:"minimum_order"}),n("minimum_order",{initialValue:""})(u.a.createElement(fe.a,{placeholder:"Min Order"}))),u.a.createElement(H.a.Item,Object.assign({label:"Max Discount"},a,{key:"maximum_discount"}),n("maximum_discount",{initialValue:""})(u.a.createElement(fe.a,{placeholder:"Min Order"}))),u.a.createElement(H.a.Item,Object.assign({label:"Expiry Date"},a,{key:"expiry_date"}),n("expiry_date",{initialValue:F()()})(u.a.createElement(Bt.a,{format:"YYYY/MM/DD",allowClear:!1}))),u.a.createElement(H.a.Item,Object.assign({label:"Patients"},a,{key:"patient"}),n("patients",{initialValue:[]})(u.a.createElement(le.a,{mode:"multiple",placeholder:"Select Patient",style:{width:"100%"},showSearch:!0,onSearch:this.loadPatient,filterOption:!1},t.map((function(e){return u.a.createElement(le.a.Option,{value:e.id},e.user.first_name," (",e.custom_id,")")})))),u.a.createElement("span",{className:"ant-form-text"},"If no patient is selected, promo code will be available to all patients.")),u.a.createElement(H.a.Item,a,u.a.createElement(b.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),this.props.history?u.a.createElement(b.a,{style:{margin:5},onClick:function(){return e.props.history.goBack()}},"Cancel"):null)))}}]),t}(u.a.Component),zt=H.a.create()(Yt),Kt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).loadData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(_.a)(a);a.setState({loading:!0});var n=function(e){t.setState({promoCode:e.results,nextPage:e.next,loading:!1})},i=function(){t.setState({loading:!1})};Object(k.c)(Object(k.f)(j.Nc,[a.props.active_practiceId]),n,i,{page:e,practice:a.props.active_practiceId})},a.deleteObject=function(e){var t=Object(_.a)(a);Object(k.l)(Object(k.f)(j.td,[e.id]),{is_active:!1},(function(e){t.loadData()}),(function(){}))},a.sendSMS=function(e){var t=Object(_.a)(a);Object(k.c)(Object(k.f)(j.Xc,[e.id]),(function(e){t.loadData()}),(function(){}))},a.state={loading:!1,promoCode:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.promoCode,n=t.loading,i=[{title:"Code Name",dataIndex:"promo_code",key:"promo_code"},{title:"Promo Code Value",dataIndex:"code_value",key:"code_value"},{title:"Type",dataIndex:"code_type",key:"code_type"},{title:"Min Order",dataIndex:"minimum_order",key:"minimum_order"},{title:"Max Discount",dataIndex:"maximum_discount",key:"maximum_discount"},{title:"Expiry Date",dataIndex:"expiry_date",render:function(e,t){return F()(t.expiry_date).format("YYYY-MM-DD")}},{title:"Action",render:function(t,a){return u.a.createElement("div",null,u.a.createElement(y.a,{title:"Are you sure send SMS for this promo code?",onConfirm:function(){return e.sendSMS(a)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Send SMS")),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this promo code?",onConfirm:function(){return e.deleteObject(a)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}];return u.a.createElement(m.a,null,u.a.createElement(zt,Object.assign({},this.props,{loadData:this.loadData})),u.a.createElement(E.a,null),u.a.createElement(h.a,{loading:n,columns:i,dataSource:a,pagination:!1}),u.a.createElement(ye.a,{loading:this.state.loading,hidden:!this.state.nextPage,loaderFunction:function(){return e.loadData(e.state.nextPage)}}))}}]),t}(u.a.Component),Gt=M.a.TabPane,Zt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement(m.a,null,u.a.createElement("h2",null,"Loyalty Settings"),u.a.createElement(v.a,null,u.a.createElement(M.a,null,u.a.createElement(Gt,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"percentage"}),"Offers"),key:"#offers"},u.a.createElement(Wt,this.props)),u.a.createElement(Gt,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"pound"}),"Membership"),key:"#membership"},u.a.createElement(Ut,this.props)),u.a.createElement(Gt,{tab:u.a.createElement("span",null,u.a.createElement(g.a,{type:"pound"}),"Promo Code"),key:"#promocode"},u.a.createElement(Kt,this.props)))))}}]),t}(u.a.Component),Qt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={redirect:!1,editFields:a.props.editTest?a.props.editTest:null,productMargin:[]},a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a.loadProductMargin(),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e,editFields:{}})}},{key:"loadProductMargin",value:function(){var e=this;Object(k.c)(j.Mc,(function(t){e.setState({productMargin:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=kt.Form.create()(T.a),n=[{label:"Test Name",key:"name",placeholder:"Test Name",type:V.W,initialValue:this.state.editFields?this.state.editFields.name:null,required:!0},{label:"Cost",key:"cost",type:V.pb,initialValue:this.state.editFields?this.state.editFields.cost:null,required:!0,follow:"INR",min:1},{label:"MLM Margin Type",type:V.Nb,initialValue:this.state.editFields?this.state.editFields.margin:null,key:"margin",required:!0,options:t.state.productMargin.map((function(e){return{label:e.name,value:e.id}}))},{label:"Instructions",key:"instruction",placeholder:"Test Instructions",initialValue:this.state.editFields?this.state.editFields.instruction:null,type:V.Ub}],i={successFn:function(e){Object(k.a)(V.Sb,"success"),t.props.loadData(),t.props.history&&t.props.history.replace("/settings/labs")},errorFn:function(){},action:Object(k.f)(j.Fb,[t.props.active_practiceId]),method:"post"},r=[];return this.state.editFields&&r.push({key:"id",value:this.state.editFields.id}),u.a.createElement(m.a,null,u.a.createElement(D.b,{exact:!0,path:"/settings/labs/add",render:function(t){return u.a.createElement(a,Object.assign({title:"Add Lab",changeRedirect:e.changeRedirect,formProp:i,fields:n},t))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/labs/edit",render:function(t){return e.state.editFields?u.a.createElement(a,Object.assign({title:"Add Lab",defaultValues:r,changeRedirect:e.changeRedirect},t,{formProp:i,fields:n})):u.a.createElement(D.a,{to:"/settings/labs"})}}),u.a.createElement(E.a,null),this.state.redirect&&u.a.createElement(D.a,{to:"/settings/labs"}))}}]),t}(u.a.Component),Jt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={tests:null,editTest:null,loading:!0,productMargin:null},a.editLabs=a.editLabs.bind(Object(_.a)(a)),a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteTest=a.deleteTest.bind(Object(_.a)(a)),a.loadProductMargin=a.loadProductMargin.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),this.loadProductMargin()}},{key:"loadData",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this,t=function(t){console.log("get table"),t.current?e.setState({next:t.next,tests:t.results,loading:!1}):e.setState((function(e){return{next:t.next,tests:[].concat(Object(me.a)(e.tests),Object(me.a)(t.results)),loading:!1}}))},a=function(){e.setState({loading:!1})};Object(k.c)(Object(k.f)(j.Fb,[e.props.active_practiceId]),t,a)}},{key:"editLabs",value:function(e){var t=this;this.setState({editTest:e,loading:!1},(function(){t.props.history.push("/settings/labs/edit")}))}},{key:"deleteTest",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(j.Fb,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"loadProductMargin",value:function(){var e=this;Object(k.c)(j.Mc,(function(t){e.setState({productMargin:t})}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a={};this.state.productMargin&&this.state.productMargin.forEach((function(e){a[e.id]=e.name}));var n=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:" Test Instructions",dataIndex:"instruction",key:"instruction"},{title:" MLM Margin",key:"margin",render:function(e,t){return u.a.createElement("span",null," ",a[t.margin])}},{title:"Action",key:"action",render:function(e,a){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return t.editLabs(a)}},"Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this test?",onConfirm:function(){return t.deleteTest(a)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}];return u.a.createElement(m.a,null,u.a.createElement(D.b,{exact:!0,path:"/settings/labs/add",render:function(a){return u.a.createElement(Qt,Object.assign({},t.state,{loadData:e.loadData},e.props,a))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/labs/edit",render:function(a){return u.a.createElement(Qt,Object.assign({},t.state,{loadData:e.loadData},e.props,a))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/labs"},u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement("h2",null,u.a.createElement(O.b,{to:"/settings/labs/add"},u.a.createElement(b.a,{type:"primary",style:{float:"right"}},u.a.createElement(g.a,{type:"plus"}),"\xa0Add")))),u.a.createElement(K.a,{columns:n,dataSource:this.state.tests,pagination:!1}),u.a.createElement(ye.a,{loading:this.state.loading,hidden:!this.state.next,loaderFunction:function(){return e.loadData(e.state.next)}}))))}}]),t}(u.a.Component);function Xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xt(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}le.a.Option;var ea=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).onChangeHandler=function(e){a.setState({panelCost:e})},a.onChangeSelect=function(e){a.setState((function(t){if(t.selectedTest[e])return Object(k.a)(V.bc,"Item Already Added"),{};for(var a=null,n=0;n<t.tests.length;n++)if(t.tests[n].id==e){a=t.tests[n];break}return a?{selectedTest:$t({},t.selectedTest,Object(A.a)({},e,a))}:{}}))},a.removeLabPanel=function(e){a.setState((function(e){return{}})),console.log("id",e)},a.handleSubmit=function(e){e.preventDefault();var t=Object(_.a)(a);a.props.form.validateFields((function(e,n){if(!e){var i=$t({},n,{tests:Object.keys(a.state.selectedTest)});console.log("test",i);Object(k.j)(Object(k.f)(j.Eb,[t.props.active_practiceId]),i,(function(e){t.props.history&&t.props.history.replace("/settings/labs")}),(function(){}))}}))},a.state={panelCost:0,tests:[],selectedTest:{}},a.loadTests=a.loadTests.bind(Object(_.a)(a)),a.handleCancel=a.handleCancel.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadTests()}},{key:"loadTests",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Fb,[e.props.active_practiceId]),(function(t){e.setState({tests:t.results,loading:!1}),console.log(JSON.stringify(e.state.tests))}),(function(){e.setState({loading:!1})}))}},{key:"onChangeCostCalculate",value:function(){}},{key:"handleCancel",value:function(){this.props.history.push("/settings/labs")}},{key:"render",value:function(){var e=this,t=this,a={labelCol:{xs:{span:8},sm:{span:8},md:{span:8},lg:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16},md:{span:16},lg:{span:16}}},n=Object.keys(this.state.selectedTest),i=0;n.forEach((function(e){i+=parseInt(t.state.selectedTest[e].cost)}));var r=this.props.form.getFieldDecorator,l=this.state.tests.map((function(e){return u.a.createElement(le.a.Option,{value:e.id},e.name)}));return u.a.createElement(m.a,null,u.a.createElement(p.a,{span:18},u.a.createElement(kt.Form,{onSubmit:this.handleSubmit},u.a.createElement(kt.Form.Item,Object.assign({label:"Panel Name"},a),r("name",{})(u.a.createElement(de.a,null))),u.a.createElement(kt.Form.Item,Object.assign({label:u.a.createElement("span",null,"Test Name")},a),u.a.createElement(le.a,{style:{width:"100%"},onChange:this.onChangeSelect},l),u.a.createElement("div",null,n?n.map((function(a){return u.a.createElement("p",{key:a},t.state.selectedTest[a].name," ",u.a.createElement("span",{style:{paddingLeft:"50%"}},e.state.selectedTest[a].cost),u.a.createElement(b.a,{icon:"close",style:{float:"right"},onClick:function(){return e.removeLabPanel(t.state.selectedTest[a].id)},type:"danger",shape:"circle",size:"small"}))})):null)),u.a.createElement(kt.Form.Item,Object.assign({label:u.a.createElement("span",null,"Panel Cost")},a),r("cost",{initialValue:i})(u.a.createElement(fe.a,null)),u.a.createElement("span",{className:"ant-form-text"}," Total : ","number"===typeof i?i:0)),u.a.createElement(kt.Form.Item,null,u.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Submit"),"\xa0\xa0\xa0",u.a.createElement(b.a,{onClick:this.handleCancel},"Cancel")))))}}]),t}(u.a.Component),ta=kt.Form.create()(ea);function aa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var na=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={labPanel:null,editTest:null,selectedTest:{}},a.loadLabPanel=a.loadLabPanel.bind(Object(_.a)(a)),a.editPanels=a.editPanels.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadLabPanel()}},{key:"loadLabPanel",value:function(){var e=this;Object(k.c)(Object(k.f)(j.Eb,[e.props.active_practiceId]),(function(t){e.setState({labPanel:t,loading:!1})}),(function(){e.setState({})}))}},{key:"editPanels",value:function(e){var t=this;this.setState({editTest:e,loading:!1},(function(){t.props.history.push("/settings/labs/edit")}))}},{key:"deleteLabPanel",value:function(e){var t=this,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aa(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{is_active:!1,tests:Object.keys(this.state.selectedTest)});Object(k.j)(Object(k.f)(j.Eb,[this.props.active_practiceId]),a,(function(e){t.loadLabPanel()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a={};this.state.productMargin&&this.state.productMargin.forEach((function(e){a[e.id]=e.name}));var n=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:"Action",key:"action",render:function(e,a){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return t.editPanels(a)}},"Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this test?",onConfirm:function(){return t.deleteLabPanel(a)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}],i=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:" Test Instructions",dataIndex:"instruction",key:"instruction"}];return u.a.createElement(m.a,null,u.a.createElement(D.b,{exact:!0,path:"/settings/labs/add",render:function(a){return u.a.createElement(ta,Object.assign({},t.state,{loadData:e.loadData},e.props,a))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/labs/edit",render:function(a){return u.a.createElement(ta,Object.assign({},t.state,{loadData:e.loadData},e.props,a))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/labs"},u.a.createElement("div",null,u.a.createElement(m.a,null,u.a.createElement("h2",null,u.a.createElement(O.b,{to:"/settings/labs/add"},u.a.createElement(b.a,{type:"primary",style:{float:"right"}},u.a.createElement(g.a,{type:"plus"}),"\xa0Add")))),u.a.createElement(K.a,{loading:this.state.loading,columns:n,expandedRowRender:function(e){return u.a.createElement(v.a,null,u.a.createElement(h.a,{pagination:!1,columns:i,dataSource:e.tests}))},dataSource:this.state.labPanel}))))}}]),t}(u.a.Component),ia=M.a.TabPane,ra=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("h2",null,"Lab Tracking"),u.a.createElement(v.a,null,u.a.createElement(M.a,null,u.a.createElement(ia,{key:"labTests",tab:"Lab Tests"},u.a.createElement(Jt,this.props)),u.a.createElement(ia,{key:"labPanels",tab:"Lab Panels"},u.a.createElement(na,this.props)))))}}]),t}(u.a.Component),la=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).loadRequiredData=function(){var e=Object(_.a)(a);Object(k.c)(Object(k.f)(j.Ed,[a.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))},a.state={editPackage:a.props.editPackage?a.props.editPackage:null,taxes:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadRequiredData()}},{key:"render",value:function(){var e=this,t=H.a.create()(T.a),a=[{label:"Package Name",key:"name",required:!0,initialValue:this.props.editPackage?this.props.editPackage.name:null,type:V.W},{label:"Image",key:"image",initialValue:this.props.editPackage?this.props.editPackage.image:null,type:V.Pb},{label:"Days of Booking",key:"no_of_days",required:!0,initialValue:this.props.editPackage?this.props.editPackage.no_of_days:null,type:V.pb,follow:"INR"},{label:"Price",key:"price",required:!0,initialValue:this.props.editPackage?this.props.editPackage.final_price:null,type:V.pb,follow:"INR"},{label:"Taxes",key:"taxes",initialValue:this.props.editPackage&&this.props.editPackage.taxes?this.props.editPackage.taxes.map((function(e){return e.id})):[],type:V.mb,options:this.state.taxes.map((function(e){return Object.create({label:e.name+"("+e.tax_value+"%)",value:e.id})}))}],n={method:"post",action:Object(k.f)(j.Wb,[this.props.active_practiceId]),successFn:function(){Object(k.a)(V.Sb,"Package Saved Successfully"),e.props.loadData&&e.props.loadData(),e.props.history.replace("/settings/medicine-packages")},errorFn:function(){}},i=[];return this.state.editPackage&&i.push({key:"id",value:this.state.editPackage.id}),u.a.createElement("div",null,u.a.createElement(v.a,null,u.a.createElement(t,Object.assign({fields:a,formProp:n,defaultValues:i,title:this.state.editPackage?"Edit Medicine Package":"Add Medicine Packages"},this.props))))}}]),t}(u.a.Component),sa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).loadData=function(){var e=Object(_.a)(a);Object(k.c)(Object(k.f)(j.Wb,[a.props.active_practiceId]),(function(t){e.setState({loading:!1,packages:t})}),(function(){e.setState({loading:!1})}))},a.editObject=function(e){a.setState({editPackage:e,loading:!1}),a.props.history.push("/settings/medicine-packages/edit")},a.state={loading:!1,packages:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(j.Wb,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{dataIndex:"image",key:"image",render:function(e){return e?u.a.createElement("img",{src:Object(k.g)(e),alt:"",style:{maxWidth:200,maxHeight:100}}):null}},{title:"Package Name",dataIndex:"name",key:"name"},{title:"Days",dataIndex:"no_of_days",key:"no_of_days"},{title:"Price (INR) + Tax",dataIndex:"final_price",key:"price"},{title:"Action",key:"action",render:function(a,n){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editObject(n)}},"Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}];return u.a.createElement(D.d,null,u.a.createElement(D.b,{path:"/settings/medicine-packages/add",render:function(t){return u.a.createElement(la,Object.assign({},e.props,t,{loadData:e.loadData}))}}),u.a.createElement(D.b,{path:"/settings/medicine-packages/edit",render:function(t){return e.state.editPackage?u.a.createElement(la,Object.assign({},e.state,e.props,t,{loadData:e.loadData})):u.a.createElement(D.a,{to:"/settings/medicine-packages"})}}),u.a.createElement(D.b,null,u.a.createElement(v.a,{title:u.a.createElement("h4",null,"Medicine Packages ",u.a.createElement(O.b,{to:"/settings/medicine-packages/add"},u.a.createElement(b.a,{style:{float:"right"},type:"primary"},u.a.createElement(g.a,{type:"plus"})," Add")))},u.a.createElement(K.a,{dataSource:this.state.packages,loading:this.state.loading,columns:a}))))}}]),t}(u.a.Component),ca=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showDeletedExpenses=function(){a.setState({showDeleted:!0,deletedLoading:!0}),a.loadData(!0)},a.state={redirect:!1,visible:!1,diseases:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedRooms:[],editObj:{}},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,a=function(a){console.log("get table"),e?t.setState({deletedRooms:a,deletedLoading:!1}):t.setState({diseases:a,loading:!1})},n=function(){e?t.setState({deletedLoading:!1}):t.setState({loading:!1})};e?Object(k.c)(Object(k.f)(j.X,[this.props.active_practiceId]),a,n,{deleted:!0,practice:this.props.active_practiceId}):Object(k.c)(Object(k.f)(j.X,[this.props.active_practiceId]),a,n)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editTax",value:function(e){this.setState({editObj:e,visible:!0})}},{key:"deleteObject",value:function(e,t){var a=this,n=e;n.is_active=t;Object(k.j)(Object(k.f)(j.X,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Disease",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(a,n){return n.is_active?u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editTax(n)}},"  Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure to delete this?",onConfirm:function(){return t.deleteObject(n,!1)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete"))):u.a.createElement("span",null,u.a.createElement(y.a,{title:"Are you sure show this?",onConfirm:function(){return t.deleteObject(n,!0)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Show")))}}],n=[{label:"Disease",key:"name",required:!0,type:V.W}],i=[{label:"Disease",key:"name",required:!0,initialValue:this.state.editObj.name,type:V.W}],r={successFn:function(e){t.handleCancel(),t.loadData(),console.log(e),console.log("sucess"),Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.X,[this.props.active_practiceId]),method:"post"},l=[{key:"practice",value:this.props.active_practiceId}],s=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editObj.id}],c=H.a.create()(T.a);return u.a.createElement("div",null,u.a.createElement("h2",null,"Disease List"),u.a.createElement(v.a,null,u.a.createElement(c,{defaultValues:l,formProp:r,fields:n}),u.a.createElement(E.a,null),u.a.createElement(K.a,{loading:this.state.loading,columns:a,dataSource:this.state.diseases})),u.a.createElement(d.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},u.a.createElement(c,{title:"Edit Disease",defaultValues:s,formProp:r,fields:i}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}]),t}(u.a.Component),oa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.state={redirect:!1,visible:!1,data:null,loading:!0},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(Object(k.f)(j.e,[this.props.active_practiceId]),(function(t){e.setState({data:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editFunction",value:function(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}},{key:"deleteObject",value:function(e){var t=this,a=e;a.is_active=!1;Object(k.j)(Object(k.f)(j.e,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(t,a){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.editFunction(a)}},"  Edit"))}}],n=[{label:"Role Name",key:"name",placeholder:"Advisor roles",required:!0,type:V.W}],i=[{label:"Role Name",key:"name",required:!0,initialValue:this.state.editingName,type:V.W}],r={successFn:function(e){t.handleCancel(),t.loadData(),console.log("sucess"),Object(k.a)(V.Sb,"success")},errorFn:function(){},action:Object(k.f)(j.e,[this.props.active_practiceId]),method:"post"},l=[{key:"practice",value:this.props.active_practiceId}],s=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],c=H.a.create()(T.a);return u.a.createElement(v.a,{title:"Add Advisor Roles"},u.a.createElement(c,{defaultValues:l,formProp:r,fields:n}),u.a.createElement(E.a,null),u.a.createElement(h.a,{loading:this.state.loading,columns:a,dataSource:this.state.data}),u.a.createElement(d.a,{title:"Edit Advisor Roles",visible:this.state.visible,footer:null,onCancel:this.handleCancel},u.a.createElement(c,{defaultValues:s,formProp:r,fields:i}),u.a.createElement(b.a,{key:"back",onClick:this.handleCancel},"Return")))}}]),t}(u.a.Component),ua=(a(379),a(395)),da=(a(268),a(271)),ma=(a(141),a(15)),pa=a(299),fa=H.a.Item,ha=v.a.Meta,ba=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleSubmit=function(e){var t=Object(_.a)(a);e.preventDefault(),a.props.form.validateFields((function(e,n){if(!e){t.setState({saving:!0});var i={user:{},referal:n.referal,role:n.role,is_agent:!0,aadhar_upload:n.aadhar_upload&&n.aadhar_upload.file&&n.aadhar_upload.file.response?n.aadhar_upload.file.response.image_path:n.aadhar_upload,is_approved:!0,practice:a.props.active_practiceId};a.state.userDetails?i.user=a.state.userDetails.user:(i.user.first_name=n.first_name,i.user.email=n.email,i.user.mobile=n.mobile);var r=function(e){t.setState({saving:!1}),t.props.loadData&&t.props.loadData(),t.props.history&&t.props.history.replace("/settings/agents"),e&&Object(k.a)(V.Sb,"Agent Created Successfully")},l=function(){t.setState({saving:!1})};a.state.userDetails?Object(k.l)(Object(k.f)(j.wc,[a.state.userDetails.id]),i,r,l):a.props.editAgentData?Object(k.l)(Object(k.f)(j.wc,[a.props.editAgentData.id]),i,r,l):Object(k.j)(Object(k.f)(j.ic,[a.props.active_practiceId]),i,r,l)}}))},a.handlePatientSelect=function(e){if(e){var t=Object(_.a)(a);Object(k.c)(Object(k.f)(j.wc,[e]),(function(e){t.setState({userDetails:e})}),(function(){}))}},a.handleClick=function(e){a.setState({userDetails:null})},a.state={redirect:!1,saving:!1,userListData:[],agentRoles:[]},a.changeRedirect=a.changeRedirect.bind(Object(_.a)(a)),a.getPatient=a.getPatient.bind(Object(_.a)(a)),a.searchPatient=a.searchPatient.bind(Object(_.a)(a)),a.loadAgentRoles=a.loadAgentRoles.bind(Object(_.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getPatient(),this.loadAgentRoles()}},{key:"getPatient",value:function(){var e=this;Object(k.c)(j.ic,(function(t){e.setState({userListData:t.results})}),(function(){}))}},{key:"loadAgentRoles",value:function(){var e=this;Object(k.c)(j.e,(function(t){e.setState({agentRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"searchPatient",value:function(e){var t=this;e&&Object(k.c)(Object(k.f)(j.Vc,[e]),(function(e){e&&t.setState({userListData:e.results})}),(function(){}))}},{key:"render",value:function(){var e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:6},wrapperCol:{span:14}},a=this.props.formLayout?this.props.formLayout:{wrapperCol:{offset:6,span:14}},n=this.props.form.getFieldDecorator,i={name:"image",data:{name:"hello"},action:Object(k.h)(j.sb),headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?ma.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&ma.a.error("".concat(e.file.name," file upload failed."))}};return u.a.createElement(v.a,null,u.a.createElement(x.a,{spinning:this.state.saving},u.a.createElement(H.a,{onSubmit:this.handleSubmit},this.props.title?u.a.createElement("h2",null,this.props.title):null,e.state.userDetails?u.a.createElement(fa,Object.assign({key:"id",value:this.state.userDetails.id},a),u.a.createElement(v.a,{bordered:!1,style:{background:"#ECECEC"}},u.a.createElement(ha,{avatar:this.state.userDetails.image?u.a.createElement(f.a,{src:Object(k.g)(this.state.userDetails.image)}):u.a.createElement(f.a,{style:{backgroundColor:"#87d068"}},this.state.userDetails.user.first_name?this.state.userDetails.user.first_name.charAt(0):u.a.createElement(g.a,{type:"user"})),title:this.state.userDetails.user.first_name,description:u.a.createElement("span",null,e.props.activePracticePermissions.PatientPhoneNumber?this.state.userDetails.user.mobile:Object(pa.b)(this.state.userDetails.user.mobile),u.a.createElement("br",null),u.a.createElement(b.a,{type:"primary",style:{float:"right"},onClick:this.handleClick},"Select Different"))}))):u.a.createElement("div",null,u.a.createElement(fa,Object.assign({key:"name",label:"Advisor Name"},t),n("first_name",{initialValue:e.props.editAgentData?e.props.editAgentData.user.first_name:""})(u.a.createElement(ua.a,{placeholder:"Advisor Name",showSearch:!0,disabled:!!e.props.editAgentData,onSearch:this.searchPatient,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSelect:this.handlePatientSelect},this.state.userListData.map((function(t){return u.a.createElement(ua.a.Option,{value:t.id.toString()},u.a.createElement(da.a.Item,{style:{padding:0}},u.a.createElement(da.a.Item.Meta,{avatar:t.image?u.a.createElement(f.a,{src:Object(k.g)(t.image)}):u.a.createElement(f.a,{style:{backgroundColor:"#87d068"}},t.user.first_name?t.user.first_name.charAt(0):u.a.createElement(g.a,{type:"user"})),title:t.user.first_name+" (ID:"+(t.custom_id?t.custom_id:t.user.id)+")",description:e.props.activePracticePermissions.PatientPhoneNumber?t.user.mobile:Object(pa.b)(t.user.mobile)})))}))))),u.a.createElement(fa,Object.assign({key:"mobile",label:"Mobile Number"},t),n("mobile",{initialValue:e.props.editAgentData?e.props.editAgentData.user.mobile:null,rules:[{required:!0,message:W.j}]})(u.a.createElement(de.a,{placeholder:"Mobile Number",disabled:!!e.props.editAgentData}))),u.a.createElement(fa,Object.assign({key:"email",label:"Email Address"},t),n("email",{initialValue:e.props.editAgentData?e.props.editAgentData.user.email:null,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:W.j}]})(u.a.createElement(de.a,{placeholder:"Email Address",disabled:!!e.props.editAgentData}))),this.state.editAgentData?null:u.a.createElement(fa,Object.assign({key:"referal",label:"Referer Code"},t),n("referal",{initialValue:e.props.editAgentData&&e.props.editAgentData.user.referer_data.referer?e.props.editAgentData.user.referer_data.referer.referer_code:null})(u.a.createElement(de.a,{placeholder:"Referer Code"})))),u.a.createElement(fa,Object.assign({key:"role"},t,{label:"Role Type"}),n("role",{initialValue:e.props.editAgentData&&e.props.editAgentData.role?e.props.editAgentData.role:null},{rules:[{required:!0,message:W.j}]})(u.a.createElement(le.a,null,this.state.agentRoles.map((function(e){return u.a.createElement(le.a.Option,{value:e.id},e.name)}))))),u.a.createElement(fa,Object.assign({label:"Document Upload"},t),n("aadhar_upload",{initialValue:e.props.editAgentData&&e.props.editAgentData.aadhar_upload?e.props.editAgentData.aadhar_upload:null,rules:[{required:!0,message:W.j}],valuePropName:"aadhar_upload"})(u.a.createElement(Ot.a,i,u.a.createElement(b.a,null,u.a.createElement(g.a,{type:"upload"})," Click to Upload"),e.props.editAgentData&&e.props.editAgentData.aadhar_upload?u.a.createElement("img",{src:Object(k.g)(e.props.editAgentData.aadhar_upload),style:{maxWidth:"100%"}}):null))),u.a.createElement(fa,t,u.a.createElement(b.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),e.props.history?u.a.createElement(b.a,{style:{margin:5},onClick:function(){return e.props.history.goBack()}},"Cancel"):null))))}}]),t}(u.a.Component),ga=H.a.create()(ba),ya=a(619),Ea=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).handleCancel=function(){a.setState({visible:!1})},a.showWallet=function(e){a.setState({showAgentData:e})},a.payAgentModal=function(e){a.setState({payAgentData:e})},a.approveAgent=function(e){var t=Object(_.a)(a),n={id:e.id,is_approved:!0};e.role?(t.setState({approvalLoading:!0}),Object(k.l)(Object(k.f)(j.wc,[e.id]),n,(function(a){Object(k.a)(V.Sb,"Agent Approved Successfully!"),t.setState((function(t){var a=[];return t.data.forEach((function(t){t.id==e.id&&(t.is_approved=!0),a.push(t)})),{data:a,approvalLoading:!1}}))}),(function(){t.setState({approvalLoading:!1})}))):Object(k.a)(V.bc,"Kindly assign the role before approving!")},a.handleSubmit=function(e){var t=Object(_.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,a){e||t.setState({role:a.role,approved:a.approved},(function(){t.loadData()}))}))},a.state={redirect:!1,visible:!1,data:null,loading:!0,agentRoles:[],practiceList:[],approved:null,showAgentData:null},a.loadData=a.loadData.bind(Object(_.a)(a)),a.deleteObject=a.deleteObject.bind(Object(_.a)(a)),a.loadAgentRoles=a.loadAgentRoles.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),this.loadAgentRoles()}},{key:"loadAgentRoles",value:function(){var e=this;Object(k.c)(j.e,(function(t){e.setState({agentRoles:t})}),(function(){}))}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this;this.setState({loading:!0});var a=function(e){1==e.current?t.setState({data:e.results,total:e.count,nextPage:e.next,loading:!1}):t.setState((function(t){return{data:[].concat(Object(me.a)(t.data),Object(me.a)(e.results)),total:e.count,nextPage:e.next,loading:!1}}))},n=function(){t.setState({loading:!1})},i={agent:!0,page:e};t.state.role&&(i.role=t.state.role),null!=t.state.approved&&(i.approved=!!t.state.approved),i.practice=this.props.active_practiceId,Object(k.c)(j.ic,a,n,i)}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"editObject",value:function(e){this.setState({editAgentData:e,loading:!1}),this.props.history.push("/settings/agents/"+e.id+"/edit")}},{key:"deleteObject",value:function(e){var t=this,a={id:e.id,is_agent:!1};Object(k.l)(Object(k.f)(j.wc,[e.id]),a,(function(e){t.setState({loading:!1}),t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=1,n=this.props.form.getFieldDecorator,i=[{title:"S. No",key:"sno",dataIndex:"sno",render:function(e,t){return u.a.createElement("span",null," ",a++)},export:function(e,t,a){return a+1}},{title:"Name",dataIndex:"user.first_name",key:"name",render:function(e,t){return u.a.createElement(O.b,{to:"/patient/"+t.id+"/profile"},e)},export:function(e,t){return t.user.first_name}},{title:"Email",dataIndex:"user.email",key:"email",export:function(e,t){return t.user.email}},{title:"Mobile",dataIndex:"user.mobile",key:"mobile",export:function(e,t){return t.user.mobile}},{title:"Referrer",dataIndex:"user.referer_data.referer.first_name",key:"referrer",render:function(e,t){return e&&t.user.referer_data.patient?u.a.createElement(O.b,{to:"/patient/"+t.user.referer_data.patient+"/profile"},e):"--"},export:function(e,t){return t.user.referer?t.user.referer_data.referer.first_name:"--"}},{title:"Role",dataIndex:"role_data.name",key:"role_data",export:function(e,t){return t.role_data.name}},{title:"Aadhar",dataIndex:"aadhar_id",key:"aadhar_id",export:function(e){return e}},{title:"Document",dataIndex:"aadhar_upload",key:"aadhar_upload",hideExport:!0,render:function(e){return e?u.a.createElement("a",{target:"_blank",href:Object(k.g)(e)},"Open Document"):"--"}},{title:"Status",dataIndex:"is_approved",key:"is_approved",render:function(e,a){return e?u.a.createElement(w.a,{color:"#87d068"},"Approved"):u.a.createElement(y.a,{title:"Are you sure approve this Advisor?",onConfirm:function(){return t.approveAgent(a)},okText:"Yes",cancelText:"No"},u.a.createElement("a",{href:"#",disabled:t.state.approvalLoading},"Approve"))}},{title:"Action",key:"action",hideExport:!0,render:function(a,n){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return e.showWallet(n)}},"  Wallet"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement("a",{onClick:function(){return e.payAgentModal(n)}},"  Pay Out"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement("a",{onClick:function(){return e.editObject(n)}},"  Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(n)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}],r=H.a.create()(T.a);return u.a.createElement(D.d,null,u.a.createElement(D.b,{exact:!0,path:"/settings/agents/add",render:function(t){return u.a.createElement(ga,Object.assign({},e.props,{title:"Create Advisor",loadData:e.loadData}))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/agents/:id/edit",render:function(t){return u.a.createElement(ga,Object.assign({},e.props,e.state,{title:"Edit Advisor",loadData:e.loadData}))}}),u.a.createElement(D.b,null,u.a.createElement(v.a,{title:u.a.createElement("h4",null,"Advisor ",u.a.createElement(O.b,{to:"/settings/agents/add"},u.a.createElement(b.a,{style:{float:"right"},type:"primary"},u.a.createElement(g.a,{type:"plus"}),"Add")))},u.a.createElement(m.a,null,u.a.createElement(p.a,{style:{float:"right"}},u.a.createElement(H.a,{layout:"inline",onSubmit:this.handleSubmit},u.a.createElement(H.a.Item,{key:"role",label:"Advisor Role"},n("role",{initialValue:this.state.agentRoles?this.state.agentRoles.id:""})(u.a.createElement(le.a,{placeholder:"Advisor Role",style:{minWidth:150},allowClear:!0},this.state.agentRoles.map((function(e){return u.a.createElement(le.a.Option,{value:e.id},e.name)}))))),u.a.createElement(H.a.Item,{key:"approved",label:"Status"},n("approved",{initialValue:this.state.approved?this.state.approved:null})(u.a.createElement(le.a,{placeholder:"status",style:{minWidth:150}},[{label:"Approved",value:!0},{label:"Pending",value:!1},{label:"All",value:null}].map((function(e){return u.a.createElement(le.a.Option,{value:e.value},e.label)}))))),u.a.createElement(H.a.Item,null,u.a.createElement(b.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"))))),u.a.createElement(K.a,{loading:this.state.loading,columns:i,dataSource:this.state.data,pagination:!1}),u.a.createElement(ye.a,{loading:this.state.loading,loaderFunction:function(){return t.loadData(t.state.nextPage)},hidden:!this.state.nextPage}),u.a.createElement(d.a,{visible:this.state.showAgentData,closable:!1,centered:!0,width:1e3,footer:null,style:{top:60}},u.a.createElement(b.a,{type:"primary",style:{position:"absolute",top:"-50px"},onClick:function(){return e.payAgentModal(e.state.showAgentData)}},"Pay Out"),u.a.createElement(b.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:function(){return e.showWallet(null)}}),this.state.showAgentData?u.a.createElement(ya.a,{currentPatient:this.state.showAgentData,key:this.state.showAgentData?this.state.showAgentData.id+this.state.payAgentData:null}):null),u.a.createElement(d.a,{visible:this.state.payAgentData,closable:!1,centered:!0,footer:null,closeIcon:null,style:{top:60}},u.a.createElement(b.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:function(){return e.payAgentModal(null)}}),this.state.payAgentData?u.a.createElement("div",null,u.a.createElement("h2",null,"Pay ",this.state.payAgentData.user.first_name),u.a.createElement(r,{formProp:{method:"post",action:j.Pd,successFn:function(){t.payAgentModal(null)},errorFn:function(){},confirm:!0,confirmText:"Are you sure to pay out this advisor?"},fields:[{label:"Amount",key:"amount",type:V.pb,required:!0,follow:"INR"},{label:"Date",key:"date",type:V.K,required:!0,format:"YYYY-MM-DD",initialValue:F()()},{label:"Comments",key:"comments",type:V.W,required:!0,extra:"Comments for this transaction"}],defaultValues:[{key:"ledger_type",value:"Payout"},{key:"amount_type",value:"Non Refundable"},{key:"practice",value:this.props.active_practiceId},{key:"is_mlm",value:!1},{key:"is_cancelled",value:!1},{key:"patient",value:this.state.payAgentData.id},{key:"staff",value:this.props.user.id}]})):null))))}}]),t}(u.a.Component),_a=H.a.create()(Ea),va=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={},a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.match.params.id&&this.loadData()}},{key:"changeRedirect",value:function(){var e=this.state.redirect;this.setState({redirect:!e})}},{key:"loadData",value:function(){var e=this,t={id:e.props.match.params.id};Object(k.c)(j.Zb,(function(t){e.setState({editZoomData:t[0]})}),(function(){}),t)}},{key:"render",value:function(){var e,t=this,a=this,n=[{label:"User Name",key:"username",type:V.W,initialValue:a.state.editZoomData?a.state.editZoomData.username:""},{label:"API key",key:"API_Key",type:V.W,initialValue:this.state.editZoomData?this.state.editZoomData.API_Key:""},{label:"API Secret",key:"API_Secret",type:V.W,initialValue:this.state.editZoomData?this.state.editZoomData.API_Secret:""}],i=H.a.create()(T.a);this.state.editZoomData&&(e={successFn:function(e){Object(k.a)(V.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/zoom-user")},errorFn:function(){},action:Object(k.f)(j.Zb,[this.props.match.params.id]),method:"post"});var r={successFn:function(e){Object(k.a)(V.Sb,"success"),a.setState({redirect:!0}),a.props.loadData(),a.props.history&&a.props.history.replace("/settings/zoom-user")},errorFn:function(){},action:j.Zb,method:"post"},l=[{key:"id",value:this.props.match.params.id}];return u.a.createElement(m.a,null,u.a.createElement(v.a,null,u.a.createElement(D.b,{exact:!0,path:"/settings/zoom-user/edit/:id",render:function(){return t.props.match.params.id?u.a.createElement(i,{title:"Edit Zoom User",defaultValues:l,changeRedirect:t.changeRedirect,formProp:e,fields:n}):u.a.createElement(D.a,{to:"/settings/zoom-user"})}}),u.a.createElement(D.b,{exact:!0,path:"/settings/zoom-user/add",render:function(){return u.a.createElement(i,{title:"Add Zoom User",changeRedirect:t.changeRedirect,formProp:r,fields:n})}})),this.state.redirect&&u.a.createElement(D.a,{to:"/settings/zoom-user"}))}}]),t}(u.a.Component),Oa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={loading:!0},a.loadData=a.loadData.bind(Object(_.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;Object(k.c)(j.Zb,(function(t){e.setState({zoomUser:t,loading:!1})}),(function(){e.setState({loading:!1})}))}},{key:"deleteObject",value:function(e){var t=this,a={};a.id=e.id,a.is_active=!1;Object(k.j)(Object(k.f)(j.Zb,[e.id]),a,(function(e){t.loadData()}),(function(){}))}},{key:"render",value:function(){var e=this,t=this,a=[{title:"User Name",dataIndex:"username",key:"username"},{title:"API Key",dataIndex:"API_Key",key:"API_key"},{title:"API Secret",dataIndex:"API_Secret",key:"API_Secret"},{title:"Actions",render:function(e){return u.a.createElement("div",null,u.a.createElement(O.b,{to:"/settings/zoom-user/edit/"+e.id},"Edit"),u.a.createElement(E.a,{type:"vertical"}),u.a.createElement(y.a,{title:"Are you sure delete this item?",onConfirm:function(){return t.deleteObject(e)},okText:"Yes",cancelText:"No"},u.a.createElement("a",null,"Delete")))}}];return u.a.createElement("div",null,u.a.createElement(D.d,null,u.a.createElement(D.b,{exact:!0,path:"/settings/zoom-user/add",render:function(t){return u.a.createElement(va,Object.assign({},e.state,t,{loadData:e.loadData}))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/zoom-user/edit/:id",render:function(t){return u.a.createElement(va,Object.assign({loadData:e.loadData},t,e.state))}}),u.a.createElement(v.a,{title:"Zoom User",extra:u.a.createElement(O.b,{to:"/settings/zoom-user/add"},u.a.createElement(b.a,{type:"primary"},u.a.createElement(g.a,{type:"plus"})," Add Zoom User"))},u.a.createElement(h.a,{dataSource:this.state.zoomUser,columns:a,pagination:!1}))))}}]),t}(u.a.Component),ja=c.a.Content,ka=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={collapsed:!1},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement(ja,{className:"main-container",style:{minHeight:280}},u.a.createElement(c.a,null,u.a.createElement(Ze,this.props),u.a.createElement(ja,{style:{margin:"24px 16px",minHeight:280}},u.a.createElement(D.d,null,u.a.createElement(D.b,{exact:!0,path:"/settings/clinics-staff/adddoctor",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?u.a.createElement(te,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/clinics-staff/:doctorid/edit",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?u.a.createElement(te,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/clinics-staff/addstaff",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?u.a.createElement(ae,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/clinics-staff/staff/:staffid/edit",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?u.a.createElement(ae,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/clinics-staff",render:function(t){return e.props.activePracticePermissions.SettingsPracticeStaff||e.props.allowAllPermissions?u.a.createElement(ee,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/clinics",render:function(t){return e.props.activePracticePermissions.SettingsPracticeDetail||e.props.allowAllPermissions?u.a.createElement(S,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/clinics/add",render:function(t){return e.props.activePracticePermissions.SettingsPracticeDetail||e.props.allowAllPermissions?u.a.createElement(ie,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/clinics/:id/edit",render:function(t){return e.props.activePracticePermissions.SettingsPracticeDetail||e.props.allowAllPermissions?u.a.createElement(Ie,Object.assign({},e.props,{practiceId:t.match.params.id},t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/communication-settings",render:function(t){return e.props.activePracticePermissions.SettingsCommunincations||e.props.allowAllPermissions?u.a.createElement(ue,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/calendarsettings",render:function(t){return e.props.activePracticePermissions.SettingsCalendar||e.props.allowAllPermissions?u.a.createElement(ze,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/procedures",render:function(t){return e.props.activePracticePermissions.SettingsProcedureCatalog||e.props.allowAllPermissions?u.a.createElement(Ee,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/billing",render:function(t){return e.props.activePracticePermissions.SettingsBilling||e.props.allowAllPermissions?u.a.createElement(ke,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/loyalty",render:function(t){return e.props.activePracticePermissions.SettingsLoyalty||e.props.allowAllPermissions?u.a.createElement(Zt,e.props):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/emr",render:function(t){return e.props.activePracticePermissions.SettingsEMR||e.props.allowAllPermissions?u.a.createElement(xe,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/prescriptions",render:function(t){return e.props.activePracticePermissions.SettingsPrescriptions||e.props.allowAllPermissions?u.a.createElement(Ve,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/expense-types",render:function(t){return e.props.activePracticePermissions.SettingsExpenseTypes||e.props.allowAllPermissions?u.a.createElement(Ne,e.props):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/labs",render:function(t){return e.props.activePracticePermissions.SettingsLabs||e.props.allowAllPermissions?u.a.createElement(ra,Object.assign({},e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/medical-history",render:function(t){return e.props.activePracticePermissions.SettingsMedicalHistory||e.props.allowAllPermissions?u.a.createElement(Re,e.props):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/agents",render:function(t){return e.props.activePracticePermissions.SettingsAgents||e.props.allowAllPermissions?u.a.createElement(_a,Object.assign({},e.state,e.props,t,{key:e.state.active_practiceId})):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/agent-roles",render:function(t){return e.props.activePracticePermissions.SettingsAgentRoles||e.props.allowAllPermissions?u.a.createElement(oa,Object.assign({},e.state,e.props,t,{key:e.state.active_practiceId})):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/mlm",render:function(t){return e.props.activePracticePermissions.SettingsMLMSettings||e.props.allowAllPermissions?u.a.createElement(vt,Object.assign({},e.state,e.props,t,{key:e.state.active_practiceId})):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/printout",render:function(t){return e.props.activePracticePermissions.SettingsPrintouts||e.props.allowAllPermissions?u.a.createElement(Mt,Object.assign({},e.state,t,e.props,{key:e.state.active_practiceId})):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/mailpdfsettings",render:function(t){return e.props.activePracticePermissions.SettingsEmailPDFSettings||e.props.allowAllPermissions?u.a.createElement(Nt,Object.assign({},e.state,t,e.props)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/integration",render:function(t){return u.a.createElement(Vt,Object.assign({},e.state,e.props,t))}}),u.a.createElement(D.b,{exact:!0,path:"/settings/roomtypes",render:function(t){return e.props.activePracticePermissions.SettingsRoomTypes||e.props.allowAllPermissions?u.a.createElement(Lt,e.props):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{exact:!0,path:"/settings/diseases",render:function(t){return e.props.activePracticePermissions.SettingsDiseaseList||e.props.allowAllPermissions?u.a.createElement(ca,e.props):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/bed-packages",render:function(t){return e.props.activePracticePermissions.SettingsBedPackages||e.props.allowAllPermissions?u.a.createElement(Ft,Object.assign({},e.state,e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/medicine-packages",render:function(t){return e.props.activePracticePermissions.SettingsMedicinePackages||e.props.allowAllPermissions?u.a.createElement(sa,Object.assign({},e.state,e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{path:"/settings/zoom-user",render:function(t){return e.props.activePracticePermissions.SettingsMedicinePackages||e.props.allowAllPermissions?u.a.createElement(Oa,Object.assign({},e.state,e.props,t)):u.a.createElement(pe.a,null)}}),u.a.createElement(D.b,{component:Fe.a})))))}}]),t}(u.a.Component);t.default=ka},616:function(e,t,a){"use strict";a(51),a(617)},617:function(e,t,a){},618:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),i=a(1),r=a(562),l=a.n(r),s=a(4),c=a.n(s),o=a(50),u=a(430),d=a(18),m=a(22),p=a(8);function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=y(this,E(t).call(this,e))).saveSwitch=function(e){a.rcSwitch=e},a.renderSwitch=function(e){var t,i=e.getPrefixCls,r=a.props,s=r.prefixCls,m=r.size,p=r.loading,f=r.className,g=void 0===f?"":f,y=r.disabled,E=i("switch",s),_=c()(g,(b(t={},"".concat(E,"-small"),"small"===m),b(t,"".concat(E,"-loading"),p),t)),v=p?n.createElement(d.a,{type:"loading",className:"".concat(E,"-loading-icon")}):null;return n.createElement(u.a,{insertExtraNode:!0},n.createElement(l.a,h({},Object(o.default)(a.props,["loading"]),{prefixCls:E,className:_,disabled:y||p,ref:a.saveSwitch,loadingIcon:v})))},Object(p.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),a}var a,i,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),a=t,(i=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return n.createElement(m.a,null,this.renderSwitch)}}])&&g(a.prototype,i),r&&g(a,r),t}(n.Component);v.__ANT_SWITCH=!0,v.propTypes={prefixCls:i.string,size:i.oneOf(["small","default","large"]),className:i.string}},619:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));a(225);var n=a(226),i=(a(251),a(252)),r=(a(236),a(18)),l=(a(223),a(224)),s=(a(281),a(282)),c=(a(230),a(229)),o=(a(232),a(233)),u=a(33),d=a(248),m=a(96),p=a(97),f=a(100),h=a(98),b=a(44),g=a(99),y=(a(392),a(393)),E=a(0),_=a.n(E),v=a(239),O=a(23),j=a(32),k=a(64),S=a.n(k),P=a(261),D=y.a.Text,x=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).loadPatientWallet=function(){var e=Object(b.a)(a);if(a.props.currentPatient&&a.props.currentPatient.id){Object(O.c)(Object(O.f)(j.g,[a.props.currentPatient.id]),(function(t){t.length&&e.setState({walletAmount:t[0]})}),(function(){}))}else a.setState({pendingAmount:null})},a.loadData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(b.a)(a);a.setState({loading:!0});var n=function(e){1==e.current?t.setState({ledger:e.results,loading:!1,nextPage:e.next}):t.setState((function(t){return{ledger:[].concat(Object(d.a)(t.ledger),Object(d.a)(e.results)),loading:!1,nextPage:e.next}}))},i=function(){t.setState({loading:!1})},r={page:e,start:a.state.selectedStartDate.startOf("day").format(),end:a.state.selectedEndDate.endOf("day").format(),agents:a.state.selectedAgents.join(",")};a.state.selectedAgents&&(r.agents=a.state.selectedAgents.join(",")),Object(O.c)(Object(O.f)(j.Pd,[a.props.currentPatient.id]),n,i,r)},a.loadSumData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(b.a)(a),n=function(e){t.setState({ledgerDetails:e,nextPage:e.next})},i=function(){},r={page:e,start:a.state.selectedStartDate.format(),end:a.state.selectedEndDate.format(),agents:a.state.selectedAgents.join(",")};a.state.selectedAgents&&(r.agents=a.state.selectedAgents.join(",")),Object(O.c)(Object(O.f)(j.Qd,[a.props.currentPatient.id]),n,i,r)},a.changeExpenseFilters=function(e,t){var n=Object(b.a)(a);a.setState(Object(u.a)({},e,t),(function(){n.loadData(1)}))},a.state={ledger:[],ledgerDetails:{},loading:!1,walletAmount:null,selectedStartDate:S()().subtract(1,"month"),selectedEndDate:S()(),agents:[],selectedAgents:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),this.loadPatientWallet(),this.loadAgents(),this.loadSumData()}},{key:"loadAgents",value:function(){var e=this;Object(O.c)(Object(O.f)(j.fc,[this.props.currentPatient.id]),(function(t){e.setState({agents:t})}),(function(){}),{agent:!0,pagination:!1})}},{key:"render",value:function(){var e=this,t=[{title:"Date",dataIndex:"created_at",key:"created_at",render:function(e){return S()(e).format("LLL")}},{title:"Patient",dataIndex:"received_from",key:"received_from",render:function(e,t){return e?_.a.createElement(D,null,e.user.first_name," (",e.custom_id,")"):"--"}},,{title:"Refered By",dataIndex:"received_from.user.referer_data",key:"received_from.user.referer_data",render:function(e,t){return e&&e.referer?_.a.createElement(D,null,e.referer.first_name," (",e.custom_id,")"):"--"}},{title:"Ledger Comment",dataIndex:"comments",key:"comments",render:function(e,t){return t.is_cancelled?_.a.createElement(D,{delete:!0},e):e}},{title:"Cr/Dr",dataIndex:"ledger_type",key:"ledger_type",render:function(e,t){return t.is_cancelled?_.a.createElement(D,{delete:!0},e):e}},{title:"Amount",dataIndex:"amount",key:"amount",render:function(e,t){return t.is_cancelled?_.a.createElement(D,{delete:!0},e.toFixed(2)):e.toFixed(2)}}];return _.a.createElement("div",null,_.a.createElement(n.a,{title:"Wallet Ledger"},_.a.createElement(l.a,{gutter:16,style:{marginBottom:10}},_.a.createElement(o.a,{span:2,style:{textAlign:"right"}},_.a.createElement("b",null," Agents")),_.a.createElement(o.a,{span:4},_.a.createElement(c.a,{style:{width:"100%"},value:this.state.selectedAgents,mode:"multiple",disabled:this.state.loading,onChange:function(t){return e.changeExpenseFilters("selectedAgents",t)}},this.state.agents.map((function(e){return _.a.createElement(c.a.Option,{value:e.id},e.user.first_name)})))),_.a.createElement(o.a,{span:2,style:{textAlign:"right"}},_.a.createElement("b",null," From")),_.a.createElement(o.a,{span:4},_.a.createElement(s.a,{value:this.state.selectedStartDate,disabled:this.state.loading,allowClear:!1,onChange:function(t){return e.changeExpenseFilters("selectedStartDate",t)}})),_.a.createElement(o.a,{span:2,style:{textAlign:"right"}},_.a.createElement("b",null," To")),_.a.createElement(o.a,{span:4},_.a.createElement(s.a,{value:this.state.selectedEndDate,disabled:this.state.loading,allowClear:!1,onChange:function(t){return e.changeExpenseFilters("selectedEndDate",t)}}))),this.state.walletAmount?_.a.createElement(l.a,{style:{textAlign:"center",marginBottom:10}},_.a.createElement(o.a,{span:24},_.a.createElement(i.a,{title:"Wallet Total",prefix:_.a.createElement(r.a,{type:"wallet"}),value:this.state.walletAmount.non_refundable,precision:2}))):null,_.a.createElement(v.a,{dataSource:this.state.ledger,loading:this.state.loading,columns:t,hideReport:!0,pagination:!1}),_.a.createElement(P.a,{loading:this.state.loading,hidden:!this.state.nextPage,loaderFunction:function(){return e.loadData(e.state.nextPage)}}),_.a.createElement(l.a,{style:{textAlign:"center",marginBottom:10}},_.a.createElement(o.a,{span:8},_.a.createElement(i.a,{title:"Credit",value:this.state.ledgerDetails.credit,precision:2})),_.a.createElement(o.a,{span:8},_.a.createElement(i.a,{title:"Debit",value:this.state.ledgerDetails.debit,precision:2})),_.a.createElement(o.a,{span:8},_.a.createElement(i.a,{title:"Profit",value:this.state.ledgerDetails.credit-this.state.ledgerDetails.debit,precision:2})))))}}]),t}(_.a.Component)}}]);
//# sourceMappingURL=15.edaabbb3.chunk.js.map