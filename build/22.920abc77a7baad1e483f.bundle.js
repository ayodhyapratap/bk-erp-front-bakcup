(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1556:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(1),i=a(12),s=a(832),r=a.n(s),l=a(34),c=a.n(l),o=a(119),d=a(563),m=a(448),p=a(181),u=a(452);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(h,e);var t,a,i,s,l=(t=h,function(){var e,a=_(t);if(E()){var n=_(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return y(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=l.call(this,e)).saveSwitch=function(e){t.rcSwitch=e},t.renderSwitch=function(e){var a,i=e.getPrefixCls,s=t.props,l=s.prefixCls,p=s.size,u=s.loading,h=s.className,b=void 0===h?"":h,y=s.disabled,E=i("switch",l),_=c()(b,(f(a={},"".concat(E,"-small"),"small"===p),f(a,"".concat(E,"-loading"),u),a)),v=u?n.createElement(m.a,{type:"loading",className:"".concat(E,"-loading-icon")}):null;return n.createElement(d.a,{insertExtraNode:!0},n.createElement(r.a,g({},Object(o.default)(t.props,["loading"]),{prefixCls:E,className:_,disabled:y||u,ref:t.saveSwitch,loadingIcon:v})))},Object(u.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),t}return a=h,(i=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return n.createElement(p.a,null,this.renderSwitch)}}])&&b(a.prototype,i),s&&b(a,s),h}(n.Component);k.__ANT_SWITCH=!0,k.propTypes={prefixCls:i.string,size:i.oneOf(["small","default","large"]),className:i.string}},1583:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(18),r=a(1577),l=a(1608),c=a(1579),o=a(732),d=a(1105),m=a(503),p=a(448),u=a(1589),h=a(1596),g=a(1183),f=a(1580),b=a(115),y=a(434),E=a(435);function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}l.a.Meta;class v extends i.a.Component{constructor(e){super(e),_(this,"showModal",e=>{console.log(e),this.setState((function(){return{visible:!0,practice:e}}))}),_(this,"handleCancel",()=>{this.setState({visible:!1})}),this.state={practiceList:[],loading:!0,visible:!1,practice:{}},this.deletePractice=this.deletePractice.bind(this)}componentDidMount(){this.admin_practiceData()}admin_practiceData(){const e=this;Object(E.c)(y.l,(function(t){e.setState({practiceList:t,loading:!1})}),(function(){e.setState({loading:!1})}))}deletePractice(e){const t=this;Object(E.k)(Object(E.g)(y.Ed,[e]),{},(function(e){console.log("data"),t.admin_practiceData(),t.props.refreshClinicData&&t.props.refreshClinicData()}),(function(){}))}render(){const e=this,t=[{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>i.a.createElement("a",{href:"#",onClick:()=>this.showModal(t)},e)},{title:"Tagline",dataIndex:"tagline",key:"tagline"},{title:"Address",dataIndex:"address",key:"address"},{title:"Specialisation",key:"specialisation",dataIndex:"specialisation"},{title:"SMS Language",dataIndex:"language",key:"language"},{title:"Default Doctor",dataIndex:"default_doctor",key:"default_doctor",render:(e,t)=>i.a.createElement("span",null,t.doctor_data?t.doctor_data.user.first_name:"")},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement(b.b,{to:"/settings/clinics/".concat(a.id,"/edit")},"Edit"),i.a.createElement(c.a,{type:"vertical"}),e.props.practiceList.length>1?i.a.createElement(o.a,{title:"Are you sure delete this Practice?",onConfirm:()=>this.deletePractice(a.id),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")):null)}];return i.a.createElement(d.a,null,i.a.createElement("h2",null,"Practice Details",i.a.createElement(b.b,{to:"/settings/clinics/add"},i.a.createElement(m.a,{type:"primary",style:{float:"right"}},i.a.createElement(p.a,{type:"plus"})," Add"))),i.a.createElement(l.a,{loading:this.state.loading},i.a.createElement(u.a,{pagination:!1,columns:t,dataSource:this.state.practiceList})),i.a.createElement(h.a,{visible:this.state.visible,closable:!1,width:600,onCancel:this.handleCancel,footer:null},i.a.createElement(m.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:this.handleCancel}),i.a.createElement(d.a,{style:{paddingBottom:"25px"}},i.a.createElement(g.a,{span:12,offset:10},this.state.practice.logo?i.a.createElement(f.a,{shape:"square",size:"large",src:Object(E.h)(this.state.practice.logo)}):null)),i.a.createElement(S,{label:"Practice Name : ",value:this.state.practice.name}),i.a.createElement(S,{label:"Tagline : ",value:this.state.practice.tagline}),i.a.createElement(S,{label:"Email Id: ",value:this.state.practice.email}),i.a.createElement(S,{label:"Contact Number : ",value:this.state.practice.contact}),i.a.createElement(S,{label:"Website : ",value:this.state.practice.website}),i.a.createElement(S,{label:"GSTIN : ",value:this.state.practice.gstin}),i.a.createElement(S,{label:"Specialisation",value:this.state.practice.specialisation}),S({label:"Address",value:this.state.practice.address?this.state.practice.address:this.state.practice.locality})))}}var k=v;function S(e){return i.a.createElement(d.a,{gutter:16},i.a.createElement(g.a,{span:8},i.a.createElement("p",null,i.a.createElement("b",null,e.label))),i.a.createElement(g.a,{span:16},e.value))}var P=a(1565),O=a(1572),j=a(1556),x=a(837),C=a(1593),D=a(763),w=a(1029),I=a(497),T=a(433),M=a(436),V=a.n(M),N=a(440),A=a(437),R=a(441),L=a(486),F=a(1570),H=a(461);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){U(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Y extends i.a.Component{constructor(e){super(e),U(this,"loadData",()=>{const e=this;Object(E.c)(Object(E.g)(y.pb,[this.props.active_practiceId]),(function(t){let a=!0;const n={},i={};if(t.length&&t[0]){const e=t[0];R.D.forEach((function(t){n[t]=e[t],i["is_two_sessions_".concat(t)]=e["is_two_sessions_".concat(t)]})),a=e.visting_hour_same_week,i.is_two_sessions=e.is_two_sessions}t.length?e.setState({timings:t[0],visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1}):(e.setState({timings:{},visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1}),Object(E.a)(A.Dc,"Doctors visit timing is empty"))}),(function(){}),{doctor:this.state.doctorId})}),U(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll((e,a)=>{if(!e){console.log(a);const e=B({},a);e.first_start_time&&(e.first_start_time=V()(e.first_start_time).format("HH:mm")),e.first_end_time&&(e.first_end_time=V()(e.first_end_time).format("HH:mm")),e.second_start_time&&(e.second_start_time=V()(e.second_start_time).format("HH:mm")),e.second_end_time&&(e.second_end_time=V()(e.second_end_time).format("HH:mm")),e.doctor=t.state.doctorId,R.D.forEach((function(t){e["first_start_time_".concat(t)]&&(e["first_start_time_".concat(t)]=V()(e["first_start_time_".concat(t)]).format("HH:mm")),e["first_end_time_".concat(t)]&&(e["first_end_time_".concat(t)]=V()(e["first_end_time_".concat(t)]).format("HH:mm")),e["second_start_time_".concat(t)]&&(e["second_start_time_".concat(t)]=V()(e["second_start_time_".concat(t)]).format("HH:mm")),e["second_end_time_".concat(t)]&&(e["second_end_time_".concat(t)]=V()(e["second_end_time_".concat(t)]).format("HH:mm"))})),t.state.timings&&(e.id=t.state.timings.id);const n=function(e){t.setState({loading:!0}),t.props.history.goBack(),t.props.loadData&&t.props.loadData(),Object(E.a)(A.sc,"Doctor Timings Saved successfully!!")},i=function(){};Object(E.k)(Object(E.g)(y.pb,[this.props.active_practiceId]),e,n,i)}})}),U(this,"changeVistingHourSameWeek",e=>{console.log(e.target),this.setState({[e.target.id]:e.target.checked})}),U(this,"changeOpenPracticeDays",(e,t)=>{this.setState((function(a){return{openPracticeDays:B(B({},a.openPracticeDays),{},{[e]:t})}}))}),U(this,"changePracticeTwoSessions",(e,t)=>{this.setState((function(a){return{twoSessions:B(B({},a.twoSessions),{},{[e]:t})}}))}),this.state={doctorId:this.props.match.params.docId,timings:null,openPracticeDays:{},visting_hour_same_week:!0,twoSessions:{},loading:!0}}componentDidMount(){this.state.doctorId&&this.loadData()}render(){if(!this.state.doctorId)return i.a.createElement(s.a,{to:"/settings/clinics-staff"});if(!this.state.timings)return i.a.createElement(l.a,{loading:!0});const e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:12},wrapperCol:{span:12}},a=this.props.form.getFieldDecorator;return i.a.createElement("div",null,i.a.createElement(l.a,{loading:this.state.loading},i.a.createElement(C.a,{onSubmit:this.handleSubmit},i.a.createElement(C.a.Item,q({key:"visting_hour_same_week"},t),a("visting_hour_same_week",{valuePropName:"checked",initialValue:!!e.state.timings&&e.state.visting_hour_same_week},{rules:[{message:H.k}]})(i.a.createElement(x.a,{onChange:this.changeVistingHourSameWeek},"Visiting hours are  same for all working days in a week"))),i.a.createElement(c.a,{style:{margin:4}}),this.state.visting_hour_same_week?i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement(g.a,{span:4}),i.a.createElement(g.a,{span:18},i.a.createElement(C.a.Item,q({key:"is_two_sessions"},t),a("is_two_sessions",{valuePropName:"checked",initialValue:!!e.state.timings&&(e.state.timings.is_two_sessions||e.state.twoSessions.is_two_sessions)},{rules:[{message:H.k}]})(i.a.createElement(x.a,{onChange:e=>this.changePracticeTwoSessions("is_two_sessions",e.target.checked)},"Practice operates in two sessions."))),i.a.createElement(d.a,{gutter:16},i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,q({key:"first_start_time",label:"Practice Starts At"},t),a("first_start_time",{initialValue:e.state.timings&&e.state.timings.first_start_time?V()(e.state.timings.first_start_time,"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm"})))),e.state.twoSessions.is_two_sessions?i.a.createElement("div",null,i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,q({key:"first_end_time",label:"Lunch At"},t),a("first_end_time",{initialValue:e.state.timings&&e.state.timings.first_end_time?V()(e.state.timings.first_end_time,"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm"})))),i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,q({key:"second_start_time",label:"Resume At"},t),a("second_start_time",{initialValue:e.state.timings&&e.state.timings.second_start_time?V()(e.state.timings.second_start_time,"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm"}))))):null,i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,q({key:"second_end_time",label:"Practice Ends At"},t),a("second_end_time",{initialValue:e.state.timings&&e.state.timings.second_end_time?V()(e.state.timings.second_end_time,"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm"}))))))),i.a.createElement(c.a,{style:{margin:4}})):R.D.map(n=>i.a.createElement("div",{key:n},i.a.createElement(d.a,null,i.a.createElement(g.a,{span:4},i.a.createElement("h4",null,n.replace(/^\w/,e=>e.toUpperCase()))),i.a.createElement(g.a,{span:18},i.a.createElement(C.a.Item,q({key:"".concat(n)},t),a("".concat(n),{valuePropName:"checked",initialValue:!!e.state.timings&&(e.state.timings["".concat(n)]||e.state.openPracticeDays[n])},{rules:[{message:H.k}]})(i.a.createElement(x.a,{onChange:t=>e.changeOpenPracticeDays(n,t.target.checked)},"Practice is open on ".concat(n.replace(/^\w/,e=>e.toUpperCase()))))),e.state.openPracticeDays[n]?i.a.createElement("div",null,i.a.createElement(C.a.Item,q({key:"is_two_sessions_".concat(n)},t),a("is_two_sessions_".concat(n),{valuePropName:"checked",initialValue:!!e.state.timings&&(e.state.timings["is_two_sessions_".concat(n)]||e.state.twoSessions["is_two_sessions_".concat(n)])},{rules:[{message:H.k}]})(i.a.createElement(x.a,{onChange:e=>this.changePracticeTwoSessions("is_two_sessions_".concat(n),e.target.checked)},"Practice operates in two sessions."))),i.a.createElement(d.a,{gutter:16},i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,q({key:"first_start_time_".concat(n),label:"Practice Starts At"},t),a("first_start_time_".concat(n),{initialValue:e.state.timings&&e.state.timings["first_start_time_".concat(n)]?V()(e.state.timings["first_start_time_".concat(n)],"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm"})))),e.state.twoSessions["is_two_sessions_".concat(n)]?i.a.createElement("div",null,i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,q({key:"first_end_time_".concat(n),label:"Lunch At"},t),a("first_end_time_".concat(n),{initialValue:e.state.timings&&e.state.timings["first_end_time_".concat(n)]?V()(e.state.timings["first_end_time_".concat(n)],"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm"})))),i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,q({key:"second_start_time_".concat(n),label:"Resume At"},t),a("second_start_time_".concat(n),{initialValue:e.state.timings&&e.state.timings["second_start_time_".concat(n)]?V()(e.state.timings["second_start_time_".concat(n)],"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm"}))))):null,i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,q({key:"second_end_time_".concat(n),label:"Practice Ends At"},t),a("second_end_time_".concat(n),{initialValue:e.state.timings&&e.state.timings["second_end_time_".concat(n)]?V()(e.state.timings["second_end_time_".concat(n)],"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm"})))))):null)),i.a.createElement(c.a,{style:{margin:4}}))),i.a.createElement(C.a.Item,t,i.a.createElement(m.a,{loading:e.state.loading,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),e.props.history?i.a.createElement(m.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null))))}}var K=C.a.create()(Y),z=a(439),W=a(450);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class X extends n.Component{constructor(e){super(e),Q(this,"loadManager",()=>{let e=this;e.setState({loading:!0});Object(E.c)(y.m,(function(t){t.length&&(e.setState({managerData:t,manager:t[0].id,managerName:t[0].user.first_name,loading:!1}),e.loadManagerUnderEmployee(t[0].id),e.loadManagerUnderAdvisor(t[0].id))}),(function(){e.setState({loading:!0})}),{is_manager:!0})}),Q(this,"loadEmployee",()=>{let e=this;e.setState({loading:!0});Object(E.c)(y.m,(function(t){e.setState({employeeData:t,loading:!1})}),(function(){e.setState({loading:!0})}),{})}),Q(this,"loadAdvisor",()=>{let e=this;e.setState({loading:!0});Object(E.c)(y.cd,(function(t){e.setState({advisorData:t,loading:!1})}),(function(){e.setState({loading:!0})}),{approved:!0,pagination:!1})}),Q(this,"loadManagerUnderEmployee",e=>{let t=this;t.setState({employeeLoading:!0});Object(E.c)(Object(E.g)(y.oc,[e]),(function(e){if(e.length>0){let a=[];e.map(e=>{a.push(e.id)}),t.setState({selectedEmployee:a,managerEmployeeData:e,employeeLoading:!1})}}),(function(e){t.setState({employeeLoading:!1})}))}),Q(this,"loadManagerUnderAdvisor",e=>{let t=this;t.setState({advisorsLoading:!0});Object(E.c)(Object(E.g)(y.nc,[e]),(function(e){if(e.length>0){let a=[];e.map(e=>{a.push(e.id)}),t.setState({selectedAdvisor:a,managerAdvisorData:e,advisorsLoading:!1})}}),(function(e){t.setState({advisorsLoading:!1})}))}),Q(this,"onChangeValue",(e,t)=>{const a=this;a.setState((function(a){let n=a.managerName;return"manager"==e&&a.managerData.forEach((function(e){e.id==t&&(n=e.user.first_name)})),{[e]:t,managerName:n}}),(function(){"manager"==e&&(a.loadManagerUnderEmployee(t),a.loadManagerUnderAdvisor(t))}))}),Q(this,"handleSubmit",e=>{const t=this;let a=t.state,n=a.manager,i=a.selectedEmployee,s=a.selectedAdvisor;e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){const e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);delete e.manager,e.id=a.manager,i&&i.length>0&&(e.employees=W.union(i,e.employees)),s&&s.length>0&&(e.advisors=W.union(s,e.advisors));const r=function(e){Object(E.a)(A.sc,"Saved Successfully!!"),t.setState({loading:!1}),t.loadManagerUnderEmployee(n),t.loadManagerUnderAdvisor(n),t.props.form.resetFields()},l=function(){t.setState({loading:!1})};Object(E.m)(Object(E.g)(y.ze,[n]),e,r,l)}})}),Q(this,"addNewItem",(e,t)=>{let a=this;if("employee"==e){let n=[];t.map(e=>{n.push(e.id)}),a.setState({selectedEmployee:n,advisorField:!1,employeeField:!0}),console.log("type",e,t,n)}if("advisor"==e){let n=[];t.map(e=>{n.push(e.id)}),a.setState({selectedAdvisor:n,advisorField:!0,employeeField:!1}),console.log("type",e,t,n)}}),Q(this,"deleteObject",(e,t)=>{let a=this.state,n=a.managerEmployeeData,i=a.managerAdvisorData;if("employee"==e){let e=[];n.map(t=>{e.push(t.id)}),this.deleteManagerItem("employee",W.pull(e,t.id))}if("advisor"==e){let e=[];i.map(t=>{e.push(t.id)}),this.deleteManagerItem("advisor",W.pull(e,t.id))}}),Q(this,"deleteManagerItem",(e,t)=>{let a=this,n=this.state.manager,i={id:n};a.setState({loading:!0}),"advisor"==e&&(i.advisors=t),"employee"==e&&(i.employees=t);console.log("Delete",i),Object(E.m)(Object(E.g)(y.ze,[n]),i,(function(e){a.setState({loading:!1}),a.loadManagerUnderEmployee(n),a.loadManagerUnderAdvisor(n)}),(function(e){a.setState({loading:!1})}))}),this.state={loading:!1,advisorsLoading:!1,employeeLoading:!1,manager:null,employees:null,managerData:[],employeeData:[],managerEmployeeData:[],managerAdvisorData:[],advisorData:[],employeeField:!0,advisorField:!0}}componentDidMount(){this.loadManager(),this.loadEmployee(),this.loadAdvisor()}render(){let e=this.state,t=e.managerName,a=(e.loading,e.employeeLoading),n=e.advisorsLoading,s=e.managerData,r=e.advisorData,p=e.employeeData,u=e.managerEmployeeData,h=e.managerAdvisorData,g=e.employeeField,f=e.advisorField;const b=this.props.form.getFieldDecorator,y={labelCol:{span:8},wrapperCol:{span:12}},E=[{title:"S. No.",key:"key",render:(e,t,a)=>i.a.createElement("span",null,a+1)},{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>i.a.createElement("span",null,t&&t.user?t.user.first_name:"")},{title:"Email",dataIndex:"email",key:"email",render:(e,t)=>i.a.createElement("span",null,t&&t.user?t.user.email:"")},{title:"Phone",dataIndex:"phone",key:"phone",render:(e,t)=>i.a.createElement("span",null,t&&t.user?t.user.mobile:"")},{title:"Action",key:"action",render:(e,t)=>i.a.createElement("span",null,i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>this.deleteObject("employee",t),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],_=[{title:"S. No.",key:"key",render:(e,t,a)=>i.a.createElement("span",null,a+1)},{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>i.a.createElement("span",null,t&&t.user?t.user.first_name:"")},{title:"Email",dataIndex:"email",key:"email",render:(e,t)=>i.a.createElement("span",null,t&&t.user?t.user.email:"")},{title:"Phone",dataIndex:"phone",key:"phone",render:(e,t)=>i.a.createElement("span",null,t&&t.user?t.user.mobile:"")},{title:"Action",key:"action",render:(e,t)=>i.a.createElement("span",null,i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>this.deleteObject("advisor",t),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return i.a.createElement(d.a,null,i.a.createElement("h2",null,"Assign Manager to Employee"),i.a.createElement(C.a,{onSubmit:this.handleSubmit},i.a.createElement(C.a.Item,Z({key:"manager"},y,{label:"Manager"}),b("manager",{validateTrigger:["onChange","onBlur"],initialValue:s.length>0?s[0].id:[],rules:[{required:!0,message:"This field is required!"}]})(i.a.createElement(D.a,{placeholder:"Select Manager",onChange:e=>this.onChangeValue("manager",e),showSearch:!0,optionFilterProp:"children"},s.map(e=>i.a.createElement(D.a.Option,{key:e.id,value:e.id},e.user.first_name," (",e.emp_id,")"))))),g&&i.a.createElement(C.a.Item,Z({key:"employees"},y,{label:"Employee"}),b("employees",{})(i.a.createElement(D.a,{placeholder:"Select Employee",onChange:e=>this.onChangeValue("employees",e),showSearch:!0,mode:"multiple",optionFilterProp:"children"},p.map(e=>i.a.createElement(D.a.Option,{key:e.id,value:e.id},e.user.first_name," (",e.emp_id,")"))))),f&&i.a.createElement(C.a.Item,Z({key:"advisors"},y,{label:"Advisor"}),b("advisors",{})(i.a.createElement(D.a,{placeholder:"Select Advisor",onChange:e=>this.onChangeValue("advisors",e),showSearch:!0,mode:"multiple",optionFilterProp:"children"},r.map(e=>i.a.createElement(D.a.Option,{key:e.id,value:e.id},e.user.first_name))))),i.a.createElement(C.a.Item,null,this.props.history?i.a.createElement(m.a,{style:{margin:5},onClick:()=>this.props.history.goBack()},"Cancel"):null,i.a.createElement(m.a,{style:{margin:5},type:"primary",htmlType:"submit",loading:this.state.loading},"Save"))),i.a.createElement(l.a,{title:"Employess under "+t},i.a.createElement(z.a,{rowKey:e=>e.id,hideReport:!0,loading:a,columns:E,dataSource:u,pagination:!1})),i.a.createElement(c.a,null),i.a.createElement(l.a,{title:"Advisor under "+t},i.a.createElement(z.a,{rowKey:e=>e.id,hideReport:!0,loading:n,columns:_,dataSource:h,pagination:!1})))}}var $=C.a.create()(X);class ee extends i.a.Component{constructor(e){super(e),this.state={loadings:!1,groupPermission:[]},this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData()}groupdataLoad(){const e=this;e.setState({loadings:!0});Object(E.c)(y.Qb,(function(t){e.setState({groupPermission:t,loadings:!1})}),(function(){e.setState({loadings:!1})}))}loadData(){this.groupdataLoad()}deleteGroup(e){const t=this,a={is_active:!1,id:e};Object(E.k)(y.ne,a,(function(e){t.loadData()}),(function(){}))}render(){const e=this;let t=this.state,a=t.groupPermission,n=t.loadings;const s=[{title:"S. No.",key:"key",render:(e,t,a)=>i.a.createElement("span",null,a+1)},{title:"Group Name",dataIndex:"group_name",key:"group_name"},{title:"Group Description",dataIndex:"group_description",key:"group_description"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement(b.b,{to:"/settings/clinics-staff/group/".concat(a.id,"/edit")},i.a.createElement("a",null,"Edit")),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this Group",onConfirm:()=>e.deleteGroup(a.id),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return(i.a.createElement("div",null,i.a.createElement("h2",null,"Group",i.a.createElement(b.b,{to:"/settings/clinics-staff/addgroup"},i.a.createElement(m.a,{type:"primary",style:{float:"right"}},i.a.createElement(p.a,{type:"plus"})," Group Permission"))),i.a.createElement(z.a,{loading:n,columns:s,dataSource:a,pagination:!1})))}}var te=ee;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(a),!0).forEach((function(t){se(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const re=u.a.Column,le=(u.a.ColumnGroup,P.a.TabPane),ce=h.a.confirm;class oe extends i.a.Component{constructor(e){super(e),se(this,"getAllPermissions",()=>{const e=this;Object(E.c)(y.k,(function(t){e.setState({allPermissions:t.practice_permissions,allGlobalPermissions:t.global_permissions,categories:t.categories})}),(function(){}))}),se(this,"handleClick",e=>{this.setState({current:e.key})}),se(this,"loadDoctorsTiming",()=>{const e=this,t=e.state.practice_doctors.map(e=>e.id);Object(E.c)(Object(E.g)(y.pb,[this.props.active_practiceId]),(function(t){e.setState((function(e){const a={};return t.forEach((function(e){a[e.doctor.id]=e})),{doctorsTiming:a}}))}),(function(){}),{doctor:t.join(",")})}),se(this,"permissionsTabCallback",e=>{}),se(this,"changeTab",e=>{this.setState({defaultActiveTab:e}),this.props.history.push("/settings/clinics-staff".concat(e))}),se(this,"toggleEnableStaffPractice",(e,t)=>{const a=this;Object(E.k)(Object(E.g)(y.Fb,[e]),{practice:a.props.active_practiceId,is_active:!!t},(function(e){t?Object(E.a)(A.sc,"Staff enabled for this practice successfully!!"):Object(E.a)(A.sc,"Staff disabled for this practice successfully!!"),a.admin_StaffData()}),(function(){}))}),se(this,"toggleAllPermissions",(e,t,a="")=>{const n=this,i=[];let s=[];"LOCAL"==e&&(0!==a.length?(s=n.state.allPermissions.filter(e=>e.module===a),s.forEach((function(e){const a={name:e.name,codename:e.codename,is_active:!!t,practice:n.props.active_practiceId,staff:n.state.currentUser};n.state.editPermissions[e.codename]&&(a.id=n.state.editPermissions[e.codename].id),i.push(a)}))):n.state.allPermissions.forEach((function(e){const a={name:e.name,codename:e.codename,is_active:!!t,practice:n.props.active_practiceId,staff:n.state.currentUser};n.state.editPermissions[e.codename]&&(a.id=n.state.editPermissions[e.codename].id),i.push(a)}))),"GLOBAL"==e&&n.state.allGlobalPermissions.forEach((function(e){const a={name:e.name,codename:e.codename,is_active:!!t,staff:n.state.currentUser};n.state.editPermissions[e.codename]&&(a.id=n.state.editPermissions[e.codename].id),i.push(a)}));const r=function(e){n.editPermissions(n.state.currentUser),n.setState({bulkEditLoading:!1})},l=function(){n.setState({bulkEditLoading:!1})};ce({title:"Are you sure to select all permissions for this user?",onOk(){n.setState({bulkEditLoading:e}),Object(E.k)(y.kf,{permissions:i},r,l)},onCancel:()=>!1})}),se(this,"handleChangeOption",e=>{this.setState({group_selected:e})}),se(this,"showModal",e=>{this.setState((function(){return{visible:!0,practice1:e}}))}),se(this,"showModalStaff",e=>{console.log(e),this.setState((function(){return{visibleStaff:!0,practice2:e}}))}),se(this,"handleCancel",()=>{this.setState({visible:!1})}),se(this,"handleCancelStaff",()=>{this.setState({visibleStaff:!1})}),se(this,"handleSubmit",e=>{const t=this,a=this.state,n=a.UserId,i=a.group_selected;e.preventDefault(),this.props.form.validateFields(e=>{if(!e){const e={practice:t.props.active_practiceId};n&&(e.staff=n),i&&(e.group=i);const a=function(){t.editGroupValue(),t.editPermissions(n)},s=function(){};Object(E.k)(y.Me,e,a,s)}})}),this.state={current:"staff",practice_staff:[],practice_doctors:[],roles:null,permissionEditModal:!1,editPermissions:{},allPermissions:[],allGlobalPermissions:[],categories:[],loading:!0,defaultActiveTab:this.props.location.hash,doctorsTiming:{},bulkEditLoading:!1,UserId:null,GroupModal:!1,groupPermission:[],group_selected:1,visible:!1,practice1:{},visibleStaff:!1,practice2:{}},this.setPermission=this.setPermission.bind(this),this.staffRoles(),this.loadData=this.loadData.bind(this),this.groupdataLoad=this.groupdataLoad.bind(this)}componentDidMount(){this.getAllPermissions(),this.loadData(),this.groupdataLoad()}setPermission(e,t,a,n){const i=this,s=a.target.checked;if(this.setState((function(t){const a=ie({},t.editPermissions[e]);return a.loading=!0,{editPermissions:ie(ie({},t.editPermissions),{},{[e]:a})}})),s){const a={name:t,codename:e,is_active:!0,practice:n?i.props.active_practiceId:null,staff:i.state.currentUser},s=function(t){i.setState((function(a){return{editPermissions:ie(ie({},a.editPermissions),{},{[e]:t})}}))},r=function(){};Object(E.k)(y.ge,a,s,r)}else if(i.state.editPermissions[e].id){const t={is_active:!1},a=function(e){i.setState((function(t){return{editPermissions:ie(ie({},t.editPermissions),{},{[e.codename]:void 0})}}))},n=function(){};Object(E.j)(Object(E.g)(y.fe,[i.state.editPermissions[e].id]),t,a,n)}}editPermissions(e){const t=this;if(!e)return t.setState({permissionEditModal:!1}),!0;t.setState({UserId:e,permissionEditModal:!0,editPermissions:[],currentUser:e});Object(E.c)(Object(E.g)(y.nf,[e,t.props.active_practiceId]),(function(e){const a={};e.forEach((function(e){a[e.codename]=e})),t.setState({editPermissions:a})}),(function(){}))}editGroupValue(e){const t=this;if(!e)return t.setState({GroupModal:!1}),!0;t.setState({GroupModal:!0,permissionEditModal:!0})}loadData(){this.admin_StaffData()}deleteStaff(e){const t=this;Object(E.m)(Object(E.g)(y.ze,[e]),{is_active:!1},(function(e){t.loadData()}),(function(){}))}staffRoles(){const e=this;Object(E.c)(y.Ie,(function(t){e.setState({roles:t})}),(function(){}))}admin_StaffData(){const e=this;Object(E.c)(Object(E.g)(y.Dd,[this.props.active_practiceId]),(function(t){const a=[],n=[];t.staff.forEach((function(e){e.role==A.Q?a.push(ie(ie({},e.user),e)):n.push(ie(ie({},e.user),e))})),e.setState({practice_doctors:a,practice_staff:n,loading:!1},(function(){e.loadDoctorsTiming()}))}),(function(){e.setState({loading:!1})}),{all:!0})}clinicData(){const e=Object(L.h)(),t=(Object.keys(e),this);Object(E.c)(Object(E.g)(y.Dd,[this.props.active_practiceId]),(function(e){const a=[],n=[];e.staff.forEach((function(e){e.role==A.Q?a.push(ie(ie({},e.user),e)):n.push(ie(ie({},e.user),e))})),t.setState({practice_doctors:a,practice_staff:n},(function(){t.loadDoctorsTiming()}))}),(function(){}))}groupdataLoad(){const e=this;e.setState({loadings:!0});Object(E.c)(y.Qb,(function(t){e.setState({groupPermission:t,loadings:!1})}),(function(){e.setState({loadings:!1})}))}render(){const e=this,t=(this.props.form.getFieldDecorator,this.state),a=t.UserId,n=t.groupPermission;t.group_selected;if(n)var r=n.map(e=>({name:e.group_name,value:e.id}));let g=[],f=[];const y=[{title:"Name",dataIndex:"first_name",key:"first_name",render:(e,t)=>i.a.createElement("a",{href:"#",onClick:()=>this.showModal(t)},e)},{title:"Email",dataIndex:"email",key:"email",hide:!0},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"Registration No.",dataIndex:"registration_number",key:"registration_number"},{title:"Employee Id",key:"emp_id",dataIndex:"emp_id"},{title:"Designation",dataIndex:"designation_data.value",key:"designation",hide:!0},{title:"Department",dataIndex:"department_data.value",key:"department",hide:!0},{title:"Enable Staff",dataIndex:"in_practice",key:"enable_staff",render:(t,a)=>a.user&&a.user.is_superuser?i.a.createElement(O.a,{color:"red"},"Not Allowed"):i.a.createElement(j.a,{defaultChecked:!!t,onChange:t=>e.toggleEnableStaffPractice(a.id,t)})},{title:"Last Login",key:"user",render:(e,t)=>t.user&&t.user.is_active?t.user.last_login?V()(t.user.last_login).fromNow():"--":i.a.createElement(O.a,{color:"#f50"},"Activation Pending"),export:(e,t)=>t.user&&t.user.is_active?t.user.last_login?V()(t.user.last_login).fromNow():"--":"Activation Pending"},{hideExport:!0,title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement(b.b,{to:"/settings/clinics-staff/".concat(a.id,"/edit")},i.a.createElement("a",null,"Edit")),i.a.createElement(c.a,{type:"vertical"}),a.user&&a.user.is_superuser?i.a.createElement(O.a,{color:"red"},"SuperUser"):i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{onClick:()=>e.editPermissions(a.id),disabled:!a.in_practice},"Permissions"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this staff?",onConfirm:()=>e.deleteStaff(a.id),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))))}],E=[{title:"Name",dataIndex:"first_name",key:"name",render:(e,t)=>i.a.createElement("a",{href:"#",onClick:()=>this.showModalStaff(t)},e)},{title:"Email",dataIndex:"email",key:"email",hide:!0},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"Employee Id",key:"emp_id",dataIndex:"emp_id"},{title:"Designation",dataIndex:"designation_data.value",key:"designation",hide:!0},{title:"Department",dataIndex:"department_data.value",key:"department",hide:!0},{title:"Enable Staff",dataIndex:"in_practice",key:"enable_staff",render:(t,a)=>a.user&&a.user.is_superuser?i.a.createElement(O.a,{color:"red"},"Not Allowed"):i.a.createElement(j.a,{defaultChecked:!!t,onChange:t=>e.toggleEnableStaffPractice(a.id,t)})},{title:"Last Login",key:"user",render:(e,t)=>t.user&&t.user.is_active?t.user.last_login?V()(t.user.last_login).fromNow():"--":i.a.createElement(O.a,{color:"#f50"},"Activation Pending"),export:(e,t)=>t.user&&t.user.is_active?t.user.last_login?V()(t.user.last_login).fromNow():"--":"Activation Pending"},{hideExport:!0,title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement(b.b,{to:"/settings/clinics-staff/staff/".concat(a.id,"/edit")},i.a.createElement("a",null,"Edit")),i.a.createElement(c.a,{type:"vertical"}),a.user&&a.user.is_superuser?i.a.createElement(O.a,{color:"red"},"SuperUser"):i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{onClick:()=>e.editPermissions(a.id),disabled:!a.in_practice},"Permissions"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this staff?",onConfirm:()=>e.deleteStaff(a.id),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))))}],_=[{title:"Name",dataIndex:"user.first_name",key:"name"},{title:"Confirmation SMS",dataIndex:"confirmation_sms",key:"confirmation_sms",render:e=>i.a.createElement("span",null,i.a.createElement(x.a,{checked:e}))},{title:"Schedule SMS",dataIndex:"schedule_sms",key:"schedule_sms",render:e=>i.a.createElement("span",null,i.a.createElement(x.a,{checked:e}))},{title:"Confirmation EMAIL",dataIndex:"confirmation_email",key:"confirmation_email",render:e=>i.a.createElement("span",null,i.a.createElement(x.a,{checked:e}))},{title:"Online Appointment SMS",dataIndex:"online_appointment_sms",key:"online_appointment_sms",render:e=>i.a.createElement(x.a,{checked:e})},{title:"Action",key:"action",render:(e,t)=>i.a.createElement("span",null,i.a.createElement(b.b,{to:"/settings/clinics-staff/".concat(t.id,"/edit")},i.a.createElement("a",null,"Edit")))}],v=[{title:"Name",dataIndex:"user.first_name",key:"name"},{title:"Schedule SMS",dataIndex:"schedule_sms",key:"schedule_sms",render:e=>i.a.createElement("span",null,i.a.createElement(x.a,{checked:e}))},{title:"Online Appointment SMS",dataIndex:"online_appointment_sms",key:"online_appointment_sms",render:e=>i.a.createElement(x.a,{checked:e})},{title:"Action",key:"action",render:(e,t)=>t.user&&t.is_superuser?i.a.createElement(O.a,null," Not Allowed"):i.a.createElement("span",null,i.a.createElement(b.b,{to:"/settings/clinics-staff/staff/".concat(t.id,"/edit")},i.a.createElement("a",null,"Edit")))}];return i.a.createElement(d.a,null,i.a.createElement("h2",null,"Practice Staff"),i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/settings/clinics-staff/:docId/edit-timing",render:t=>i.a.createElement(K,ae({},this.props,t,{loadData:e.loadData}))}),i.a.createElement(s.b,null,i.a.createElement(l.a,null,i.a.createElement(P.a,{defaultActiveKey:this.state.defaultActiveTab,onChange:this.changeTab},i.a.createElement(le,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"user-add"}),"Manage Staff"),key:"#staff"},i.a.createElement("h2",null,"Doctors",i.a.createElement(b.b,{to:"/settings/clinics-staff/adddoctor"},i.a.createElement(m.a,{type:"primary",style:{float:"right"}},i.a.createElement(p.a,{type:"plus"})," Add Doctor")),i.a.createElement(b.b,{to:"/settings/clinics-staff/addstaff"},i.a.createElement(m.a,{type:"primary",style:{float:"right",marginRight:"5px"}},i.a.createElement(p.a,{type:"plus"})," Add Staff"))),i.a.createElement(z.a,{loading:this.state.loading,pagination:!1,columns:y,dataSource:this.state.practice_doctors}),i.a.createElement(c.a,null),i.a.createElement("h2",null,"Staff "),i.a.createElement(z.a,{loading:this.state.loading,pagination:!1,columns:E,dataSource:this.state.practice_staff})),i.a.createElement(le,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"team"}),"Staff Notification"),key:"#notification"},i.a.createElement("h2",null,"Doctors"),i.a.createElement(u.a,{loading:this.state.loading,pagination:!1,columns:_,dataSource:this.state.practice_doctors}),i.a.createElement(c.a,null),i.a.createElement("h2",null,"Staff"),i.a.createElement(u.a,{loading:this.state.loading,pagination:!1,columns:v,dataSource:this.state.practice_staff})),i.a.createElement(le,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"schedule"}),"Doctors visit Timing"),key:"#timing"},i.a.createElement(u.a,{loading:this.state.loading,dataSource:this.state.practice_doctors},i.a.createElement(re,{title:"Name",dataIndex:"user.first_name",key:"name"}),i.a.createElement(re,{title:"Visit Timing",dataIndex:"loginstatus",key:"VisitTiming",render:(t,a)=>function(e){if(e)return e.visting_hour_same_week?i.a.createElement("span",null,i.a.createElement("b",null,"Mon-Sun : "),de(e.first_start_time),e.is_two_sessions?"-".concat(de(e.first_end_time)," ||LUNCH|| ").concat(de(e.second_start_time)):null,"-",de(e.second_end_time)):R.D.map(t=>e[t]?i.a.createElement("span",null,i.a.createElement("b",null,t," : "),de(e["first_start_time_".concat(t)]),e["is_two_sessions_".concat(t)]?"-".concat(de(e["first_end_time_".concat(t)]),"||LUNCH||").concat(de(e["second_start_time_".concat(t)])):null,"-",de(e["second_end_time_".concat(t)]),i.a.createElement("br",null)):null);return null}(e.state.doctorsTiming[a.id])}),i.a.createElement(re,{title:"Action",key:"action",render:(e,t)=>i.a.createElement(b.b,{to:"/settings/clinics-staff/".concat(t.id,"/edit-timing")},i.a.createElement("a",null,"Edit Timing"))}))),i.a.createElement(le,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"team"}),"Assign Manager to Emplyee"),key:"#assignmanager"},i.a.createElement($,null)),i.a.createElement(le,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"team"}),"Group Permission"),key:"#grouppermission"},i.a.createElement(te,null))),i.a.createElement(h.a,{title:i.a.createElement("h2",null,"Select Group"),visible:this.state.GroupModal,onCancel:()=>this.editGroupValue(),footer:null},i.a.createElement("div",null,i.a.createElement(C.a,{onSubmit:this.handleSubmit},i.a.createElement(C.a.Item,null,i.a.createElement(D.a,{style:{minWidth:"450px"},placeholder:"Select the Group",showSearch:!0,optionFilterProp:"children",onChange:this.handleChangeOption,allowClear:!0},r.map(e=>i.a.createElement(w.a.Button,{value:e.value},e.name)))),i.a.createElement(C.a.Item,null,i.a.createElement(m.a,{type:"primary",htmlType:"submit",style:{marginLeft:185}},"Submit"))))),i.a.createElement(h.a,{title:i.a.createElement("h2",null,"Edit Permissions",i.a.createElement("a",{target:"__blank",href:"https://confluence.plutonic.co.in/display/BK/Application+Permissions"},"        ",i.a.createElement(I.a,{title:"Permission Help Document",placement:"right"},i.a.createElement(p.a,{type:"question-circle"})))),visible:this.state.permissionEditModal,onCancel:()=>this.editPermissions(),footer:null},i.a.createElement(m.a,{style:{marginLeft:175},onClick:()=>this.editGroupValue(a)},"Assign Group"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(P.a,{defaultActiveKey:"SetAll",onChange:this.permissionsTabCallback,tabPosition:"left"},i.a.createElement(le,{tab:"All Permissions",key:"SetAll"},i.a.createElement(T.a,{spinning:"LOCAL"==this.state.bulkEditLoading},i.a.createElement(d.a,null,i.a.createElement("h3",null,i.a.createElement(x.a,{checked:e.state.allPermissions.length&&e.state.allPermissions.reduce((t,a)=>t&&a&&e.state.editPermissions[t.codename]&&e.state.editPermissions[a.codename]),onClick:e=>this.toggleAllPermissions("LOCAL",e.target.checked)},"Select All Permissions"))),e.state.allPermissions.map(t=>i.a.createElement(d.a,null,i.a.createElement(x.a,{value:t.codename,checked:e.state.editPermissions[t.codename],disabled:e.state.editPermissions[t.codename]&&e.state.editPermissions[t.codename].loading,onClick:e=>this.setPermission(t.codename,t.name,e,!0)},t.id," ",t.name))),i.a.createElement(c.a,null,"Global Permissions"),e.state.allGlobalPermissions.map(t=>i.a.createElement(d.a,null,i.a.createElement(x.a,{value:t.codename,checked:e.state.editPermissions[t.codename],disabled:e.state.editPermissions[t.codename]&&e.state.editPermissions[t.codename].loading,onClick:e=>this.setPermission(t.codename,t.name,e,!0)},t.id," ",t.name))))),i.a.createElement(le,{tab:"Global Permissions",key:"SetAllGlobal"},i.a.createElement(T.a,{spinning:"GLOBAL"==this.state.bulkEditLoading},i.a.createElement(d.a,null,i.a.createElement("h3",null,i.a.createElement(x.a,{checked:e.state.allGlobalPermissions.length&&e.state.allGlobalPermissions.reduce((t,a)=>t&&a&&e.state.editPermissions[t.codename]&&e.state.editPermissions[a.codename]),onClick:e=>this.toggleAllPermissions("GLOBAL",e.target.checked)},"Select All Permissions"))),e.state.allGlobalPermissions.map(t=>i.a.createElement(d.a,null,i.a.createElement(x.a,{value:t.codename,checked:e.state.editPermissions[t.codename],disabled:e.state.editPermissions[t.codename]&&e.state.editPermissions[t.codename].loading,onClick:e=>this.setPermission(t.codename,t.name,e,!1),style:{display:"list-item"}},t.id," ",t.name))))),e.state.categories.map(t=>(g=e.state.allPermissions.filter(e=>e.module===t),f=e.state.allGlobalPermissions.filter(e=>e.module===t),i.a.createElement(le,{tab:t,key:"#".concat(t)},i.a.createElement(T.a,{spinning:"LOCAL"==this.state.bulkEditLoading},i.a.createElement(d.a,null,i.a.createElement("h3",null,0===g.length?"No local permissions available for ".concat(t):i.a.createElement(x.a,{checked:g.length&&g.reduce((t,a)=>t&&a&&e.state.editPermissions[t.codename]&&e.state.editPermissions[a.codename]),onClick:e=>this.toggleAllPermissions("LOCAL",e.target.checked,t)},"Select All ".concat(t)))),g.map(t=>i.a.createElement(d.a,null,i.a.createElement(x.a,{value:t.codename,checked:e.state.editPermissions[t.codename],disabled:e.state.editPermissions[t.codename]&&e.state.editPermissions[t.codename].loading,onClick:e=>this.setPermission(t.codename,t.name,e,!0)},t.id," ",t.name))),i.a.createElement(c.a,null,"Global Permissions"),f.map(t=>i.a.createElement(d.a,null,i.a.createElement(x.a,{value:t.codename,checked:e.state.editPermissions[t.codename],disabled:e.state.editPermissions[t.codename]&&e.state.editPermissions[t.codename].loading,onClick:e=>this.setPermission(t.codename,t.name,e,!1),style:{display:"list-item"}},t.id," ",t.name))))))))),i.a.createElement(h.a,{visible:this.state.visible,closable:!1,width:600,onCancel:this.handleCancel,footer:null},i.a.createElement(m.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:this.handleCancel}),i.a.createElement("h2",null,"Doctors Details"),i.a.createElement(me,{label:"Name : ",value:this.state.practice1.first_name}),i.a.createElement(me,{label:"Mobile No : ",value:this.state.practice1.user?this.state.practice1.user.mobile:null}),i.a.createElement(me,{label:"Email : ",value:this.state.practice1.email}),i.a.createElement(me,{label:"Employee Id: ",value:this.state.practice1.emp_id}),i.a.createElement(me,{label:"Registration No : ",value:this.state.practice1.registration_number}),i.a.createElement(me,{label:"Department : ",value:this.state.practice1.department_data?this.state.practice1.department_data.value:null}),i.a.createElement(me,{label:"Designation : ",value:this.state.practice1.designation_data?this.state.practice1.designation_data.value:null}),i.a.createElement(me,{label:"Manager: ",value:this.state.practice1.is_manager?"Yes":"No"}),i.a.createElement(me,{label:"Confirmation Email: ",value:this.state.practice1.confirmation_email?"yes":"No"}),i.a.createElement(me,{label:"Confirmation Sms: ",value:this.state.practice1.confirmation_sms?"yes":"No"}),i.a.createElement(me,{label:"Schedule Sms: ",value:this.state.practice1.schedule_sms?"Yes":"No"}),i.a.createElement(me,{label:"Online Appointment :",value:this.state.practice1.online_appointment_sms?"Yes":"No"})),i.a.createElement(h.a,{visible:this.state.visibleStaff,closable:!1,width:600,onCancel:this.handleCancelStaff,footer:null},i.a.createElement(m.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:this.handleCancelStaff}),i.a.createElement("h2",null,"Staff Details"),i.a.createElement(me,{label:"Name : ",value:this.state.practice2.first_name}),i.a.createElement(me,{label:"Mobile No : ",value:this.state.practice2.user?this.state.practice2.user.mobile:null}),i.a.createElement(me,{label:"Email : ",value:this.state.practice2.email}),i.a.createElement(me,{label:"Employee Id: ",value:this.state.practice2.emp_id}),i.a.createElement(me,{label:"Department : ",value:this.state.practice2.department_data?this.state.practice2.department_data.value:null}),i.a.createElement(me,{label:"Designation : ",value:this.state.practice2.designation_data?this.state.practice2.designation_data.value:null}),i.a.createElement(me,{label:"Manager: ",value:this.state.practice2.is_manager?"Yes":"No"}),i.a.createElement(me,{label:"Schedule Sms: ",value:this.state.practice2.schedule_sms?"Yes":"No"}),i.a.createElement(me,{label:"Online Appointment :",value:this.state.practice2.online_appointment_sms?"Yes":"No"}))))))}}function de(e){return V()(e,"HH:mm").format("HH:mm")}function me(e){return i.a.createElement(d.a,{gutter:16},i.a.createElement(g.a,{span:8},i.a.createElement("p",null,i.a.createElement("b",null,e.label))),i.a.createElement(g.a,{span:16},e.value))}var pe=C.a.create()(oe);function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class he extends i.a.Component{constructor(e){super(e),this.state={redirect:!1,editStaff:null,roles:[],deginationData:[],departmentData:[]},this.changeRedirect=this.changeRedirect.bind(this),this.loadEditPracticeStaff=this.loadEditPracticeStaff.bind(this),this.props.match.params.doctorid&&this.loadEditPracticeStaff(),this.staffRoles()}componentDidMount(){this.loadDesignation(),this.loadDepartment()}loadDesignation(){const e=this;Object(E.c)(y.Rb,(function(t){e.setState({deginationData:t})}),(function(){}),{name:"Designation"})}loadDepartment(){const e=this;Object(E.c)(y.Rb,(function(t){e.setState({departmentData:t})}),(function(){}),{name:"Department"})}staffRoles(){const e=this;Object(E.c)(y.Ie,(function(t){e.setState({roles:t})}),(function(){}))}loadEditPracticeStaff(){const e=this.props.match.params.doctorid;console.log(e);const t=this;Object(E.c)(Object(E.g)(y.ze,[e]),(function(e){t.setState({editStaff:e})}),(function(){t.setState({})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}render(){const e=this,t=[{label:"Doctor",key:"user.first_name",required:!0,placeholder:"Doctor Name",initialValue:this.state.editStaff?this.state.editStaff.user.first_name:null,type:A.db},{label:"Mobile Number",key:"user.mobile",placeholder:"Mobile Number",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.mobile:null,type:A.db},{label:"Email Id",key:"user.email",placeholder:"Email Id",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.email:null,type:A.S},{label:"Registration Number",key:"registration_number",placeholder:"Registration Number",initialValue:this.state.editStaff?this.state.editStaff.registration_number:null,type:A.db},{label:"Employee Id",key:"emp_id",required:!0,initialValue:this.state.editStaff?this.state.editStaff.emp_id:null,type:A.db},{label:"Department",key:"department",required:!0,type:A.mc,initialValue:this.state.editStaff?this.state.editStaff.department:[],options:this.state.departmentData.map(e=>({label:e.value,value:e.id}))},{label:"Designation",key:"designation",required:!0,type:A.mc,initialValue:this.state.editStaff?this.state.editStaff.designation:[],options:this.state.deginationData.map(e=>({label:e.value,value:e.id}))},{label:"is manager",key:"is_manager",initialValue:!!this.state.editStaff&&this.state.editStaff.is_manager,type:A.nc},{label:"Calendar Colour",key:"calendar_colour",initialValue:this.state.editStaff?this.state.editStaff.calendar_colour:null,type:A.D,required:!0},{label:"Schedule SMS",key:"schedule_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.schedule_sms,type:A.nc},{label:"Confirmation SMS",key:"confirmation_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_sms,type:A.nc},{label:"Confirmation Email",key:"confirmation_email",initialValue:!!this.state.editStaff&&this.state.editStaff.confirmation_email,type:A.nc},{label:"Online Appointment SMS",key:"online_appointment_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.online_appointment_sms,type:A.nc}],a={successFn(t){Object(E.a)(A.sc,"success"),e.setState({redirect:!0}),e.props.loadData(),e.props.history&&e.props.history.replace("/settings/clinics-staff")},errorFn(){},action:y.m,method:"post"};let n;this.state.editStaff&&(n={successFn(t){Object(E.a)(A.sc,"success"),e.setState({redirect:!0}),e.props.loadData(),e.props.history&&e.props.history.replace("/settings/clinics-staff")},errorFn(){},action:Object(E.g)(y.ze,[e.props.match.params.doctorid]),method:"put"});const r=[{key:"role",value:[3]}],c=C.a.create()(N.a);return i.a.createElement(d.a,null,i.a.createElement(l.a,null,i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/:doctorid/edit",render:e=>this.props.match.params.doctorid?i.a.createElement(c,ue({defaultValues:r,title:"Edit Doctor",changeRedirect:this.changeRedirect,formProp:n,fields:t},e)):i.a.createElement(s.a,{to:"/settings/clinics-staff"})}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/adddoctor",render:e=>i.a.createElement(c,ue({defaultValues:r,changeRedirect:this.changeRedirect,title:"Add Doctor ",formProp:a,fields:t},e))})),this.state.redirect&&i.a.createElement(s.a,{to:"/settings/clinics-staff"}))}}var ge=he;function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class be extends i.a.Component{constructor(e){super(e),this.state={redirect:!1,editStaff:null,deginationData:[],departmentData:[]},this.changeRedirect=this.changeRedirect.bind(this),this.loadEditPracticeStaff=this.loadEditPracticeStaff.bind(this),this.props.match.params.staffid&&this.loadEditPracticeStaff()}componentDidMount(){this.loadDesignation(),this.loadDepartment()}loadDesignation(){const e=this;Object(E.c)(y.Rb,(function(t){e.setState({deginationData:t})}),(function(){}),{name:"Designation"})}loadDepartment(){const e=this;Object(E.c)(y.Rb,(function(t){e.setState({departmentData:t})}),(function(){}),{name:"Department"})}loadEditPracticeStaff(){const e=this.props.match.params.staffid;console.log(e);const t=this;Object(E.c)(Object(E.g)(y.ze,[e]),(function(e){t.setState({editStaff:e})}),(function(){t.setState({})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}render(){const e=this,t=[{label:"Staff Name",key:"user.first_name",required:!0,placeholder:"Staff Name",initialValue:this.state.editStaff?this.state.editStaff.user.first_name:null,type:A.db},{label:"Mobile Number",key:"user.mobile",placeholder:"Mobile Number",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.mobile:null,type:A.db},{label:"Email Id",key:"user.email",placeholder:"Email Id",required:!0,initialValue:this.state.editStaff?this.state.editStaff.user.email:null,type:A.S},{label:"Employee Id",key:"emp_id",required:!0,initialValue:this.state.editStaff?this.state.editStaff.emp_id:null,type:A.db},{label:"Department",key:"department",required:!0,type:A.mc,initialValue:this.state.editStaff?this.state.editStaff.department:[],options:this.state.departmentData.map(e=>({label:e.value,value:e.id}))},{label:"Designation",key:"designation",required:!0,type:A.mc,initialValue:this.state.editStaff?this.state.editStaff.designation:[],options:this.state.deginationData.map(e=>({label:e.value,value:e.id}))},{label:"is manager",key:"is_manager",initialValue:!!this.state.editStaff&&this.state.editStaff.is_manager,type:A.nc},{label:"Schedule SMS",key:"schedule_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.schedule_sms,type:A.nc},{label:"Online Appointment SMS",key:"online_appointment_sms",initialValue:!!this.state.editStaff&&this.state.editStaff.online_appointment_sms,type:A.nc}],a={successFn(t){Object(E.a)(A.sc,"success"),e.setState({redirect:!0}),e.props.loadData(),e.props.history&&e.props.history.replace("/settings/clinics-staff")},errorFn(){},action:y.m,method:"post"};let n;this.state.editStaff&&(n={successFn(t){Object(E.a)(A.sc,"success"),e.setState({redirect:!0}),e.props.loadData(),e.props.history&&e.props.history.replace("/settings/clinics-staff")},errorFn(){},action:Object(E.g)(y.ze,[e.props.match.params.staffid]),method:"put"});const r=[],c=C.a.create()(N.a);return i.a.createElement(d.a,null,i.a.createElement(l.a,null,i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/staff/:staffid/edit",render:e=>this.props.match.params.staffid?i.a.createElement(c,fe({defaultValues:r,title:"Edit Staff",changeRedirect:this.changeRedirect,formProp:n,fields:t},e)):i.a.createElement(s.a,{to:"/settings/clinics-staff"})}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/addstaff",render:e=>i.a.createElement(c,fe({defaultValues:r,changeRedirect:this.changeRedirect,title:"Add Staff ",formProp:a,fields:t},e))})),this.state.redirect&&i.a.createElement(s.a,{to:"/settings/clinics-staff"}))}}var ye=be,Ee=a(1568);function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){Se(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Pe=D.a.Option;class Oe extends i.a.Component{constructor(e){super(e),Se(this,"onChange",e=>{this.setState({permissions:e})}),Se(this,"getAllPermissions",()=>{const e=this;Object(E.c)(y.k,(function(t){e.setState({allPermissions:t.practice_permissions,allGlobalPermissions:t.global_permissions,categories:t.categories})}),(function(){}))}),Se(this,"handleSubmit",e=>{e.preventDefault();let t=this,a=this.state.permissions;this.props.form.validateFields((e,n)=>{if(!e){const e=ke(ke({},n),{},{permissions:a});let i=a.map(e=>({codename:e}));e.permissions=i;const s=function(){Object(E.a)(A.sc,"success"),t.props.history.push("/settings/clinics-staff#grouppermission")},r=function(){};Object(E.k)(y.Qb,e,s,r)}})}),Se(this,"edithandleSubmit",e=>{e.preventDefault();let t=this,a=this.state.permissions;this.props.form.validateFields((e,n)=>{if(!e){const e=ke(ke({},n),{},{id:t.props.match.params.id,permissions:a});let i=a.map(e=>({codename:e}));e.permissions=i;const s=function(){Object(E.a)(A.sc,"success"),t.props.history.push("/settings/clinics-staff#grouppermission")},r=function(){};Object(E.k)(y.Qb,e,s,r)}})}),Se(this,"permissionFunction",e=>{this.setState({permissionValue:e})}),this.state={editGroup:null,allPermissions:[],allGlobalPermissions:[],categories:[],editPermissions:{},permissionValue:!1,permissions:[]},this.getAllPermissions=this.getAllPermissions.bind(this),this.loadEditGroup=this.loadEditGroup.bind(this),this.props.match.params.id&&this.loadEditGroup()}componentDidMount(){this.getAllPermissions()}loadEditGroup(){const e=this.props.match.params.id,t=this;Object(E.c)(Object(E.g)(y.ne,[e]),(function(e){t.setState({editGroup:e[0]})}),(function(){t.setState({})}))}render(){const e=this,t=this.state,a=t.allPermissions,n=t.allGlobalPermissions,r=t.editGroup;t.permissionValue;if(r)var c=r.permissions.map(e=>e.codename);var o=a.map(e=>({label:e.codename,value:e.codename})),u=n.map(e=>({label:e.codename,value:e.codename}));const h=this.props.formLayout?this.props.formLayout:{labelCol:{span:4},wrapperCol:{span:12}},g=this.props.form.getFieldDecorator;return i.a.createElement(d.a,null,i.a.createElement(l.a,null,i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/group/:id/edit",render:t=>this.props.match.params.id?i.a.createElement("div",null,i.a.createElement("h2",null,"Edit Group"),i.a.createElement(C.a,{onSubmit:this.edithandleSubmit,style:{margin:4}},i.a.createElement(C.a.Item,_e({label:"Group Name",key:"group_name"},h),g("group_name",{initialValue:e.state.editGroup?e.state.editGroup.group_name:"",rules:[{message:H.k,required:!0}]})(i.a.createElement(Ee.a,{placeholder:"Group Name"}))),i.a.createElement(C.a.Item,_e({label:"Group Description",key:"group_description"},h),g("group_description",{initialValue:e.state.editGroup?e.state.editGroup.group_description:"",rules:[{message:H.k,required:!0}]})(i.a.createElement(Ee.a.TextArea,{rows:5,placeholder:"Group Description"}))),i.a.createElement(C.a.Item,_e({label:"Permission Type",key:"is_global"},h),g("is_global",{initialValue:e.state.editGroup?e.state.editGroup.is_global:"",rules:[{message:H.k,required:!0}]})(i.a.createElement(D.a,{prefix:i.a.createElement(p.a,{type:"book",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Permission Type",onChange:this.permissionFunction},i.a.createElement(Pe,{value:!1},"Practice Setting"),i.a.createElement(Pe,{value:!0},"Global Setting")))),r&&r.is_global||this.state.permissionValue?i.a.createElement(C.a.Item,_e({key:"is_glo"},h,{style:{marginLeft:200}}),g("is_glo",{initialValue:e.state.editGroup?c:[]})(i.a.createElement("diV",null,i.a.createElement("h2",null,"Global Setting"),i.a.createElement(x.a.Group,{options:u,defaultValue:c,onChange:this.onChange})))):i.a.createElement(C.a.Item,_e({key:"is_gl"},h,{style:{marginLeft:200}}),g("is_gl",{initialValue:e.state.editGroup?c:[]})(i.a.createElement("diV",null,i.a.createElement("h2",null,"Practice Setting"),i.a.createElement(x.a.Group,{options:o,defaultValue:c,onChange:this.onChange})))),i.a.createElement(C.a.Item,h,i.a.createElement(m.a,{loading:e.state.loading,type:"primary",htmlType:"submit",style:{marginLeft:250}},"Submit"),i.a.createElement(m.a,{loading:e.state.loading,style:{margin:10},onClick:()=>e.props.history.goBack()},"Cancel")))):i.a.createElement(s.a,{to:"/settings/clinics-staff"})}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/addgroup",render:t=>i.a.createElement("div",null,i.a.createElement("h2",null,"Add Group"),i.a.createElement(C.a,{onSubmit:this.handleSubmit,style:{margin:4}},i.a.createElement(C.a.Item,_e({label:"Group Name",key:"group_name"},h),g("group_name",{rules:[{message:H.k,required:!0}],required:!0})(i.a.createElement(Ee.a,{placeholder:"Group Name"}))),i.a.createElement(C.a.Item,_e({label:"Group Description",key:"group_description"},h),g("group_description",{rules:[{message:H.k,required:!0}]})(i.a.createElement(Ee.a.TextArea,{rows:5,placeholder:"Group Description"}))),i.a.createElement(C.a.Item,_e({label:"Permission Type",key:"is_global"},h),g("is_global",{rules:[{message:H.k,required:!0}]})(i.a.createElement(D.a,{prefix:i.a.createElement(p.a,{type:"book",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Permission Type",onChange:this.permissionFunction},i.a.createElement(Pe,{value:!1},"Practice Setting"),i.a.createElement(Pe,{value:!0},"Global Setting")))),this.state.permissionValue?i.a.createElement(C.a.Item,_e({key:"is_glob"},h,{style:{marginLeft:200}}),g("is_glob",{},{rules:[{message:H.k}]})(i.a.createElement("diV",null,i.a.createElement("h2",null,"Global Setting"),i.a.createElement(x.a.Group,{options:u,onChange:this.onChange})))):i.a.createElement(C.a.Item,_e({key:"is_globa"},h,{style:{marginLeft:200}}),g("is_globa",{},{rules:[{message:H.k}]})(i.a.createElement("diV",null,i.a.createElement("h2",null,"Practice Setting"),i.a.createElement(x.a.Group,{options:o,onChange:this.onChange})))),i.a.createElement(C.a.Item,h,i.a.createElement(m.a,{loading:e.state.loading,type:"primary",htmlType:"submit",style:{marginLeft:250}},"Submit"),i.a.createElement(m.a,{loading:e.state.loading,style:{margin:10},onClick:()=>e.props.history.goBack()},"Cancel"))))})))}}var je=C.a.create()(Oe),xe=a(438);i.a.Component;class Ce extends i.a.Component{constructor(e){super(e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"handleChangeLanguage",(e,t)=>{const a=this;a.setState({[e]:t},(function(){a.loadWishSMS()}))}),this.state={language:this.props.activePracticeData&&this.props.activePracticeData.language?this.props.activePracticeData.language:"",[R.Vb]:[],[R.gc]:{}},this.loadWishSMS=this.loadWishSMS.bind(this)}componentDidMount(){this.loadWishSMS(),Object(xe.d)(this,[R.Vb,R.gc])}loadWishSMS(){const e={},t=this;t.state.language&&(e.language=t.state.language),Object(E.c)(Object(E.g)(y.cb,[this.props.active_practiceId]),(function(e){t.setState({wishsmsData:e})}),(function(){}))}render(){const e=[{key:"birthday_wish_sms",initialValue:!!this.state.wishsmsData&&this.state.wishsmsData.birthday_wish_sms,type:A.nc,extra:"This SMS is sent to the Patient on the morning of their birthday",follow:i.a.createElement("b",null,"BIRTHDAY WISH SMS")},{key:"birthday_wish_text",initialValue:this.state[R.gc][this.state.language]?this.state[R.gc][this.state.language].BIRTHDAY:"",minRows:4,type:A.pc,disabled:!0,options:R.i},{key:"anniversary_wish_sms",initialValue:!!this.state.wishsmsData&&this.state.wishsmsData.anniversary_wish_sms,type:A.nc,extra:"This SMS is sent to the Patient on the morning of their anniversary",follow:i.a.createElement("b",null,"ANNIVERSARY WISH SMS")},{key:"anniversary_wish_text",initialValue:this.state[R.gc][this.state.language]?this.state[R.gc][this.state.language].ANNIVERSARY:"",minRows:4,type:A.pc,disabled:!0,options:R.i}],t={successFn(e){Object(E.a)(A.sc,"Updated Successfully!!")},errorFn(){},action:Object(E.g)(y.cb,[this.props.active_practiceId]),method:"post"},a=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.wishsmsData?this.state.wishsmsData.id:null}],n=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement(g.a,{span:8},i.a.createElement("span",{style:{float:"right",color:"rgba(0, 0, 0, 0.85)"}},"SMS Language :  ")),i.a.createElement(g.a,{span:8},i.a.createElement(D.a,{defaultValue:this.state.data&&this.state.data.sms_language?this.state.data.sms_language:this.state.language,style:{width:220},onChange:e=>this.handleChangeLanguage("language",e)},this.state[R.Vb].map(e=>i.a.createElement(D.a.Option,{value:e},e))),i.a.createElement("br",null),i.a.createElement("span",null,"SMS to Patients will be sent in this language"))),i.a.createElement(n,{formProp:t,defaultValues:a,fields:e}))}}var De=Ce;function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Ie extends i.a.Component{constructor(e){super(e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"handleChangeLanguage",(e,t)=>{const a=this;a.setState({[e]:t},(function(){a.loadData()}))}),this.state={redirect:!1,data:null,language:this.props.activePracticeData&&this.props.activePracticeData.language?this.props.activePracticeData.language:"",[R.Vb]:[]},this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData(),Object(xe.d)(this,[R.Vb])}loadData(){const e=this,t={};e.state.language&&(t.language=e.state.language),Object(E.c)(Object(E.g)(y.cb,[this.props.active_practiceId]),(function(t){e.setState({data:t})}),(function(){}),t)}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}render(){const e=this,t=[{label:"Contact Number",key:"contact_number",placeholder:"Contact Number",initialValue:this.state.data?this.state.data.contact_number:" ",extra:"Maximum 15 characters & represented as {{CLINICCONTACTNUMBER}}",type:A.db},{label:"Email",key:"email",placeholder:"Email Address",initialValue:this.state.data?this.state.data.email:" ",extra:"All replies by Patients for emails will be sent to this address",type:A.db},{label:"SMS clinic Name",key:"sms_clinic_name",placeholder:"Clinic Name",initialValue:this.state.data?this.state.data.sms_clinic_name:" ",extra:"{{CLINIC}} will use this name.",type:A.db},{key:"appointment_confirmation_sms",placeholder:"Appointment Confirmation SMS Text",initialValue:!!this.state.data&&this.state.data.appointment_confirmation_sms,type:A.nc,extra:"SMS is sent to the Patient on successfully adding an appointment",follow:i.a.createElement("b",null,"APPOINTMENT CONFIRMATION SMS")},{key:"appointment_confirmation_text",placeholder:"Appointment Cancellation SMS Text",initialValue:this.state.data?this.state.data.appointment_confirmation_text:null,minRows:4,type:A.pc,options:R.i},{key:"appointment_cancellation_sms",initialValue:!!this.state.data&&this.state.data.appointment_cancellation_sms,type:A.nc,extra:"SMS is sent to the Patient when the appointment is cancelled",follow:i.a.createElement("b",null,"APPOINTMENT CANCELLATION SMS")},{key:"appointment_cancellation_text",placeholder:"Appointment Cancellation SMS Text",initialValue:this.state.data?this.state.data.appointment_cancellation_text:null,minRows:4,type:A.pc,options:R.i},{key:"appointment_reminder_sms",placeholder:"Appointment Reminder SMS Text",initialValue:!!this.state.data&&this.state.data.appointment_reminder_sms,type:A.nc,extra:"This SMS is automatically sent to the Patient at selected time & date before the appointment.",follow:i.a.createElement("b",null,"APPOINTMENT REMINDER SMS")},{key:"appointment_reminder_text",placeholder:"Appointment Reminder SMS Text",initialValue:this.state.data?this.state.data.appointment_reminder_text:null,minRows:4,type:A.pc,options:R.i},{key:"send_on_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_of_appointment,type:A.nc,follow:"Send reminder SMS on the day of appointment at 7:30 AM"},{key:"send_on_day_before_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_before_appointment,follow:"Send reminder SMS on the day before the appointment at 12:00PM",type:A.nc},{key:"follow_up_reminder_sms",initialValue:!!this.state.data&&this.state.data.follow_up_reminder_sms,type:A.nc,extra:"This SMS is sent to the Patient on the morning of the followup sms.",follow:i.a.createElement("b",null,"FOLLOW UP REMINDER SMS")},{key:"follow_up_reminder_text",placeholder:"Follow-up Reminder SMS Text",initialValue:this.state.data?this.state.data.follow_up_reminder_text:null,minRows:4,type:A.pc,options:R.i},{key:"send_follow_up_reminder_time",initialValue:this.state.data?this.state.data.send_follow_up_reminder_time:null,extra:"Time to Send follow-up SMS after the last appointment.",type:A.mc,options:[{label:"1 Month",value:1},{label:"3 Month",value:3},{label:"6 Month",value:6}]},{key:"medicine_renew_sms",initialValue:!!this.state.data&&this.state.data.medicine_renew_sms,type:A.nc,extra:"This SMS is sent to the Patient for medicine renew.",follow:i.a.createElement("b",null,"MEDICINE RENEW SMS")},{key:"medicine_renew_text",placeholder:"Medicine Renew SMS Text",initialValue:this.state.data?this.state.data.medicine_renew_text:null,minRows:4,type:A.pc,options:R.i},{key:"payment_sms",initialValue:!!this.state.data&&this.state.data.payment_sms,type:A.nc,extra:"This SMS is sent to the Patient when payment is received.",follow:i.a.createElement("b",null,"PAYMENT SMS")},{key:"payment_text",placeholder:"Payment SMS Text",initialValue:this.state.data?this.state.data.payment_text:null,minRows:4,type:A.pc,options:R.Hb},{key:"promo_code_value_text_label",initialValue:!!this.state.data&&this.state.data.promo_code_text,type:A.fb,extra:"This SMS is sent to the Patient when payment is received.",follow:i.a.createElement("b",null,"PROMO CODE SMS RUPEES TEXT")},{key:"promo_code_value_text",placeholder:"Promo Code  SMS Rupees Text",initialValue:this.state.data?this.state.data.promo_code_value_text:null,minRows:4,type:A.pc,options:R.Ob},{key:"promo_code_percent_text_label",initialValue:!!this.state.data&&this.state.data.promo_code_text,type:A.fb,extra:"This SMS is sent to the Patient when payment is received.",follow:i.a.createElement("b",null,"PROMO CODE SMS PERCENTAGE TEXT")},{key:"promo_code_percent_text",placeholder:"Promo Code  SMS Percentage Text",initialValue:this.state.data?this.state.data.promo_code_percent_text:null,minRows:4,type:A.pc,options:R.Ob}],a={successFn(t){Object(E.a)(A.sc,"success"),e.loadData()},errorFn(){},action:Object(E.g)(y.cb,[e.props.active_practiceId]),method:"post"},n=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.data?this.state.data.id:null},{key:"sms_language",value:this.state.language}],s=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement(g.a,{span:8},i.a.createElement("span",{style:{float:"right",color:"rgba(0, 0, 0, 0.85)"}},"SMS Language :  ")),i.a.createElement(g.a,{span:8},i.a.createElement(D.a,{defaultValue:this.state.data&&this.state.data.sms_language?this.state.data.sms_language:e.state.language,style:{width:220},onChange:e=>this.handleChangeLanguage("language",e)},this.state[R.Vb].map(e=>i.a.createElement(D.a.Option,{value:e},e))),i.a.createElement("br",null),i.a.createElement("span",null,"SMS to Patients will be sent in this language"))),i.a.createElement(s,we({formProp:a,defaultValues:n,fields:t},this.props)))}}var Te=Ie,Me=a(456);function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Ne extends i.a.Component{constructor(e){var t,a,n;super(e),n=e=>{Object(E.c)(e,(function(e){e.report&&window.open(Me.a+e.report)}),(function(){}))},(a="loadPDF")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={data:{}},this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this;Object(E.c)(Object(E.g)(y.tb,[this.props.active_practiceId]),(function(t){e.setState({data:t[0]})}),(function(){}))}render(){const e=[{label:"Contact Number",key:"contact_number",placeholder:"Contact Number",initialValue:this.state.data?this.state.data.contact_number:" ",extra:"Maximum 15 characters & represented as {{CLINICCONTACTNUMBER}}",type:A.db},{label:"Email",key:"email",placeholder:"Email Address",initialValue:this.state.data?this.state.data.email:" ",extra:"All replies by Patients for emails will be sent to this address",type:A.db},{label:"SMS clinic Name",key:"email_clinic_name",placeholder:"Clinic Name",initialValue:this.state.data?this.state.data.email_clinic_name:" ",extra:"{{CLINIC}} will use this name.",type:A.db},{label:"Clinic Logo",key:"clinic_logo",initialValue:this.state.data?this.state.data.clinic_logo:" ",type:A.oc},{key:"appointment_confirmation_email",initialValue:!!this.state.data&&this.state.data.appointment_confirmation_email,type:A.nc,follow:i.a.createElement("b",null,"APPOINTMENT CONFIRMATION EMAIL"),options:[],extra:"Email is sent to the Patient on successfully adding an appointment"},{key:"appointment_confirmation_email_text",initialValue:this.state.data?this.state.data.appointment_confirmation_email_text:"",type:A.Z,iframe_url:Object(E.i)(Object(E.g)(y.ub,["APPOINTMENT","CREATE",this.props.active_practiceId,Object(E.h)(this.state.data.clinic_logo)])),iframe:!0},{type:A.P},{key:"appointment_cancellation_email",initialValue:!!this.state.data&&this.state.data.appointment_cancellation_email,type:A.nc,follow:i.a.createElement("b",null,"APPOINTMENT CANCELLATION EMAIL"),extra:"Email is sent to the Patient when the appointment is cancelled"},{key:"appointment_cancellation_email_text",initialValue:this.state.data?this.state.data.appointment_cancellation_email_text:"",type:A.Z,iframe_url:Object(E.i)(Object(E.g)(y.ub,["APPOINTMENT","CANCEL",this.props.active_practiceId,Object(E.h)(this.state.data.clinic_logo)])),iframe:!0},{type:A.P},{key:"appointment_reminder_email",initialValue:!!this.state.data&&this.state.data.appointment_reminder_email,type:A.nc,follow:i.a.createElement("b",null,"APPOINTMENT REMINDER EMAIL"),extra:"Email is sent to the Patient on the morning of the appointment date"},{key:"send_on_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_on_day_of_appointment,type:A.nc,follow:"Send reminder SMS on the day of appointment at 7:30 AM"},{key:"send_before_day_of_appointment",initialValue:!!this.state.data&&this.state.data.send_before_day_of_appointment,follow:"Send reminder SMS on the day before the appointment at 12:00 PM",type:A.nc},{type:A.P},{key:"followup_reminder_email",initialValue:!!this.state.data&&this.state.data.followup_reminder_email,type:A.nc,follow:i.a.createElement("b",null,"FOLLOW-UP REMINDER EMAIL"),extra:"Email is sent to the Patient on the morning of their planned follow-up date"},{key:"appointment_reminder_email_text",initialValue:this.state.data?this.state.data.appointment_reminder_email_text:"",type:A.Z,iframe_url:Object(E.i)(Object(E.g)(y.ub,["APPOINTMENT","FOLLOWUP",this.props.active_practiceId,Object(E.h)(this.state.data.clinic_logo)])),iframe:!0},{type:A.P},{key:"birthday_wish_email",initialValue:!!this.state.data&&this.state.data.birthday_wish_email,type:A.nc,follow:i.a.createElement("b",null,"BIRTHDAY WISH EMAIL"),extra:"Email is sent to the Patient on the morning of their birthday"},{key:"birthday_wish_email_text",initialValue:this.state.data?this.state.data.birthday_wish_email_text:"",type:A.Z,iframe_url:Object(E.i)(Object(E.g)(y.ub,["GREETING","BIRTHDAY",this.props.active_practiceId,Object(E.h)(this.state.data.clinic_logo)])),iframe:!0},{type:A.P},{key:"anniversary_wish_email",initialValue:!!this.state.data&&this.state.data.anniversary_wish_email,type:A.nc,follow:i.a.createElement("b",null,"ANNIVERSARY WISH EMAIL"),extra:"Email is sent to the Patient on the morning of their anniversary"},{key:"anniversary_wish_email_text",initialValue:this.state.data?this.state.data.anniversary_wish_email_text:"",type:A.Z,iframe_url:Object(E.i)(Object(E.g)(y.ub,["GREETING","ANNIVERSARY",this.props.active_practiceId,Object(E.h)(this.state.data.clinic_logo)])),iframe:!0}],t={successFn(e){Object(E.a)(A.sc,"Communication Settings Saved Successfully!!"),console.log("form",e)},errorFn(){},action:Object(E.g)(y.tb,[this.props.active_practiceId]),method:"post"},a=[{key:"practice",value:this.props.active_practiceId,is_active:!1},{key:"id",value:this.state.data?this.state.data.id:null}],n=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(n,Ve({formProp:t,defaultValues:a,fields:e},this.props)))}}var Ae=Ne;const Re=P.a.TabPane;class Le extends i.a.Component{constructor(e){super(e),this.state={}}render(){return i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement("h2",null,"Communication Settings"),i.a.createElement(l.a,null,i.a.createElement(P.a,{defaultActiveKey:"appointmentsms"},i.a.createElement(Re,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"schedule"}),"Appointment & FollowUp SMS"),key:"appointmentsms"},i.a.createElement(Te,this.props)),i.a.createElement(Re,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"mail"}),"Emails"),key:"emails"},i.a.createElement(Ae,this.props)),i.a.createElement(Re,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"android"}),"Wish SMS"),key:"wishsms"},i.a.createElement(De,this.props))))))}}var Fe=Le;i.a.Component;var He=a(459);i.a.Component;var qe=a(1600);function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(a),!0).forEach((function(t){Ye(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ye(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ke extends i.a.Component{constructor(e){super(e),Ye(this,"changeNetPrice",e=>{const t=this,a=this.props.form,n=a.getFieldsValue;a.setFields;setTimeout((function(){const e=n();if(e.cost_with_tax){let a=0;e.taxes.forEach((function(e){t.state.taxes.forEach((function(t){t.id==e&&(a+=t.tax_value)}))}));const n=e.cost_with_tax/(1+.01*a);t.setState({retail_price:n.toFixed(2)})}else t.setState({retail_price:0})}),1e3)}),Ye(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){const e=Ue(Ue({},a),{},{cost:t.state.retail_price}),n=function(e){Object(E.a)(A.sc,"Procedure Updated Successfully!!"),t.props.loadData&&t.props.loadData(),t.props.history.replace("settings/procedures")},i=function(){};this.state.editingProcedureData&&(e.id=this.state.editingProcedureData.id),Object(E.k)(Object(E.g)(y.Kd,[this.props.active_practiceId]),e,n,i)}})}),this.state={editingProcedureData:this.props.editingProcedureData?this.props.editingProcedureData:null,taxes:[],procedure_category:[],redirect:!1,productMargin:[],retail_price:0},this.loadTaxes=this.loadTaxes.bind(this),this.loadProcedures=this.loadProcedures.bind(this)}componentDidMount(){if(this.loadTaxes(),this.loadProcedures(),this.loadProductMargin(),this.props.editingProcedureData&&this.setState({retail_price:this.props.editingProcedureData.cost}),this.props.history&&this.props.history.location.search){const e=this.props.history.location.search.substr(1).split("&");if(e.length){const t={},a=this.props.form.setFieldsValue;e.forEach((function(e){const n=e.split("=");n&&2==n.length&&(isNaN(n[1])||-1==n[1].toString().indexOf(".")?isNaN(n[1])?(t[n[0]]=n[1],a({[n[0]]:n[1]})):(t[n[0]]=parseInt(n[1]),a({[n[0]]:parseInt(n[1])})):(t[n[0]]=parseFloat(n[1]),a({[n[0]]:parseFloat(n[1])})))}))}}}loadProductMargin(){const e=this;Object(E.c)(y.Md,(function(t){e.setState({productMargin:t})}),(function(){}))}loadProcedures(){const e=this;Object(E.c)(Object(E.g)(y.Kd,[this.props.active_practiceId]),(function(t){e.setState({procedure_category:t})}),(function(){}),{pagination:!1})}loadTaxes(){const e=this;Object(E.c)(Object(E.g)(y.df,[this.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))}render(){const e=this,t={labelCol:{span:8},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator;return i.a.createElement("div",null,i.a.createElement(l.a,null,i.a.createElement(C.a,{onSubmit:this.handleSubmit},i.a.createElement("h2",null,this.state.editingProcedureData?"Edit Procedures":"Add Procedures"),i.a.createElement(C.a.Item,Ge({label:"Procedure Name"},t),a("name",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.name:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(Ee.a,{placeholder:"Procedure Name"}))),i.a.createElement(C.a.Item,Ge({label:"Procedure Net Price"},t),a("cost_with_tax",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.cost_with_tax:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(qe.a,{onChange:this.changeNetPrice})),i.a.createElement("span",{className:"ant-form-text"},"INR")),i.a.createElement(C.a.Item,Ge({label:"Same State Tax"},t),a("taxes",{initialValue:this.state.editingProcedureData&&this.state.editingProcedureData.taxes?this.state.editingProcedureData.taxes.map(e=>e.id):[]})(i.a.createElement(x.a.Group,{onChange:this.changeNetPrice},this.state.taxes.map(e=>i.a.createElement(x.a,{value:e.id},e.name+(e.tax_value?"(".concat(e.tax_value,"%)"):"")))))),i.a.createElement(C.a.Item,Ge({label:"Other State Tax"},t),a("state_taxes",{initialValue:this.state.editingProcedureData&&this.state.editingProcedureData.state_taxes?this.state.editingProcedureData.state_taxes.map(e=>e.id):[]})(i.a.createElement(x.a.Group,null,this.state.taxes.map(e=>i.a.createElement(x.a,{value:e.id},e.name+(e.tax_value?"(".concat(e.tax_value,"%)"):"")))))),i.a.createElement(C.a.Item,Ge({label:"Procedure Retail Price"},t),i.a.createElement("span",{className:"ant-form-text"},i.a.createElement("b",null,e.state.retail_price)," INR")),i.a.createElement(C.a.Item,Ge({key:"margin"},t,{label:"MLM Margin"}),a("margin",{initialValue:this.state.editingProcedureData&&this.state.editingProcedureData.margin?this.state.editingProcedureData.margin.id:null})(i.a.createElement(D.a,null,this.state.productMargin.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name))))),i.a.createElement(C.a.Item,Ge({key:"under"},t,{label:"Add Under"}),a("under",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.under:null})(i.a.createElement(D.a,{disabled:this.state.editingProcedureData&&this.state.editingProcedureData.children.length},this.state.procedure_category.map(e=>i.a.createElement(D.a.Option,{value:e.id,disabled:this.state.editingProcedureData&&e.id==this.state.editingProcedureData.id},e.name))))),i.a.createElement(C.a.Item,Ge({label:"Default Note"},t),a("default_notes",{initialValue:this.state.editingProcedureData?this.state.editingProcedureData.default_notes:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(Ee.a,{placeholder:"Default Note"}))),i.a.createElement(C.a.Item,null,i.a.createElement(m.a,{style:{margin:5},type:"primary",htmlType:"submit"},"Submit"),e.props.history?i.a.createElement(m.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null))))}}var ze=C.a.create()(Ke),We=a(442);function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Je(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}u.a.Column,u.a.ColumnGroup,P.a.TabPane;class Qe extends i.a.Component{constructor(e){super(e),Je(this,"handleClick",e=>{this.setState({current:e.key})}),Je(this,"changeSearchValue",e=>{this.setState({searchString:e},(function(){this.loadProcedures()}))}),this.state={current:"staff",procedure_category:null,editingProcedureData:null,loading:!0},this.loadProcedures=this.loadProcedures.bind(this)}componentDidMount(){this.loadProcedures()}loadProcedures(e=1){const t=this,a={page:e};this.state.searchString&&(a.name=this.state.searchString);Object(E.c)(Object(E.g)(y.Kd,[this.props.active_practiceId]),(function(e){1==e.current&&t.state.searchString==a.name?t.setState({procedure_category:e.results,next:e.next,loading:!1}):t.setState((function(t){return{procedure_category:[...t.procedure_category,...e.results],next:e.next,loading:!1}}))}),(function(){}),a)}deleteObject(e){const t=this,a={id:e.id,is_active:!1};a.is_active=!1;Object(E.k)(Object(E.g)(y.Kd,[this.props.active_practiceId]),a,(function(e){t.loadProcedures()}),(function(){}))}editProcedure(e){this.setState({editingProcedureData:e,loading:!1});const t="/settings/procedures/".concat(e.id,"/editprocedure");this.props.history.push(t)}render(){const e=this,t=[{title:"Procedure Name",dataIndex:"name",key:"name"},{title:"Procedure Unit Cost",dataIndex:"cost_with_tax",key:"cost"},{title:"MLM Margin",dataIndex:"margin",key:"margin",render:e=>i.a.createElement("span",null,e?e.name:null)},{title:"Applicable Taxes",dataIndex:"taxes",key:"taxes",render:e=>i.a.createElement("span",null,e&&e.length?e.map(e=>i.a.createElement(O.a,null," ",e.name,"|",i.a.createElement("b",null,e.tax_value,"%"))):null)},{title:"Standard Notes",dataIndex:"default_notes",key:"default_notes"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement(b.b,{to:"/settings/procedures/addprocedure?under=".concat(a.id),disabled:a.under},"Add SubCategory"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement("a",{onClick:()=>this.editProcedure(a)},"Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/settings/procedures/addprocedure",render:e=>this.props.activePracticePermissions.SettingsProcedureCatalog||this.props.allowAllPermissions?i.a.createElement(ze,Ze({},this.props,e,{loadData:this.loadProcedures})):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/procedures/:id/editprocedure",render:t=>e.props.activePracticePermissions.SettingsProcedureCatalog||e.props.allowAllPermissions?e.state.editingProcedureData?i.a.createElement(ze,Ze({},this.state,this.props,t,{loadData:this.loadProcedures})):i.a.createElement(s.a,{to:"/settings/procedures"}):i.a.createElement(He.a,null)}),i.a.createElement(s.b,null,i.a.createElement(d.a,null,i.a.createElement("h2",null,"Procedures Catalog",i.a.createElement(b.b,{to:"/settings/procedures/addprocedure"},i.a.createElement(m.a,{type:"primary",style:{float:"right"}},i.a.createElement(p.a,{type:"plus"})," Add Procedure"))),i.a.createElement(l.a,null,i.a.createElement("div",{className:"row mar-b-10"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(Ee.a,{onChange:e=>this.changeSearchValue(e.target.value),value:this.state.searchString,style:{width:200},placeholder:"Search Procedure..."}))),i.a.createElement(u.a,{columns:t,pagination:!1,dataSource:this.state.procedure_category}),i.a.createElement(We.a,{loading:this.state.loading,hidden:!this.state.next,loaderFunction:()=>this.loadProcedures(this.state.next)})))))}}var Xe=Qe;function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class et extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{this.setState({visible:!1})},(a="handleCancel")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={redirect:!1,visible:!1,modes:null},this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this;Object(E.c)(Object(E.g)(y.zd,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({modes:t})}),(function(){}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editPayment(e){this.setState({editingId:e.id,editingmode:e.mode,editingType:e.payment_type,editingFee:e.fee,visible:!0})}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.k)(Object(E.g)(y.zd,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Mode of Payment",placeholder:"",dataIndex:"mode",key:"mode"},{title:"Payment Type",dataIndex:"payment_type",key:"payment_type"},{title:"Fees",dataIndex:"fee",key:"fee",render:(e,t)=>i.a.createElement("span",null,e," %")},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editPayment(a)},"Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this payment mode?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],a=[{label:"Mode of payment",key:"mode",required:!0,type:A.db},{label:"Payment Type",key:"payment_type",required:!0,type:A.mc,options:R.Jb},{label:"Vendor Fee",key:"fee",required:!0,type:A.Bb,min:0,follow:"%"}],n=[{label:"Mode of payment",key:"mode",required:!0,initialValue:this.state.editingmode,type:A.db},{label:"Payment Type",key:"payment_type",required:!0,initialValue:this.state.editingType,type:A.mc,options:R.Jb},{label:"Vendor Fee",key:"fee",required:!0,initialValue:this.state.editingFee,type:A.Bb,min:0,follow:"%"}],s={successFn(t){e.handleCancel(),e.loadData(),console.log(t),console.log("sucess"),Object(E.a)(A.sc,"sucess")},errorFn(){},action:Object(E.g)(y.zd,[this.props.active_practiceId]),method:"post"},r=[{key:"practice",value:this.props.active_practiceId}],l=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],d=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(d,$e({defaultValues:r,formProp:s,fields:a},this.props)),i.a.createElement(c.a,null),i.a.createElement(z.a,{columns:t,dataSource:this.state.modes}),i.a.createElement(h.a,{title:"Edit Payment Mode",visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(d,{defaultValues:l,formProp:s,fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return")))}}var tt=et;function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class nt extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{this.setState({visible:!1})},(a="handleCancel")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={redirect:!1,visible:!1,taxes:null,loading:!0},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this;Object(E.c)(Object(E.g)(y.df,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({taxes:t,loading:!1})}),(function(){e.setState({loading:!1})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editTax(e){this.setState({editingId:e.id,editingName:e.name,editingValue:e.tax_value,visible:!0})}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.k)(Object(E.g)(y.df,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Tax Value",dataIndex:"tax_value",key:"tax_value",render:(e,t)=>i.a.createElement("span",null,e," %")},{title:"Actions",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement(o.a,{title:"Are you sure delete this?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],a=[{label:"Tax name",key:"name",placeholder:"Tax Name",required:!0,type:A.db},{label:"Tax Value",key:"tax_value",follow:"%",max:100,min:0,required:!0,type:A.Bb}],n=[{label:"Tax name",key:"name",required:!0,initialValue:this.state.editingName,type:A.db},{label:"Tax Value",key:"tax_value",follow:"%",max:100,min:0,required:!0,initialValue:this.state.editingValue,type:A.Bb}],s={successFn(t){e.handleCancel(),e.loadData(),console.log(t),console.log("sucess"),Object(E.a)(A.sc,"success")},errorFn(){},action:Object(E.g)(y.df,[this.props.active_practiceId]),method:"post"},r=[{key:"practice",value:this.props.active_practiceId}],l=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],d=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(d,at({defaultValues:r,formProp:s,fields:a},this.props)),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.taxes}),i.a.createElement(h.a,{title:"Edit Tax",visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(d,{defaultValues:l,formProp:s,fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}var it=nt;function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class rt extends i.a.Component{constructor(e){super(e),this.state={practiceDetail:{}}}componentDidMount(){const e=this;Object(E.c)(Object(E.g)(y.Cd,[this.props.active_practiceId]),(function(t){const a=t.countries;e.setState({countries:a,practiceDetail:t})}),(function(){}))}render(){const e=[{key:"hide_cancelled_invoice",type:A.nc,follow:i.a.createElement("b",null,"Hide Cancelled Invoice"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_invoice},{key:"hide_cancelled_return",type:A.nc,follow:i.a.createElement("b",null,"Hide Cancelled Return Invoice"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_return},{key:"hide_cancelled_payment",type:A.nc,follow:i.a.createElement("b",null,"Hide Cancelled Payments"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_payment},{key:"hide_cancelled_proforma",type:A.nc,follow:i.a.createElement("b",null,"Hide Cancelled Proforma"),initialValue:!!this.state.practiceDetail&&this.state.practiceDetail.hide_cancelled_proforma}],t={successFn(e){Object(E.a)(A.sc,"Settings Saved Successfuly!!")},errorFn(){},action:Object(E.g)(y.Cd,[this.props.active_practiceId]),method:"put"},a=C.a.create()(N.a),n=[{key:"id",value:this.props.active_practiceId}];return i.a.createElement("div",null,i.a.createElement(a,st({formProp:t,fields:e},this.props,{defaultValues:n})))}}var lt=rt;function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class ot extends i.a.Component{constructor(e){var t,a,n;super(e),n=(e=1)=>{let t=this;t.setState({loading:!0}),Object(E.c)(y.Ub,(function(e){t.setState({codes:e,loading:!1})}),(function(){t.setState({loading:!1})}),{practice:this.props.active_practiceId})},(a="loadHSNData")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={taxes:[],codes:[]}}componentDidMount(){this.loadHSNData(),this.loadTaxes()}loadTaxes(){const e=this;Object(E.c)(Object(E.g)(y.df,[this.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.k)(y.Ub,a,(function(e){t.loadHSNData()}),(function(){}),{practice:this.props.active_practiceId})}render(){const e=this,t=this.state.taxes,a=[{title:"HSN Code",dataIndex:"code",key:"code"},{title:"Same State Tax",dataIndex:"taxes_data",key:"taxes_data",render:(e,t)=>i.a.createElement("span",null,e.map(e=>i.a.createElement(O.a,null,e.name,"@",e.tax_value,"%")))},{title:"Other State Tax",dataIndex:"state_taxes_data",key:"state_taxes_data",render:(e,t)=>i.a.createElement("span",null,e.map(e=>i.a.createElement(O.a,null,e.name,"@",e.tax_value,"%")))},{title:"Actions",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement(o.a,{title:"Are you sure delete this?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],n=[{label:"HSN CODE",key:"code",placeholder:"HSN Code",required:!0,type:A.db},{label:"Same State Tax",key:"taxes",required:!0,type:A.xb,options:t.map(e=>({label:e.name+" ("+e.tax_value+"%)",value:e.id}))},{label:"Other State Tax",key:"state_taxes",required:!0,type:A.xb,options:t.map(e=>({label:e.name+" ("+e.tax_value+"%)",value:e.id}))}],s=[{label:"Tax name",key:"name",required:!0,initialValue:this.state.editingName,type:A.db},{label:"Tax Value",key:"tax_value",follow:"%",max:100,min:0,required:!0,initialValue:this.state.editingValue,type:A.Bb}],r={successFn(t){e.loadHSNData(),Object(E.a)(A.sc,"success")},errorFn(){},action:y.Ub,method:"post"},l=[{key:"practice",value:this.props.active_practiceId}],d=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],p=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(p,ct({defaultValues:l,formProp:r,fields:n},this.props)),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:a,dataSource:this.state.codes}),i.a.createElement(h.a,{title:"Edit Tax",visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(p,{defaultValues:d,formProp:r,fields:s}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const mt=P.a.TabPane;class pt extends i.a.Component{constructor(e){super(e),this.state={defaultActiveKey:this.props.location.hash}}render(){return i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement("h2",null,"Billing"),i.a.createElement(l.a,null,i.a.createElement(P.a,{defaultActiveKey:this.state.defaultActiveKey},i.a.createElement(mt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"cluster"}),"Tax Catalog"),key:"#taxcatalog"},i.a.createElement(it,dt({},this.state,this.props))),i.a.createElement(mt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"gold"}),"HSN Codes "),key:"#hsncodes"},i.a.createElement(ot,this.props)),i.a.createElement(mt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"dollar"}),"Accepted Modes of payment "),key:"#paymentmodes"},i.a.createElement(tt,this.props)),i.a.createElement(mt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"block"}),"Cancelled Invoice"),key:"cancelledinvoice"},i.a.createElement(lt,dt({},this.state,this.props)))))))}}var ut=pt,ht=a(745);class gt extends i.a.Component{constructor(e){super(e),this.state={redirect:!1,vitalSign:null},this.changeRedirect=this.changeRedirect.bind(this),this.loadVitalSign=this.loadVitalSign.bind(this)}componentDidMount(){this.loadVitalSign()}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}loadVitalSign(){const e=this;Object(E.c)(Object(E.g)(y.Eb,[e.props.active_practiceId]),(function(t){e.setState({vitalSign:t[t.length-1]})}),(function(){e.setState({})}))}render(){const e=[{label:"Default temperature measurement in",key:"temperature_unit",type:A.mc,initialValue:this.state.vitalSign?this.state.vitalSign.temperature_unit:null,options:R.F.map(e=>({label:e.label,value:e.value}))},{label:"Default temperature measurement method",key:"temperature_method",type:A.mc,initialValue:this.state.vitalSign?this.state.vitalSign.temperature_method:null,options:R.G.map(e=>({label:e.label,value:e.value}))},{label:"Default blood pressure measurement method",key:"blood_pressure_method",initialValue:this.state.vitalSign?this.state.vitalSign.blood_pressure_method:null,type:A.mc,options:R.E.map(e=>({label:e.label,value:e.value}))}],t=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.vitalSign?this.state.vitalSign.id:null}],a=C.a.create()(N.a),n={successFn(e){Object(E.a)(A.sc,"success")},errorFn(){},action:Object(E.g)(y.Eb,[this.props.active_practiceId]),method:"post"};return i.a.createElement(d.a,null,i.a.createElement(a,{defaultValues:t,formProp:n,fields:e}))}}var ft=gt;function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const yt=P.a.TabPane;class Et extends i.a.Component{constructor(e){super(e),this.state={defaultActiveKey:this.props.location.hash}}render(){return console.log("propss",this.props),i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement("h2",null,"EMR Settings"),i.a.createElement(l.a,null,i.a.createElement(P.a,{defaultActiveKey:this.state.defaultActiveKey},i.a.createElement(yt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"sound"}),"Complaints"),key:"#complaints"},i.a.createElement(ht.a,bt({},this.props,{id:y.wb,name:"Complaints"}))),i.a.createElement(yt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"eye"}),"Observations"),key:"#observations"},i.a.createElement(ht.a,bt({},this.props,{id:y.Bb,name:"Observations"}))),i.a.createElement(yt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"plus-square"}),"Diagnoses"),key:"#diagnoses"},i.a.createElement(ht.a,bt({},this.props,{id:y.xb,name:"Diagnoses"}))),i.a.createElement(yt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"laptop"}),"Investigations"),key:"#investigations"},i.a.createElement(ht.a,bt({},this.props,{id:y.zb,name:"Investigations"}))),i.a.createElement(yt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"solution"}),"Notes"),key:"#treatmentnotes"},i.a.createElement(ht.a,bt({},this.props,{id:y.Db,name:"Treatment Notes"}))),i.a.createElement(yt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"medicine-box"}),"Medication"),key:"#medication"},i.a.createElement(ht.a,bt({},this.props,{id:y.Ab,name:"Medication"}))),i.a.createElement(yt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"file"}),"File Labels"),key:"#filetags"},i.a.createElement(ht.a,bt({},this.props,{id:y.yb,name:"File Labels"}))),i.a.createElement(yt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"heart"}),"Vital Signs"),key:"#vitalsigns"},i.a.createElement(ft,this.props))))))}}var _t=Et;i.a.Component;function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function St(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(a),!0).forEach((function(t){Pt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ot extends i.a.Component{constructor(e){super(e),Pt(this,"setFormParams",(e,t)=>{this.setState({[e]:t})}),Pt(this,"handleSubmit",e=>{const t=this;this.props.form.validateFieldsAndScroll((a,n)=>{const i=St(St({},n),{},{practice:t.props.active_practiceId,maintain_inventory:e,item_type:R.L});t.state.editPrescreption&&(i.maintain_inventory=t.state.editPrescreption.maintain_inventory,i.id=t.state.editPrescreption.id);const s=function(e){Object(E.a)(A.sc,"success"),t.props.loadData();t.props.history.replace("/settings/prescriptions")},r=function(){};t.state.editPrescreption?Object(E.m)(Object(E.g)(y.oe,[t.state.editPrescreption.id]),i,s,r):Object(E.k)(y.Wb,i,s,r)})}),this.state={drugTypeList:[],drugUnitList:[],editPrescreption:this.props.editCatalog?this.props.editCatalog:null}}componentWillMount(){this.loadDrugType(),this.loadDrugUnit()}loadDrugType(){const e=this;Object(E.c)(Object(E.g)(y.rb,[this.props.active_practiceId]),(function(t){e.setState({drugTypeList:t})}),(function(){}))}loadDrugUnit(){const e=this;Object(E.c)(Object(E.g)(y.sb,[this.props.active_practiceId]),(function(t){e.setState({drugUnitList:t})}),(function(){}))}render(){const e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:6},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator,n=this.state.editPrescreption;return i.a.createElement(l.a,null,i.a.createElement(C.a,null,i.a.createElement("h2",null,this.props.title),i.a.createElement(C.a.Item,vt({key:"name",label:"Name"},t),a("name",{initialValue:e.state.editPrescreption?e.state.editPrescreption.name:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(Ee.a,{placeholder:"Medicine Name"}))),this.state.drugType&&this.state.drugType==A.db?i.a.createElement(C.a.Item,vt({key:"drug_type_extra",label:"Medicine Type"},t),a("drug_type_extra",{initialValue:e.state.editPrescreption?e.state.editPrescreption.drug_type_extra:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(Ee.a,null)),i.a.createElement("a",{onClick:()=>e.setFormParams("drugType",A.mc)},"Choose Medicine Type")):i.a.createElement(C.a.Item,vt({key:"drug_type"},t,{label:"Medicine Type"}),a("drug_type",{initialValue:this.state.editPrescreption?this.state.editPrescreption.drug_type:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(D.a,null,e.state.drugTypeList.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name)))),i.a.createElement("a",{onClick:()=>e.setFormParams("drugType",A.db)},"Add New Medicine Type")),i.a.createElement(C.a.Item,vt({key:"strength"},t,{label:"Strength"}),a("strength",{initialValue:e.state.editPrescreption?e.state.editPrescreption.strength:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(qe.a,{min:0}))),this.state.drugUnit&&this.state.drugUnit==A.db?i.a.createElement(C.a.Item,vt({key:"unit_type_extra",label:"Strength Unit"},t),a("unit_type_extra",{initialValue:e.state.editPrescreption?e.state.editPrescreption.unit_type_extra:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(Ee.a,null)),i.a.createElement("a",{onClick:()=>e.setFormParams("drugUnit",A.mc)},"Choose Medicine Unit")):i.a.createElement(C.a.Item,vt({key:"stength_unit"},t,{label:"Strength Unit"}),a("stength_unit",{initialValue:this.state.editPrescreption?this.state.editPrescreption.stength_unit:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(D.a,null,e.state.drugUnitList.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name)))),i.a.createElement("a",{onClick:()=>e.setFormParams("drugUnit",A.db)},"Add New Medicine Unit")),i.a.createElement(C.a.Item,vt({key:"instructions"},t,{label:"Instructions"}),a("instructions",{initialValue:e.state.editPrescreption?e.state.editPrescreption.instructions:null})(i.a.createElement(Ee.a,null))),i.a.createElement(C.a.Item,vt({label:"Details"},t),a("package_details",{initialValue:e.state.editPrescreption?e.state.editPrescreption.package_details:null})(i.a.createElement(Ee.a.TextArea,{placeholder:"Package Details"}))),i.a.createElement(C.a.Item,t,n?null:i.a.createElement(m.a,{onClick:()=>this.handleSubmit(!1)},"Save Medicine"),"   ",i.a.createElement(m.a,{onClick:()=>this.handleSubmit(!0),type:"primary"},n?"Save":"Save & Add to Inventory"),"   ",e.props.history?i.a.createElement(m.a,{onClick:()=>e.props.history.goBack()},"Cancel"):null)))}}var jt=C.a.create()(Ot);i.a.Component;function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Ct extends i.a.Component{constructor(e){super(e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"changeInventoryFilters",(e,t)=>{const a=this;a.setState({[e]:t},(function(){a.loadData()}))}),this.state={catalog:null,editCatalog:{},loading:!0,loadMorePrescriptions:null},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this),this.loadInitialData=this.loadInitialData.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this,t={practice:this.props.active_practiceId,item_type:R.L,sort:"asc",on:"name",page:e.state.loadMorePrescriptions||1};e.state.filterItemName&&(t.item_name=e.state.filterItemName),Object(E.c)(y.Wb,(function(t){console.log("get table"),e.setState({catalog:t.results,loadMorePrescriptions:t.next,loading:!1})}),(function(){e.setState({loading:!1})}),t)}loadInitialData(){const e=this;this.setState({loadMorePrescriptions:null},(function(){e.loadData()}))}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.m)(Object(E.g)(y.oe,[e.id]),a,(function(e){t.loadData()}),(function(){}))}editCatalog(e){this.setState({editCatalog:e,loading:!1}),this.props.history.push("/settings/prescriptions/edit")}render(){const e=this,t=[{title:"Name",dataIndex:"name",key:"code"},{title:"Strength",dataIndex:"strength",key:"strength",render:(e,t)=>i.a.createElement("span",null,e," ",t.strength_type_data?t.strength_type_data.name:null)},{title:"Medicine Instructions",dataIndex:"instructions",key:"instructions"},{title:"Inventory Managed",dataIndex:"maintain_inventory",key:"maintain_inventory",render:e=>i.a.createElement("span",null,e?"YES":"NO")},{title:"Details",dataIndex:"package_details",key:"package_details"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editCatalog(a)},"Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this prescription?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return i.a.createElement(d.a,null,i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/settings/prescriptions/add",render:()=>i.a.createElement(jt,xt({},this.props,{loadData:this.loadInitialData,title:"Add Prescription"}))}),i.a.createElement(s.b,{exact:!0,path:"/settings/prescriptions/edit",render:e=>this.state.editCatalog.id?i.a.createElement(jt,xt({},this.state,{title:"Edit Prescription",loadData:this.loadInitialData},this.props,e)):i.a.createElement(s.a,{to:"/settings/prescriptions/"})}),i.a.createElement(s.b,null,i.a.createElement("div",null,i.a.createElement("h2",null,"All presciptions",i.a.createElement(b.b,{to:"/settings/prescriptions/add"},i.a.createElement(m.a,{type:"primary",style:{float:"right"}},i.a.createElement(p.a,{type:"plus"})," Add"))),i.a.createElement(l.a,null,i.a.createElement(d.a,{style:{marginBottom:10}},i.a.createElement(g.a,{span:4,style:{textAlign:"right"}},i.a.createElement("b",null," Search Name: ")),i.a.createElement(g.a,{span:4},i.a.createElement(Ee.a,{style:{width:"100%"},value:this.state.filterItemName,allowClear:!0,placeholder:"Item Name",onChange:e=>this.changeInventoryFilters("filterItemName",e.target.value)}))),i.a.createElement(u.a,{loading:this.state.loading,columns:t,dataSource:this.state.catalog,pagination:!1,hideReport:!0})),i.a.createElement(We.a,{loaderFunction:this.loadData,loading:this.state.loading,hidden:!this.state.loadMorePrescriptions})))))}}var Dt=Ct;function wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class It extends i.a.Component{constructor(e){super(e),wt(this,"handleCancel",()=>{this.setState({visible:!1})}),wt(this,"showDeletedExpenses",()=>{this.setState({showDeleted:!0,deletedLoading:!0}),this.loadData(!0)}),this.state={redirect:!1,visible:!1,expenses:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedExpenses:[]},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}loadData(e=!1){const t=this,a=function(a){console.log("get table"),e?t.setState({deletedExpenses:a,deletedLoading:!1}):t.setState({expenses:a,loading:!1})},n=function(){};e?Object(E.c)(Object(E.g)(y.Jb,[this.props.active_practiceId]),a,n,{deleted:!0}):Object(E.c)(Object(E.g)(y.Jb,[this.props.active_practiceId]),a,n)}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editTax(e){this.setState({editingId:e.id,editingName:e.name,editingValue:e.tax_value,loading:!1,visible:!0})}deleteObject(e,t){const a=this,n=e;n.is_active=t;Object(E.k)(Object(E.g)(y.Jb,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}render(){const e=this,t=[{title:"Expense Type",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:(t,a)=>a.is_active?i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editTax(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>e.deleteObject(a,!1),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))):i.a.createElement("span",null,i.a.createElement(o.a,{title:"Are you sure to show this?",onConfirm:()=>e.deleteObject(a,!0),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Show")))}],a=[{label:"Expense Type",key:"name",placeholder:"Expense Type",required:!0,type:A.db}],n=[{label:"Expense Type",key:"name",required:!0,initialValue:this.state.editingName,type:A.db}],s={successFn(t){e.handleCancel(),e.loadData(),Object(E.a)(A.sc,"success")},errorFn(){},action:Object(E.g)(y.Jb,[this.props.active_practiceId]),method:"post"},r=[{key:"practice",value:this.props.active_practiceId}],d=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],p=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement("h2",null,"Expense Types"),i.a.createElement(l.a,null,i.a.createElement(p,{defaultValues:r,formProp:s,fields:a}),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.expenses}),this.state.showDeleted?i.a.createElement("div",null,i.a.createElement(z.a,{loading:this.state.deletedLoading,columns:t,dataSource:this.state.deletedExpenses})):i.a.createElement("h4",null,i.a.createElement("a",{onClick:()=>this.showDeletedExpenses()},"Show Deleted Expense Types"))),i.a.createElement(h.a,{title:"Edit Expense Type",visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(p,{defaultValues:d,formProp:s,fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return")))}}var Tt=It;function Mt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Vt extends i.a.Component{constructor(e){super(e),Mt(this,"handleCancel",()=>{this.setState({visible:!1})}),Mt(this,"showDeletedMedicalHistory",()=>{this.setState({showDeleted:!0,deletedLoading:!0}),this.loadData(!0)}),this.state={redirect:!1,visible:!1,history:null,loading:!0,deletedHistory:[],showDeleted:!1,deletedLoading:!1},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}loadData(e=!1){const t=this,a=function(a){console.log("get table"),e?t.setState({deletedHistory:a,deletedLoading:!1}):t.setState({history:a,loading:!1})},n=function(){t.setState({loading:!1})};e?Object(E.c)(Object(E.g)(y.wc,[this.props.active_practiceId]),a,n,{deleted:!0}):Object(E.c)(Object(E.g)(y.wc,[this.props.active_practiceId]),a,n)}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editTax(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}deleteObject(e,t){const a=this,n=e;n.is_active=t;Object(E.k)(Object(E.g)(y.wc,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}render(){const e=this,t=[{title:"Medical History",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:(t,a)=>a.is_active?i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editTax(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>e.deleteObject(a,!1),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))):i.a.createElement("span",null,i.a.createElement(o.a,{title:"Are you sure to show this?",onConfirm:()=>e.deleteObject(a,!0),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Show")))}],a=[{label:"Medical History",key:"name",required:!0,type:A.db}],n=[{label:"Medical history ",key:"name",required:!0,initialValue:this.state.editingName,type:A.db}],s={successFn(t){e.handleCancel(),e.loadData(),console.log(t),console.log("sucess"),Object(E.a)(A.sc,"success")},errorFn(){},action:Object(E.g)(y.wc,[this.props.active_practiceId]),method:"post"},r=[{key:"id",value:this.state.editingId}],d=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement("h2",null,"Medical History"),i.a.createElement(l.a,null,i.a.createElement(d,{defaultValues:[],formProp:s,fields:a}),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.history}),this.state.showDeleted?i.a.createElement("div",null,i.a.createElement(z.a,{loading:this.state.deletedLoading,columns:t,dataSource:this.state.deletedHistory})):i.a.createElement("h4",null,i.a.createElement("a",{onClick:()=>this.showDeletedMedicalHistory()},"Show Deleted Medical History"))),i.a.createElement(h.a,{title:"Basic Modal",visible:this.state.visible,footer:null},i.a.createElement(d,{title:"Change history",defaultValues:r,formProp:s,fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}var Nt=Vt,At=a(539);function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(a),!0).forEach((function(t){Ht(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ht(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const qt=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];class Gt extends i.a.Component{constructor(e){super(e),Ht(this,"changeVistingHourSameWeek",e=>{console.log(e.target),this.setState({[e.target.id]:e.target.checked})}),Ht(this,"changeOpenPracticeDays",(e,t)=>{this.setState((function(a){return{openPracticeDays:Ft(Ft({},a.openPracticeDays),{},{[e]:t})}}))}),Ht(this,"changePracticeTwoSessions",(e,t)=>{this.setState((function(a){return{twoSessions:Ft(Ft({},a.twoSessions),{},{[e]:t})}}))}),Ht(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll((e,a)=>{if(!e){console.log(a);const e=Ft({},a);e.first_start_time&&(e.first_start_time=V()(e.first_start_time).format("HH:mm")),e.first_end_time&&(e.first_end_time=V()(e.first_end_time).format("HH:mm")),e.second_start_time&&(e.second_start_time=V()(e.second_start_time).format("HH:mm")),e.second_end_time&&(e.second_end_time=V()(e.second_end_time).format("HH:mm")),qt.forEach((function(t){e["first_start_time_".concat(t)]&&(e["first_start_time_".concat(t)]=V()(e["first_start_time_".concat(t)]).format("HH:mm")),e["first_end_time_".concat(t)]&&(e["first_end_time_".concat(t)]=V()(e["first_end_time_".concat(t)]).format("HH:mm")),e["second_start_time_".concat(t)]&&(e["second_start_time_".concat(t)]=V()(e["second_start_time_".concat(t)]).format("HH:mm")),e["second_end_time_".concat(t)]&&(e["second_end_time_".concat(t)]=V()(e["second_end_time_".concat(t)]).format("HH:mm"))})),t.state.timings&&(e.id=t.state.timings.id);const n=function(e){t.loadData(),Object(E.a)(A.sc,"Calendar Timings Saved successfully!!")},i=function(){};Object(E.k)(Object(E.g)(y.Q,[this.props.active_practiceId]),e,n,i)}})}),this.state={redirect:!1,visible:!1,timings:null,loading:!0,visting_hour_same_week:!0,openPracticeDays:{},twoSessions:{}},this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this;Object(E.c)(Object(E.g)(y.Q,[this.props.active_practiceId]),(function(t){let a=!0;const n={},i={};if(t.length&&t[0]){const e=t[0];qt.forEach((function(t){n[t]=e[t],i["is_two_sessions_".concat(t)]=e["is_two_sessions_".concat(t)]})),a=e.visting_hour_same_week,i.is_two_sessions=e.is_two_sessions}e.setState({timings:t[0],visting_hour_same_week:a,openPracticeDays:n,twoSessions:i,loading:!1})}),(function(){e.setState({timings:{},loading:!1})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}render(){const e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:12},wrapperCol:{span:12}},a=this.props.form.getFieldDecorator;return i.a.createElement("div",null,i.a.createElement(C.a,{onSubmit:this.handleSubmit},i.a.createElement(C.a.Item,Rt({key:"today_first_day"},t),a("today_first_day",{valuePropName:"checked",initialValue:!!e.state.timings&&e.state.timings.today_first_day},{rules:[{message:H.k}]})(i.a.createElement(x.a,null,"Always show today as first day on my calendar"))),i.a.createElement(C.a.Item,Rt({key:"calendar_slot"},t,{label:"Show Calendar Slots of"}),a("calendar_slot",{initialValue:e.state.timings?e.state.timings.calendar_slot:null,rules:[{required:!0,message:H.k}]})(i.a.createElement(qe.a,{min:5})),i.a.createElement("span",{className:"ant-form-text"},"mins.")),i.a.createElement(C.a.Item,Rt({key:"visting_hour_same_week"},t),a("visting_hour_same_week",{valuePropName:"checked",initialValue:!!e.state.timings&&e.state.timings.visting_hour_same_week},{rules:[{message:H.k}]})(i.a.createElement(x.a,{onChange:this.changeVistingHourSameWeek},"Visiting hours are  same for all working days in a week"))),i.a.createElement(c.a,{style:{margin:4}}),this.state.visting_hour_same_week?i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement(g.a,{span:4}),i.a.createElement(g.a,{span:18},i.a.createElement(C.a.Item,Rt({key:"is_two_sessions"},t),a("is_two_sessions",{valuePropName:"checked",initialValue:!!e.state.timings&&(e.state.timings.is_two_sessions||e.state.twoSessions.is_two_sessions)},{rules:[{message:H.k}]})(i.a.createElement(x.a,{onChange:e=>this.changePracticeTwoSessions("is_two_sessions",e.target.checked)},"Practice operates in two sessions."))),i.a.createElement(d.a,{gutter:16},i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,Rt({key:"first_start_time",label:"Practice Starts At"},t),a("first_start_time",{initialValue:e.state.timings&&e.state.timings.first_start_time?V()(e.state.timings.first_start_time,"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm",allowClear:!1})))),e.state.twoSessions.is_two_sessions?i.a.createElement("div",null,i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,Rt({key:"first_end_time",label:"Lunch At"},t),a("first_end_time",{initialValue:e.state.timings&&e.state.timings.first_end_time?V()(e.state.timings.first_end_time,"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm",allowClear:!1})))),i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,Rt({key:"second_start_time",label:"Resume At"},t),a("second_start_time",{initialValue:e.state.timings&&e.state.timings.second_start_time?V()(e.state.timings.second_start_time,"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm",allowClear:!1}))))):null,i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,Rt({key:"second_end_time",label:"Practice Ends At"},t),a("second_end_time",{initialValue:e.state.timings&&e.state.timings.second_end_time?V()(e.state.timings.second_end_time,"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm",allowClear:!1}))))))),i.a.createElement(c.a,{style:{margin:4}})):qt.map(n=>i.a.createElement("div",{key:n},i.a.createElement(d.a,null,i.a.createElement(g.a,{span:4},i.a.createElement("h4",null,n.replace(/^\w/,e=>e.toUpperCase()))),i.a.createElement(g.a,{span:18},i.a.createElement(C.a.Item,Rt({key:"".concat(n)},t),a("".concat(n),{valuePropName:"checked",initialValue:!!e.state.timings&&(e.state.timings["".concat(n)]||e.state.openPracticeDays[n])},{rules:[{message:H.k}]})(i.a.createElement(x.a,{onChange:t=>e.changeOpenPracticeDays(n,t.target.checked)},"Practice is open on ".concat(n.replace(/^\w/,e=>e.toUpperCase()))))),e.state.openPracticeDays[n]?i.a.createElement("div",null,i.a.createElement(C.a.Item,Rt({key:"is_two_sessions_".concat(n)},t),a("is_two_sessions_".concat(n),{valuePropName:"checked",initialValue:!!e.state.timings&&(e.state.timings["is_two_sessions_".concat(n)]||e.state.twoSessions["is_two_sessions_".concat(n)])},{rules:[{message:H.k}]})(i.a.createElement(x.a,{onChange:e=>this.changePracticeTwoSessions("is_two_sessions_".concat(n),e.target.checked)},"Practice operates in two sessions."))),i.a.createElement(d.a,{gutter:16},i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,Rt({key:"first_start_time_".concat(n),label:"Practice Starts At"},t),a("first_start_time_".concat(n),{initialValue:e.state.timings&&e.state.timings["first_start_time_".concat(n)]?V()(e.state.timings["first_start_time_".concat(n)],"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm",allowClear:!1})))),e.state.twoSessions["is_two_sessions_".concat(n)]?i.a.createElement("div",null,i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,Rt({key:"first_end_time_".concat(n),label:"Lunch At"},t),a("first_end_time_".concat(n),{initialValue:e.state.timings&&e.state.timings["first_end_time_".concat(n)]?V()(e.state.timings["first_end_time_".concat(n)],"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm",allowClear:!1})))),i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,Rt({key:"second_start_time_".concat(n),label:"Resume At"},t),a("second_start_time_".concat(n),{initialValue:e.state.timings&&e.state.timings["second_start_time_".concat(n)]?V()(e.state.timings["second_start_time_".concat(n)],"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm",allowClear:!1}))))):null,i.a.createElement(g.a,{span:12},i.a.createElement(C.a.Item,Rt({key:"second_end_time_".concat(n),label:"Practice Ends At"},t),a("second_end_time_".concat(n),{initialValue:e.state.timings&&e.state.timings["second_end_time_".concat(n)]?V()(e.state.timings["second_end_time_".concat(n)],"HH:mm"):null,rules:[{required:!0,message:H.k}]})(i.a.createElement(F.a,{format:"HH:mm",allowClear:!1})))))):null)),i.a.createElement(c.a,{style:{margin:4}}))),i.a.createElement(C.a.Item,t,i.a.createElement(m.a,{loading:e.state.loading,type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),e.props.history?i.a.createElement(m.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null)))}}var Bt=C.a.create()(Gt);function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Yt extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{this.setState({visible:!1})},(a="handleCancel")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={redirect:!1,visible:!1,appointmentCategories:null,loading:!0},this.loadAppointmentCategories=this.loadAppointmentCategories.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadAppointmentCategories()}loadAppointmentCategories(){const e=this;Object(E.c)(Object(E.g)(y.t,[this.props.active_practiceId]),(function(t){e.setState((function(e){return t.forEach((function(e){e.color=Object(xe.b)(Object(xe.a)(e.name))})),{appointmentCategories:t,loading:!1}}))}),(function(){}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editCategory(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.k)(Object(E.g)(y.t,[this.props.active_practiceId]),a,(function(e){t.loadAppointmentCategories()}),(function(){}))}render(){const e=this,t=[{dataIndex:"color",key:"color",render:e=>i.a.createElement(O.a,{color:"#".concat(e)},"#")},{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editCategory(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],a=[{label:"Category name",key:"name",placeholder:"Category Name",required:!0,type:A.db}],n=[{label:"Category name",key:"name",required:!0,initialValue:this.state.editingName,type:A.db}],s={successFn(t){e.handleCancel(),e.loadAppointmentCategories(),console.log(t),console.log("sucess"),Object(E.a)(A.sc,"success")},errorFn(){},action:Object(E.g)(y.t,[this.props.active_practiceId]),method:"post"},r=[{key:"id",value:this.state.editingId}],l=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(l,Ut({defaultValues:[],formProp:s,fields:a},this.props)),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.appointmentCategories}),i.a.createElement(h.a,{title:"Edit Appointment Category",visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(l,{defaultValues:r,formProp:s,fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}var Kt=Yt;function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Wt=P.a.TabPane;class Zt extends i.a.Component{constructor(e){super(e),this.state={loading:!0,defaultActiveKey:this.props.location.hash}}render(){return i.a.createElement("div",null,i.a.createElement("h2",null,"Calendar Settings"),i.a.createElement(d.a,null,i.a.createElement(l.a,null,i.a.createElement(P.a,{defaultActiveKey:this.state.defaultActiveKey},i.a.createElement(Wt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"schedule"}),"Calender Timings Settings"),key:"#timings"},i.a.createElement(Bt,zt({},this.state,this.props))),i.a.createElement(Wt,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"reconciliation"}),"Appointment Categories"),key:"#categories"},i.a.createElement(Kt,this.props))))))}}var Jt=Zt,Qt=a(1567);const Xt=r.a.Sider;class $t extends i.a.Component{render(){return i.a.createElement(Xt,{trigger:null,collapsible:!0,style:{overflow:"auto",minHeight:"100vh",background:"#fff"}},i.a.createElement(Qt.a,{mode:"inline",defaultSelectedKeys:["5"]},i.a.createElement(Qt.a.ItemGroup,{key:"g1",title:i.a.createElement(c.a,{style:{margin:"0px"}},"Practice Settings")},this.props.activePracticePermissions.SettingsPracticeDetail?i.a.createElement(Qt.a.Item,{key:"5"},i.a.createElement(b.b,{to:"/settings/clinics"},i.a.createElement(p.a,{type:"shop"}),"Practice Details")):null,this.props.activePracticePermissions.SettingsCommunincations?i.a.createElement(Qt.a.Item,{key:"7"},i.a.createElement(b.b,{to:"/settings/communication-settings"},i.a.createElement(p.a,{type:"message"}),"Communication")):null,this.props.activePracticePermissions.SettingsAddress?i.a.createElement(Qt.a.Item,{key:"24"},i.a.createElement(b.b,{to:"/settings/address-settings"},i.a.createElement(p.a,{type:"message"}),"Address")):null,this.props.activePracticePermissions.SettingsCalendar?i.a.createElement(Qt.a.Item,{key:"17"},i.a.createElement(b.b,{to:"/settings/calendarsettings#timings"},i.a.createElement(p.a,{type:"schedule"}),"Calendar")):null,this.props.activePracticePermissions.SettingsPracticeStaff?i.a.createElement(Qt.a.Item,{key:"6"},i.a.createElement(b.b,{to:"/settings/clinics-staff"},i.a.createElement(p.a,{type:"team"}),"Practice Staff")):null,this.props.activePracticePermissions.SettingsAgentRoles||this.props.allowAllPermissions?i.a.createElement(Qt.a.Item,{key:"33"},i.a.createElement(b.b,{to:"/settings/agent-roles"},i.a.createElement(p.a,{type:"apartment"}),i.a.createElement("span",{className:"nav-text"},"Advisor Roles"))):null,this.props.activePracticePermissions.SettingsProcedureCatalog?i.a.createElement(Qt.a.Item,{key:"8"},i.a.createElement(b.b,{to:"/settings/procedures"},i.a.createElement(p.a,{type:"folder-open"}),"Procedure Catalog")):null,this.props.activePracticePermissions.SettingsBilling?i.a.createElement(Qt.a.Item,{key:"9"},i.a.createElement(b.b,{to:"/settings/billing#taxcatalog"},i.a.createElement(p.a,{type:"audit"}),"Billing")):null,this.props.activePracticePermissions.SettingsLoyalty?i.a.createElement(Qt.a.Item,{key:"10"},i.a.createElement(b.b,{to:"/settings/loyalty"},i.a.createElement(p.a,{type:"trophy"}),"Loyalty")):null,this.props.activePracticePermissions.SettingsMLMSettings?i.a.createElement(Qt.a.Item,{key:"30"},i.a.createElement(b.b,{to:"/settings/mlm"},i.a.createElement(p.a,{type:"wallet"}),i.a.createElement("span",{className:"nav-text"},"MLM"))):null,this.props.activePracticePermissions.SettingsEMR?i.a.createElement(Qt.a.Item,{key:"12"},i.a.createElement(b.b,{to:"/settings/emr#complaints"},i.a.createElement(p.a,{type:"file-text"})," EMR")):null,this.props.activePracticePermissions.SettingsPrescriptions?i.a.createElement(Qt.a.Item,{key:"13"},i.a.createElement(b.b,{to:"/settings/prescriptions"},i.a.createElement(p.a,{type:"file-text"})," Prescriptions")):null,this.props.activePracticePermissions.SettingsPrintouts?i.a.createElement(Qt.a.Item,{key:"18"},i.a.createElement(b.b,{to:"/settings/printout"},i.a.createElement(p.a,{type:"printer"})," Printout")):null,this.props.activePracticePermissions.SettingsMedicalHistory?i.a.createElement(Qt.a.Item,{key:"15"},i.a.createElement(b.b,{to:"/settings/medical-history"},i.a.createElement(p.a,{type:"medicine-box"})," Medical History")):null,this.props.activePracticePermissions.SettingsExpenseTypes?i.a.createElement(Qt.a.Item,{key:"16"},i.a.createElement(b.b,{to:"/settings/expense-types"},i.a.createElement(p.a,{type:"dollar"})," Expense Types")):null,this.props.activePracticePermissions.SettingsOtherSettings?i.a.createElement(Qt.a.Item,{key:"20"},i.a.createElement(b.b,{to:"/settings/hr"},i.a.createElement(p.a,{type:"link"})," Other Settings")):null),i.a.createElement(Qt.a.ItemGroup,{key:"g2",title:i.a.createElement(c.a,{style:{margin:"0px"}},"Bed & Medicine")},this.props.activePracticePermissions.SettingsRoomTypes?i.a.createElement(Qt.a.Item,{key:"22"},i.a.createElement(b.b,{to:"/settings/roomtypes"},i.a.createElement(p.a,{type:"apartment"})," Room Types")):null,this.props.activePracticePermissions.SettingsBedPackages?i.a.createElement(Qt.a.Item,{key:"23"},i.a.createElement(b.b,{to:"/settings/bed-packages"},i.a.createElement(p.a,{type:"box-plot"})," Bed Packages")):null,this.props.activePracticePermissions.SettingsMedicinePackages?i.a.createElement(Qt.a.Item,{key:"24"},i.a.createElement(b.b,{to:"/settings/medicine-packages"},i.a.createElement(p.a,{type:"medicine-box"})," Medicine Packages")):null,this.props.activePracticePermissions.SettingsDiseaseList?i.a.createElement(Qt.a.Item,{key:"25"},i.a.createElement(b.b,{to:"/settings/diseases"},i.a.createElement(p.a,{type:"apartment"})," Disease List")):null)))}}var ea=$t,ta=a(1595);function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function na(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ia extends i.a.Component{constructor(e){super(e),na(this,"handleSubmit",e=>{e.preventDefault();const t=this;this.props.form.validateFieldsAndScroll((e,a)=>{let n={};n={comissions:[],name:a.margin_name,level_count:a.level_count};for(let e=1;e<=t.state.level_count;e++)this.state.staffRoles.forEach((function(t){n.comissions.push({level:e,role:t.id,commision_percent:a[e][t.id]})}));if(t.state.editId&&(n.id=t.state.editId),!e){t.setState({changePassLoading:!0,redirect:!0});const e=function(e){Object(E.a)(A.sc,e.details),t.props.loadData(),t.props.history&&t.props.history.replace("/settings/mlm")},a=function(){};Object(E.k)(y.Ob,n,e,a)}})}),na(this,"add",e=>{const t=this.props.form,a=t.getFieldValue("keys").concat(e);t.setFieldsValue({keys:a})}),na(this,"setLevelCount",e=>{this.setState({level_count:e<5?e:5})}),this.state={redirect:!1,level_count:3,margin:null,editRecord:this.props.editRecord?this.props.editRecord:null,editId:this.props.editId?this.props.editId:null,loading:!0,editRecordMargins:{}},this.changeRedirect=this.changeRedirect.bind(this)}componentDidMount(){if(this.loadRoles(),this.state.editRecord&&this.state.editId){const e={};this.state.editRecord.forEach((function(t){e[t.roleId]=t})),this.setState({editRecordMargins:e}),this.loadMlmData()}}loadMlmData(){const e=this;Object(E.c)(y.Ob,(function(t){t.map((function(t){t.id===e.props.editId&&e.setState({margin:t,loading:!1},(function(){e.setLevelCount(t.level_count)}))}))}),(function(){e.setState({loading:!0})}))}loadRoles(){const e=this;Object(E.c)(y.f,(function(t){e.setState({staffRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}render(){const e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};e("keys",{initialValue:[]});const a=[{title:"Roles",dataIndex:"name",key:"name"}];if(this.state.level_count)for(let n=1;n<=this.state.level_count;n++)a.push({title:"Level ".concat(n),dataIndex:"Level ".concat(n),key:"Level ".concat(n),render:(a,s)=>i.a.createElement(C.a.Item,aa({},t,{required:!0,key:"".concat(n,"[").concat(s.id,"]")}),e("".concat(n,"[").concat(s.id,"]"),{validateTrigger:["onChange","onBlur"],initialValue:this.state.editRecordMargins&&this.state.editRecordMargins[s.id]?this.state.editRecordMargins[s.id][n]:null})(i.a.createElement(qe.a,{min:0,placeholder:"Percent Commission"})))});return(i.a.createElement(l.a,{title:"Manage MLM Commission"},i.a.createElement(C.a,{onSubmit:this.handleSubmit,className:"login-form"},i.a.createElement(C.a.Item,aa({},t,{label:"Margin Name",required:!0,key:"margin_name"}),e("margin_name",{validateTrigger:["onChange","onBlur"],initialValue:this.state.margin?this.state.margin.name:null})(i.a.createElement(Ee.a,{placeholder:"Margin Type Name"}))),i.a.createElement(C.a.Item,aa({},t,{label:"No of Levels",required:!1,key:"level_count"}),e("level_count",{validateTrigger:["onChange","onBlur"],initialValue:this.state.level_count})(i.a.createElement(qe.a,{min:1,max:5,placeholder:"Level Count",onChange:this.setLevelCount}))),i.a.createElement(u.a,{loading:this.state.loading,bordered:!0,pagination:!1,columns:a,dataSource:this.state.staffRoles}),i.a.createElement(C.a.Item,null,i.a.createElement("br",null),i.a.createElement(m.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Set MLM Commissions"))),this.state.redirect&&i.a.createElement(s.a,{to:"/settings/mlm"})))}}var sa=C.a.create()(ia);function ra(){return(ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(Object(a),!0).forEach((function(t){oa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}P.a.TabPane;const da=ta.a.Panel;class ma extends i.a.Component{constructor(e){super(e),this.state={mlmItems:[],productMargin:[],active_practiceId:this.props.active_practiceId,loading:!0},this.loadMlmData=this.loadMlmData.bind(this),this.deleteObject=this.deleteObject.bind(this),this.loadRoles=this.loadRoles.bind(this),this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData()}loadData(){this.loadMlmData(),this.loadRoles(),this.loadProductMargin()}loadMlmData(){const e=this;Object(E.c)(y.Ob,(function(t){e.setState({mlmItems:t,loading:!1})}),(function(){e.setState({loading:!1})}))}loadRoles(){const e=this;Object(E.c)(y.f,(function(t){e.setState({staffRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}loadProductMargin(){const e=this;Object(E.c)(y.Md,(function(t){e.setState({productMargin:t})}),(function(){}))}editObject(e,t){this.setState({editId:e,editRecord:t,loading:!1},(function(){this.props.history.push("/settings/mlm/edit")}))}deleteObject(e){const t=this,a=ca(ca({},e),{},{is_active:!1});a.is_active=!1;Object(E.m)(Object(E.g)(y.Ae,[e.id]),a,(function(e){t.loadData()}),(function(){}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}render(){const e=this,t={};this.state.staffRoles&&this.state.staffRoles.forEach((function(e){t[e.id]=e.name}));const a={};e.state.productMargin.forEach((function(e){a[e.id]=[{title:"Role",key:"role",dataIndex:"role"}];for(let t=1;t<=e.level_count;t++)a[e.id].push({title:"Level ".concat(t),key:t,dataIndex:t,render:e=>i.a.createElement("span",null,e,"%")})}));const n={};return e.state.mlmItems.forEach((function(t){n[t.id]=[],e.state.staffRoles&&e.state.staffRoles.forEach((function(e){const a={role:e.name,roleId:e.id};if(t.level_count)for(let n=1;n<=t.level_count;n++)if(t.comissions)for(let i=0;i<t.comissions.length;i++){const s=t.comissions[i];if(s.margin==t.id&&s.level==n&&e.id==s.role){a[n]=s.commision_percent;break}}n[t.id].push(a)}))})),i.a.createElement("div",null,i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/settings/mlm/generate",render:e=>i.a.createElement(sa,ra({},e,{loadData:this.loadData}))}),this.state.editId&&this.state.editRecord?i.a.createElement(s.b,{exact:!0,path:"/settings/mlm/edit",render:e=>i.a.createElement(sa,ra({},e,{key:this.state.editId,loadData:this.loadData},this.state))}):null,i.a.createElement(s.b,null,i.a.createElement("div",null,i.a.createElement("h2",null,"MLM Commissions",i.a.createElement(b.b,{to:"/settings/mlm/generate"},i.a.createElement(m.a,{type:"primary",style:{float:"right"}},i.a.createElement(p.a,{type:"plus"})," Add"))),i.a.createElement(l.a,null,this.state.productMargin?i.a.createElement(ta.a,{defaultActiveKey:["0"],accordion:!0},this.state.productMargin.map((t,s)=>i.a.createElement(da,{header:t.name,key:s,extra:[i.a.createElement(m.a.Group,{size:"small"},i.a.createElement(m.a,{type:"primary",onClick:()=>this.editObject(t.id,n[t.id])},i.a.createElement(p.a,{type:"edit"})," Edit"),i.a.createElement(o.a,{title:"Are you sure delete this item?",onConfirm:()=>e.deleteObject(t),okText:"Yes",cancelText:"No"},i.a.createElement(m.a,{type:"danger"},i.a.createElement(p.a,{type:"delete"})," Delete")))]},i.a.createElement(u.a,{loading:this.state.loading,pagination:!1,style:{marginTop:10},dataSource:n[t.id],rowKey:"role",columns:a[t.id],bordered:!0})))):i.a.createElement("h4",null,"No MLM Data"))))))}}var pa=a(1575),ua=a(1591);function ha(){return(ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(a),!0).forEach((function(t){ba(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ga(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ba(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ya=Ee.a.TextArea,Ea=R.B.map(e=>i.a.createElement(w.a.Button,{value:e},e));class _a extends i.a.Component{constructor(e){super(e),ba(this,"changeFormType",e=>{this.setState({selectedFormType:e.target.value})}),ba(this,"handleSubmit",e=>{console.log(e),e.preventDefault();const t=this;this.props.form.validateFields((e,a)=>{if(console.log(a),!e){let e=fa({type:t.state.type},a);const n="logo_path";e[n]&&a[n].file&&a[n].file.response?e[n]=a[n].file.response.image_path:e[n]=t.state.print_setting.logo_path,e.save_for_all||(e=fa(fa({},e),{},{sub_type:t.state.sub_type,id:t.state.print_setting.id})),delete e.save_for_all;const i=function(e){Object(E.a)(A.sc,"Settings Saved Successfully!!")},s=function(){};a.save_for_all?Object(E.k)(Object(E.g)(y.ae,[this.props.active_practiceId]),e,i,s):Object(E.k)(Object(E.g)(y.Fd,[this.props.active_practiceId,t.state.type,t.state.sub_type]),e,i,s)}})}),ba(this,"handleFormEditSettings",(e,t)=>{this.setState((function(a){return{editedPrintSettings:fa(fa({},a.editedPrintSettings),{},{[e]:t})}}))}),ba(this,"loadPDF",e=>{Object(E.c)(e,(function(e){e.report&&window.open(Me.a+e.report)}),(function(){}))}),ba(this,"onchangeHandle",(e,t)=>{this.setState({[e]:t},(function(){this.state.is_patient_not&&this.props.form.resetFields()}))}),this.state={type:this.props.type,sub_type:this.props.sub_type,selectedFormType:"PAGE",print_setting:{},editedPrintSettings:{}},this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this;Object(E.c)(Object(E.g)(y.Fd,[this.props.active_practiceId,e.state.type,e.state.sub_type]),(function(t){t.length&&e.setState({print_setting:t[0]})}),(function(){}))}render(){console.log(this.state);const e={labelCol:{xs:{span:8},sm:{span:8},md:{span:8},lg:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16},md:{span:16},lg:{span:16}}},t=R.Ab.map(e=>i.a.createElement(D.a.Option,{value:e},e)),a=R.jb.map(e=>i.a.createElement(w.a,{value:e.value},e.title)),n=R.tb.map(e=>i.a.createElement(w.a,{value:e.value},e.value)),s=R.rb.map(e=>i.a.createElement(w.a,{value:e.value},e.value)),r=R.sb.map(e=>i.a.createElement(w.a,{value:e.value},e.title)),l={name:"image",data:{name:"hello"},action:Object(E.i)(y.Lb),headers:{authorization:"authorization-text"},onChange(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?pa.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&pa.a.error("".concat(e.file.name," file upload failed."))}},o=(R.Db.map(e=>i.a.createElement("li",null,i.a.createElement(x.a,{value:e.value},e.value))),R.zb.map(e=>i.a.createElement(w.a,{value:e.value},e.value))),u=R.Mb.map(e=>i.a.createElement(w.a,{value:e.value},e.value));let h="?preview=true&type=".concat(this.props.type,"&sub_type=").concat(this.props.sub_type);if(this.state.print_setting){const e=fa(fa({},this.state.print_setting),this.state.editedPrintSettings);Object.keys(e).forEach((function(t){e[t]&&(h+="&".concat(t,"=").concat(encodeURIComponent(e[t])))}))}const f=this.props.form.getFieldDecorator;return console.log(h),i.a.createElement(d.a,null,i.a.createElement(g.a,{span:24},i.a.createElement(C.a,{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"div_padding_top"},i.a.createElement(d.a,{gutter:16},i.a.createElement(g.a,{span:12},i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(w.a.Group,{buttonStyle:"solid",size:"small",onChange:this.changeFormType,defaultValue:this.state.selectedFormType},Ea),i.a.createElement("br",null)),i.a.createElement("div",{hidden:"PAGE"!=this.state.selectedFormType},i.a.createElement("h2",null,"Page Setup"),i.a.createElement(C.a.Item,ha({key:"page_size"},e,{label:"Paper Size"}),f("page_size",{initialValue:this.state.print_setting.page_size})(i.a.createElement(D.a,{style:{width:"100%"},onChange:e=>this.handleFormEditSettings("page_size",e)},t))),i.a.createElement(C.a.Item,ha({label:"Orientation"},e),f("page_orientation",{initialValue:this.state.print_setting.page_orientation})(i.a.createElement(w.a.Group,{onChange:e=>this.handleFormEditSettings("orientation",e.target.value)},o))),i.a.createElement(C.a.Item,ha({label:i.a.createElement("span",null,"Printer Type ")},e),f("page_print_type",{initialValue:this.state.print_setting.page_print_type})(i.a.createElement(w.a.Group,{onChange:e=>this.handleFormEditSettings("printerType",e.target.value)},u))),i.a.createElement(C.a.Item,ha({key:"page_margin_top",label:i.a.createElement("span",null,"Top Margin")},e),f("page_margin_top",{initialValue:this.state.print_setting.page_margin_top})(i.a.createElement(qe.a,{min:0,max:10,onChange:e=>this.handleFormEditSettings("page_margin_top",e)})),i.a.createElement("span",{className:"ant-form-text"},"Inches")),i.a.createElement(C.a.Item,ha({key:"page_margin_left",label:i.a.createElement("span",null,"Left Margin")},e),f("page_margin_left",{initialValue:this.state.print_setting.page_margin_left})(i.a.createElement(qe.a,{min:0,max:10,onChange:e=>this.handleFormEditSettings("page_margin_left",e)})),i.a.createElement("span",{className:"ant-form-text"},"Inches")),i.a.createElement(C.a.Item,ha({key:"page_margin_bottom",label:i.a.createElement("span",null,"Bottom Margin")},e),f("page_margin_bottom",{initialValue:this.state.print_setting.page_margin_bottom})(i.a.createElement(qe.a,{min:0,max:10,onChange:e=>this.handleFormEditSettings("page_margin_bottom",e)})),i.a.createElement("span",{className:"ant-form-text"},"Inches")),i.a.createElement(C.a.Item,ha({key:"page_margin_right",label:i.a.createElement("span",null,"Right Margin")},e),f("page_margin_right",{initialValue:this.state.print_setting.page_margin_right})(i.a.createElement(qe.a,{min:0,max:10,onChange:e=>this.handleFormEditSettings("page_margin_right",e)})),i.a.createElement("span",{className:"ant-form-text"},"Inches"))),i.a.createElement("div",{hidden:"HEADER"!=this.state.selectedFormType},i.a.createElement("h2",null,"Customize Header"),i.a.createElement(C.a.Item,ha({key:"header_include"},e,{label:i.a.createElement("span",null,"Include Header ")}),f("header_include",{initialValue:this.state.print_setting.header_include})(i.a.createElement(w.a.Group,{onChange:e=>this.handleFormEditSettings("header_include",e.target.value)},a))),i.a.createElement(C.a.Item,ha({key:"header_text"},e,{label:i.a.createElement("span",null,"Header ")}),f("header_text",{initialValue:this.state.print_setting.header_text})(i.a.createElement(Ee.a,{onChange:e=>this.handleFormEditSettings("header_text",e.target.value)}))),i.a.createElement(C.a.Item,ha({key:"header_left_text"},e,{label:i.a.createElement("span",null,"Left Text ")}),f("header_left_text",{initialValue:this.state.print_setting.header_left_text})(i.a.createElement(ya,{onChange:e=>this.handleFormEditSettings("header_left_text",e.target.value)}))),i.a.createElement(C.a.Item,ha({key:"header_right_text"},e,{label:i.a.createElement("span",null,"Right Text ")}),f("header_right_text",{initialValue:this.state.print_setting.header_right_text})(i.a.createElement(ya,{onChange:e=>this.handleFormEditSettings("header_right_text",e.target.value)}))),i.a.createElement(C.a.Item,ha({key:"logo_include"},e,{label:i.a.createElement("span",null,"Include Logo ")}),f("logo_include",{initialValue:this.state.print_setting.logo_include})(i.a.createElement(w.a.Group,{onChange:e=>this.handleFormEditSettings("logo_include",e.target.value)},r))),i.a.createElement(C.a.Item,ha({key:"logo_path"},e,{label:i.a.createElement("span",null,"Logo ")}),f("logo_path")(i.a.createElement(ua.a,l,i.a.createElement(m.a,null,i.a.createElement(p.a,{type:"upload"})," Click to Upload")))),i.a.createElement(C.a.Item,ha({key:"logo_type"},e,{label:i.a.createElement("span",null,"Type ")}),f("logo_type",{initialValue:this.state.print_setting.logo_type})(i.a.createElement(w.a.Group,{onChange:e=>this.handleFormEditSettings("logo_type",e.target.value)},n))),i.a.createElement(C.a.Item,ha({key:"logo_alignment"},e,{label:i.a.createElement("span",null,"Alignment ")}),f("logo_alignment",{initialValue:this.state.print_setting.logo_alignment})(i.a.createElement(w.a.Group,{onChange:e=>this.handleFormEditSettings("logo_alignment",e.target.value)},s)))),i.a.createElement("div",{hidden:"PATIENT"!=this.state.selectedFormType},i.a.createElement("h2",null,"Customize Patient Details"),i.a.createElement(C.a.Item,null,f("patient_details",{})(i.a.createElement(x.a,{onChange:e=>this.onchangeHandle("is_patient_not",e.target.checked)},"Show Patient Details"))),i.a.createElement("ul",{className:"subLists"},i.a.createElement(C.a.Item,null,f("exclude_history",{})(i.a.createElement(x.a,null,"Exclude Mediacal History"))),i.a.createElement(C.a.Item,null,f("exclude_phone",{})(i.a.createElement(x.a,null,"Exclude Patient Number"))),i.a.createElement(C.a.Item,null,f("exclude_email",{})(i.a.createElement(x.a,null,"Exclude Patient Email Id"))),i.a.createElement(C.a.Item,null,f("exclude_address",{})(i.a.createElement(x.a,null,"Exclude address"))),i.a.createElement(C.a.Item,null,f("exclude_blood_group",{})(i.a.createElement(x.a,null,"Exclude Blood Group"))),i.a.createElement(C.a.Item,null,f("exclude_gender_dob",{})(i.a.createElement(x.a,null,R.W))))),i.a.createElement("div",{hidden:"FOOTER"!=this.state.selectedFormType},i.a.createElement("h2",null,"Footer Setup"),i.a.createElement(C.a.Item,ha({key:"footer_margin_top"},e,{label:i.a.createElement("span",null,"Top Margin ")}),f("footer_margin_top",{initialValue:this.state.print_setting.footer_margin_top})(i.a.createElement(qe.a,{min:0,max:10,onChange:e=>this.handleFormEditSettings("footer_margin_top",e)})),i.a.createElement("span",{className:"ant-form-text"},"Inches")),i.a.createElement(C.a.Item,ha({key:"footer_text"},e,{label:i.a.createElement("span",null,"Full Width Content ")}),f("footer_text",{initialValue:this.state.print_setting.footer_text})(i.a.createElement(ya,{rows:3,onChange:e=>this.handleFormEditSettings("footer_text",e.target.value)}))),i.a.createElement(C.a.Item,ha({key:"footer_left_text"},e,{label:i.a.createElement("span",null,"Left Signature ")}),f("footer_left_text",{initialValue:this.state.print_setting.footer_left_text})(i.a.createElement(ya,{onChange:e=>this.handleFormEditSettings("footer_left_text",e.target.value)}))),i.a.createElement(C.a.Item,ha({key:"footer_right_text"},e,{label:i.a.createElement("span",null,"Right Signature ")}),f("footer_right_text",{initialValue:this.state.print_setting.footer_right_text})(i.a.createElement(ya,{onChange:e=>this.handleFormEditSettings("footer_right_text",e.target.value)})))),i.a.createElement(d.a,null,i.a.createElement(c.a,null),i.a.createElement(C.a.Item,ha({},e,{key:"save_for_all"}),f("save_for_all",{})(i.a.createElement(x.a,null,i.a.createElement("b",null," Save for all")))),i.a.createElement(C.a.Item,null,i.a.createElement(m.a,{style:{margin:5},type:"primary",htmlType:"submit",value:"ALL"},"Save"),i.a.createElement(m.a,{style:{margin:5},onClick:()=>this.loadPDF("".concat(y.Jd+h,"&pdf=1"))},"Show Print Preview")))),i.a.createElement(g.a,{span:12,style:{textAlign:"center"}},i.a.createElement("div",{style:{position:"absolute",backgroundColor:"black",color:"white",padding:10,right:20,top:50}},i.a.createElement("b",null,"PREVIEW")),i.a.createElement("iframe",{src:Object(E.i)(y.Jd+h),style:{width:"100%",height:"100%",minHeight:"600px",boxShadow:"-2px 0px 4px #B8B8B8"}})))))))}}var va=C.a.create()(_a);const ka=P.a.TabPane;class Sa extends i.a.Component{constructor(e){super(e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"setRandomKey",e=>{console.log(e),this.setState({randomKey:Math.random(),activeKey:e})}),this.state={randomKey:Math.random(),activeKey:"a"}}render(){const e=this;return(i.a.createElement("div",null,i.a.createElement("h2",null,"Print Settings"),i.a.createElement(P.a,{defaultActiveKey:R.T,size:"small",type:"card"},i.a.createElement(ka,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"calculator"}),R.T),key:R.T},i.a.createElement(l.a,null,i.a.createElement("h4",null,i.a.createElement("div",null,i.a.createElement(P.a,{size:"small",onChange:this.setRandomKey},R.S.map((t,a)=>i.a.createElement(ka,{tab:t.title,key:a},i.a.createElement(va,{key:a.toString()==e.state.activeKey.toString()?t.title+e.state.randomKey:t.title,sub_type:t.title,active_practiceId:this.props.active_practiceId,type:"EMR"})))))))),i.a.createElement(ka,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"audit"}),R.o),key:R.o},i.a.createElement(l.a,null,i.a.createElement("h4",null,i.a.createElement("div",null,i.a.createElement(P.a,{size:"small",onChange:this.setRandomKey},R.n.map((t,a)=>i.a.createElement(ka,{tab:t.title,key:a},i.a.createElement(va,{key:a.toString()==e.state.activeKey.toString()?t.title+e.state.randomKey:t.title,sub_type:t.title,active_practiceId:this.props.active_practiceId,type:"BILLING"})))))))))))}}var Pa=Sa;const Oa=P.a.TabPane;class ja extends i.a.Component{constructor(e){super(e),this.state={integrateData:[],loading:!0},this.loadData=this.loadData.bind(this)}componentWillMount(){this.props&&this.loadData()}loadData(){const e=this;Object(E.c)(Object(E.g)(y.be,[e.props.user.id]),(function(t){e.setState({integrateData:t,loading:!1})}),(function(){e.setState({loading:!1})}))}render(){const e=this,t=[{key:"login",type:A.db,initialValue:this.state.integrateData.login,required:!0,label:"Email Id"},{key:"password",type:A.Eb,initialValue:this.state.integrateData.password,required:!0,label:"Password"}],a={method:"post",successFn(t){e.loadData()},errorFn(){},action:Object(E.g)(y.be,[this.props.user.id])},n=C.a.create()(N.a);return i.a.createElement(d.a,null,i.a.createElement(l.a,null,i.a.createElement("h2",null,"My Integrations"),i.a.createElement(P.a,null,i.a.createElement(Oa,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"check-circle"}),"Task Tracker"),key:"Complaints"},i.a.createElement(n,{fields:t,formProp:a})))))}}class xa extends i.a.Component{constructor(e){super(e)}render(){return i.a.createElement("div",null,i.a.createElement("h2",null,"Email PDF Settings"),i.a.createElement(l.a,null,i.a.createElement(va,{sub_type:"INVOICE",active_practiceId:this.props.active_practiceId,type:"MAIL"})))}}function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Da extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{const e=this;Object(E.c)(Object(E.g)(y.Zd,[this.props.active_practiceId]),(function(t){e.setState({roomTypes:t})}),(function(){}))},(a="loadRequiredData")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={editPackage:this.props.editPackage?this.props.editPackage:null,roomTypes:[],taxes:[]}}componentDidMount(){this.loadRequiredData(),this.loadTaxes()}loadTaxes(){const e=this;Object(E.c)(Object(E.g)(y.df,[this.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))}render(){const e=this,t=C.a.create()(N.a),a=[{label:"Package Name",key:"name",required:!0,initialValue:this.props.editPackage?this.props.editPackage.name:null,type:A.db},{label:"Days of Booking",key:"no_of_days",required:!0,initialValue:this.props.editPackage?this.props.editPackage.no_of_days:null,type:A.Bb,follow:"INR"},{label:"Normal Price",key:"normal_price",required:!0,initialValue:this.props.editPackage?(this.props.editPackage.normal_price+this.props.editPackage.normal_tax_value).toFixed(2):null,type:A.Bb,follow:"INR"},{label:"Tatkal Price",key:"tatkal_price",required:!0,initialValue:this.props.editPackage?(this.props.editPackage.tatkal_price+this.props.editPackage.tatkal_tax_value).toFixed(2):null,type:A.Bb,follow:"INR"},{label:"Image",key:"image",initialValue:this.props.editPackage?this.props.editPackage.image:null,type:A.oc},{label:"Room Type",key:"room",required:!0,initialValue:this.props.editPackage?this.props.editPackage.room:null,type:A.mc,options:this.state.roomTypes.map(e=>Object.create({label:e.name,value:e.id}))},{label:"Same State Taxes",key:"taxes",initialValue:this.props.editPackage&&this.props.editPackage.taxes?this.props.editPackage.taxes.map(e=>e.id):[],type:A.xb,options:this.state.taxes.map(e=>Object.create({label:"".concat(e.name,"(").concat(e.tax_value,"%)"),value:e.id}))},{label:"Other State Taxes",key:"state_taxes",initialValue:this.props.editPackage&&this.props.editPackage.state_taxes?this.props.editPackage.state_taxes.map(e=>e.id):[],type:A.xb,options:this.state.taxes.map(e=>Object.create({label:"".concat(e.name,"(").concat(e.tax_value,"%)"),value:e.id}))},{label:"Description",key:"description",initialValue:this.props.editPackage?this.props.editPackage.description:"",type:A.vc,minRows:3}],n={method:"post",action:Object(E.g)(y.B,[this.props.active_practiceId]),successFn(){Object(E.a)(A.sc,"Package Saved Successfully"),e.props.loadData&&e.props.loadData(),e.props.history.replace("/settings/bed-packages")},errorFn(){}},s=[];return this.state.editPackage&&s.push({key:"id",value:this.state.editPackage.id}),i.a.createElement("div",null,i.a.createElement(l.a,null,i.a.createElement(t,Ca({fields:a,formProp:n,defaultValues:s,title:this.state.editPackage?"Edit Bed Package":"Add Bed Packages"},this.props))))}}function wa(){return(wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ia(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ta extends i.a.Component{constructor(e){super(e),Ia(this,"loadData",()=>{const e=this;Object(E.c)(Object(E.g)(y.B,[this.props.active_practiceId]),(function(t){e.setState({loading:!1,packages:t})}),(function(){e.setState({loading:!1})}))}),Ia(this,"editObject",e=>{this.setState({editPackage:e,loading:!1}),this.props.history.push("/settings/bed-packages/edit")}),this.state={loading:!1,packages:[]}}componentDidMount(){this.loadData()}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.k)(Object(E.g)(y.B,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{dataIndex:"image",key:"image",render:e=>e?i.a.createElement("img",{src:Object(E.h)(e),alt:"",style:{maxWidth:200,maxHeight:100}}):null},{title:"Package Name",dataIndex:"name",key:"name"},{title:"Days",dataIndex:"no_of_days",key:"no_of_days"},{title:"Normal Price+tax (INR)",dataIndex:"normal_price",key:"normal_price",render:(e,t)=>i.a.createElement("p",null,(t.normal_price+t.normal_tax_value).toFixed(2))},{title:"Tatkal Price+tax (INR)",dataIndex:"tatkal_price",key:"tatkal_price",render:(e,t)=>i.a.createElement("p",null,(t.tatkal_price+t.tatkal_tax_value).toFixed(2))},{title:"Description",dataIndex:"description",key:"description"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editObject(a)},"Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this prescription?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/settings/bed-packages/add",render:e=>i.a.createElement(Da,wa({},this.props,e,{loadData:this.loadData}))}),i.a.createElement(s.b,{path:"/settings/bed-packages/edit",render:e=>this.state.editPackage?i.a.createElement(Da,wa({},this.state,this.props,e,{loadData:this.loadData})):i.a.createElement(s.a,{to:"/settings/bed-packages"})}),i.a.createElement(s.b,null,i.a.createElement(l.a,{title:i.a.createElement("h4",null,"Bed Packages ",i.a.createElement(b.b,{to:"/settings/bed-packages/add"},i.a.createElement(m.a,{style:{float:"right"},type:"primary"},i.a.createElement(p.a,{type:"plus"})," Add")))},i.a.createElement(z.a,{dataSource:this.state.packages,loading:this.state.loading,columns:t}))))}}function Ma(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Va extends i.a.Component{constructor(e){super(e),Ma(this,"handleCancel",()=>{this.setState({visible:!1})}),Ma(this,"showDeletedExpenses",()=>{this.setState({showDeleted:!0,deletedLoading:!0}),this.loadData(!0)}),this.state={redirect:!1,visible:!1,rooms:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedRooms:[],editObj:{}},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}loadData(e=!1){const t=this,a=function(a){console.log("get table"),e?t.setState({deletedRooms:a,deletedLoading:!1}):t.setState({rooms:a,loading:!1})},n=function(){e?t.setState({deletedLoading:!1}):t.setState({loading:!1})};e?Object(E.c)(Object(E.g)(y.Zd,[this.props.active_practiceId]),a,n,{deleted:!0,practice:this.props.active_practiceId}):Object(E.c)(Object(E.g)(y.Zd,[this.props.active_practiceId]),a,n)}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editTax(e){this.setState({editObj:e,visible:!0})}deleteObject(e,t){const a=this,n=e;n.is_active=t;Object(E.k)(Object(E.g)(y.Zd,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}render(){const e=this,t=[{title:"Room Type",dataIndex:"name",key:"name"},{title:"Normal Bed Count",dataIndex:"normal_seats",key:"normal_seats"},{title:"Tatkal Bed Count",dataIndex:"tatkal_seats",key:"tatkal_seats"},{title:"Action",key:"action",render:(t,a)=>a.is_active?i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editTax(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>e.deleteObject(a,!1),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))):i.a.createElement("span",null,i.a.createElement(o.a,{title:"Are you sure show this?",onConfirm:()=>e.deleteObject(a,!0),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Show")))}],a=[{label:"Room Type",key:"name",required:!0,type:A.db},{label:"Normal Bed Count",key:"normal_seats",required:!0,type:A.Bb,min:0},{label:"Tatkal Bed Count",key:"tatkal_seats",required:!0,type:A.Bb,min:0}],n=[{label:"Room Type",key:"name",required:!0,initialValue:this.state.editObj.name,type:A.db},{label:"Normal Bed Count",key:"normal_seats",required:!0,initialValue:this.state.editObj.normal_seats,type:A.Bb,min:0},{label:"Tatkal Bed Count",required:!0,initialValue:this.state.editObj.tatkal_seats,key:"tatkal_seats",type:A.Bb,min:0}],s={successFn(t){e.handleCancel(),e.loadData(),console.log(t),console.log("sucess"),Object(E.a)(A.sc,"success")},errorFn(){},action:Object(E.g)(y.Zd,[this.props.active_practiceId]),method:"post"},r=[{key:"practice",value:this.props.active_practiceId}],d=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editObj.id}],p=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement("h2",null,"Room Types"),i.a.createElement(l.a,null,i.a.createElement(p,{defaultValues:r,formProp:s,fields:a}),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.rooms})),i.a.createElement(h.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(p,{title:"Edit Room Type",defaultValues:d,formProp:s,fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}var Na=Va;function Aa(){return(Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Ra extends i.a.Component{constructor(e){super(e),this.state={redirect:!1,fields:[{label:"Offer Name ",key:"code",placeholder:"Offer Name",required:!0,type:A.db},{label:"Description ",key:"description",placeholder:"E.g. 20% off on all services",type:A.db},{label:"Discount",key:"discount",required:!0,type:A.Bb},{label:"Discount Unit",key:"unit",required:!0,options:[{label:"Percent",value:"%"},{label:"Rupees",value:"INR"}],type:A.mc,initialValue:"%"}]},this.changeRedirect=this.changeRedirect.bind(this)}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}render(){const e=this,t={successFn(t){Object(E.a)(A.sc,"success"),e.props.loadData&&e.props.loadData(),e.props.history&&e.props.history.replace("/settings/loyalty")},errorFn(){},action:Object(E.g)(y.ad,[this.props.active_practiceId]),method:"post",beforeSubmit(e){console.log(e)}},a=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(a,Aa({formProp:t,fields:this.state.fields},this.props)),this.state.redirect&&i.a.createElement(s.a,{to:"/settings/loyalty"}))}}var La=Ra;function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Ha extends i.a.Component{constructor(e){super(e),this.state={offers:null,loading:!0},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentWillMount(){this.loadData()}loadData(){const e=this;Object(E.c)(Object(E.g)(y.ad,[this.props.active_practiceId]),(function(t){console.log("get table"),e.setState({offers:t,loading:!1})}),(function(){e.setState({loading:!0})}))}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.k)(Object(E.g)(y.ad,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Name",dataIndex:"code",key:"code"},{title:"Description",dataIndex:"description",key:"description"},{title:"Discount",dataIndex:"discount",key:"discount"},{title:"Discount Unit",dataIndex:"unit",key:"unit"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement(o.a,{title:"Are you sure delete this Offer?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))}];return i.a.createElement(d.a,null,i.a.createElement(La,Fa({},this.props,{loadData:this.loadData})),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.offers}))}}var qa=Ha;function Ga(){return(Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Ba extends i.a.Component{constructor(e){super(e),this.state={}}render(){const e=[{label:"Membership Name ",key:"name",placeholder:"Membership Name",required:!0,type:A.db},{label:"Fee",key:"fee",required:!0,type:A.Bb,follow:"INR"},{label:"Benefit",key:"benefit",required:!0,type:A.Bb,follow:"%"},{label:"Validity",key:"validity",required:!0,type:A.Bb,follow:"Months"}],t=this,a={successFn(e){Object(E.a)(A.sc,"success"),t.props.loadData&&t.props.loadData(),t.props.history&&t.props.history.replace("/settings/loyalty")},errorFn(){},action:Object(E.g)(y.Fc,[this.props.active_practiceId]),method:"post"},n=[{key:"practice",value:this.state.active_practiceId}],s=C.a.create()(N.a);return i.a.createElement(d.a,null,i.a.createElement(s,Ga({fields:e,formProp:a,defaultValues:n},this.props)))}}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Ya extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{const e=this;Object(E.c)(y.Fc,(function(t){e.setState({membership:t})}),(function(){}))},(a="loadData")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={membership:[]}}componentDidMount(){this.loadData()}deleteObject(e){const t=this,a={is_active:!1,id:e.id};Object(E.k)(y.Fc,a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Fee (INR)",dataIndex:"fee",key:"fee"},{title:"Benefit (%)",dataIndex:"benefit",key:"benefit"},{title:"Validity (Months)",dataIndex:"validity",key:"validity"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement(o.a,{title:"Are you sure delete this prescription?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))}];return i.a.createElement(d.a,null,i.a.createElement(Ba,Ua({},this.props,{loadData:this.loadData})),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.membership}))}}var Ka=a(1587);function za(){return(za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Wa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Za extends i.a.Component{constructor(e){super(e),Wa(this,"loadPatient",e=>{const t=this,a=function(e){e.results.length>0&&t.setState({patientList:e.results})},n=function(){};e&&Object(E.c)(Object(E.g)(y.ce,[e]),a,n)}),Wa(this,"handleSubmit",e=>{const t=this;t.setState({loading:!0}),e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){const e=a;e.practice=t.props.active_practiceId;const n=function(e){t.setState({loading:!1}),Object(E.a)(A.sc,"Successfully Created!"),t.props.form.resetFields(),t.props.loadData(),t.props.history&&t.props.history.replace("/settings/loyalty")},i=function(){};Object(E.k)(y.Qd,e,n,i)}})}),this.state={editPromoCode:[],patientList:[],loading:!1}}render(){const e=this.state.patientList,t={labelCol:{span:8},wrapperCol:{span:14}},a=this.props.form.getFieldDecorator;return i.a.createElement("div",null,i.a.createElement(C.a,{onSubmit:this.handleSubmit},i.a.createElement(C.a.Item,za({label:"Promo Code"},t,{key:"promo_code"}),a("promo_code",{initialValue:""})(i.a.createElement(Ee.a,{placeholder:"Promo Code"}))),i.a.createElement(C.a.Item,za({label:"Promo Code Value"},t,{key:"code_value"}),a("code_value",{initialValue:""})(i.a.createElement(qe.a,{placeholder:"Promo Code Value"}))),i.a.createElement(C.a.Item,za({label:"Code Type"},t,{key:"code_type"}),a("code_type",{initialValue:""})(i.a.createElement(D.a,{placeholder:"Code Type",style:{width:"100%"}},R.A.map(e=>i.a.createElement(D.a.Option,{value:e.value},e.label," (",e.value,")"))))),i.a.createElement(C.a.Item,za({label:"Min Order"},t,{key:"minimum_order"}),a("minimum_order",{initialValue:""})(i.a.createElement(qe.a,{placeholder:"Min Order"}))),i.a.createElement(C.a.Item,za({label:"Max Discount"},t,{key:"maximum_discount"}),a("maximum_discount",{initialValue:""})(i.a.createElement(qe.a,{placeholder:"Min Order"}))),i.a.createElement(C.a.Item,za({label:"Expiry Date"},t,{key:"expiry_date"}),a("expiry_date",{initialValue:V()()})(i.a.createElement(Ka.a,{format:"YYYY/MM/DD",allowClear:!1}))),i.a.createElement(C.a.Item,za({label:"Patients"},t,{key:"patient"}),a("patients",{initialValue:[]})(i.a.createElement(D.a,{mode:"multiple",placeholder:"Select Patient",style:{width:"100%"},showSearch:!0,onSearch:this.loadPatient,filterOption:!1},e.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.user.first_name," (",e.custom_id,")")))),i.a.createElement("span",{className:"ant-form-text"},"If no patient is selected, promo code will be available to all patients.")),i.a.createElement(C.a.Item,t,i.a.createElement(m.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),this.props.history?i.a.createElement(m.a,{style:{margin:5},onClick:()=>this.props.history.goBack()},"Cancel"):null)))}}var Ja=C.a.create()(Za);function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $a extends i.a.Component{constructor(e){super(e),Xa(this,"loadData",(e=1)=>{const t=this;this.setState({loading:!0});Object(E.c)(Object(E.g)(y.Qd,[this.props.active_practiceId]),(function(e){t.setState({promoCode:e.results,nextPage:e.next,loading:!1})}),(function(){t.setState({loading:!1})}),{page:e,practice:this.props.active_practiceId})}),Xa(this,"deleteObject",e=>{const t=this;Object(E.m)(Object(E.g)(y.Be,[e.id]),{is_active:!1},(function(e){t.loadData()}),(function(){}))}),Xa(this,"sendSMS",e=>{const t=this;Object(E.c)(Object(E.g)(y.ee,[e.id]),(function(e){t.loadData()}),(function(){}))}),this.state={loading:!1,promoCode:[]}}componentWillMount(){this.loadData()}render(){const e=this.state,t=e.promoCode,a=e.loading,n=[{title:"Code Name",dataIndex:"promo_code",key:"promo_code"},{title:"Promo Code Value",dataIndex:"code_value",key:"code_value"},{title:"Type",dataIndex:"code_type",key:"code_type"},{title:"Min Order",dataIndex:"minimum_order",key:"minimum_order"},{title:"Max Discount",dataIndex:"maximum_discount",key:"maximum_discount"},{title:"Expiry Date",dataIndex:"expiry_date",render:(e,t)=>V()(t.expiry_date).format("YYYY-MM-DD")},{title:"Action",render:(e,t)=>i.a.createElement("div",null,i.a.createElement(o.a,{title:"Are you sure send SMS for this promo code?",onConfirm:()=>this.sendSMS(t),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Send SMS")),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this promo code?",onConfirm:()=>this.deleteObject(t),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return i.a.createElement(d.a,null,i.a.createElement(Ja,Qa({},this.props,{loadData:this.loadData})),i.a.createElement(c.a,null),i.a.createElement(u.a,{loading:a,columns:n,dataSource:t,pagination:!1}),i.a.createElement(We.a,{loading:this.state.loading,hidden:!this.state.nextPage,loaderFunction:()=>this.loadData(this.state.nextPage)}))}}function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class tn extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{const e=this;Object(E.c)(y.Td,(function(t){e.setState({registrationData:t})}),(function(e){}))},(a="loadData")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={registrationData:[]}}componentDidMount(){this.loadData()}deleteObject(e){const t=this,a={is_active:!1,id:e.id};Object(E.k)(y.Td,a,(function(e){t.loadData()}),(function(){}))}render(){const e=this;let t=e.state.registrationData;const a=[{title:"Name",dataIndex:"name",key:"name"},{title:"Fee (INR)",dataIndex:"fee",key:"fee"},{title:"Validity (Days)",dataIndex:"validity",key:"validity"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement(o.a,{title:"Are you sure delete this item?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))}],n=[{label:"Name ",key:"name",placeholder:"Name",required:!0,type:A.db},{label:"Fee",key:"fee",required:!0,type:A.Bb,follow:"INR"},{label:"Validity",key:"validity",required:!0,type:A.Bb,follow:"Days"}],s={successFn(t){Object(E.a)(A.sc,"Registration fees successfully created."),e.loadData()},errorFn(e){},action:Object(E.g)(y.Td,[this.props.active_practiceId]),method:"post"},r=[{key:"practice",value:this.state.active_practiceId}],l=C.a.create()(N.a);return i.a.createElement(d.a,null,i.a.createElement(l,en({fields:n,formProp:s,defaultValues:r},this.props)),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:a,dataSource:t}))}}const an=P.a.TabPane;class nn extends i.a.Component{constructor(e){super(e),this.state={}}render(){return i.a.createElement(d.a,null,i.a.createElement("h2",null,"Loyalty Settings"),i.a.createElement(l.a,null,i.a.createElement(P.a,null,i.a.createElement(an,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"percentage"}),"Offers"),key:"#offers"},i.a.createElement(qa,this.props)),i.a.createElement(an,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"pound"}),"Membership"),key:"#membership"},i.a.createElement(Ya,this.props)),i.a.createElement(an,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"pound"}),"Promo Code"),key:"#promocode"},i.a.createElement($a,this.props)),i.a.createElement(an,{tab:i.a.createElement("span",null,i.a.createElement(p.a,{type:"money"}),"Registration Fees"),key:"#AddRegistrationFees"},i.a.createElement(tn,this.props)))))}}function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class rn extends i.a.Component{constructor(e){super(e),this.state={redirect:!1,editFields:this.props.editTest?this.props.editTest:null,productMargin:[]},this.changeRedirect=this.changeRedirect.bind(this),this.loadProductMargin()}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e,editFields:{}})}loadProductMargin(){const e=this;Object(E.c)(y.Md,(function(t){e.setState({productMargin:t})}),(function(){}))}render(){const e=this,t=C.a.create()(N.a),a=[{label:"Test Name",key:"name",placeholder:"Test Name",type:A.db,initialValue:this.state.editFields?this.state.editFields.name:null,required:!0},{label:"Cost",key:"cost",type:A.Bb,initialValue:this.state.editFields?this.state.editFields.cost:null,required:!0,follow:"INR",min:1},{label:"MLM Margin Type",type:A.mc,initialValue:this.state.editFields?this.state.editFields.margin:null,key:"margin",required:!0,options:e.state.productMargin.map(e=>({label:e.name,value:e.id}))},{label:"Instructions",key:"instruction",placeholder:"Test Instructions",initialValue:this.state.editFields?this.state.editFields.instruction:null,type:A.vc}],n={successFn(t){Object(E.a)(A.sc,"success"),e.props.loadData(),e.props.history&&e.props.history.replace("/settings/labs")},errorFn(){},action:Object(E.g)(y.fc,[e.props.active_practiceId]),method:"post"},r=[];return this.state.editFields&&r.push({key:"id",value:this.state.editFields.id}),i.a.createElement(d.a,null,i.a.createElement(s.b,{exact:!0,path:"/settings/labs/add",render:e=>i.a.createElement(t,sn({title:"Add Lab",changeRedirect:this.changeRedirect,formProp:n,fields:a},e))}),i.a.createElement(s.b,{exact:!0,path:"/settings/labs/edit",render:e=>this.state.editFields?i.a.createElement(t,sn({title:"Add Lab",defaultValues:r,changeRedirect:this.changeRedirect},e,{formProp:n,fields:a})):i.a.createElement(s.a,{to:"/settings/labs"})}),i.a.createElement(c.a,null),this.state.redirect&&i.a.createElement(s.a,{to:"/settings/labs"}))}}function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class cn extends i.a.Component{constructor(e){super(e),this.state={tests:null,editTest:null,loading:!0,productMargin:null},this.editLabs=this.editLabs.bind(this),this.loadData=this.loadData.bind(this),this.deleteTest=this.deleteTest.bind(this),this.loadProductMargin=this.loadProductMargin.bind(this)}componentDidMount(){this.loadData(),this.loadProductMargin()}loadData(e=1){const t=this;Object(E.c)(Object(E.g)(y.fc,[t.props.active_practiceId]),(function(e){console.log("get table"),e.current?t.setState({next:e.next,tests:e.results,loading:!1}):t.setState((function(t){return{next:e.next,tests:[...t.tests,...e.results],loading:!1}}))}),(function(){t.setState({loading:!1})}))}editLabs(e){const t=this;this.setState({editTest:e,loading:!1},(function(){t.props.history.push("/settings/labs/edit")}))}deleteTest(e){const t=this,a=e;a.is_active=!1;Object(E.k)(Object(E.g)(y.fc,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}loadProductMargin(){const e=this;Object(E.c)(y.Md,(function(t){e.setState({productMargin:t})}),(function(){}))}render(){const e=this,t={};this.state.productMargin&&this.state.productMargin.forEach((function(e){t[e.id]=e.name}));const a=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:" Test Instructions",dataIndex:"instruction",key:"instruction"},{title:" MLM Margin",key:"margin",render:(e,a)=>i.a.createElement("span",null," ",t[a.margin])},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>e.editLabs(a)},"Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this test?",onConfirm:()=>e.deleteTest(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return(i.a.createElement(d.a,null,i.a.createElement(s.b,{exact:!0,path:"/settings/labs/add",render:t=>i.a.createElement(rn,ln({},e.state,{loadData:this.loadData},this.props,t))}),i.a.createElement(s.b,{exact:!0,path:"/settings/labs/edit",render:t=>i.a.createElement(rn,ln({},e.state,{loadData:this.loadData},this.props,t))}),i.a.createElement(s.b,{exact:!0,path:"/settings/labs"},i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement("h2",null,i.a.createElement(b.b,{to:"/settings/labs/add"},i.a.createElement(m.a,{type:"primary",style:{float:"right"}},i.a.createElement(p.a,{type:"plus"})," Add")))),i.a.createElement(z.a,{columns:a,dataSource:this.state.tests,pagination:!1}),i.a.createElement(We.a,{loading:this.state.loading,hidden:!this.state.next,loaderFunction:()=>this.loadData(this.state.next)})))))}}var on=cn;function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(a),!0).forEach((function(t){un(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function un(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}D.a.Option;class hn extends i.a.Component{constructor(e){super(e),un(this,"onChangeHandler",e=>{this.setState({panelCost:e})}),un(this,"onChangeSelect",e=>{this.setState((function(t){if(t.selectedTest[e])return Object(E.a)(A.Dc,"Item Already Added"),{};let a=null;for(let n=0;n<t.tests.length;n++)if(t.tests[n].id==e){a=t.tests[n];break}return a?{selectedTest:pn(pn({},t.selectedTest),{},{[e]:a})}:{}}))}),un(this,"removeLabPanel",e=>{this.setState((function(e){return{}})),console.log("id",e)}),un(this,"handleSubmit",e=>{e.preventDefault();const t=this;this.props.form.validateFields((e,a)=>{if(!e){const e=pn(pn({},a),{},{tests:Object.keys(this.state.selectedTest)});console.log("test",e);const n=function(e){t.props.history&&t.props.history.replace("/settings/labs")},i=function(){};Object(E.k)(Object(E.g)(y.ec,[t.props.active_practiceId]),e,n,i)}})}),this.state={panelCost:0,tests:[],selectedTest:{}},this.loadTests=this.loadTests.bind(this),this.handleCancel=this.handleCancel.bind(this)}componentDidMount(){this.loadTests()}loadTests(){const e=this;Object(E.c)(Object(E.g)(y.fc,[e.props.active_practiceId]),(function(t){e.setState({tests:t.results,loading:!1}),console.log(JSON.stringify(e.state.tests))}),(function(){e.setState({loading:!1})}))}onChangeCostCalculate(){}handleCancel(){this.props.history.push("/settings/labs")}render(){const e=this,t={labelCol:{xs:{span:8},sm:{span:8},md:{span:8},lg:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16},md:{span:16},lg:{span:16}}},a=Object.keys(this.state.selectedTest);let n=0;a.forEach((function(t){n+=parseInt(e.state.selectedTest[t].cost)}));const s=this.props.form.getFieldDecorator,r=this.state.tests.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name));return i.a.createElement(d.a,null,i.a.createElement(g.a,{span:18},i.a.createElement(C.a,{onSubmit:this.handleSubmit},i.a.createElement(C.a.Item,dn({label:"Panel Name"},t),s("name",{})(i.a.createElement(Ee.a,null))),i.a.createElement(C.a.Item,dn({label:i.a.createElement("span",null,"Test Name")},t),i.a.createElement(D.a,{style:{width:"100%"},onChange:this.onChangeSelect},r),i.a.createElement("div",null,a?a.map(t=>i.a.createElement("p",{key:t},e.state.selectedTest[t].name," ",i.a.createElement("span",{style:{paddingLeft:"50%"}},this.state.selectedTest[t].cost),i.a.createElement(m.a,{icon:"close",style:{float:"right"},onClick:()=>this.removeLabPanel(e.state.selectedTest[t].id),type:"danger",shape:"circle",size:"small"}))):null)),i.a.createElement(C.a.Item,dn({label:i.a.createElement("span",null,"Panel Cost")},t),s("cost",{initialValue:n})(i.a.createElement(qe.a,null)),i.a.createElement("span",{className:"ant-form-text"}," Total : ","number"==typeof n?n:0)),i.a.createElement(C.a.Item,null,i.a.createElement(m.a,{type:"primary",htmlType:"submit"},"Submit"),"   ",i.a.createElement(m.a,{onClick:this.handleCancel},"Cancel")))))}}var gn=C.a.create()(hn);function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function bn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(a),!0).forEach((function(t){En(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function En(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class _n extends i.a.Component{constructor(e){super(e),this.state={labPanel:null,editTest:null,selectedTest:{}},this.loadLabPanel=this.loadLabPanel.bind(this),this.editPanels=this.editPanels.bind(this)}componentDidMount(){this.loadLabPanel()}loadLabPanel(){const e=this;Object(E.c)(Object(E.g)(y.ec,[e.props.active_practiceId]),(function(t){e.setState({labPanel:t,loading:!1})}),(function(){e.setState({})}))}editPanels(e){const t=this;this.setState({editTest:e,loading:!1},(function(){t.props.history.push("/settings/labs/edit")}))}deleteLabPanel(e){const t=this,a=yn(yn({},e),{},{is_active:!1,tests:Object.keys(this.state.selectedTest)});Object(E.k)(Object(E.g)(y.ec,[this.props.active_practiceId]),a,(function(e){t.loadLabPanel()}),(function(){}))}render(){const e=this,t={};this.state.productMargin&&this.state.productMargin.forEach((function(e){t[e.id]=e.name}));const a=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>e.editPanels(a)},"Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this test?",onConfirm:()=>e.deleteLabPanel(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],n=[{title:"Name",dataIndex:"name",key:"code"},{title:"Cost",dataIndex:"cost",key:"cost"},{title:" Test Instructions",dataIndex:"instruction",key:"instruction"}];return i.a.createElement(d.a,null,i.a.createElement(s.b,{exact:!0,path:"/settings/labs/add",render:t=>i.a.createElement(gn,fn({},e.state,{loadData:this.loadData},this.props,t))}),i.a.createElement(s.b,{exact:!0,path:"/settings/labs/edit",render:t=>i.a.createElement(gn,fn({},e.state,{loadData:this.loadData},this.props,t))}),i.a.createElement(s.b,{exact:!0,path:"/settings/labs"},i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement("h2",null,i.a.createElement(b.b,{to:"/settings/labs/add"},i.a.createElement(m.a,{type:"primary",style:{float:"right"}},i.a.createElement(p.a,{type:"plus"})," Add")))),i.a.createElement(z.a,{loading:this.state.loading,columns:a,expandedRowRender:e=>i.a.createElement(l.a,null,i.a.createElement(u.a,{pagination:!1,columns:n,dataSource:e.tests})),dataSource:this.state.labPanel}))))}}const vn=P.a.TabPane;class kn extends i.a.Component{constructor(e){super(e),this.state={}}render(){return i.a.createElement("div",null,i.a.createElement("h2",null,"Lab Tracking"),i.a.createElement(l.a,null,i.a.createElement(P.a,null,i.a.createElement(vn,{key:"labTests",tab:"Lab Tests"},i.a.createElement(on,this.props)),i.a.createElement(vn,{key:"labPanels",tab:"Lab Panels"},i.a.createElement(_n,this.props)))))}}function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Pn extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{const e=this;Object(E.c)(Object(E.g)(y.df,[this.props.active_practiceId]),(function(t){e.setState({taxes:t})}),(function(){}))},(a="loadRequiredData")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={editPackage:this.props.editPackage?this.props.editPackage:null,taxes:[]}}componentDidMount(){this.loadRequiredData()}render(){const e=this,t=C.a.create()(N.a),a=[{label:"Package Name",key:"name",required:!0,initialValue:this.props.editPackage?this.props.editPackage.name:null,type:A.db},{label:"Image",key:"image",initialValue:this.props.editPackage?this.props.editPackage.image:null,type:A.oc},{label:"Days of Booking",key:"no_of_days",required:!0,initialValue:this.props.editPackage?this.props.editPackage.no_of_days:null,type:A.Bb,follow:"INR"},{label:"Add Under",key:"under",initialValue:this.props.editPackage?this.props.editPackage.under:null,type:A.mc,disabled:this.props.editPackage?this.props.editPackage.children.length:null,options:e.props.packages.map(e=>({label:e.name,value:e.id}))},{label:"Price",key:"price",required:!0,initialValue:this.props.editPackage?this.props.editPackage.final_price:null,type:A.Bb,follow:"INR"},{label:"Same State Taxes",key:"taxes",initialValue:this.props.editPackage&&this.props.editPackage.taxes?this.props.editPackage.taxes.map(e=>e.id):[],type:A.xb,options:this.state.taxes.map(e=>Object.create({label:"".concat(e.name,"(").concat(e.tax_value,"%)"),value:e.id}))},{label:"Other State Taxes",key:"state_taxes",initialValue:this.props.editPackage&&this.props.editPackage.state_taxes?this.props.editPackage.state_taxes.map(e=>e.id):[],type:A.xb,options:this.state.taxes.map(e=>Object.create({label:"".concat(e.name,"(").concat(e.tax_value,"%)"),value:e.id}))}],n={method:"post",action:Object(E.g)(y.zc,[this.props.active_practiceId]),successFn(){Object(E.a)(A.sc,"Package Saved Successfully"),e.props.loadData&&e.props.loadData(),e.props.history.replace("/settings/medicine-packages")},errorFn(){}},s=[];return this.state.editPackage&&s.push({key:"id",value:this.state.editPackage.id}),i.a.createElement("div",null,i.a.createElement(l.a,null,i.a.createElement(t,Sn({fields:a,formProp:n,defaultValues:s,title:this.state.editPackage?"Edit Medicine Package":"Add Medicine Packages"},this.props))))}}function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class xn extends i.a.Component{constructor(e){super(e),jn(this,"loadData",()=>{const e=this;Object(E.c)(Object(E.g)(y.zc,[this.props.active_practiceId]),(function(t){e.setState({loading:!1,packages:t})}),(function(){e.setState({loading:!1})}))}),jn(this,"editObject",e=>{this.setState({editPackage:e,loading:!1}),this.props.history.push("/settings/medicine-packages/edit")}),this.state={loading:!1,packages:[]}}componentDidMount(){this.loadData()}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.k)(Object(E.g)(y.zc,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{dataIndex:"image",key:"image",render:e=>e?i.a.createElement("img",{src:Object(E.h)(e),alt:"",style:{maxWidth:200,maxHeight:100}}):null},{title:"Package Name",dataIndex:"name",key:"name"},{title:"Days",dataIndex:"no_of_days",key:"no_of_days"},{title:"Price (INR) + Tax",dataIndex:"final_price",key:"price"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement(b.b,{to:"/settings/medicine-packages/add?under=".concat(a.id),disabled:a.under},"Add SubCategory"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement("a",{onClick:()=>this.editObject(a)},"Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this item?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/settings/medicine-packages/add",render:e=>i.a.createElement(Pn,On({},this.props,this.state,e,{editPackage:null,loadData:this.loadData}))}),i.a.createElement(s.b,{path:"/settings/medicine-packages/edit",render:e=>this.state.editPackage?i.a.createElement(Pn,On({},this.state,this.props,e,{loadData:this.loadData})):i.a.createElement(s.a,{to:"/settings/medicine-packages"})}),i.a.createElement(s.b,null,i.a.createElement(l.a,{title:i.a.createElement("h4",null,"Medicine Packages ",i.a.createElement(b.b,{to:"/settings/medicine-packages/add"},i.a.createElement(m.a,{style:{float:"right"},type:"primary"},i.a.createElement(p.a,{type:"plus"})," Add")))},i.a.createElement(z.a,{dataSource:this.state.packages,loading:this.state.loading,columns:t}))))}}function Cn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Dn extends i.a.Component{constructor(e){super(e),Cn(this,"handleCancel",()=>{this.setState({visible:!1})}),Cn(this,"showDeletedExpenses",()=>{this.setState({showDeleted:!0,deletedLoading:!0}),this.loadData(!0)}),this.state={redirect:!1,visible:!1,diseases:null,loading:!0,showDeleted:!1,deletedLoading:!1,deletedRooms:[],editObj:{}},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}loadData(e=!1){const t=this,a=function(a){console.log("get table"),e?t.setState({deletedRooms:a,deletedLoading:!1}):t.setState({diseases:a,loading:!1})},n=function(){e?t.setState({deletedLoading:!1}):t.setState({loading:!1})};e?Object(E.c)(Object(E.g)(y.ob,[this.props.active_practiceId]),a,n,{deleted:!0,practice:this.props.active_practiceId}):Object(E.c)(Object(E.g)(y.ob,[this.props.active_practiceId]),a,n)}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editTax(e){this.setState({editObj:e,visible:!0})}deleteObject(e,t){const a=this,n=e;n.is_active=t;Object(E.k)(Object(E.g)(y.ob,[this.props.active_practiceId]),n,(function(e){a.loadData(),a.state.showDeleted&&a.loadData(!0)}),(function(){}))}render(){const e=this,t=[{title:"Disease",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:(t,a)=>a.is_active?i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editTax(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>e.deleteObject(a,!1),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete"))):i.a.createElement("span",null,i.a.createElement(o.a,{title:"Are you sure show this?",onConfirm:()=>e.deleteObject(a,!0),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Show")))}],a=[{label:"Disease",key:"name",required:!0,type:A.db}],n=[{label:"Disease",key:"name",required:!0,initialValue:this.state.editObj.name,type:A.db}],s={successFn(t){e.handleCancel(),e.loadData(),console.log(t),console.log("sucess"),Object(E.a)(A.sc,"success")},errorFn(){},action:Object(E.g)(y.ob,[this.props.active_practiceId]),method:"post"},r=[{key:"practice",value:this.props.active_practiceId}],d=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editObj.id}],p=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement("h2",null,"Disease List"),i.a.createElement(l.a,null,i.a.createElement(p,{defaultValues:r,formProp:s,fields:a}),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.diseases})),i.a.createElement(h.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(p,{title:"Edit Disease",defaultValues:d,formProp:s,fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}var wn=Dn;class In extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{this.setState({visible:!1})},(a="handleCancel")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={redirect:!1,visible:!1,data:null,loading:!0},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this;Object(E.c)(Object(E.g)(y.f,[this.props.active_practiceId]),(function(t){e.setState({data:t,loading:!1})}),(function(){e.setState({loading:!1})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editFunction(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.k)(Object(E.g)(y.f,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:(e,t)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editFunction(t)},"  Edit"))}],a=[{label:"Role Name",key:"name",placeholder:"Advisor roles",required:!0,type:A.db}],n=[{label:"Role Name",key:"name",required:!0,initialValue:this.state.editingName,type:A.db}],s={successFn(t){e.handleCancel(),e.loadData(),console.log("sucess"),Object(E.a)(A.sc,"success")},errorFn(){},action:Object(E.g)(y.f,[this.props.active_practiceId]),method:"post"},r=[{key:"practice",value:this.props.active_practiceId}],o=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],d=C.a.create()(N.a);return i.a.createElement(l.a,{title:"Add Advisor Roles"},i.a.createElement(d,{defaultValues:r,formProp:s,fields:a}),i.a.createElement(c.a,null),i.a.createElement(u.a,{loading:this.state.loading,columns:t,dataSource:this.state.data}),i.a.createElement(h.a,{title:"Edit Advisor Roles",visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(d,{defaultValues:o,formProp:s,fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return")))}}var Tn=In;function Mn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Vn extends n.Component{constructor(e){super(e),Mn(this,"loadCountry",()=>{const e=this;e.setState({loading:!0});Object(E.c)(y.lb,(function(t){e.setState({country:t,loading:!1})}),(function(t){e.setState({loading:!1})}))}),Mn(this,"handleCancel",()=>{this.setState({visible:!1})}),this.state={loading:!1,country:[],editObj:{},visible:!1}}componentDidMount(){this.loadCountry()}deleteObject(e,t){const a=this,n=e;n.is_active=t,a.setState({loading:!0});Object(E.k)(y.lb,n,(function(e){a.loadCountry(),a.setState({loading:!1})}),(function(){a.setState({loading:!1})}))}editCountry(e){this.setState({editObj:e,visible:!0})}render(){const e=this,t=this.state,a=t.country,n=t.loading,s=[{title:"S. No.",key:"name",render:(e,t,a)=>i.a.createElement("span",null,a+1)},{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>i.a.createElement("span",null,e)},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editCountry(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>e.deleteObject(a,!1),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],r=[{label:"Country Name",key:"name",required:!0,type:A.db}],l=[{label:"Country Name",key:"name",required:!0,initialValue:this.state.editObj.name,type:A.db}],d={successFn(t){e.handleCancel(),e.loadCountry(),Object(E.a)(A.sc,"Country Saved Successfully!!")},errorFn(){},action:y.lb,method:"post"},m=[{key:"id",value:this.state.editObj.id}],p=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement("h2",null,"Country"),i.a.createElement(p,{defaultValues:[],formProp:d,fields:r}),i.a.createElement(c.a,null),i.a.createElement(z.a,{rowKey:e=>e.id,hideReport:!0,loading:n,columns:s,dataSource:a,pagination:!1}),i.a.createElement(h.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(p,{title:"Edit Country",defaultValues:m,formProp:d,fields:l})))}}var Nn=Vn;function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Rn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ln(e,t,a,n,i,s,r){try{var l=e[s](r),c=l.value}catch(e){return void a(e)}l.done?t(c):Promise.resolve(c).then(n,i)}function Fn(e){return function(){var t=this,a=arguments;return new Promise((function(n,i){var s=e.apply(t,a);function r(e){Ln(s,n,i,r,l,"next",e)}function l(e){Ln(s,n,i,r,l,"throw",e)}r(void 0)}))}}function Hn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class qn extends n.Component{constructor(e){var t;super(e),t=this,Hn(this,"componentDidMount",()=>{this.loadCountry()}),Hn(this,"loadCountry",Fn(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t).setState({loading:!0}),n=function(e){e[0]&&a.setState({countryData:e,loading:!1})},i=function(e){a.setState({loading:!1})},Object(E.c)(y.lb,n,i);case 5:case"end":return e.stop()}}),e)})))),Hn(this,"loadState",()=>{const e=this,t=e.state.country;e.setState({loading:!0});const a={country:t};Object(E.c)(y.Ke,(function(t){e.setState({stateData:t,loading:!1})}),(function(t){e.setState({loading:!1})}),a)}),Hn(this,"onChangeValue",(e,t)=>{const a=this;this.props.form.setFieldsValue;a.setState({[e]:t},(function(){"country"==e&&a.loadState()}))}),Hn(this,"handleCancel",()=>{this.setState({visible:!1})}),Hn(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){const e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(a),!0).forEach((function(t){Hn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a),n=function(e){Object(E.a)(A.sc,"State Saved Successfully!!"),t.setState({loading:!1}),t.loadState()},i=function(){t.setState({loading:!1})};console.log("reqData",e),Object(E.k)(y.Ke,e,n,i)}})}),this.state={loading:!1,visible:!1,editObj:{},stateData:[],countryData:[],country:null}}editState(e){this.setState({editObj:e,visible:!0})}deleteObject(e,t){const a=this,n=e;n.is_active=t,a.setState({loading:!0});Object(E.k)(y.Ke,n,(function(e){a.setState({loading:!1}),a.loadState(a.state.selectedCountry)}),(function(){a.setState({loading:!1})}))}render(){const e=this,t=this.state,a=t.countryData,n=t.stateData,s=t.loading,r={labelCol:{span:6},wrapperCol:{span:14}},l=this.props.form.getFieldDecorator,d=[{title:"S. No.",key:"name",render:(e,t,a)=>i.a.createElement("span",null,a+1)},{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>i.a.createElement("span",null,e)},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editState(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>e.deleteObject(a,!1),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],p={successFn(t){e.handleCancel(),e.loadState(t.country),Object(E.a)(A.sc,"success")},errorFn(){},action:y.Ke,method:"post"},u=[{label:"State Name",key:"name",required:!0,initialValue:this.state.editObj.name,type:A.db}],g=C.a.create()(N.a),f=[{key:"id",value:this.state.editObj.id}];return i.a.createElement("div",null,i.a.createElement("h2",null,"State "),i.a.createElement(C.a,{onSubmit:e.handleSubmit},i.a.createElement(C.a.Item,An({key:"country"},r,{label:"Country"}),l("country",{rules:[{required:!0,message:"This field is required!"}]})(i.a.createElement(D.a,{placeholder:"Select Country",onChange:e=>this.onChangeValue("country",e),showSearch:!0,optionFilterProp:"children"},a.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name))))),i.a.createElement(C.a.Item,An({label:"State Name"},r),l("name",{rules:[{required:!0,message:"This field is required!!"}],initialValue:""})(i.a.createElement(Ee.a,{placeholder:"State Name"}))),i.a.createElement(C.a.Item,null,e.props.history?i.a.createElement(m.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null,i.a.createElement(m.a,{style:{margin:5},type:"primary",htmlType:"submit",loading:this.state.loading},"Save"))),i.a.createElement(c.a,null),i.a.createElement(z.a,{rowKey:e=>e.id,hideReport:!0,loading:s,columns:d,dataSource:n,pagination:!1}),i.a.createElement(h.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(g,{title:"Edit State",defaultValues:f,formProp:p,fields:u})))}}var Gn=C.a.create()(qn);function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Un(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Yn(e,t,a,n,i,s,r){try{var l=e[s](r),c=l.value}catch(e){return void a(e)}l.done?t(c):Promise.resolve(c).then(n,i)}function Kn(e){return function(){var t=this,a=arguments;return new Promise((function(n,i){var s=e.apply(t,a);function r(e){Yn(s,n,i,r,l,"next",e)}function l(e){Yn(s,n,i,r,l,"throw",e)}r(void 0)}))}}function zn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Wn extends n.Component{constructor(e){var t;super(e),t=this,zn(this,"componentDidMount",()=>{this.loadCountry()}),zn(this,"loadCountry",Kn(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t).setState({loading:!0}),n=function(e){a.setState({countryData:e,loading:!1})},i=function(e){a.setState({loading:!1})},Object(E.c)(y.lb,n,i);case 5:case"end":return e.stop()}}),e)})))),zn(this,"loadState",()=>{const e=this,t=e.state.country;e.setState({loading:!0});const a={country:t};Object(E.c)(y.Ke,(function(t){e.setState({stateData:t,loading:!1})}),(function(t){e.setState({loading:!1})}),a)}),zn(this,"loadCity",()=>{const e=this,t=e.state.state;e.setState({loading:!0});const a={state:t};Object(E.c)(y.Z,(function(t){e.setState({cityData:t,loading:!1})}),(function(){e.setState({loading:!1})}),a)}),zn(this,"onChangeValue",(e,t)=>{const a=this,n=this.props.form.setFieldsValue;a.setState({[e]:t},(function(){"country"==e&&(n({state:null}),a.loadState()),"state"==e&&a.loadCity()}))}),zn(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){const e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(a),!0).forEach((function(t){zn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Un(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a),n=function(e){Object(E.a)(A.sc,"City Saved Successfully!!"),t.setState({loading:!1}),t.loadCity()},i=function(){t.setState({loading:!1})};console.log("reqData",e),Object(E.k)(y.Z,e,n,i)}})}),zn(this,"handleCancel",()=>{this.setState({visible:!1})}),this.state={loading:!1,visible:!1,stateData:[],countryData:[],editObj:{},country:null,state:null}}editState(e){this.setState({editObj:e,visible:!0})}deleteObject(e,t){const a=this,n=e;n.is_active=t,a.setState({loading:!0});Object(E.k)(y.Z,n,(function(e){a.setState({loading:!1}),a.loadCity()}),(function(){a.setState({loading:!1})}))}render(){const e=this,t=this.state,a=t.countryData,n=t.stateData,s=t.loading,r=t.cityData,l=this.props.form.getFieldDecorator,d=[{title:"S. No.",key:"name",render:(e,t,a)=>i.a.createElement("span",null,a+1)},{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>i.a.createElement("span",null,e)},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editState(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure to delete this?",onConfirm:()=>e.deleteObject(a,!1),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],p={labelCol:{span:6},wrapperCol:{span:14}},u=[{label:"City Name",key:"name",required:!0,initialValue:this.state.editObj.name,type:A.db}],g={successFn(t){e.handleCancel(),e.loadCity(),Object(E.a)(A.sc,"success")},errorFn(){},action:y.Z,method:"post"},f=C.a.create()(N.a),b=[{key:"id",value:this.state.editObj.id}];return i.a.createElement("div",null,i.a.createElement("h2",null,"City "),i.a.createElement(C.a,{onSubmit:e.handleSubmit},i.a.createElement(C.a.Item,Bn({key:"country"},p,{label:"Country"}),l("country",{rules:[{required:!0,message:"This field is required!"}]})(i.a.createElement(D.a,{placeholder:"Select Country",onChange:e=>this.onChangeValue("country",e),showSearch:!0,optionFilterProp:"children"},a.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name))))),i.a.createElement(C.a.Item,Bn({key:"state"},p,{label:"State"}),l("state",{rules:[{required:!0,message:"This field is required!"}]})(i.a.createElement(D.a,{placeholder:"Select State",onChange:e=>this.onChangeValue("state",e),showSearch:!0,optionFilterProp:"children"},n.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name))))),i.a.createElement(C.a.Item,Bn({label:"City Name"},p),l("name",{rules:[{required:!0,message:"This field is required!"}],initialValue:""})(i.a.createElement(Ee.a,{placeholder:"City Name"}))),i.a.createElement(C.a.Item,null,e.props.history?i.a.createElement(m.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null,i.a.createElement(m.a,{style:{margin:5},type:"primary",htmlType:"submit",loading:this.state.loading},"Save"))),i.a.createElement(c.a,null),i.a.createElement(z.a,{rowKey:e=>e.id,hideReport:!0,loading:s,columns:d,dataSource:r,pagination:!1}),i.a.createElement(h.a,{visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(f,{title:"Edit City",defaultValues:b,formProp:g,fields:u})))}}var Zn=C.a.create()(Wn);const Jn=P.a.TabPane;class Qn extends n.Component{constructor(e){super(e),this.state={}}render(){return i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement("h2",null,"Address Settings"),i.a.createElement(l.a,null,i.a.createElement(P.a,{defaultActiveKey:"address"},i.a.createElement(Jn,{tab:i.a.createElement("span",null,"Country"),key:"country"},i.a.createElement(Nn,this.props)),i.a.createElement(Jn,{tab:i.a.createElement("span",null,"State"),key:"state"},i.a.createElement(Gn,this.props)),i.a.createElement(Jn,{tab:i.a.createElement("span",null,"City "),key:"city"},i.a.createElement(Zn,this.props))))))}}var Xn=Qn;function $n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ei(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(a),!0).forEach((function(t){ti(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ti(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ai extends i.a.Component{constructor(e){super(e),ti(this,"handleCancel",()=>{this.setState({visible:!1})}),this.state={redirect:!1,visible:!1,data:null,loading:!0},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this;Object(E.c)(this.props.item.api,(function(t){e.setState({data:t,loading:!1})}),(function(){e.setState({loading:!1})}),{name:this.props.item.label})}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editFunction(e){this.setState({editingId:e.id,editingName:e.value,visible:!0,loading:!1})}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(E.m)("".concat(this.props.item.api+a.id,"/"),a,(function(e){Object(E.a)(A.sc,"".concat(t.props.item.label," deleted successfully!")),t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Name",dataIndex:"value",key:"value"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editFunction(a)},"  Edit"),i.a.createElement(c.a,{type:"vertical"}),i.a.createElement(o.a,{title:"Are you sure delete this item?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],a=[{label:this.props.item.label,key:"value",required:!0,type:A.db}],n=[{label:this.props.item.label,key:"value",required:!0,initialValue:this.state.editingName,type:A.db}],s={successFn(t){e.handleCancel(),e.loadData(),Object(E.a)(A.sc,"".concat(e.props.item.label," Successfully Recorded!!"))},errorFn(){},action:this.props.item.api,method:"post"},r=[{key:"practice",value:this.props.active_practiceId},{key:"name",value:this.props.item.label}],l=[{key:"practice",value:this.props.active_practiceId},{key:"name",value:this.props.item.label},{key:"id",value:this.state.editingId}],d=C.a.create()(N.a);return i.a.createElement("div",null,i.a.createElement(d,{defaultValues:r,formProp:s,fields:a}),i.a.createElement(c.a,null),i.a.createElement(z.a,{loading:this.state.loading,columns:t,dataSource:this.state.data,hideReport:!0,expandedRowRender:void 0}),i.a.createElement(h.a,{title:"Edit ".concat(this.props.item.label),visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(d,{defaultValues:l,formProp:ei(ei({},s),{},{action:"".concat(this.props.item.api+this.state.editingId,"/"),method:"put"}),fields:n}),i.a.createElement(m.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}var ni=ai;function ii(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const si=P.a.TabPane;class ri extends i.a.Component{constructor(e){super(e),ii(this,"loadDropdownSettingsList",()=>{const e=this;e.setState({listLoading:!0});Object(E.c)(y.Tb,(function(t){e.setState({listLoading:!1,dropdownList:t,currentTab:t[0]})}),(function(){e.setState({listLoading:!1}),Object(E.a)(A.T,"HR Settings loading failed!!")}))}),ii(this,"changeTab",e=>{this.setState({currentTab:e})}),this.state={currentTab:null,dropdownList:[],listLoading:!1}}componentDidMount(){this.loadDropdownSettingsList()}render(){const e=this.state,t=e.currentTab,a=e.listLoading,n=e.dropdownList;return(i.a.createElement("div",null,i.a.createElement("h2",null,"HR Settings"),i.a.createElement(l.a,null,i.a.createElement(T.a,{spinning:a},i.a.createElement(P.a,{onChange:this.changeTab},n.map(e=>i.a.createElement(si,{key:e,tab:e},e===t?i.a.createElement(ni,{key:e,item:{label:e,api:y.Sb}}):null)))))))}}function li(){return(li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ci(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oi(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(a),!0).forEach((function(t){pi(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ci(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function di(e,t,a,n,i,s,r){try{var l=e[s](r),c=l.value}catch(e){return void a(e)}l.done?t(c):Promise.resolve(c).then(n,i)}function mi(e){return function(){var t=this,a=arguments;return new Promise((function(n,i){var s=e.apply(t,a);function r(e){di(s,n,i,r,l,"next",e)}function l(e){di(s,n,i,r,l,"throw",e)}r(void 0)}))}}function pi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ui=e=>e?{rules:[{required:!0,message:"This field is required!"}]}:{};class hi extends n.Component{constructor(e){var t;super(e),t=this,pi(this,"componentDidMount",mi(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t.props.practiceId){e.next=5;break}return e.next=5,a.loadEditPractice();case 5:return e.next=7,Object(xe.d)(t,[R.Vb]);case 7:return e.next=9,a.getCountry();case 9:case"end":return e.stop()}}),e)})))),pi(this,"loadEditPractice",()=>{const e=this;Object(E.c)(Object(E.g)(y.Cd,[this.props.practiceId]),(function(t){let a=t.reg_country,n=t.reg_state;console.log("dat======",t),e.setState({reg_country:a,reg_state:n,practiceDetail:t})}),(function(){}))}),pi(this,"getCountry",mi(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t,n=function(){var e=mi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({countryList:t}),e.next=3,a.getState();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){},Object(E.c)(y.lb,n,i);case 4:case"end":return e.stop()}}),e)})))),pi(this,"getState",mi(regeneratorRuntime.mark((function e(){var a,n,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(a=t).state.reg_country,i=function(){var e=mi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({stateList:t});case 2:return e.next=4,a.getCity();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){},n&&Object(E.c)(y.Ke,i,s,{country:n});case 5:case"end":return e.stop()}}),e)})))),pi(this,"getCity",()=>{let e=this,t=e.state.reg_state,a=function(){var t=mi(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({cityList:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){};t&&Object(E.c)(y.Z,a,n,{state:t})}),pi(this,"onChangeValue",function(){var e=mi(regeneratorRuntime.mark((function e(a,n){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,s=t.props.form.setFieldsValue,e.next=4,i.setState({[a]:n});case 4:if("reg_country"!=a){e.next=9;break}return e.next=7,s({reg_state:null,reg_city:null});case 7:return e.next=9,i.getState();case 9:if("reg_state"!=a){e.next=14;break}return e.next=12,s({reg_city:null});case 12:return e.next=14,i.getCity();case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),pi(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){console.log("formValue",a);let e=oi({},a);const n="image";e[n]&&e[n].file&&e[n].file.response&&(e[n]=e[n].file.response.image_path);let i=function(e){Object(E.a)("Practice Saved Successfully!!"),t.setState({loading:!1}),t.props.history.replace("/settings/clinics")},s=function(){t.setState({loading:!1})};this.props.practiceId?Object(E.m)(Object(E.g)(y.Cd,[this.props.practiceId]),e,i,s):Object(E.k)(y.l,e,i,s)}})}),this.state={loading:!1,practiceDoctors:[],practiceDetail:null,[R.Vb]:[],countryList:[],stateList:[],cityList:[],reg_country:null,reg_state:null},Object(xe.c)(this)}render(){const e=this;let t=e.state,a=t.loading,n=t.practiceDoctors,s=t.countryList,r=t.cityList,c=t.stateList,o=t.practiceDetail;const d=this.props.form.getFieldDecorator,u={labelCol:{span:8},wrapperCol:{span:14}},h={name:"image",data:{name:"hello"},action:Object(E.i)(y.Lb),headers:{authorization:"authorization-text"},onChange(e){e.file.status,"done"===e.file.status?pa.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&pa.a.error("".concat(e.file.name," file upload failed."))}};return i.a.createElement("div",null,i.a.createElement(l.a,null,i.a.createElement("h2",null,"Practice Details"),i.a.createElement(C.a,{onSubmit:e.handleSubmit},i.a.createElement(C.a.Item,li({key:"image"},u,{label:"Patient Image"}),d("image",{valuePropName:"image"})(i.a.createElement(ua.a,h,i.a.createElement(m.a,null,i.a.createElement(p.a,{type:"upload"})," Select File")))),i.a.createElement(C.a.Item,li({},u,{key:"name",label:"Practice Name"}),d("name",{rules:[{required:!0,message:"This field is required!"}],initialValue:o?o.name:""})(i.a.createElement(Ee.a,{placeholder:"Practice Name"}))),i.a.createElement(C.a.Item,li({},u,{key:"tagline",label:"Practice Tagline"}),d("tagline",{rules:[{required:!0,message:"This field is required!"}],initialValue:o?o.tagline:""})(i.a.createElement(Ee.a,{placeholder:"Practice Tagline"}))),i.a.createElement(C.a.Item,li({},u,{key:"specialisation",label:"Practice Specialisation"}),d("specialisation",{initialValue:o?o.specialisation:""})(i.a.createElement(Ee.a,{placeholder:"Practice Specialisation"}))),i.a.createElement(C.a.Item,li({},u,{key:"address",label:"Practice Street Address"}),d("address",{initialValue:o?o.address:""})(i.a.createElement(Ee.a,{placeholder:"Practice Street Address"}))),i.a.createElement(C.a.Item,li({},u,{key:"locality",label:"Practice Locality"}),d("locality",{initialValue:o?o.locality:""})(i.a.createElement(Ee.a,{placeholder:"Practice Locality"}))),i.a.createElement(C.a.Item,li({},u,{key:"country",label:"Practice Country"}),d("country",{initialValue:o?o.country:""})(i.a.createElement(Ee.a,{placeholder:"Practice Country"}))),i.a.createElement(C.a.Item,li({},u,{key:"state",label:"Practice State"}),d("state",{initialValue:o?o.state:""})(i.a.createElement(Ee.a,{placeholder:"Practice State"}))),i.a.createElement(C.a.Item,li({},u,{key:"city",label:"Practice City"}),d("city",{initialValue:o?o.city:""})(i.a.createElement(Ee.a,{placeholder:"Practice City"}))),i.a.createElement(C.a.Item,li({},u,{key:"pincode",label:"Practice PINCODE"}),d("pincode",{initialValue:o?o.pincode:""})(i.a.createElement(Ee.a,{placeholder:"Practice PINCODE"}))),i.a.createElement(C.a.Item,li({},u,{key:"contact",label:"Practice Contact Number"}),d("contact",{initialValue:o?o.contact:""})(i.a.createElement(Ee.a,{placeholder:"Practice Contact Number"}))),i.a.createElement(C.a.Item,li({},u,{key:"email",label:"Practice Email"}),d("email",{initialValue:o?o.email:""})(i.a.createElement(Ee.a,{placeholder:"Practice Email"}))),i.a.createElement(C.a.Item,li({},u,{key:"language",label:"SMS Language "}),d("language",{initialValue:o?o.language:[]})(i.a.createElement(D.a,{placeholder:"SMS Language "},this.state[R.Vb].map(e=>i.a.createElement(D.a.Option,{value:e},e))))),i.a.createElement(C.a.Item,li({},u,{key:"website",label:"Practice Website"}),d("website",{initialValue:o?o.website:""})(i.a.createElement(Ee.a,{placeholder:"Practice Website"}))),i.a.createElement(C.a.Item,li({},u,{key:"invoice_prefix",label:"Invoice Prefix"}),d("invoice_prefix",{rules:[{required:!0,message:"This field is required!"}],initialValue:o?o.invoice_prefix:""})(i.a.createElement(Ee.a,{placeholder:"DEL/INV/"}))),i.a.createElement(C.a.Item,li({},u,{key:"proforma_prefix",label:"Proforma Prefix"}),d("proforma_prefix",{rules:[{required:!0,message:"This field is required!"}],initialValue:o?o.proforma_prefix:""})(i.a.createElement(Ee.a,{placeholder:"DEL/PRO/"}))),i.a.createElement(C.a.Item,li({},u,{key:"payment_prefix",label:"Payment Prefix"}),d("payment_prefix",{initialValue:o?o.payment_prefix:""})(i.a.createElement(Ee.a,{placeholder:"DEL/RCPT/"}))),i.a.createElement(C.a.Item,li({},u,{key:"return_prefix",label:"Return Prefix"}),d("return_prefix",{initialValue:o?o.return_prefix:""})(i.a.createElement(Ee.a,{placeholder:"DEL/RET/"}))),i.a.createElement(C.a.Item,li({},u,{key:"default_doctor",label:"Default Doctor"}),d("default_doctor",{initialValue:o?o.default_doctor:[]})(i.a.createElement(D.a,{placeholder:"Default Doctor"},n.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.user.first_name))))),i.a.createElement(C.a.Item,li({},u,{key:"gstin",label:"GSTIN"}),d("gstin",{initialValue:o?o.gstin:""})(i.a.createElement(Ee.a,{placeholder:"GSTIN"}))),i.a.createElement(C.a.Item,li({key:"reg_country"},u,{label:"Country"}),d("reg_country",oi(oi({},ui(!(this.state.country&&this.state.country==A.db))),{},{initialValue:o?o.reg_country:[]}))(i.a.createElement(D.a,{placeholder:"Select Country",onChange:e=>this.onChangeValue("reg_country",e),showSearch:!0,optionFilterProp:"children"},s.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name))))),i.a.createElement(C.a.Item,li({key:"reg_state"},u,{label:"State"}),d("reg_state",oi(oi({},ui(!(this.state.country==A.db||this.state.state&&this.state.state==A.db))),{},{initialValue:o?o.reg_state:[]}))(i.a.createElement(D.a,{placeholder:"Select State",onChange:e=>this.onChangeValue("reg_state",e),showSearch:!0,optionFilterProp:"children"},c.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name))))),i.a.createElement(C.a.Item,li({key:"reg_city"},u,{label:"City"}),d("reg_city",oi(oi({},ui(!(this.state.country==A.db||this.state.state==A.db||this.state.city&&this.state.city==A.db))),{},{initialValue:o?o.reg_city:[]}))(i.a.createElement(D.a,{showSearch:!0,optionFilterProp:"children",placeholder:"Select City"},r.map(e=>i.a.createElement(D.a.Option,{value:e.id},e.name))))),i.a.createElement(C.a.Item,null,e.props.history?i.a.createElement(m.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null,i.a.createElement(m.a,{style:{margin:5},type:"primary",htmlType:"submit",loading:a},"Save")))))}}var gi=C.a.create()(hi);function fi(){return(fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const bi=r.a.Content;class yi extends i.a.Component{constructor(e){super(e),this.state={collapsed:!1}}render(){return i.a.createElement(bi,{className:"main-container",style:{minHeight:280}},i.a.createElement(r.a,null,i.a.createElement(ea,this.props),i.a.createElement(bi,{style:{margin:"24px 16px",minHeight:280}},i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/adddoctor",render:e=>this.props.activePracticePermissions.SettingsPracticeStaff||this.props.allowAllPermissions?i.a.createElement(ge,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/:doctorid/edit",render:e=>this.props.activePracticePermissions.SettingsPracticeStaff||this.props.allowAllPermissions?i.a.createElement(ge,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/addstaff",render:e=>this.props.activePracticePermissions.SettingsPracticeStaff||this.props.allowAllPermissions?i.a.createElement(ye,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/staff/:staffid/edit",render:e=>this.props.activePracticePermissions.SettingsPracticeStaff||this.props.allowAllPermissions?i.a.createElement(ye,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/addgroup",render:e=>this.props.activePracticePermissions.SettingsPracticeStaff||this.props.allowAllPermissions?i.a.createElement(je,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics-staff/group/:id/edit",render:e=>this.props.activePracticePermissions.SettingsPracticeStaff||this.props.allowAllPermissions?i.a.createElement(je,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/clinics-staff",render:e=>this.props.activePracticePermissions.SettingsPracticeStaff||this.props.allowAllPermissions?i.a.createElement(pe,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics",render:e=>this.props.activePracticePermissions.SettingsPracticeDetail||this.props.allowAllPermissions?i.a.createElement(k,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics/add",render:e=>this.props.activePracticePermissions.SettingsPracticeDetail||this.props.allowAllPermissions?i.a.createElement(gi,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/clinics/:id/edit",render:e=>this.props.activePracticePermissions.SettingsPracticeDetail||this.props.allowAllPermissions?i.a.createElement(gi,fi({},this.props,{practiceId:e.match.params.id},e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/communication-settings",render:e=>this.props.activePracticePermissions.SettingsCommunincations||this.props.allowAllPermissions?i.a.createElement(Fe,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/calendarsettings",render:e=>this.props.activePracticePermissions.SettingsCalendar||this.props.allowAllPermissions?i.a.createElement(Jt,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/procedures",render:e=>this.props.activePracticePermissions.SettingsProcedureCatalog||this.props.allowAllPermissions?i.a.createElement(Xe,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/billing",render:e=>this.props.activePracticePermissions.SettingsBilling||this.props.allowAllPermissions?i.a.createElement(ut,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/loyalty",render:e=>this.props.activePracticePermissions.SettingsLoyalty||this.props.allowAllPermissions?i.a.createElement(nn,this.props):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/emr",render:e=>this.props.activePracticePermissions.SettingsEMR||this.props.allowAllPermissions?i.a.createElement(_t,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/prescriptions",render:e=>this.props.activePracticePermissions.SettingsPrescriptions||this.props.allowAllPermissions?i.a.createElement(Dt,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/expense-types",render:e=>this.props.activePracticePermissions.SettingsExpenseTypes||this.props.allowAllPermissions?i.a.createElement(Tt,this.props):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/labs",render:e=>this.props.activePracticePermissions.SettingsLabs||this.props.allowAllPermissions?i.a.createElement(kn,fi({},this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/medical-history",render:e=>this.props.activePracticePermissions.SettingsMedicalHistory||this.props.allowAllPermissions?i.a.createElement(Nt,this.props):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/agent-roles",render:e=>this.props.activePracticePermissions.SettingsAgentRoles||this.props.allowAllPermissions?i.a.createElement(Tn,fi({},this.state,this.props,e,{key:this.state.active_practiceId})):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/mlm",render:e=>this.props.activePracticePermissions.SettingsMLMSettings||this.props.allowAllPermissions?i.a.createElement(ma,fi({},this.state,this.props,e,{key:this.state.active_practiceId})):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/printout",render:e=>this.props.activePracticePermissions.SettingsPrintouts||this.props.allowAllPermissions?i.a.createElement(Pa,fi({},this.state,e,this.props,{key:this.state.active_practiceId})):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/mailpdfsettings",render:e=>this.props.activePracticePermissions.SettingsEmailPDFSettings||this.props.allowAllPermissions?i.a.createElement(xa,fi({},this.state,e,this.props)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/hr",render:e=>i.a.createElement(ri,fi({},this.state,this.props,e))}),i.a.createElement(s.b,{exact:!0,path:"/settings/roomtypes",render:e=>this.props.activePracticePermissions.SettingsRoomTypes||this.props.allowAllPermissions?i.a.createElement(Na,this.props):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/diseases",render:e=>this.props.activePracticePermissions.SettingsDiseaseList||this.props.allowAllPermissions?i.a.createElement(wn,this.props):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/bed-packages",render:e=>this.props.activePracticePermissions.SettingsBedPackages||this.props.allowAllPermissions?i.a.createElement(Ta,fi({},this.state,this.props,e)):i.a.createElement(He.a,null)}),"/>",i.a.createElement(s.b,{path:"/settings/mlm",render:e=>this.props.activePracticePermissions.SettingsMLMSettings||this.props.allowAllPermissions?i.a.createElement(ma,fi({},this.state,this.props,e,{key:this.state.active_practiceId})):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/printout",render:e=>this.props.activePracticePermissions.SettingsPrintouts||this.props.allowAllPermissions?i.a.createElement(Pa,fi({},this.state,e,this.props,{key:this.state.active_practiceId})):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/mailpdfsettings",render:e=>this.props.activePracticePermissions.SettingsEmailPDFSettings||this.props.allowAllPermissions?i.a.createElement(xa,fi({},this.state,e,this.props)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/integration",render:e=>i.a.createElement(ja,fi({},this.state,this.props,e))}),i.a.createElement(s.b,{exact:!0,path:"/settings/roomtypes",render:e=>this.props.activePracticePermissions.SettingsRoomTypes||this.props.allowAllPermissions?i.a.createElement(Na,this.props):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/diseases",render:e=>this.props.activePracticePermissions.SettingsDiseaseList||this.props.allowAllPermissions?i.a.createElement(wn,this.props):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/bed-packages",render:e=>this.props.activePracticePermissions.SettingsBedPackages||this.props.allowAllPermissions?i.a.createElement(Ta,fi({},this.state,this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{path:"/settings/medicine-packages",render:e=>this.props.activePracticePermissions.SettingsMedicinePackages||this.props.allowAllPermissions?i.a.createElement(xn,fi({},this.state,this.props,e)):i.a.createElement(He.a,null)}),i.a.createElement(s.b,{exact:!0,path:"/settings/address-settings",render:e=>i.a.createElement(Xn,fi({},this.props,e))}),i.a.createElement(s.b,{component:At.a})))))}}t.default=yi},439:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(1),i=a.n(n),s=a(1568),r=a(503),l=a(448),c=a(1105),o=a(1183),d=a(1589),m=a(1572),p=a(436),u=a.n(p),h=a(517),g=a.n(h),f=a(464),b=a.n(f),y=a(508),E=a.n(y);a(518);const _=function(e,t,a=!0){let n="",i=[];return a&&(e.forEach((function(e){i.push(e)})),n+=i.join(","),n+="\r\n"),t.forEach((function(t){i=[],e.forEach((function(e){t[e]?i.push(t[e]):i.push("--")})),n+=i.join(","),n+="\r\n"})),n},v=function(e,t){const a="".concat(t,".csv");let n;const i=[];i.push(255,254);for(let t=0;t<e.length;++t)n=e.charCodeAt(t),i.push(255&n),i.push(n/256>>>0);const s=new Blob([new Uint8Array(i)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(s,a);else{const e=document.createElement("a");if(void 0!==e.download){const t=window.URL.createObjectURL(s);e.setAttribute("href",t),e.setAttribute("download",a),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(t)}}};a(435),a(434),a(438);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class j extends i.a.Component{constructor(e){super(e),O(this,"getColumnSearchProps",e=>({filterDropdown:({setSelectedKeys:t,selectedKeys:a,confirm:n,clearFilters:l})=>i.a.createElement("div",{style:{padding:8}},i.a.createElement(s.a,{ref:e=>{this.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:e=>t(e.target.value?[e.target.value]:[]),onPressEnter:()=>this.handleSearch(a,n),style:{width:188,marginBottom:8,display:"block"}}),i.a.createElement(r.a,{type:"primary",onClick:()=>this.handleSearch(a,n),icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),i.a.createElement(r.a,{onClick:()=>this.handleReset(l),size:"small",style:{width:90}},"Reset")),filterIcon:e=>i.a.createElement(l.a,{type:"search",style:{color:e?"#1890ff":void 0}}),onFilter:(t,a)=>null!=b()(a,e)?b()(a,e).toString().toLowerCase().includes(t.toLowerCase()):"",onFilterDropdownVisibleChange:e=>{e&&setTimeout(()=>this.searchInput.select())},render:e=>i.a.createElement(g.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[this.state.searchText],autoEscape:!0,textToHighlight:e?e.toString():""})})),O(this,"handleSearch",(e,t)=>{t(),this.setState({searchText:e[0]})}),O(this,"handleReset",e=>{e(),this.setState({searchText:""})}),this.state=P(P({},e),{},{searchText:""}),this.excelExport=this.excelExport.bind(this),this.pdfExport=this.pdfExport.bind(this)}componentWillReceiveProps(e){e.columns==this.state.columns&&e.dataSource==this.state.dataSource&&e.loading==this.state.loading||this.setState(P({},e))}pdfExport(){const e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push({title:e.title,dataKey:e.title})}));const a=[];e.state.dataSource.forEach((function(t,n){const i={};e.state.columns.forEach((function(e){e.export?i[e.title]=e.export(b()(t,e.dataIndex),t,n):i[e.title]=b()(t,e.dataIndex)})),a.push(i)})),function(e,t,a){const n=new E.a("p","mm","a4");!function(e){e.line(10,20,200,20)}(n);const i=Object.create(t);n.autoTable(e,i,{margin:{top:35},startY:n.autoTableEndPosY()+20,headerStyle:{overflow:"linebreak"},bodyStyles:{overflow:"linebreak"}}),function(e){e.line(10,270,200,270),e.setFontSize(8),e.text(10,275,"This is a computer generated report.")}(n),n.save("".concat(a,".pdf"))}(t,a,"Export".concat(u()()))}excelExport(){const e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push(e.title)}));const a=[];e.state.dataSource.forEach((function(t,n){const i={};e.state.columns.forEach((function(e){e.export?i[e.title]=e.export(b()(t,e.dataIndex),t,n):i[e.title]=b()(t,e.dataIndex)})),a.push(i)})),function(e,t,a="download"){const n=_(e,t);v(n,a)}(t,a,"Export".concat(u()()))}render(){const e=this,t=this.state.columns.map(t=>t.hide?{}:t.render?P({},t):P(P({},t),e.getColumnSearchProps(t.dataIndex)));return i.a.createElement("div",null,this.props.hideReport?null:i.a.createElement(c.a,null,i.a.createElement(o.a,null,i.a.createElement(r.a.Group,{size:"small"},i.a.createElement(r.a,{disabled:this.state.loading,type:"primary",onClick:this.excelExport},i.a.createElement(l.a,{type:"file-excel"})," Excel"),i.a.createElement(r.a,{disabled:this.state.loading,type:"primary",onClick:this.pdfExport},i.a.createElement(l.a,{type:"file-pdf"})," PDF")))),i.a.createElement(c.a,null,i.a.createElement(d.a,k({pagination:{position:"both",pageSizeOptions:["10","20","30","40","50","100"],showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:(e,t)=>i.a.createElement(m.a,null,"Showing ",i.a.createElement("b",null,t[0])," to ",i.a.createElement("b",null,t[1])," of ",i.a.createElement("b",null,e)," items")}},this.state,{columns:t}))))}}},442:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(433),i=a(1105),s=a(503),r=a(1),l=a.n(r);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o extends l.a.Component{constructor(e){super(e),c(this,"startLoading",()=>{this.props.loaderFunction&&(this.props.loaderFunction(),this.startMakingExtraLabels())}),c(this,"startMakingExtraLabels",()=>{const e=this;this.setState((function(e){return e.extraLoadingLabel.length>2?{extraLoadingLabel:""}:{extraLoadingLabel:"".concat(e.extraLoadingLabel,".")}}),(function(){e.props.loading&&setTimeout((function(){e.startMakingExtraLabels()}),500)}))}),this.state={extraLoadingLabel:""}}render(){return this.props.loading?l.a.createElement(n.a,{spinning:this.props.loading},l.a.createElement(i.a,{style:{minHeight:200}})):this.props.hidden?l.a.createElement(i.a,null,l.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},l.a.createElement("small",null,"No More Data Found"))):l.a.createElement(i.a,null,l.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},l.a.createElement(s.a,{type:"primary",onClick:this.startLoading,loading:this.props.loading},this.props.loading?"Loading".concat(this.state.extraLoadingLabel):"Load More")))}}},732:function(e,t,a){"use strict";var n=a(1),i=a(443),s=a(497),r=a(448),l=a(503),c=a(121),o=a(129),d=a(181);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(_,e);var t,a,i,r,m=(t=_,function(){var e,a=b(t);if(f()){var n=b(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return h(this,e)});function _(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),(t=m.call(this,e)).onConfirm=function(e){t.setVisible(!1,e);var a=t.props.onConfirm;a&&a.call(g(t),e)},t.onCancel=function(e){t.setVisible(!1,e);var a=t.props.onCancel;a&&a.call(g(t),e)},t.onVisibleChange=function(e){t.props.disabled||t.setVisible(e)},t.saveTooltip=function(e){t.tooltip=e},t.renderOverlay=function(e,a){var i=t.props,s=i.okButtonProps,r=i.cancelButtonProps,c=i.title,o=i.cancelText,d=i.okText,m=i.okType,u=i.icon;return(n.createElement("div",null,n.createElement("div",{className:"".concat(e,"-inner-content")},n.createElement("div",{className:"".concat(e,"-message")},u,n.createElement("div",{className:"".concat(e,"-message-title")},c)),n.createElement("div",{className:"".concat(e,"-buttons")},n.createElement(l.a,p({onClick:t.onCancel,size:"small"},r),o||a.cancelText),n.createElement(l.a,p({onClick:t.onConfirm,type:m,size:"small"},s),d||a.okText)))))},t.renderConfirm=function(e){var a=e.getPrefixCls,i=t.props,r=i.prefixCls,l=i.placement,d=E(i,["prefixCls","placement"]),m=a("popover",r),u=n.createElement(c.a,{componentName:"Popconfirm",defaultLocale:o.a.Popconfirm},(function(e){return t.renderOverlay(m,e)}));return n.createElement(s.a,p({},d,{prefixCls:m,placement:l,onVisibleChange:t.onVisibleChange,visible:t.state.visible,overlay:u,ref:t.saveTooltip}))},t.state={visible:e.visible},t}return a=_,r=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(i=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var a=this.props;"visible"in a||this.setState({visible:e});var n=a.onVisibleChange;n&&n(e,t)}},{key:"render",value:function(){return n.createElement(d.a,null,this.renderConfirm)}}])&&u(a.prototype,i),r&&u(a,r),_}(n.Component);_.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:n.createElement(r.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(i.polyfill)(_),t.a=_},745:function(e,t,a){"use strict";var n=a(1),i=a.n(n),s=a(1579),r=a(732),l=a(1593),c=a(1596),o=a(503),d=a(440),m=a(437),p=(a(434),a(435)),u=a(439);class h extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{this.setState({visible:!1})},(a="handleCancel")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={redirect:!1,visible:!1,data:null,loading:!0},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}loadData(){const e=this;Object(p.c)(Object(p.g)(this.props.id,[this.props.active_practiceId]),(function(t){e.setState({data:t,loading:!1})}),(function(){e.setState({loading:!1})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editFunction(e){this.setState({editingId:e.id,editingName:e.name,visible:!0,loading:!1})}deleteObject(e){const t=this,a=e;a.is_active=!1;Object(p.k)(Object(p.g)(this.props.id,[this.props.active_practiceId]),a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:(t,a)=>i.a.createElement("span",null,i.a.createElement("a",{onClick:()=>this.editFunction(a)},"  Edit"),i.a.createElement(s.a,{type:"vertical"}),i.a.createElement(r.a,{title:"Are you sure delete this item?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}],a=[{label:this.props.name,key:"name",required:!0,type:m.db}],n=[{label:this.props.name,key:"name",required:!0,initialValue:this.state.editingName,type:m.db}],h={successFn(t){e.handleCancel(),e.loadData(),console.log(t),console.log("sucess"),Object(p.a)(m.sc,"success")},errorFn(){},action:Object(p.g)(this.props.id,[this.props.active_practiceId]),method:"post"},g=[{key:"practice",value:this.props.active_practiceId}],f=[{key:"practice",value:this.props.active_practiceId},{key:"id",value:this.state.editingId}],b=l.a.create()(d.a);return i.a.createElement("div",null,i.a.createElement(b,{defaultValues:g,formProp:h,fields:a}),i.a.createElement(s.a,null),i.a.createElement(u.a,{loading:this.state.loading,columns:t,dataSource:this.state.data}),i.a.createElement(c.a,{title:"Edit ".concat(this.props.name),visible:this.state.visible,footer:null,onCancel:this.handleCancel},i.a.createElement(b,{defaultValues:f,formProp:h,fields:n}),i.a.createElement(o.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}t.a=h},832:function(e,t,a){e.exports=a(833)},833:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(12),r=a.n(s),l=a(443);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g=a(34),f=function(e){function t(e){var a,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=m(t).call(this,e),a=!i||"object"!=typeof i&&"function"!=typeof i?u(n):i,h(u(u(a)),"handleClick",(function(e){var t=a.state.checked,n=a.props.onClick,i=!t;a.setChecked(i,e),n&&n(i,e)})),h(u(u(a)),"handleKeyDown",(function(e){37===e.keyCode?a.setChecked(!1,e):39===e.keyCode&&a.setChecked(!0,e)})),h(u(u(a)),"handleMouseUp",(function(e){var t=a.props.onMouseUp;a.node&&a.node.blur(),t&&t(e)})),h(u(u(a)),"saveNode",(function(e){a.node=e}));var s=!1;return s="checked"in e?!!e.checked:!!e.defaultChecked,a.state={checked:s},a}var a,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),a=t,s=[{key:"getDerivedStateFromProps",value:function(e){var t={},a=e.checked;return"checked"in e&&(t.checked=!!a),t}}],(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,a=e.disabled;t&&!a&&this.focus()}},{key:"setChecked",value:function(e,t){var a=this.props,n=a.disabled,i=a.onChange;n||("checked"in this.props||this.setState({checked:e}),i&&i(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,a=t.className,n=t.prefixCls,s=t.disabled,r=t.loadingIcon,l=t.checkedChildren,d=t.unCheckedChildren,m=o(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),p=this.state.checked,u=g((h(e={},a,!!a),h(e,n,!0),h(e,"".concat(n,"-checked"),p),h(e,"".concat(n,"-disabled"),s),e));return i.a.createElement("button",c({},m,{type:"button",role:"switch","aria-checked":p,disabled:s,className:u,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),r,i.a.createElement("span",{className:"".concat(n,"-inner")},p?l:d))}}])&&d(a.prototype,n),s&&d(a,s),t}(n.Component);f.propTypes={className:r.a.string,prefixCls:r.a.string,disabled:r.a.bool,checkedChildren:r.a.any,unCheckedChildren:r.a.any,onChange:r.a.func,onMouseUp:r.a.func,onClick:r.a.func,tabIndex:r.a.number,checked:r.a.bool,defaultChecked:r.a.bool,autoFocus:r.a.bool,loadingIcon:r.a.node},f.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(l.polyfill)(f),t.default=f}}]);