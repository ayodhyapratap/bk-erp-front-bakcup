(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1597:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return me}));var n=a(1),i=a.n(n),r=(a(984),a(985),a(1608)),l=a(503),s=a(448),o=a(433),c=a(1105),p=a(1183),m=a(18),d=a(115),u=a(986),h=a.n(u),f=a(1023),g=a(436),b=a.n(g),y=a(993),E=a.n(y),v=a(735),O=a(1593),w=a(1568),S=a(763),P=a(1587),k=a(1578),j=a(1600),C=a(1605),D=a(1581),M=a(435),L=a(434),V=a(438),x=(a(461),a(1579)),I=a(1594),_=a(1602),T=a(732),N=a(1596),R=a(437),A=a(441);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class z extends i.a.Component{constructor(e){super(e),U(this,"loadPreviousMeetingResponse",e=>{const t=this;t.setState({formLoading:!0});const a={patient:e,meeting:t.props.meetingId};Object(M.c)(L.id,(function(e){e.length?t.setState({formLoading:!1,patientMeetingResponse:e[0]}):t.setState({formLoading:!1,patientMeetingResponse:{}})}),(function(){t.setState({formLoading:!1})}),a)}),U(this,"loadMeetingDetails",()=>{const e=this;e.setState({loading:!0});Object(M.c)(Object(M.g)(L.ve,[e.props.meetingId]),(function(t){e.setState({loading:!1,meeting:t})}),(function(){e.setState({loading:!1,meeting:{}})}))}),U(this,"handleSubmit",e=>{const t=this;t.setState({formLoading:!0}),e.preventDefault(),this.props.form.validateFields((e,a)=>{const n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){U(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);n.meeting=t.props.meetingId,n.practice=t.props.active_practiceId,n.practce_staff=t.props.user.staff.id,console.log(n);Object(M.k)(L.id,n,(function(e){Object(M.a)(R.sc,"Patient Call Entered Successfully!!"),t.setState({formLoading:!1}),t.props.loadData&&t.props.loadData()}),(function(){t.setState({formLoading:!1})}))})}),this.state={meeting:{},[A.t]:[],[A.s]:[],patientMeetingResponse:{},formLoading:!1}}componentDidMount(){this.props.meetingId&&this.loadMeetingDetails(),Object(V.d)(this,[A.t,A.s])}render(){const e=this,t=this.props.form,a=t.getFieldDecorator,n=(t.getFieldValue,this.state),r=n.patientMeetingResponse,s=n.meeting,c=n.formLoading,p={labelCol:{span:6},wrapperCol:{span:18}};return i.a.createElement(o.a,{spinning:c},i.a.createElement(O.a,{title:"Edit Patient Call Notes for Meeting",onSubmit:this.handleSubmit},i.a.createElement(O.a.Item,F({label:"Patient"},p,{key:"patient"}),a("patient",{initialValue:[]})(i.a.createElement(S.a,{placeholder:"Select Patient",style:{width:"100%"},onChange:e=>this.loadPreviousMeetingResponse(e)},s.patients&&s.patients_data.map(e=>i.a.createElement(S.a.Option,{value:e.id},e.user.first_name))))),i.a.createElement(O.a.Item,F({label:"Call Type"},p,{key:"type"}),a("type",{initialValue:null})(i.a.createElement(S.a,{placeholder:"Select Call Type",style:{width:"100%"}},this.state[A.t]&&this.state[A.t].map(e=>i.a.createElement(S.a.Option,{value:e},e))))),i.a.createElement(O.a.Item,F({label:"Call Status"},p,{key:"response"}),a("response",{initialValue:null})(i.a.createElement(S.a,{placeholder:"Select Status Type",style:{width:"100%"}},this.state[A.s]&&this.state[A.s].map(e=>i.a.createElement(S.a.Option,{value:e},e))))),r.remarks?i.a.createElement(k.a,{message:i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",null,"Last Remark for this meeting"),i.a.createElement("p",null,r.remarks))}):null,i.a.createElement(O.a.Item,F({label:"Call Note"},p,{key:"remarks"}),a("remarks",{initialValue:""})(i.a.createElement(w.a.TextArea,{rows:5}))),i.a.createElement(O.a.Item,p,i.a.createElement(l.a,{type:"primary",htmlType:"submit",style:{margin:5},loading:this.state.formLoading},"Submit"),e.props.history?i.a.createElement(l.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null)))}}var Y=O.a.create()(z);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const H=I.a.Paragraph;class J extends i.a.Component{constructor(e){super(e),Z(this,"loadMeetingDetails",()=>{const e=this;e.setState({loading:!0});Object(M.c)(Object(M.g)(L.ve,[e.props.meetingId]),(function(t){e.setState({loading:!1,meeting:t})}),(function(){e.setState({loading:!1})}))}),Z(this,"openWindowLink",e=>{window.open(e)}),Z(this,"toggleEditReviewModal",e=>{this.setState({editReviewModalVisible:!!e}),this.props.handleVisibleChange(!1)}),this.state={loading:!1,meeting:null,editReviewModalVisible:!1}}componentDidMount(){this.loadMeetingDetails()}copyToClipBoard(e){navigator.clipboard.writeText(e),Object(M.a)(R.sc,"Meeting URL & Password copied to clipboard")}render(){if(!this.state.meeting)return i.a.createElement(_.a,{status:"warning",title:"Meeting Not Found"});const e=this;let t=1,a=1,n=1;return i.a.createElement("div",{style:{width:"400px",minHeight:"200px",overflowY:"scroll",overflowX:"hidden"}},i.a.createElement(o.a,{spinning:this.state.loading},i.a.createElement("div",null,i.a.createElement("h3",null,this.state.meeting.name),i.a.createElement(H,{ellipsis:{rows:3,expandable:!0}},this.state.meeting.purpose),i.a.createElement(c.a,{gutter:16},i.a.createElement(p.a,{span:8},i.a.createElement("h4",null,"Admins"),i.a.createElement(H,{ellipsis:{rows:3,expandable:!0}},this.state.meeting.admins_data.map(e=>i.a.createElement(i.a.Fragment,null," ",n++,". ",e.user.first_name,i.a.createElement("br",null),"  ")))),i.a.createElement(p.a,{span:8},i.a.createElement("h4",null,"Doctors"),i.a.createElement(H,{ellipsis:{rows:3,expandable:!0}},this.state.meeting.doctors_data.map(e=>i.a.createElement(i.a.Fragment,null," ",a++,". ",e.user.first_name,i.a.createElement("br",null),"  ")))),i.a.createElement(p.a,{span:8},i.a.createElement("h4",null,"Patients"),i.a.createElement(H,{ellipsis:{rows:3,expandable:!0}},this.state.meeting.patients_data.map(e=>i.a.createElement(i.a.Fragment,null," ",t++,". ",e.user.first_name,i.a.createElement("br",null),"  "))))),i.a.createElement(T.a,{title:"Are you sure to start this meeting?",onConfirm:()=>e.openWindowLink("/webcall/".concat(this.state.meeting.id)),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Meeting Link")),i.a.createElement(l.a,{size:"small",onClick:()=>this.copyToClipBoard("".concat("https://clinic.bkarogyam.com","/webcall/").concat(this.state.meeting.id)),block:!0,shape:"round"},"Copy Link"))),i.a.createElement(c.a,null,i.a.createElement(x.a,null),i.a.createElement(l.a,{onClick:()=>this.toggleEditReviewModal(!0)},"Edit Meeting Review Note for Patient")),i.a.createElement(N.a,{visible:this.state.editReviewModalVisible,onCancel:()=>this.toggleEditReviewModal(!1),footer:null,title:"Add/Edit Meeting Call Notes"},this.state.editReviewModalVisible?i.a.createElement(Y,W({},this.props,{meetingId:this.state.meeting.id,loadData:()=>this.toggleEditReviewModal(!1)})):null))}}class X extends i.a.Component{constructor(e){super(e),this.state={loading:!1}}componentWillReceiveProps(){this.loadTodayMeeting()}loadTodayMeeting(){const e=this;this.setState({loading:!0});const t={start:b()().startOf("day").format(),end:b()().endOf("day").format()};Object(M.c)(L.Cc,(function(t){e.setState({filterMeetingList:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}render(){const e=this.state.filterMeetingList;return console.log("===",e),i.a.createElement("div",null,i.a.createElement(x.a,null,i.a.createElement("a",{type:"primary"},i.a.createElement(s.a,{type:"left"}))," Meeting's Schedule ",i.a.createElement("a",{type:"primary"},i.a.createElement(s.a,{type:"right"}))),i.a.createElement(o.a,{spinning:this.props.loading},i.a.createElement(C.a,{dataSource:e,bordered:!0,renderItem:e=>i.a.createElement(C.a.Item,null,i.a.createElement(q,e))})))}}function q(e){return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{marginBottom:0}},i.a.createElement(D.a,{placement:"right",content:i.a.createElement(J,{meetingId:e.id,key:e.id})},i.a.createElement("span",{style:{width:"calc(100% - 60px)"}},i.a.createElement("b",null,b()(e.start).format("LT"))," ",e.name))))}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let Q=0;class $ extends i.a.Component{constructor(e){super(e),K(this,"loadPracticeStaff",()=>{const e=this;Object(M.c)(Object(M.g)(L.Dd,[e.props.active_practiceId]),(function(t){e.setState({practiceStaff:t.staff})}),(function(){}))}),K(this,"loadPatient",e=>{const t=this,a=function(e){e.results.length>0&&t.setState({patientListData:e.results})},n=function(){};e&&Object(M.c)(Object(M.g)(L.ce,[e]),a,n)}),K(this,"handleSubmit",e=>{const t=this;t.setState({loading:!0}),e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){const u=a;let h=0;if(a.doctors){h+=a.doctors.length;const t=a.doctors.values(),o=[];var n=!0,i=!1,r=void 0;try{for(var l,s=t[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){const e=l.value;o.push(e)}}catch(e){i=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}u.doctors=o}if(a.patients){h+=a.patients.length;const t=[],n=a.patients.values();var o=!0,c=!1,p=void 0;try{for(var m,d=n[Symbol.iterator]();!(o=(m=d.next()).done);o=!0){const e=m.value;t.push(e)}}catch(e){c=!0,p=e}finally{try{o||null==d.return||d.return()}finally{if(c)throw p}}u.patients=t}a.other_user&&(h+=a.other_user.length);const f=function(e){t.setState({loading:!1}),t.props.history.push("/meeting-booking"),t.props.loadData()},g=function(){t.setState({loading:!1})};Object(M.k)(L.Ac,u,f,g)}})}),K(this,"addNewUser",()=>{const e=this.props.form,t=e.getFieldValue("keys").concat(Q++);e.setFieldsValue({keys:t})}),K(this,"removeNewOptionField",e=>{const t=this.props.form,a=t.getFieldValue("keys");t.setFieldsValue({keys:a.filter(t=>t!==e)})}),K(this,"loadMeetingList",(e,t,a)=>{const n=this;n.setState({loading:!0});const i={start:e.format(),end:t.format(),zoom_user:a};Object(M.c)(L.Cc,(function(e){n.setState({filterMeetingList:e,loading:!1,meetingNotAllowed:!!e.length})}),(function(){n.setState({meetingNotAllowed:!0,loading:!1})}),i)}),K(this,"checkMeetingAvailabilty",(e,t)=>{const a=this;this.setState({[e]:t,loading:!0},(function(){a.loadMeetingList(a.state.startSchedule,b()(a.state.startSchedule).add(a.state.duration,"minute"),a.state.zoomUser)}))}),this.state={loading:!1,patientListData:[],no_of_participant:1,practiceDoctors:[],practiceStaff:[],zoom_user:[],add_new_user:!1,meetingNotAllowed:!0,duration:30,startSchedule:this.props?b()(this.props.startTime):b()(),filterMeetingList:[]},this.loadPatient=this.loadPatient.bind(this),this.loadZoomUser=this.loadZoomUser.bind(this)}componentWillMount(){this.loadPatient(),Object(V.e)(this),this.loadPracticeStaff(),this.loadMeetingList(this.state.startSchedule,b()(this.state.startSchedule).add(this.state.duration,"minute"))}loadZoomUser(){const e=this;Object(M.c)(L.Ec,(function(t){e.setState({zoom_user:t})}),(function(){}))}onChangeParticipant(e){this.setState({no_of_participant:e})}render(){const e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,m=this.state.filterMeetingList,d={labelCol:{span:6},wrapperCol:{span:18}},u={wrapperCol:{xs:{span:24,offset:0},sm:{span:18,offset:6}}};a("keys",{initialValue:[]});const h=n("keys").map((t,n)=>i.a.createElement("div",null,i.a.createElement(p.a,{span:6,offset:4},i.a.createElement(O.a.Item,{label:"First Name",key:t},a("others[".concat(t,"][first_name]"),{initialValue:""})(i.a.createElement(w.a,{placeholder:"First Name"})))),i.a.createElement(p.a,{span:4},i.a.createElement(O.a.Item,{label:"Last Name"},a("others[".concat(t,"][last_name]"),{initialValue:""})(i.a.createElement(w.a,{placeholder:"Last Name"})))),i.a.createElement(p.a,{span:4},i.a.createElement(O.a.Item,{label:"Email Id"},a("others[".concat(t,"][email]"),{initialValue:""})(i.a.createElement(w.a,{placeholder:"Email Id"})))),i.a.createElement(p.a,{span:4},i.a.createElement(O.a.Item,{label:"phone"},a("others[".concat(t,"][phone]"),{initialValue:""})(i.a.createElement(w.a,{placeholder:"Phone Number"})))),i.a.createElement(p.a,{span:2},i.a.createElement(O.a.Item,{label:" ",colon:!1},i.a.createElement(l.a,{shape:"circle",onClick:()=>e.removeNewOptionField(t)},i.a.createElement(s.a,{className:"dynamic-delete-button",type:"minus-circle-o"})),i.a.createElement("br",null)))));return i.a.createElement(r.a,{title:"Add Booking"},i.a.createElement(c.a,{gutter:16},i.a.createElement(p.a,{span:14},i.a.createElement(O.a,{onSubmit:this.handleSubmit},i.a.createElement(O.a.Item,G({label:"Purpose"},d),a("name",{initialValue:""})(i.a.createElement(w.a,{placeholder:"Purpose"}))),i.a.createElement(O.a.Item,G({label:"Agenda"},d),a("agenda",{initialValue:""})(i.a.createElement(w.a.TextArea,{placeholder:"Agenda",rows:3}))),i.a.createElement(O.a.Item,G({label:"Meeting Admins"},d,{key:"admins"}),a("admins",{initialValue:[]})(i.a.createElement(S.a,{mode:"multiple",showSearch:!0,optionFilterProp:"children",placeholder:"Select Admins",style:{width:"100%"}},this.state.practiceStaff.map(e=>i.a.createElement(S.a.Option,{value:e.id},e.user.first_name))))),i.a.createElement(O.a.Item,G({label:"Patients"},d,{key:"patient"}),a("patients",{initialValue:[]})(i.a.createElement(S.a,{mode:"multiple",placeholder:"Select Patient",style:{width:"100%"},showSearch:!0,onSearch:this.loadPatient,filterOption:!1},this.state.patientListData.map(e=>i.a.createElement(S.a.Option,{value:e.id},e.user.first_name," (",e.custom_id,")"))))),i.a.createElement(O.a.Item,G({label:"Doctors"},d,{key:"doctors"}),a("doctors",{initialValue:[]})(i.a.createElement(S.a,{placeholder:"Select Doctors",style:{width:"100%"},mode:"multiple"},this.state.practiceDoctors.map(e=>i.a.createElement(S.a.Option,{key:e.id},e.user.first_name))))),i.a.createElement(c.a,{gutter:16},h),i.a.createElement(O.a.Item,u,i.a.createElement("a",{onClick:()=>this.addNewUser()}," ",i.a.createElement(s.a,{type:"plus"})," Add New User")),i.a.createElement(O.a.Item,G({label:"Booking From"},d),a("start",{initialValue:e.state.startSchedule&&b()(e.state.startSchedule).isValid()?b()(e.state.startSchedule):e.props.startTime&&b()(e.props.startTime).isValid()?b()(e.props.startTime):null})(i.a.createElement(P.a,{format:"YYYY/MM/DD HH:mm",showTime:!0,onChange:t=>e.checkMeetingAvailabilty("startSchedule",t)})),this.state.filterMeetingList.length>0?i.a.createElement(k.a,{message:"Selected time slot Booked!!",type:"warning",showIcon:!0}):null),i.a.createElement(O.a.Item,G({label:"Duration"},d),a("duration",{initialValue:this.state.duration})(i.a.createElement(j.a,{onChange:t=>e.checkMeetingAvailabilty("duration",t)})),i.a.createElement("span",{className:"ant-form-text"},"Minutes")),i.a.createElement(O.a.Item,d,i.a.createElement(l.a,{type:"primary",htmlType:"submit",style:{margin:5},disabled:this.state.meetingNotAllowed,loading:this.state.loading},"Submit"),e.props.history?i.a.createElement(l.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null))),i.a.createElement(p.a,{span:6,style:{float:"Right"}},i.a.createElement("div",null,i.a.createElement(o.a,{spinning:this.props.loading},i.a.createElement(C.a,{dataSource:m,bordered:m.length>0,renderItem:e=>i.a.createElement(C.a.Item,null,i.a.createElement(te,e))}))))))}}var ee=O.a.create()($);function te(e){return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{marginBottom:0}},i.a.createElement(D.a,{placement:"right",content:i.a.createElement(J,{meetingId:e.id,key:e.id})},i.a.createElement("span",{style:{width:"calc(100% - 60px)"}},i.a.createElement("b",null,b()(e.start).format("LLL"))," ",e.name))))}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class ne extends i.a.Component{constructor(e){var t,a,n;super(e),n=e=>{this.setState({visible:e})},(a="handleVisibleChange")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={visible:!1}}render(){return i.a.createElement(D.a,{placement:"right",content:i.a.createElement(J,ae({meetingId:this.props.event.id,key:this.props.event.id},this.props,{handleVisibleChange:this.handleVisibleChange})),trigger:"hover",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},i.a.createElement("div",{style:{color:"white",height:"100%"}},i.a.createElement("h1",{style:{color:"white"}},i.a.createElement(s.a,{type:"user"}),this.props.event.name)))}}var ie=a(459);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(Object(a),!0).forEach((function(t){oe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ce=h()(f.a),pe=Object(f.c)(b.a);class me extends i.a.Component{constructor(e){super(e),oe(this,"onSelectSlot",e=>{const t=this,a=b()(e.start);"doubleClick"==e.action&&(t.setState({startTime:a,redirect:!0}),this.props.history.push("/meeting-booking/add"))}),oe(this,"onRangeChange",e=>{const t=this;if(e.start&&e.end)if(1==b()(e.start).date())this.setState({selectedDate:b()(e.start),selectedStartDate:b()(e.start),selectedEndDate:b()(e.end)},(function(){t.loadMeetingList()}));else{const a=b()(e.start);this.setState({selectedDate:a.month(a.month()+1).date(1),selectedStartDate:b()(e.start),selectedEndDate:b()(e.end)},(function(){t.loadMeetingList()}))}else e.length&&(7==e.length?this.setState({selectedDate:b()(e[1]),selectedStartDate:b()(e[0]).subtract(1,"day"),selectedEndDate:b()(e[e.length-1]).add(1,"day")},(function(){t.loadMeetingList()})):(this.loadMeetingList(b()(e[0]),b()(e[e.length-1])),this.setState({selectedDate:b()(e[0]),selectedStartDate:b()(e[0]),selectedEndDate:b()(e[e.length-1])},(function(){t.loadMeetingList()}))))}),oe(this,"loadMeetingList",()=>{const e=this;e.setState({loading:!0});const t={start:b()(this.state.selectedStartDate).startOf("day").format(),end:b()(this.state.selectedEndDate).endOf("day").format()};Object(M.c)(L.Cc,(function(t){const a=[];t.forEach((function(e){a.push(se(se({},e),{},{title:e.agenda,start:new Date(e.start),end:new Date(e.end)}))})),e.setState({meetingList:a,filterMeetingList:a,loading:!1})}),(function(){e.setState({loading:!1})}),t)}),this.state={loading:!1,selectedDate:b()(),selectedStartDate:b()().subtract(1,"days"),selectedEndDate:b()().add(5,"days"),meetingList:[],filterMeetingList:[],filterType:"Zoom User"}}componentDidMount(){this.loadMeetingList()}render(){const e=this;return(i.a.createElement("div",{style:{margin:20}},i.a.createElement(m.d,null,i.a.createElement(m.b,{exact:!0,path:"/meeting-booking/add",render:t=>e.props.activePracticePermissions||e.props.CreateMeeting?i.a.createElement(ee,re({},this.state,t,this.props,{loadData:this.loadMeetingList})):i.a.createElement(ie.a,null)}),i.a.createElement(m.b,{exact:!0,path:"/meeting-booking/edit/:id",render:t=>e.props.activePracticePermissions||e.props.UpdateMeeting?i.a.createElement(ee,re({},t,this.props,this.state,{loadData:this.loadMeetingList})):i.a.createElement(ie.a,null)}),i.a.createElement(r.a,{title:"Meeting Booking",extra:i.a.createElement(d.b,{to:"/meeting-booking/add"},i.a.createElement(l.a,{type:"primary"},i.a.createElement(s.a,{type:"plus"})," Add Booking"))},i.a.createElement(o.a,{size:"large",spinning:this.state.loading},i.a.createElement(c.a,{gutter:16},i.a.createElement(p.a,{span:18},i.a.createElement(ce,{localizer:pe,startAccessor:"start",defaultView:"week",step:10,timeslots:1,events:this.state.filterMeetingList,selectable:!0,date:new Date(this.state.selectedDate.format()),endAccessor:"end",defaultDate:new Date,views:{month:!0,week:de,day:!0},onSelectSlot:this.onSelectSlot,style:{height:"calc(100vh - 85px)"},onRangeChange:this.onRangeChange,components:{event:t=>i.a.createElement(ne,re({},t,e.props))}})),i.a.createElement(p.a,{span:6},i.a.createElement(X,re({},this.props,this.state)))))))))}}class de extends i.a.Component{render(){const e=this.props.date,t=de.range(e);return i.a.createElement(E.a,re({},this.props,{range:t,eventOffset:15}))}}de.range=e=>{const t=v.add(e,-1,"day"),a=v.add(t,6,"day");let n=t;const i=[];for(;v.lte(n,a,"day");)i.push(n),n=v.add(n,1,"day");return i},de.navigate=(e,t)=>{switch(t){case f.b.PREVIOUS:return v.add(e,-3,"day");case f.b.NEXT:return v.add(e,3,"day");default:return e}},de.title=e=>" ".concat(e.toLocaleDateString())},732:function(e,t,a){"use strict";var n=a(1),i=a(443),r=a(497),l=a(448),s=a(503),o=a(121),c=a(129),p=a(181);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(v,e);var t,a,i,l,m=(t=v,function(){var e,a=b(t);if(g()){var n=b(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return h(this,e)});function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=m.call(this,e)).onConfirm=function(e){t.setVisible(!1,e);var a=t.props.onConfirm;a&&a.call(f(t),e)},t.onCancel=function(e){t.setVisible(!1,e);var a=t.props.onCancel;a&&a.call(f(t),e)},t.onVisibleChange=function(e){t.props.disabled||t.setVisible(e)},t.saveTooltip=function(e){t.tooltip=e},t.renderOverlay=function(e,a){var i=t.props,r=i.okButtonProps,l=i.cancelButtonProps,o=i.title,c=i.cancelText,p=i.okText,m=i.okType,u=i.icon;return(n.createElement("div",null,n.createElement("div",{className:"".concat(e,"-inner-content")},n.createElement("div",{className:"".concat(e,"-message")},u,n.createElement("div",{className:"".concat(e,"-message-title")},o)),n.createElement("div",{className:"".concat(e,"-buttons")},n.createElement(s.a,d({onClick:t.onCancel,size:"small"},l),c||a.cancelText),n.createElement(s.a,d({onClick:t.onConfirm,type:m,size:"small"},r),p||a.okText)))))},t.renderConfirm=function(e){var a=e.getPrefixCls,i=t.props,l=i.prefixCls,s=i.placement,p=E(i,["prefixCls","placement"]),m=a("popover",l),u=n.createElement(o.a,{componentName:"Popconfirm",defaultLocale:c.a.Popconfirm},(function(e){return t.renderOverlay(m,e)}));return n.createElement(r.a,d({},p,{prefixCls:m,placement:s,onVisibleChange:t.onVisibleChange,visible:t.state.visible,overlay:u,ref:t.saveTooltip}))},t.state={visible:e.visible},t}return a=v,l=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(i=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var a=this.props;"visible"in a||this.setState({visible:e});var n=a.onVisibleChange;n&&n(e,t)}},{key:"render",value:function(){return n.createElement(p.a,null,this.renderConfirm)}}])&&u(a.prototype,i),l&&u(a,l),v}(n.Component);v.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:n.createElement(l.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(i.polyfill)(v),t.a=v}}]);