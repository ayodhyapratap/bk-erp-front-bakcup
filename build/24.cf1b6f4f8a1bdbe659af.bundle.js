(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1592:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(18),r=a(1577),l=a(503),o=a(1572),c=a(732),d=a(1593),u=a(1608),m=a(448),p=a(1105),h=a(1183),g=a(763),f=a(1596),y=a(1580),b=a(1579),E=a(115),v=a(436),D=a.n(v),O=a(835),S=a(437),x=a(434),k=a(435),C=a(1575),A=a(433),P=a(1609),_=a(1605),j=a(1568),w=a(1591),I=a(461),M=a(460);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Y=d.a.Item,N=u.a.Meta;class T extends i.a.Component{constructor(e){super(e),R(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){t.setState({saving:!0});const e={user:{},role:a.role,is_agent:!0,aadhar_upload:a.aadhar_upload&&a.aadhar_upload.file&&a.aadhar_upload.file.response?a.aadhar_upload.file.response.image_path:a.aadhar_upload,is_approved:!0,practice:this.props.active_practiceId};this.state.userDetails?e.user=this.state.userDetails.user:(e.user.first_name=a.first_name,e.user.email=a.email,e.user.mobile=a.mobile),a.referal&&(e.referal=a.referal);const n=function(e){t.setState({saving:!1}),t.props.loadData&&t.props.loadData(),t.props.history&&t.props.history.replace("/advisors"),e&&Object(k.a)(S.sc,"Agent Created Successfully")},i=function(){t.setState({saving:!1})};this.state.userDetails?Object(k.m)(Object(k.g)(x.td,[this.state.userDetails.id]),e,n,i):this.props.editAgentData?Object(k.m)(Object(k.g)(x.td,[this.props.editAgentData.id]),e,n,i):Object(k.k)(Object(k.g)(x.cd,[this.props.active_practiceId]),e,n,i)}})}),R(this,"handlePatientSelect",e=>{if(e){const t=this,a=function(e){t.setState({userDetails:e})},n=function(){};Object(k.c)(Object(k.g)(x.td,[e]),a,n)}}),R(this,"handleClick",e=>{this.setState({userDetails:null})}),this.state={redirect:!1,saving:!1,userListData:[],agentRoles:[]},this.changeRedirect=this.changeRedirect.bind(this),this.getPatient=this.getPatient.bind(this),this.searchPatient=this.searchPatient.bind(this),this.loadAgentRoles=this.loadAgentRoles.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.getPatient(),this.loadAgentRoles()}getPatient(){const e=this;Object(k.c)(x.cd,(function(t){e.setState({userListData:t.results})}),(function(){}))}loadAgentRoles(){const e=this;Object(k.c)(x.f,(function(t){e.setState({agentRoles:t,loading:!1})}),(function(){e.setState({loading:!1})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}searchPatient(e){const t=this,a=function(e){e&&t.setState({userListData:e.results})},n=function(){};e&&Object(k.c)(Object(k.g)(x.ce,[e]),a,n)}render(){const e=this,t=this.props.formLayout?this.props.formLayout:{labelCol:{span:6},wrapperCol:{span:14}},a=this.props.formLayout?this.props.formLayout:{wrapperCol:{offset:6,span:14}},n=this.props.form.getFieldDecorator,s={name:"image",data:{name:"hello"},action:Object(k.i)(x.Lb),headers:{authorization:"authorization-text"},onChange(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?C.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&C.a.error("".concat(e.file.name," file upload failed."))}};return i.a.createElement(u.a,null,i.a.createElement(A.a,{spinning:this.state.saving},i.a.createElement(d.a,{onSubmit:this.handleSubmit},this.props.title?i.a.createElement("h2",null,this.props.title):null,e.state.userDetails?i.a.createElement(Y,L({key:"id",value:this.state.userDetails.id},a),i.a.createElement(u.a,{bordered:!1,style:{background:"#ECECEC"}},i.a.createElement(N,{avatar:this.state.userDetails.image?i.a.createElement(y.a,{src:Object(k.h)(this.state.userDetails.image)}):i.a.createElement(y.a,{style:{backgroundColor:"#87d068"}},this.state.userDetails.user.first_name?this.state.userDetails.user.first_name.charAt(0):i.a.createElement(m.a,{type:"user"})),title:this.state.userDetails.user.first_name,description:i.a.createElement("span",null,e.props.activePracticePermissions.PatientPhoneNumber?this.state.userDetails.user.mobile:Object(M.b)(this.state.userDetails.user.mobile),i.a.createElement("br",null),i.a.createElement(l.a,{type:"primary",style:{float:"right"},onClick:this.handleClick},"Select Different"))}))):i.a.createElement("div",null,i.a.createElement(Y,L({key:"name",label:"Advisor Name"},t),n("first_name",{initialValue:e.props.editAgentData?e.props.editAgentData.user.first_name:""})(i.a.createElement(P.a,{placeholder:"Advisor Name",showSearch:!0,disabled:!!e.props.editAgentData,onSearch:this.searchPatient,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSelect:this.handlePatientSelect},this.state.userListData.map(t=>i.a.createElement(P.a.Option,{value:t.id.toString()},i.a.createElement(_.a.Item,{style:{padding:0}},i.a.createElement(_.a.Item.Meta,{avatar:t.image?i.a.createElement(y.a,{src:Object(k.h)(t.image)}):i.a.createElement(y.a,{style:{backgroundColor:"#87d068"}},t.user.first_name?t.user.first_name.charAt(0):i.a.createElement(m.a,{type:"user"})),title:"".concat(t.user.first_name," (ID:").concat(t.custom_id?t.custom_id:t.user.id,")"),description:e.props.activePracticePermissions.PatientPhoneNumber?t.user.mobile:Object(M.b)(t.user.mobile)}))))))),i.a.createElement(Y,L({key:"mobile",label:"Mobile Number"},t),n("mobile",{initialValue:e.props.editAgentData?e.props.editAgentData.user.mobile:null,rules:[{required:!0,message:I.k}]})(i.a.createElement(j.a,{placeholder:"Mobile Number",disabled:!!e.props.editAgentData}))),i.a.createElement(Y,L({key:"email",label:"Email Address"},t),n("email",{initialValue:e.props.editAgentData?e.props.editAgentData.user.email:null,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:I.k}]})(i.a.createElement(j.a,{placeholder:"Email Address",disabled:!!e.props.editAgentData}))),this.state.editAgentData?null:i.a.createElement(Y,L({key:"referal",label:"Referer Code"},t),n("referal",{initialValue:e.props.editAgentData&&e.props.editAgentData.user.referer_data.referer?e.props.editAgentData.user.referer_data.referer.referer_code:""})(i.a.createElement(j.a,{placeholder:"Referer Code"})))),i.a.createElement(Y,L({key:"role"},t,{label:"Role Type"}),n("role",{initialValue:e.props.editAgentData&&e.props.editAgentData.role?e.props.editAgentData.role:null},{rules:[{required:!0,message:I.k}]})(i.a.createElement(g.a,null,this.state.agentRoles.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.name))))),i.a.createElement(Y,L({label:"Document Upload"},t),n("aadhar_upload",{initialValue:e.props.editAgentData&&e.props.editAgentData.aadhar_upload?e.props.editAgentData.aadhar_upload:null,rules:[{required:!0,message:I.k}],valuePropName:"aadhar_upload"})(i.a.createElement(w.a,s,i.a.createElement(l.a,null,i.a.createElement(m.a,{type:"upload"})," Click to Upload"),e.props.editAgentData&&e.props.editAgentData.aadhar_upload?i.a.createElement("img",{src:Object(k.h)(e.props.editAgentData.aadhar_upload),style:{maxWidth:"100%"}}):null))),i.a.createElement(Y,t,i.a.createElement(l.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"),e.props.history?i.a.createElement(l.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null))))}}var K=d.a.create()(T),V=a(439),F=a(442),B=a(810),H=a(440),z=a(1587),q=a(1602);function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const U=z.a.RangePicker;class G extends n.Component{constructor(e){super(e),W(this,"changeStaff",e=>{const t=this;this.setState({selectedAdvisor:e},(function(){t.teamAnalysisData()}))}),W(this,"changeSort",e=>{const t=this;this.setState({sortOrder:e},(function(){t.teamAnalysisData()}))}),W(this,"reportsDateRange",e=>{const t=this;t.setState({startDate:D()(e[0],"DD/MM/YYYY"),endDate:D()(e[1],"DD/MM/YYYY")},(function(){t.teamAnalysisData()}))}),this.state={loading:!1,selectedAdvisor:null,advisorList:[],sortOrder:null,startDate:D()(),endDate:D()()},this.loadAgentlist=this.loadAgentlist.bind(this),this.reportsDateRange=this.reportsDateRange.bind(this)}componentDidMount(){this.loadAgentlist()}loadAgentlist(){const e=this;Object(k.c)(x.cd,(function(t){e.setState({advisorList:t,loading:!1})}),(function(){e.setState({loading:!1})}),{agent:!0,pagination:!1})}teamAnalysisData(){const e=this,t=e.state,a=t.sortOrder,n=t.startDate,i=t.endDate;e.setState({loading:!0});let s={};a&&(s.sort=a),n&&(s.start=e.state.startDate.format("YYYY-MM-DD")),i&&(s.end=e.state.endDate.format("YYYY-MM-DD")),Object(k.c)(Object(k.g)(x.ef,[e.state.selectedAdvisor]),(function(t){e.setState({teamdata:t,loading:!1})}),(function(){e.setState({loading:!1})}),s)}render(){const e=this,t=this.state,a=t.teamdata,n=(t.loading,t.advisorList),s=t.selectedAdvisor,r=t.sortOrder,l=t.startDate,o=t.endDate;let c=1;const d=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,t)=>i.a.createElement("span",null," ",c++),export:(e,t,a)=>a+1},{title:"Name",dataIndex:"user.first_name",key:"name"},{title:"EMP ID",dataIndex:"custom_id",key:"id"},{title:"Email",dataIndex:"user.email",key:"email"},{title:"Mobile",dataIndex:"user.mobile",key:"mobile"},{title:"Referal",dataIndex:"user.referer_data.referer.first_name",key:""},{title:"Sales",dataIndex:"sale",key:"sale"},{title:"Status",dataIndex:"is_approved",key:"status",render:(e,t)=>t.is_approved?"Approved":"Not Approved",export:(e,t)=>t.is_approved?"Approved":"Not Approved"}];return(i.a.createElement("div",null,i.a.createElement(u.a,{title:"Team Analysis"},i.a.createElement(p.a,{gutter:16},i.a.createElement(h.a,{sm:24,md:12,lg:5,style:{marginBottom:20}},i.a.createElement("h4",null,"Advisor"),i.a.createElement(g.a,{value:s,style:{width:"100%"},onChange:e=>this.changeStaff(e),placeholder:"Select the Advisor"},n.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.user?e.user.first_name:" "," ",e?e.custom_id:" ")))),i.a.createElement(h.a,{sm:24,md:12,lg:5,style:{marginBottom:20}},i.a.createElement("h4",null,"Sales"),i.a.createElement(g.a,{value:r,style:{width:"100%"},onChange:e=>this.changeSort(e),allowClear:!0},i.a.createElement(g.a.Option,{value:"asc"},"Low-High"),i.a.createElement(g.a.Option,{value:"desc"},"High-Low"))),i.a.createElement(h.a,{sm:24,md:12,lg:5,style:{width:"50%",marginBottom:20}},i.a.createElement("h4",null,"Date"),i.a.createElement(U,{allowClear:!1,onChange:(t,a)=>e.reportsDateRange(a),defaultValue:[l,o],format:"DD/MM/YYYY"}))),i.a.createElement("br",null),i.a.createElement("br",null),s?i.a.createElement(V.a,{pagination:!1,dataSource:a,columns:d,loading:this.state.loading}):i.a.createElement(q.a,{title:"Select Advisor  to see Team Analysis",status:"info"}))))}}var J=G;function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class X extends i.a.Component{constructor(e){super(e),Q(this,"openKYCModal",e=>{this.setState({KYCModal:e})}),Q(this,"handleCancel",()=>{this.setState({visible:!1})}),Q(this,"showWallet",e=>{this.setState({showAgentData:e})}),Q(this,"showPatient",e=>{this.setState({patientModalVisible:!0,advisorId:e.user.id},(function(){this.loadPatients(1)}))}),Q(this,"closePatientModal",()=>{this.setState({patientModalVisible:!1,patientList:null})}),Q(this,"loadPatients",(e=1)=>{const t=this;t.setState({loading:!0});const a={referred_by:this.state.advisorId,page:e,agent:!1};Object(k.c)(x.cd,(function(e){t.setState((function(t){return 1==e.current?{patientList:e.results,nextPage:e.next,loading:!1}:{patientList:[...t.patientList,...e.results],nextPage:e.next,loading:!1}}))}),(function(){t.setState({loading:!1})}),a)}),Q(this,"payAgentModal",e=>{this.setState({payAgentData:e})}),Q(this,"approveAgent",e=>{const t=this,a={id:e.id,is_approved:!0},n=function(a){Object(k.a)(S.sc,"Agent Approved Successfully!"),t.setState((function(t){const a=[];return t.data.forEach((function(t){t.id==e.id&&(t.is_approved=!0),a.push(t)})),{data:a,approvalLoading:!1}}))},i=function(){t.setState({approvalLoading:!1})};e.role?(t.setState({approvalLoading:!0}),Object(k.m)(Object(k.g)(x.td,[e.id]),a,n,i)):Object(k.a)(S.Dc,"Kindly assign the role before approving!")}),Q(this,"handleSubmit",e=>{const t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll((e,a)=>{e||t.setState({role:a.role,approved:a.approved},(function(){t.loadData()}))})}),this.state={redirect:!1,visible:!1,data:null,loading:!0,agentRoles:[],practiceList:[],approved:null,showAgentData:null,patientModalVisible:!1,patientList:[],KYCModal:null},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this),this.loadAgentRoles=this.loadAgentRoles.bind(this)}componentDidMount(){this.loadData(),this.loadAgentRoles()}loadAgentRoles(){const e=this;Object(k.c)(x.f,(function(t){e.setState({agentRoles:t})}),(function(){}))}loadData(e=1){const t=this;this.setState({loading:!0});const a={agent:!0,page:e};t.state.role&&(a.role=t.state.role),null!=t.state.approved&&(a.approved=!!t.state.approved),a.practice=this.props.active_practiceId,Object(k.c)(x.cd,(function(e){1==e.current?t.setState({data:e.results,total:e.count,nextPage:e.next,loading:!1}):t.setState((function(t){return{data:[...t.data,...e.results],total:e.count,nextPage:e.next,loading:!1}}))}),(function(){t.setState({loading:!1})}),a)}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}editObject(e){this.setState({editAgentData:e,loading:!1}),this.props.history.push("/advisors/".concat(e.id,"/edit"))}deleteObject(e){const t=this,a={id:e.id,is_agent:!1,approved_by:this.props.user.id};Object(k.m)(Object(k.g)(x.td,[e.id]),a,(function(e){t.setState({loading:!1}),t.loadData()}),(function(){}))}render(){const e=this;let t=1;const a=this.props.form.getFieldDecorator,n=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>i.a.createElement("span",null," ",t++),export:(e,t,a)=>a+1},{title:"Name",dataIndex:"user.first_name",key:"name",render:(e,t)=>i.a.createElement(E.b,{to:"/patient/".concat(t.id,"/profile")},e),export:(e,t)=>t.user.first_name},{title:"Email",dataIndex:"user.email",key:"email",export:(e,t)=>t.user.email},{title:"Mobile",dataIndex:"user.mobile",key:"mobile",export:(e,t)=>t.user.mobile},{title:"Referrer",dataIndex:"user.referer_data.referer.first_name",key:"referrer",render:(e,t)=>e&&t.user.referer_data.patient?i.a.createElement(E.b,{to:"/patient/".concat(t.user.referer_data.patient,"/profile")},e):"--",export:(e,t)=>t.user.referer?t.user.referer_data.referer.first_name:"--"},{title:"Role",dataIndex:"role_data.name",key:"role_data",export:(e,t)=>t.role_data.name},{title:"Aadhar",dataIndex:"aadhar_id",key:"aadhar_id",export:e=>e},{title:"Document",dataIndex:"aadhar_upload",key:"aadhar_upload",hideExport:!0,render:(e,t)=>e?i.a.createElement(l.a,{type:"link",onClick:()=>this.openKYCModal(t)},"Open KYC"):"--"},{title:"Status",dataIndex:"is_approved",key:"is_approved",render:(t,a)=>t?i.a.createElement(o.a,{color:"#87d068"},"Approved"):i.a.createElement(c.a,{title:"Are you sure approve this Advisor?",onConfirm:()=>e.approveAgent(a),okText:"Yes",cancelText:"No"},i.a.createElement("a",{href:"#",disabled:e.state.approvalLoading},"Approve"))},{title:"History",key:"action",hideExport:!0,width:"15%",render:(e,t)=>i.a.createElement(l.a.Group,{size:"small"},i.a.createElement(l.a,{type:"link",onClick:()=>this.showPatient(t)}," Patient"),i.a.createElement(l.a,{type:"link",onClick:()=>this.showWallet(t)}," Wallet"),i.a.createElement(l.a,{type:"link",onClick:()=>this.payAgentModal(t)}," PayÂ Out"))},{title:"Action",key:"action",hideExport:!0,width:"10%",render:(t,a)=>i.a.createElement(l.a.Group,{size:"small"},i.a.createElement(l.a,{type:"link",onClick:()=>this.editObject(a)}," Edit"),i.a.createElement(c.a,{title:"Are you sure delete this item?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},i.a.createElement(l.a,{type:"link"},"Delete")))}],r=d.a.create()(H.a);return i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/advisors/add",render:e=>i.a.createElement(K,Z({},this.props,{title:"Create Advisor",loadData:this.loadData}))}),i.a.createElement(s.b,{exact:!0,path:"/advisors/:id/edit",render:e=>i.a.createElement(K,Z({},this.props,this.state,{title:"Edit Advisor",loadData:this.loadData}))}),i.a.createElement(s.b,null,i.a.createElement(u.a,{title:i.a.createElement("h4",null,"Advisor List ",i.a.createElement(E.b,{to:"/advisors/add"},i.a.createElement(l.a,{style:{float:"right"},type:"primary"},i.a.createElement(m.a,{type:"plus"}),"Add")))},i.a.createElement(p.a,null,i.a.createElement(h.a,{style:{float:"right"}},i.a.createElement(d.a,{layout:"inline",onSubmit:this.handleSubmit},i.a.createElement(d.a.Item,{key:"role",label:"Advisor Role"},a("role",{initialValue:this.state.agentRoles?this.state.agentRoles.id:""})(i.a.createElement(g.a,{placeholder:"Advisor Role",style:{minWidth:150},allowClear:!0},this.state.agentRoles.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.name))))),i.a.createElement(d.a.Item,{key:"approved",label:"Status"},a("approved",{initialValue:this.state.approved?this.state.approved:null})(i.a.createElement(g.a,{placeholder:"status",style:{minWidth:150}},[{label:"Approved",value:!0},{label:"Pending",value:!1},{label:"All",value:null}].map(e=>i.a.createElement(g.a.Option,{value:e.value},e.label))))),i.a.createElement(d.a.Item,null,i.a.createElement(l.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"))))),i.a.createElement(V.a,{loading:this.state.loading,columns:n,dataSource:this.state.data,pagination:!1}),i.a.createElement(F.a,{loading:this.state.loading,loaderFunction:()=>e.loadData(e.state.nextPage),hidden:!this.state.nextPage}),i.a.createElement(f.a,{visible:this.state.showAgentData,closable:!1,centered:!0,width:1e3,footer:null,style:{top:60}},i.a.createElement(l.a,{type:"primary",style:{position:"absolute",top:"-50px"},onClick:()=>this.payAgentModal(this.state.showAgentData)},"Pay Out"),i.a.createElement(l.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:()=>this.showWallet(null)}),this.state.showAgentData?i.a.createElement(B.a,{currentPatient:this.state.showAgentData,key:this.state.showAgentData?this.state.showAgentData.id+this.state.payAgentData:null}):null),i.a.createElement(f.a,{visible:this.state.payAgentData,closable:!1,centered:!0,footer:null,closeIcon:null,style:{top:60}},i.a.createElement(l.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:()=>this.payAgentModal(null)}),this.state.payAgentData?i.a.createElement("div",null,i.a.createElement("h2",null,"Pay ",this.state.payAgentData.user.first_name),i.a.createElement(r,{formProp:{method:"post",action:x.rf,successFn(){e.payAgentModal(null)},errorFn(){},confirm:!0,confirmText:"Are you sure to pay out this advisor?"},fields:[{label:"Amount",key:"amount",type:S.Bb,required:!0,follow:"INR"},{label:"Date",key:"date",type:S.N,required:!0,format:"YYYY-MM-DD",initialValue:D()()},{label:"Comments",key:"comments",type:S.db,required:!0,extra:"Comments for this transaction"}],defaultValues:[{key:"ledger_type",value:"Payout"},{key:"amount_type",value:"Non Refundable"},{key:"practice",value:this.props.active_practiceId},{key:"is_mlm",value:!1},{key:"is_cancelled",value:!1},{key:"patient",value:this.state.payAgentData.id},{key:"staff",value:this.props.user.id}]})):null),i.a.createElement(f.a,{visible:!!this.state.KYCModal,footer:null,closable:!1,width:1e3,style:{top:60},onCancel:()=>this.openKYCModal(null)},this.state.KYCModal?i.a.createElement(p.a,{gutter:16},i.a.createElement(h.a,{span:8,style:{textAlign:"center"}},this.state.KYCModal.image?i.a.createElement("img",{src:Object(k.h)(this.state.KYCModal.image),style:{width:"100%"}}):i.a.createElement(y.a,{size:200,shape:"square",style:{backgroundColor:"#87d068"}},this.state.KYCModal.user.first_name?this.state.KYCModal.user.first_name:i.a.createElement(m.a,{type:"user"})),i.a.createElement(b.a,null,"KYC Documents"),i.a.createElement("div",{style:{width:"100%",height:"150px",border:"1px solid #bbb",backgroundSize:"cover",padding:"auto",overflow:"hidden",marginTop:5,marginBottom:5}},i.a.createElement(O.a,{style:{border:"3px solid red"},large:Object(k.h)(this.state.KYCModal.aadhar_upload),small:Object(k.h)(this.state.KYCModal.aadhar_upload)})),i.a.createElement("div",{style:{width:"100%",height:"150px",border:"1px solid #bbb",backgroundSize:"cover",padding:"auto",overflow:"hidden",marginTop:5,marginBottom:5}},i.a.createElement(O.a,{style:{border:"3px solid red"},large:Object(k.h)(this.state.KYCModal.pan_upload),small:Object(k.h)(this.state.KYCModal.pan_upload)}))),i.a.createElement(h.a,{span:16},i.a.createElement("h2",null,"Advisor Details"),i.a.createElement(te,{label:"Name",value:this.state.KYCModal.user.first_name}),i.a.createElement(te,{label:"Referer",value:this.state.KYCModal.user.referer_data.referer?i.a.createElement(E.b,{to:"/patient/".concat(this.state.KYCModal.user.referer_data.patient,"/profile")},this.state.KYCModal.user.referer_data.referer.first_name):"--"}),i.a.createElement(te,{label:"AADHAR No",value:this.state.KYCModal.aadhar_id}),i.a.createElement(te,{label:"PAN Card No",value:this.state.KYCModal.pan_card_id}),i.a.createElement(te,{label:"Email",value:e.props.activePracticePermissions.PatientEmailId?this.state.KYCModal.user.email:Object(M.a)(this.state.KYCModal.user.email)}),i.a.createElement(te,{label:"Primary Mobile",value:e.props.activePracticePermissions.PatientPhoneNumber?this.state.KYCModal.user.mobile:Object(M.b)(this.state.KYCModal.user.mobile)}),i.a.createElement(te,{label:"Secondary Mobile",value:e.props.activePracticePermissions.PatientPhoneNumber?this.state.KYCModal.secondary_mobile_no:Object(M.b)(this.state.KYCModal.secondary_mobile_no)}),i.a.createElement(te,{label:"Landline No",value:this.state.KYCModal.landline_no}),i.a.createElement(te,{label:"Address",value:this.state.KYCModal.address}),i.a.createElement(te,{label:"Locality",value:this.state.KYCModal.locality}),i.a.createElement(te,{label:"City",value:this.state.KYCModal.city_data?this.state.KYCModal.city_data.name:null}),i.a.createElement(te,{label:"State",value:this.state.KYCModal.state_data?this.state.KYCModal.state_data.name:null}),i.a.createElement(te,{label:"Country",value:this.state.KYCModal.country_data?this.state.KYCModal.country_data.name:null}),i.a.createElement(te,{label:"Pincode",value:this.state.KYCModal.pincode}))):null),i.a.createElement(f.a,{visible:this.state.patientModalVisible,closable:!1,width:1e3,footer:null,style:{top:60}},i.a.createElement(l.a,{icon:"close",type:"danger",shape:"circle",style:{position:"absolute",top:"-50px",right:0},onClick:()=>this.closePatientModal()}),i.a.createElement(ee,Z({},this.state,{loadPatients:this.loadPatients}))))))}}var $=d.a.create()(X);function ee(e){const t=[{title:"Id",dataIndex:"custom_id",key:"id",render:(e,t)=>i.a.createElement("span",null,e)},{title:"Name",dataIndex:"user.first_name",key:"name",render:(e,t)=>i.a.createElement("span",null,t.user.first_name)},{title:"City",dataIndex:"city_data",key:"city",render:e=>e?e.name:"--"},{title:"State",dataIndex:"state_data",key:"state",render:e=>e?e.name:"--"},{title:"PinCode",dataIndex:"pincode",key:"pincode",render:e=>e||"--"}];return(i.a.createElement(u.a,{title:"My Patients",bordered:!0,bodyStyle:{padding:0}},i.a.createElement(V.a,{pagination:!1,dataSource:e.patientList,columns:t,hideReport:!0,loading:e.loading}),i.a.createElement(F.a,{loading:e.loading,loaderFunction:()=>e.loadPatients(e.nextPage),hidden:!e.nextPage})))}function te(e){return i.a.createElement(p.a,{gutter:16,style:{marginBottom:"5px"}},i.a.createElement(h.a,{span:8,style:{textAlign:"right"}},e.label,":"),i.a.createElement(h.a,{span:16},i.a.createElement("strong",null,e.value)))}var ae=a(1567);const ne=r.a.Sider;class ie extends i.a.Component{render(){return i.a.createElement(ne,{trigger:null,collapsible:!0,style:{overflow:"auto",minHeight:"100vh",background:"#fff"}},i.a.createElement(ae.a,{mode:"inline",defaultSelectedKeys:["1"]},i.a.createElement(ae.a.ItemGroup,{key:"g1",title:i.a.createElement(b.a,{style:{margin:"0px"}},"Advisor Panel")},this.props.activePracticePermissions.SettingsAgents||this.props.allowAllPermissions?i.a.createElement(ae.a.Item,{key:"1"},i.a.createElement(E.b,{to:"/advisors/"},i.a.createElement(m.a,{type:"usergroup-add"}),i.a.createElement("span",{className:"nav-text"},"Advisor List"))):null,i.a.createElement(ae.a.Item,{key:"2"},i.a.createElement(E.b,{to:"/advisors/tnc"},i.a.createElement(m.a,{type:"safety-certificate"}),i.a.createElement("span",{className:"nav-text"},"Terms & Conditions"))),i.a.createElement(ae.a.Item,{key:"3"},i.a.createElement(E.b,{to:"/advisors/offers"},i.a.createElement(m.a,{type:"rocket"}),i.a.createElement("span",{className:"nav-text"},"Schemes & Offers"))),i.a.createElement(ae.a.Item,{key:"4"},i.a.createElement(E.b,{to:"/advisors/calldata"},i.a.createElement(m.a,{type:"phone"}),i.a.createElement("span",{className:"nav-text"},"Call Data"))),i.a.createElement(ae.a.Item,{key:"5"},i.a.createElement(E.b,{to:"/advisors/teamanalysis"},i.a.createElement(m.a,{type:"usergroup-add"}),i.a.createElement("span",{className:"nav-text"},"Team Analysis"))),i.a.createElement(ae.a.Item,{key:"6"},i.a.createElement(E.b,{to:"/advisors/bankdetails"},i.a.createElement(m.a,{type:"book"}),i.a.createElement("span",{className:"nav-text"},"Bank Details"))))))}}var se=ie,re=a(459),le=a(539),oe=a(56);class ce extends i.a.Component{constructor(e){super(e),this.state={editData:{}}}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}componentDidMount(){this.loadData()}loadData(){let e=this;e.setState({loading:!0});Object(k.c)(x.uf,(function(t){let a=null;t.results.length&&(a=t.results[0]),e.setState({editData:a,loading:!1})}),(function(){e.setState({loading:!1})}),{language:"ENGLISH",category:"ADVISOR",sub_category:"Terms & Condition",page:1,page_size:1})}render(){const e=this,t=[{label:"TnC Title",key:"title",required:!0,initialValue:this.state.editData?this.state.editData.title:null,type:S.db},{label:"Banner Image",key:"image",initialValue:this.state.editData?this.state.editData.image:null,type:S.oc},{label:"TnC Body",key:"body",required:!0,initialValue:this.state.editData?this.state.editData.body:" ",type:S.Tb}];let a={successFn(t){Object(k.a)(S.sc,"Updated Successfully"),e.props.loadData(),e.props.history&&e.props.history.replace("/advisors/tnc")},errorFn(){},action:x.uf,method:"post"};const n=d.a.create()(H.a);return i.a.createElement(p.a,null,i.a.createElement(u.a,null,i.a.createElement(n,{defaultValues:[{key:"language",value:"ENGLISH"},{key:"category",value:"ADVISOR"},{key:"sub_category",value:"Terms & Condition"}],title:"Edit Terms & Conditions",changeRedirect:this.changeRedirect,formProp:a,fields:t,loadData:this.props.loadData})),this.state.redirect&&i.a.createElement(s.a,{to:"/advisors/tnc"}))}}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class ue extends i.a.Component{constructor(e){var t,a,n;super(e),n=()=>{let e=this;e.setState({loading:!0}),Object(k.c)(x.uf,(function(t){let a=null;t.results.length&&(a=t.results[0]),e.setState({tncData:a,loading:!1})}),(function(){e.setState({loading:!1})}),{language:"ENGLISH",category:"ADVISOR",sub_category:"Terms & Condition",page:1,page_size:1})},(a="loadData")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={tncData:null,loading:!1}}componentDidMount(){this.loadData()}render(){const e=this.state,t=e.tncData,a=e.loading;return(i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/advisors/tnc/edit",render:e=>i.a.createElement(ce,de({},this.props,{editData:t,loadData:this.loadData}))}),i.a.createElement(s.b,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Advisor Terms & Conditions",i.a.createElement(E.b,{to:"/advisors/tnc/edit"},i.a.createElement(l.a,{type:"primary",icon:"edit",style:{float:"right"}},"Edit"))),i.a.createElement(u.a,{loading:a},t?i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,t.title),t.image?i.a.createElement("img",{src:Object(k.h)(t.image),alt:t.title,style:{width:"100%"}}):null,i.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.body}})):i.a.createElement(oe.a,null))))))}}var me=a(1589);class pe extends i.a.Component{constructor(e){super(e),this.state={editTherapyData:this.props.editOfferData?this.props.editOfferData:null}}componentDidMount(){this.props.match.params.id&&(this.state.editOfferData||this.loadData())}loadData(){const e=this;Object(k.c)(Object(k.g)(x.vf,[this.props.match.params.id]),(function(t){e.setState({editOfferData:t})}),(function(){}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}render(){const e=this,t=[{label:"Offer Name",key:"title",required:!0,initialValue:this.state.editOfferData?this.state.editOfferData.title:null,type:S.db},{label:"Offer Image",key:"image",required:!0,initialValue:this.state.editOfferData?this.state.editOfferData.image:null,type:S.oc},{label:"Content",key:"body",initialValue:this.state.editOfferData?this.state.editOfferData.body:null,type:S.Tb}];let a,n=[{key:"language",value:"ENGLISH"},{key:"category",value:"ADVISOR"},{key:"sub_category",value:"Scheme & Offers"}];this.state.editOfferData&&(n.push({key:"id",value:this.state.editOfferData.id}),a={successFn(t){Object(k.a)(S.sc,"Updated Successfully"),e.setState({redirect:!0}),e.props.loadData(),e.props.history&&e.props.history.replace("/advisors/offers")},errorFn(){},action:Object(k.g)(x.vf,[e.state.editOfferData.id]),method:"put"});const r=d.a.create()(H.a),l={successFn(t){Object(k.a)(S.sc,"Added Successfully!"),e.setState({redirect:!0}),e.props.loadData(),e.props.history&&e.props.history.replace("/advisors/offers")},errorFn(){},action:x.uf,method:"post"};return i.a.createElement(p.a,null,i.a.createElement(u.a,null,i.a.createElement(s.b,{exact:!0,path:"/advisors/offers/edit/:id",render:()=>this.props.match.params.id?i.a.createElement(r,{defaultValues:n,title:"Edit Offer",changeRedirect:this.changeRedirect,formProp:a,fields:t}):i.a.createElement(s.a,{to:"/advisors/offers"})}),i.a.createElement(s.b,{exact:!0,path:"/advisors/offers/add",render:()=>i.a.createElement(r,{title:"Add Offer",defaultValues:n,changeRedirect:this.changeRedirect,formProp:l,fields:t})})),this.state.redirect&&i.a.createElement(s.a,{to:"/advisors/offers"}))}}function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ye extends i.a.Component{constructor(e){super(e),fe(this,"loadData",(e=1)=>{const t=this,a={language:"ENGLISH",category:"ADVISOR",sub_category:"Scheme & Offers",page:e};Object(k.c)(x.uf,(function(e){t.setState((function(t){return 1==e.current?{offersData:[...e.results],next:e.next,loading:!1}:{offersData:[...t.offersData,...e.results],next:e.next,loading:!1}}))}),(function(){t.setState({loading:!1})}),a)}),this.state={offersData:null,loading:!0},this.loadData=this.loadData.bind(this),this.deleteObject=this.deleteObject.bind(this)}componentDidMount(){this.loadData()}deleteObject(e){const t=this,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){fe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);a.is_active=!1;Object(k.m)(Object(k.g)(x.vf,[e.id]),a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Name",dataIndex:"title",key:"title"},{title:"Description",render:e=>i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.body}})},{title:"Actions",render:t=>i.a.createElement("div",null,i.a.createElement(E.b,{to:"/advisors/offers/edit/".concat(t.id)},"Edit"),i.a.createElement(b.a,{type:"vertical"}),i.a.createElement(c.a,{title:"Are you sure delete this item?",onConfirm:()=>e.deleteObject(t),okText:"Yes",cancelText:"No"},i.a.createElement("a",null,"Delete")))}];return i.a.createElement("div",null,i.a.createElement("h2",null,"Schemes & Offers",i.a.createElement(E.b,{to:"/advisors/offers/add"},i.a.createElement(l.a,{type:"primary",icon:"plus",style:{float:"right"}},"Add"))),i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/advisors/offers/edit/:id",render:e=>i.a.createElement(pe,he({loadData:this.loadData},this.state,e))}),i.a.createElement(s.b,{exact:!0,path:"/advisors/offers/add",render:e=>i.a.createElement(pe,he({loadData:this.loadData},this.state,e))}),i.a.createElement(u.a,null,i.a.createElement(me.a,{loading:this.state.loading,dataSource:this.state.offersData,pagination:!1,columns:t}),i.a.createElement(F.a,{loaderFunction:()=>this.loadData(this.state.next),loading:this.state.loading,hidden:!this.state.next}))))}}var be=a(438);function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){Oe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}g.a.Option;class Se extends i.a.Component{constructor(e){super(e),Oe(this,"loadCallData",e=>{let t=this;t.setState({loading:!0});let a={id:e};Object(k.c)(x.R,(function(e){t.setState((function(a){if(1==e.count){let a=e.results[0];return a.medical_history&&(a.medical_history=a.medical_history.map(e=>e.id)),a.country&&t.getState(a.country.id),a.state&&t.getCity(a.state.id),{editingData:a,loading:!1}}return{loading:!1}}))}),(function(){t.setState({loading:!1})}),a)}),Oe(this,"onChangeValue",(e,t)=>{let a=this;a.setState({[e]:t},(function(){"country"==e&&a.getState(t),"state"==e&&a.getCity(t)}))}),Oe(this,"handleSubmit",e=>{let t=this;e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){let e=De(De({},a),{},{created_staff:t.props.user.staff.id});t.state.editingData.id&&(e.id=t.state.editingData.id);let n=function(e){t.props.history.push("/advisors/calldata"),Object(k.a)(S.sc,"Data Updated Successfully!!")},i=function(){Object(k.a)(S.T,"Something went wrong!!")};Object(k.k)(x.R,e,n,i)}})}),Oe(this,"loadMedicalHistory",()=>{const e=this;Object(k.c)(Object(k.g)(x.wc,[this.props.active_practiceId]),(function(t){e.setState({history:t})}),(function(){}))}),this.state={editingData:{},countrylist:[],stateList:[],cityList:[],loading:!1}}componentDidMount(){this.loadMedicalHistory(),this.getCountry(),Object(be.d)(this,["config_call_response"]),this.props.match.params.id&&this.loadCallData(this.props.match.params.id)}getCountry(){let e=this;Object(k.c)(x.lb,(function(t){e.setState({countrylist:t})}),(function(){}))}getState(e){let t=this;Object(k.c)(x.Ke,(function(e){t.setState({stateList:e})}),(function(){}),{country:e})}getCity(e){let t=this;Object(k.c)(x.Z,(function(e){t.setState({cityList:e})}),(function(){}),{state:e})}render(){let e=this;const t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:14}},n=this.state,s=n.editingData,r=n.loading,o=[];return this.state.history&&this.state.history.forEach((function(e){o.push({label:e.name,value:e.id})})),i.a.createElement("div",null,i.a.createElement(A.a,{spinning:r},i.a.createElement(d.a,{onSubmit:e.handleSubmit},i.a.createElement(u.a,{title:s.id?"Edit Call Record":"Add Call Records",extra:i.a.createElement(i.a.Fragment,null," ",i.a.createElement(l.a,{type:"primary",htmlType:"submit"},"Save"),e.props.history?i.a.createElement(l.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null)},i.a.createElement(d.a.Item,Ee({label:"Name"},a),t("name",{initialValue:s.name})(i.a.createElement(j.a,{placeholder:"Name"}))),i.a.createElement(d.a.Item,Ee({label:"Mobile "},a),t("mobile",{initialValue:s.mobile,rules:[{required:!0,message:"Input Mobile Number"}]})(i.a.createElement(j.a,{placeholder:"Mobile Number (Primary)"}))),i.a.createElement(d.a.Item,Ee({key:"country"},a,{label:"Country"}),t("country",{initialValue:s.country?s.country.id:""})(i.a.createElement(g.a,{onChange:e=>this.onChangeValue("country",e)},this.state.countrylist.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.name))))),i.a.createElement(d.a.Item,Ee({key:"state"},a,{label:"State"}),t("state",{initialValue:s.state?s.state.id:""})(i.a.createElement(g.a,{onChange:e=>this.onChangeValue("state",e)},this.state.stateList.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.name))))),i.a.createElement(d.a.Item,Ee({key:"City"},a,{label:"City"}),t("city",{initialValue:s.city?s.city.id:""})(i.a.createElement(g.a,null,this.state.cityList.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.name))))),i.a.createElement(d.a.Item,Ee({label:"Pincode"},a),t("pincode",{initialValue:s.pincode})(i.a.createElement(j.a,{placeholder:"PINCODE"}))),i.a.createElement(d.a.Item,Ee({label:"Medical History"},a),t("medical_history",{initialValue:s.medical_history||[]})(i.a.createElement(g.a,{placeholder:"Medical History",mode:"multiple",optionFilterProp:"children"},o.map(e=>i.a.createElement(g.a.Option,{value:e.value},e.label))))),i.a.createElement(d.a.Item,Ee({key:"status"},a,{label:"Response"}),t("status",{initialValue:s.status})(i.a.createElement(g.a,null,this.state.config_call_response&&this.state.config_call_response.map(e=>i.a.createElement(g.a.Option,{value:e},e))))),i.a.createElement(d.a.Item,Ee({label:"Remark"},a),t("remarks",{initialValue:s.remarks})(i.a.createElement(j.a.TextArea,{placeholder:"Remarks",rows:4}))),i.a.createElement(d.a.Item,null,e.props.history?i.a.createElement(l.a,{style:{margin:5},onClick:()=>e.props.history.goBack()},"Cancel"):null,i.a.createElement(l.a,{type:"primary",htmlType:"submit"},"Save"))))))}}var xe=d.a.create()(Se),ke=a(836);function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Pe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class _e extends i.a.Component{constructor(e){super(e),Pe(this,"loadData",(e=1)=>{let t=this;t.setState({loading:!0});let a=Ae({},this.state.searchString);Object(k.c)(x.R,(function(e){t.setState((function(t){return 1==e.current?{callCount:e.count,callList:e.results,nextPage:e.next,loading:!1}:{callCount:e.count,callList:[...t.callList,...e.results],nextPage:e.next,loading:!1}}))}),(function(){t.setState({loading:!1})}),a)}),Pe(this,"changeSearchString",(e,t)=>{let a=this;this.setState((function(a){return{searchString:Ae(Ae({},a.searchString),{},{[e]:t})}}),(function(){a.loadData()}))}),Pe(this,"onChangeValue",(e,t)=>{let a=this;this.setState((function(a){let n=Ae({},a.searchString);return"country"==e&&(n.state=null),n.city=null,{searchString:Ae(Ae({},n),{},{[e]:t}),stateList:"country"==e&&null==t?[]:a.stateList,cityList:"country"!=e&&"state"!=e||null!=t?a.cityList:[]}}),(function(){"country"==e&&t&&a.getState(t),"state"==e&&t&&a.getCity(t),a.loadData()}))}),this.state={searchString:{},countrylist:[],stateList:[],cityList:[]}}componentDidMount(){this.loadData(),this.getCountry()}getCountry(){let e=this;Object(k.c)(x.lb,(function(t){e.setState({countrylist:t})}),(function(){}))}getState(e){let t=this;Object(k.c)(x.Ke,(function(e){t.setState({stateList:e})}),(function(){}),{country:e})}getCity(e){let t=this;Object(k.c)(x.Z,(function(e){t.setState({cityList:e})}),(function(){}),{state:e})}render(){let e=[{title:"Name",dataIndex:"name",key:"name"},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"City",dataIndex:"city",key:"city",render:e=>e?e.name:"--"},{title:"State",dataIndex:"state",key:"state",render:e=>e?e.name:"--"},{title:"PinCode",dataIndex:"pincode",key:"pincode"},{title:"Status",dataIndex:"status",key:"status"},{title:"Remarks",dataIndex:"remarks",key:"remarks"},{title:"Medical History",dataIndex:"medical_history",key:"medical_history",render:(e,t)=>e?e.map(e=>i.a.createElement(o.a,null,e.name)):null},{title:"Advisor",dataIndex:"created_advisor",key:"created_advisor",render:(e,t)=>e?e.user.first_name+" ("+e.custom_id+")":null},{title:"Action",dataIndex:"action",key:"action",render:(e,t)=>i.a.createElement(E.b,{to:"/advisors/calldata/".concat(t.id,"/edit")},"Edit")}];return(i.a.createElement("div",null,i.a.createElement("h2",null,"Advisor Call Data",i.a.createElement(E.b,{to:"/advisors/calldata/add"},i.a.createElement(l.a,{style:{float:"right"},type:"primary",icon:"plus"},"Add"))),i.a.createElement(u.a,null,i.a.createElement(p.a,{gutter:16},i.a.createElement(h.a,{sm:24,md:12,lg:5,style:{marginBottom:20}},i.a.createElement("h4",null,"Country"),i.a.createElement(g.a,{value:this.state.searchString.country,allowClear:!0,onChange:e=>this.onChangeValue("country",e),style:{width:"100%"}},this.state.countrylist.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.name)))),i.a.createElement(h.a,{sm:24,md:12,lg:5,style:{marginBottom:20}},i.a.createElement("h4",null,"State"),i.a.createElement(g.a,{value:this.state.searchString.state,allowClear:!0,onChange:e=>this.onChangeValue("state",e),style:{width:"100%"}},this.state.stateList.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.name)))),i.a.createElement(h.a,{sm:24,md:12,lg:5,style:{marginBottom:20}},i.a.createElement("h4",null,"City"),i.a.createElement(g.a,{value:this.state.searchString.city,allowClear:!0,style:{width:"100%"},onChange:e=>this.onChangeValue("city",e)},this.state.cityList.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.name)))),i.a.createElement(h.a,{sm:24,md:12,lg:5,style:{marginBottom:20}},i.a.createElement("h4",null,"Patient Mobile"),i.a.createElement(j.a,{style:{width:"100%"},value:this.state.searchString.mobile,onChange:e=>this.changeSearchString("mobile",e.target.value)})),i.a.createElement(h.a,{sm:24,md:24,lg:4,style:{textAlign:"center",marginBottom:20}},i.a.createElement(ke.a,{title:"Total Count",value:this.state.callCount}))),i.a.createElement(V.a,{pagination:!1,dataSource:this.state.callList,columns:e,hideReport:!0}),i.a.createElement(F.a,{loading:this.state.loading,loaderFunction:()=>this.loadData(this.state.nextPage),hidden:!this.state.nextPage}))))}}function je(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class we extends n.Component{constructor(e){super(e),je(this,"changeStaff",e=>{const t=this;this.setState({selectedAdvisor:e},(function(){t.bankDetailsData()}))}),je(this,"bankDetailsData",(e=1)=>{let t=this.state.selectedAdvisor,a=this;a.setState({loading:!0});let n={page:e};t&&(n.patient=t),Object(k.c)(x.z,(function(e){1==e.current?a.setState({advisorBankDetails:e.results,loading:!1,loadMoreReport:e.next}):a.setState((function(t){return{advisorBankDetails:[...t.advisorBankDetails,...e.results],loading:!1,loadMoreReport:e.next}}))}),(function(){a.setState({loading:!1})}),n)}),je(this,"loadAgentlist",()=>{const e=this;Object(k.c)(x.cd,(function(t){e.setState({advisorList:t,loading:!1})}),(function(){e.setState({loading:!1})}),{agent:!0,pagination:!1})}),this.state={loading:!1,selectedAdvisor:null},this.bankDetailsData=this.bankDetailsData.bind(this),this.loadAgentlist=this.loadAgentlist.bind(this)}componentDidMount(){this.bankDetailsData(),this.loadAgentlist()}render(){const e=this.state,t=e.advisorList,a=e.advisorBankDetails;console.log(t);let n=1;const s=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,t)=>i.a.createElement("span",null," ",n++),export:(e,t,a)=>a+1},{title:"Name",dataIndex:"patient.user.first_name",key:"name"},{title:"EMP ID",dataIndex:"patient.custom_id",key:"id"},{title:"Mobile",dataIndex:"patient.user.mobile",key:"mobile",export:(e,t)=>t.user.mobile},{title:"Account Name",dataIndex:"account_name",key:"accountname"},{title:"Account No",dataIndex:"account_number",key:"accountnumber"},{title:"IFSC Code",dataIndex:"ifsc_code",key:"ifsccode"},{title:"Bank Name",dataIndex:"bank_name",key:"bankname"},{title:"Bank Branch",dataIndex:"bank_branch",key:"branch"}];return(i.a.createElement("div",null,i.a.createElement(u.a,{title:"Banks Details"},i.a.createElement(p.a,{gutter:16},i.a.createElement(h.a,{sm:24,md:12,lg:5,style:{marginBottom:20}},t?i.a.createElement("div",null,i.a.createElement("h4",null,"Advisor"),i.a.createElement(g.a,{style:{width:"100%"},onChange:e=>this.changeStaff(e),placeholder:"Select the Advisor",allowClear:!0},t.map(e=>i.a.createElement(g.a.Option,{value:e.id},e.user?e.user.first_name:" "," ",e?e.custom_id:" ")))):null)),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(me.a,{pagination:!1,dataSource:a,columns:s,loading:this.state.loading}),i.a.createElement(F.a,{loaderFunction:()=>this.bankDetailsData(this.state.loadMoreReport),loading:this.state.loading,hidden:!this.state.lbankDetailsData}))))}}var Ie=we;function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Le=r.a.Content;class Re extends i.a.Component{constructor(e){super(e),this.state={collapsed:!1}}render(){return i.a.createElement(Le,{className:"main-container",style:{minHeight:280}},i.a.createElement(r.a,null,i.a.createElement(se,this.props),i.a.createElement(Le,{style:{margin:"24px 16px",minHeight:280}},i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/advisors/tnc",render:e=>this.props.activePracticePermissions.SettingsAgents||this.props.allowAllPermissions?i.a.createElement(ue,Me({},this.state,this.props,e,{key:this.state.active_practiceId})):i.a.createElement(re.a,null)}),i.a.createElement(s.b,{path:"/advisors/offers",render:e=>this.props.activePracticePermissions.SettingsAgents||this.props.allowAllPermissions?i.a.createElement(ye,Me({},this.state,this.props,e,{key:this.state.active_practiceId})):i.a.createElement(re.a,null)}),i.a.createElement(s.b,{path:"/advisors/teamanalysis",render:e=>this.props.activePracticePermissions.SettingsAgents||this.props.allowAllPermissions?i.a.createElement(J,Me({},this.state,this.props,e,{key:this.state.active_practiceId})):i.a.createElement(re.a,null)}),i.a.createElement(s.b,{path:"/advisors/bankdetails",render:e=>this.props.activePracticePermissions.SettingsAgents||this.props.allowAllPermissions?i.a.createElement(Ie,Me({},this.state,this.props,e,{key:this.state.active_practiceId})):i.a.createElement(re.a,null)}),i.a.createElement(s.b,{path:"/advisors/calldata/add",render:e=>i.a.createElement(xe,Me({},this.props,this.state,e))}),i.a.createElement(s.b,{path:"/advisors/calldata/:id/edit",render:e=>i.a.createElement(xe,Me({},this.props,this.state,e))}),i.a.createElement(s.b,{path:"/advisors/calldata",render:e=>i.a.createElement(_e,Me({},this.props,this.state,e))}),i.a.createElement(s.b,{path:"/advisors/",render:e=>this.props.activePracticePermissions.SettingsAgents||this.props.allowAllPermissions?i.a.createElement($,Me({},this.state,this.props,e,{key:this.state.active_practiceId})):i.a.createElement(re.a,null)}),i.a.createElement(s.b,{component:le.a})))))}}t.default=Re},439:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(1),i=a.n(n),s=a(1568),r=a(503),l=a(448),o=a(1105),c=a(1183),d=a(1589),u=a(1572),m=a(436),p=a.n(m),h=a(517),g=a.n(h),f=a(464),y=a.n(f),b=a(508),E=a.n(b);a(518);const v=function(e,t,a=!0){let n="",i=[];return a&&(e.forEach((function(e){i.push(e)})),n+=i.join(","),n+="\r\n"),t.forEach((function(t){i=[],e.forEach((function(e){t[e]?i.push(t[e]):i.push("--")})),n+=i.join(","),n+="\r\n"})),n},D=function(e,t){const a="".concat(t,".csv");let n;const i=[];i.push(255,254);for(let t=0;t<e.length;++t)n=e.charCodeAt(t),i.push(255&n),i.push(n/256>>>0);const s=new Blob([new Uint8Array(i)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(s,a);else{const e=document.createElement("a");if(void 0!==e.download){const t=window.URL.createObjectURL(s);e.setAttribute("href",t),e.setAttribute("download",a),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(t)}}};a(435),a(434),a(438);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class C extends i.a.Component{constructor(e){super(e),k(this,"getColumnSearchProps",e=>({filterDropdown:({setSelectedKeys:t,selectedKeys:a,confirm:n,clearFilters:l})=>i.a.createElement("div",{style:{padding:8}},i.a.createElement(s.a,{ref:e=>{this.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:e=>t(e.target.value?[e.target.value]:[]),onPressEnter:()=>this.handleSearch(a,n),style:{width:188,marginBottom:8,display:"block"}}),i.a.createElement(r.a,{type:"primary",onClick:()=>this.handleSearch(a,n),icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),i.a.createElement(r.a,{onClick:()=>this.handleReset(l),size:"small",style:{width:90}},"Reset")),filterIcon:e=>i.a.createElement(l.a,{type:"search",style:{color:e?"#1890ff":void 0}}),onFilter:(t,a)=>null!=y()(a,e)?y()(a,e).toString().toLowerCase().includes(t.toLowerCase()):"",onFilterDropdownVisibleChange:e=>{e&&setTimeout(()=>this.searchInput.select())},render:e=>i.a.createElement(g.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[this.state.searchText],autoEscape:!0,textToHighlight:e?e.toString():""})})),k(this,"handleSearch",(e,t)=>{t(),this.setState({searchText:e[0]})}),k(this,"handleReset",e=>{e(),this.setState({searchText:""})}),this.state=x(x({},e),{},{searchText:""}),this.excelExport=this.excelExport.bind(this),this.pdfExport=this.pdfExport.bind(this)}componentWillReceiveProps(e){e.columns==this.state.columns&&e.dataSource==this.state.dataSource&&e.loading==this.state.loading||this.setState(x({},e))}pdfExport(){const e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push({title:e.title,dataKey:e.title})}));const a=[];e.state.dataSource.forEach((function(t,n){const i={};e.state.columns.forEach((function(e){e.export?i[e.title]=e.export(y()(t,e.dataIndex),t,n):i[e.title]=y()(t,e.dataIndex)})),a.push(i)})),function(e,t,a){const n=new E.a("p","mm","a4");!function(e){e.line(10,20,200,20)}(n);const i=Object.create(t);n.autoTable(e,i,{margin:{top:35},startY:n.autoTableEndPosY()+20,headerStyle:{overflow:"linebreak"},bodyStyles:{overflow:"linebreak"}}),function(e){e.line(10,270,200,270),e.setFontSize(8),e.text(10,275,"This is a computer generated report.")}(n),n.save("".concat(a,".pdf"))}(t,a,"Export".concat(p()()))}excelExport(){const e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push(e.title)}));const a=[];e.state.dataSource.forEach((function(t,n){const i={};e.state.columns.forEach((function(e){e.export?i[e.title]=e.export(y()(t,e.dataIndex),t,n):i[e.title]=y()(t,e.dataIndex)})),a.push(i)})),function(e,t,a="download"){const n=v(e,t);D(n,a)}(t,a,"Export".concat(p()()))}render(){const e=this,t=this.state.columns.map(t=>t.hide?{}:t.render?x({},t):x(x({},t),e.getColumnSearchProps(t.dataIndex)));return i.a.createElement("div",null,this.props.hideReport?null:i.a.createElement(o.a,null,i.a.createElement(c.a,null,i.a.createElement(r.a.Group,{size:"small"},i.a.createElement(r.a,{disabled:this.state.loading,type:"primary",onClick:this.excelExport},i.a.createElement(l.a,{type:"file-excel"})," Excel"),i.a.createElement(r.a,{disabled:this.state.loading,type:"primary",onClick:this.pdfExport},i.a.createElement(l.a,{type:"file-pdf"})," PDF")))),i.a.createElement(o.a,null,i.a.createElement(d.a,O({pagination:{position:"both",pageSizeOptions:["10","20","30","40","50","100"],showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:(e,t)=>i.a.createElement(u.a,null,"Showing ",i.a.createElement("b",null,t[0])," to ",i.a.createElement("b",null,t[1])," of ",i.a.createElement("b",null,e)," items")}},this.state,{columns:t}))))}}},442:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(433),i=a(1105),s=a(503),r=a(1),l=a.n(r);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends l.a.Component{constructor(e){super(e),o(this,"startLoading",()=>{this.props.loaderFunction&&(this.props.loaderFunction(),this.startMakingExtraLabels())}),o(this,"startMakingExtraLabels",()=>{const e=this;this.setState((function(e){return e.extraLoadingLabel.length>2?{extraLoadingLabel:""}:{extraLoadingLabel:"".concat(e.extraLoadingLabel,".")}}),(function(){e.props.loading&&setTimeout((function(){e.startMakingExtraLabels()}),500)}))}),this.state={extraLoadingLabel:""}}render(){return this.props.loading?l.a.createElement(n.a,{spinning:this.props.loading},l.a.createElement(i.a,{style:{minHeight:200}})):this.props.hidden?l.a.createElement(i.a,null,l.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},l.a.createElement("small",null,"No More Data Found"))):l.a.createElement(i.a,null,l.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},l.a.createElement(s.a,{type:"primary",onClick:this.startLoading,loading:this.props.loading},this.props.loading?"Loading".concat(this.state.extraLoadingLabel):"Load More")))}}},810:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(1),i=a.n(n),s=a(1594),r=a(1608),l=a(836),o=a(448),c=a(1105),d=a(1183),u=a(763),m=a(1587),p=a(503),h=a(436),g=a.n(h),f=a(439),y=a(435),b=a(434),E=a(442),v=a(456);function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const O=s.a.Text;class S extends i.a.Component{constructor(e){super(e),D(this,"loadPatientWallet",()=>{const e=this;if(this.props.currentPatient&&this.props.currentPatient.id){const t=function(t){t.length&&e.setState({walletAmount:t[0]})},a=function(){};Object(y.c)(Object(y.g)(b.h,[this.props.currentPatient.id]),t,a)}else this.setState({pendingAmount:null})}),D(this,"loadData",(e=1)=>{const t=this;this.setState({loading:!0});const a={page:e,start:this.state.selectedStartDate.startOf("day").format(),end:this.state.selectedEndDate.endOf("day").format(),agents:this.state.selectedAgents.join(",")};this.state.selectedAgents&&(a.agents=this.state.selectedAgents.join(",")),Object(y.c)(Object(y.g)(b.rf,[this.props.currentPatient.id]),(function(e){1==e.current?t.setState({ledger:e.results,loading:!1,nextPage:e.next}):t.setState((function(t){return{ledger:[...t.ledger,...e.results],loading:!1,nextPage:e.next}}))}),(function(){t.setState({loading:!1})}),a)}),D(this,"loadSumData",(e=1)=>{const t=this,a={page:e,start:this.state.selectedStartDate.format(),end:this.state.selectedEndDate.format(),agents:this.state.selectedAgents.join(",")};this.state.selectedAgents&&(a.agents=this.state.selectedAgents.join(",")),Object(y.c)(Object(y.g)(b.tf,[this.props.currentPatient.id]),(function(e){t.setState({ledgerDetails:e,nextPage:e.next})}),(function(){}),a)}),D(this,"changeExpenseFilters",(e,t)=>{const a=this;this.setState({[e]:t},(function(){a.loadData(1),a.loadSumData(1)}))}),this.state={ledger:[],ledgerDetails:{},loading:!1,walletAmount:null,selectedStartDate:g()().subtract(1,"month"),selectedEndDate:g()(),agents:[],selectedAgents:[],loadings:!1}}componentDidMount(){this.loadData(),this.loadPatientWallet(),this.loadAgents(),this.loadSumData()}loadAgents(){const e=this;Object(y.c)(Object(y.g)(b.Zc,[this.props.currentPatient.id]),(function(t){e.setState({agents:t})}),(function(){}),{agent:!0,pagination:!1})}loadPDF(){const e=this;e.setState({loadings:!0});const t={patient:this.props.currentPatient.id,start:this.state.selectedStartDate.startOf("day").format(),end:this.state.selectedEndDate.endOf("day").format()};Object(y.c)(b.sf,(function(t){e.setState({loadings:!1}),t.report_pdf&&window.open(v.a+t.report_pdf)}),(function(){e.setState({loadings:!1})}),t)}render(){this.state.loadings;const e=[{title:"Date",dataIndex:"created_at",key:"created_at",render:e=>g()(e).format("LLL")},{title:"Patient",dataIndex:"received_from",key:"received_from",render:(e,t)=>e?i.a.createElement(O,null,e.user.first_name," (",e.custom_id,")"):"--"},,{title:"Refered By",dataIndex:"received_from.user.referer_data",key:"received_from.user.referer_data",render:(e,t)=>e&&e.referer?i.a.createElement(O,null,e.referer.first_name," (",e.custom_id,")"):"--"},{title:"Ledger Comment",dataIndex:"comments",key:"comments",render:(e,t)=>t.is_cancelled?i.a.createElement(O,{delete:!0},e):e},{title:"Cr/Dr",dataIndex:"ledger_type",key:"ledger_type",render:(e,t)=>t.is_cancelled?i.a.createElement(O,{delete:!0},e):e},{title:"Amount",dataIndex:"amount",key:"amount",render:(e,t)=>t.is_cancelled?i.a.createElement(O,{delete:!0},e.toFixed(2)):e.toFixed(2)}];return i.a.createElement("div",null,i.a.createElement(r.a,{title:"Wallet Ledger",extra:[this.state.walletAmount?i.a.createElement(l.a,{prefix:i.a.createElement(o.a,{type:"wallet"}),value:this.state.walletAmount.non_refundable,precision:2}):null]},i.a.createElement(c.a,{gutter:16,style:{marginBottom:10}},i.a.createElement(d.a,{span:2,style:{textAlign:"right"}},i.a.createElement("b",null," Agents")),i.a.createElement(d.a,{span:4},i.a.createElement(u.a,{style:{width:"100%"},value:this.state.selectedAgents,mode:"multiple",disabled:this.state.loading,onChange:e=>this.changeExpenseFilters("selectedAgents",e)},this.state.agents.map(e=>i.a.createElement(u.a.Option,{value:e.id},e.user.first_name)))),i.a.createElement(d.a,{span:2,style:{textAlign:"right"}},i.a.createElement("b",null," From")),i.a.createElement(d.a,{span:4},i.a.createElement(m.a,{value:this.state.selectedStartDate,disabled:this.state.loading,allowClear:!1,onChange:e=>this.changeExpenseFilters("selectedStartDate",e)})),i.a.createElement(d.a,{span:2,style:{textAlign:"right"}},i.a.createElement("b",null," To")),i.a.createElement(d.a,{span:4},i.a.createElement(m.a,{value:this.state.selectedEndDate,disabled:this.state.loading,allowClear:!1,onChange:e=>this.changeExpenseFilters("selectedEndDate",e)}))),i.a.createElement(c.a,{style:{textAlign:"center",marginBottom:10}},i.a.createElement(d.a,{span:6},i.a.createElement(l.a,{title:"Credit",value:this.state.ledgerDetails.credit,precision:2})),i.a.createElement(d.a,{span:6},i.a.createElement(l.a,{title:"Debit",value:this.state.ledgerDetails.debit,precision:2})),i.a.createElement(d.a,{span:6},i.a.createElement(l.a,{title:"Payout",value:this.state.ledgerDetails.payout,precision:2})),i.a.createElement(d.a,{span:6},i.a.createElement(l.a,{title:"Profit",value:this.state.ledgerDetails.credit-this.state.ledgerDetails.debit,precision:2}))),i.a.createElement("a",{onClick:()=>this.loadPDF()},i.a.createElement(p.a,{type:"primary",size:"small",icon:"file-pdf",loading:this.state.loadings},"PDF")),i.a.createElement(f.a,{dataSource:this.state.ledger,loading:this.state.loading,columns:e,hideReport:!0,pagination:!1}),i.a.createElement(E.a,{loading:this.state.loading,hidden:!this.state.nextPage,loaderFunction:()=>this.loadData(this.state.nextPage)})))}}}}]);