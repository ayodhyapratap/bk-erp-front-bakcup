(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1559:function(e,t,a){"use strict";var n,r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l,o,c=s(a(1)),d=a(1566),u=a(1561),m=d.keyframes(l||(l=r(["\n  100% { transform: rotate(360deg) }\n"],["\n  100% { transform: rotate(360deg) }\n"]))),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapper=function(){var e=t.props,a=e.size,n=e.color,i=u.parseLengthAndUnit(a),s=i.value,l=i.unit;return d.css(o||(o=r(["\n      position: relative;\n      width: ",";\n      height: ",";\n      background-color: transparent;\n      box-shadow: inset 0px 0px 0px 2px ",';\n      border-radius: 50%;\n\n      &:after,\n      &:before {\n        position: absolute;\n        content: "";\n        background-color: ',";\n      }\n\n      &:after {\n        width: ","px;\n        height: 2px;\n        top: ","px;\n        left: ","px;\n        transform-origin: 1px 1px;\n        animation: "," 2s linear infinite;\n      }\n\n      &:before {\n        width: ","px;\n        height: 2px;\n        top: ","px;\n        left: ","px;\n        transform-origin: 1px 1px;\n        animation: "," 8s linear infinite;\n      }\n    "],["\n      position: relative;\n      width: ",";\n      height: ",";\n      background-color: transparent;\n      box-shadow: inset 0px 0px 0px 2px ",';\n      border-radius: 50%;\n\n      &:after,\n      &:before {\n        position: absolute;\n        content: "";\n        background-color: ',";\n      }\n\n      &:after {\n        width: ","px;\n        height: 2px;\n        top: ","px;\n        left: ","px;\n        transform-origin: 1px 1px;\n        animation: "," 2s linear infinite;\n      }\n\n      &:before {\n        width: ","px;\n        height: 2px;\n        top: ","px;\n        left: ","px;\n        transform-origin: 1px 1px;\n        animation: "," 8s linear infinite;\n      }\n    "])),""+s+l,""+s+l,n,n,s/2.4,s/2-1,s/2-1,m,s/3,s/2-1,s/2-1,m)},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,a=e.css;return t?d.jsx("div",{css:[this.wrapper(),a]}):null},t.defaultProps=u.sizeDefaults(50),t}(c.PureComponent);t.default=p},1560:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},1561:function(e,t,a){"use strict";function n(e){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])}Object.defineProperty(t,"__esModule",{value:!0}),n(a(1562)),n(a(1563)),n(a(1564))},1562:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={loading:!0,color:"#000000",css:""};function r(e){return Object.assign({},n,{size:e})}function i(e,t){return Object.assign({},n,{height:e,width:t})}t.sizeDefaults=r,t.sizeMarginDefaults=function(e){return Object.assign({},r(e),{margin:2})},t.heightWidthDefaults=i,t.heightWidthRadiusDefaults=function(e,t,a){return void 0===a&&(a=2),Object.assign({},i(e,t),{radius:a,margin:2})}},1563:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"}(n||(n={})),t.calculateRgba=function(e,t){if(Object.keys(n).includes(e)&&(e=n[e]),"#"===e[0]&&(e=e.slice(1)),3===e.length){var a="";e.split("").forEach((function(e){a+=e,a+=e})),e=a}return"rgba("+e.match(/.{2}/g).map((function(e){return parseInt(e,16)})).join(", ")+", "+t+")"}},1564:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"==typeof e)return{value:e,unit:"px"};var t,a=e.match(/^[0-9.]*/).toString();t=a.includes(".")?parseFloat(a):parseInt(a,10);var r=e.match(/[^0-9]*$/).toString();return n[r]?{value:t,unit:r}:(console.warn("React Spinners: "+e+" is not a valid css value. Defaulting to "+t+"px."),{value:t,unit:"px"})}t.parseLengthAndUnit=r,t.cssValue=function(e){var t=r(e);return""+t.value+t.unit}},1566:function(e,t,a){"use strict";a.r(t),a.d(t,"css",(function(){return w})),a.d(t,"CacheProvider",(function(){return D})),a.d(t,"ClassNames",(function(){return q})),a.d(t,"Global",(function(){return F})),a.d(t,"ThemeContext",(function(){return _})),a.d(t,"jsx",(function(){return R})),a.d(t,"keyframes",(function(){return N})),a.d(t,"withEmotionCache",(function(){return j}));var n=a(1560),r=a.n(n),i=a(1);var s=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,a=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(a,t),this.tags.push(a)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);r.insertRule(e,i?0:r.cssRules.length)}catch(e){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var l=function(e){function t(e,t,n){var r=t.trim().split(h);t=r;var i=r.length,s=e.length;switch(s){case 0:case 1:var l=0;for(e=0===s?"":e[0]+" ";l<i;++l)t[l]=a(e,t[l],n).trim();break;default:var o=l=0;for(t=[];l<i;++l)for(var c=0;c<s;++c)t[o++]=a(e[c]+" ",r[l],n).trim()}return t}function a(e,t,a){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*a&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,a,i){var s=e+";",l=2*t+3*a+4*i;if(944===l){e=s.indexOf(":",9)+1;var o=s.substring(e,s.length-1).trim();return o=s.substring(0,e).trim()+o+";",1===D||2===D&&r(o,1)?"-webkit-"+o+o:o}if(0===D||2===D&&!r(s,1))return s;switch(l){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(T,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(o=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+o+s;case 1005:return m.test(s)?s.replace(u,":-webkit-")+s.replace(u,":-moz-")+s:s;case 1e3:switch(t=(o=s.substring(13).trim()).indexOf("-")+1,o.charCodeAt(0)+o.charCodeAt(t)){case 226:o=s.replace(k,"tb");break;case 232:o=s.replace(k,"tb-rl");break;case 220:o=s.replace(k,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+o+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,l=(o=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|o.charCodeAt(7))){case 203:if(111>o.charCodeAt(8))break;case 115:s=s.replace(o,"-webkit-"+o)+";"+s;break;case 207:case 102:s=s.replace(o,"-webkit-"+(102<l?"inline-":"")+"box")+";"+s.replace(o,"-webkit-"+o)+";"+s.replace(o,"-ms-"+o+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return o=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+o+"-ms-flex-"+o+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(O,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(O,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(o=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,a,i).replace(":fill-available",":stretch"):s.replace(o,"-webkit-"+o)+s.replace(o,"-moz-"+o.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===a+i&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+s}return s}function r(e,t){var a=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?a:10);return a=e.substring(a+1,e.length-1),A(2!==t?n:n.replace(S,"$1"),a,t)}function i(e,t){var a=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return a!==t+";"?a.replace(v," or ($1)").substring(4):"("+t+")"}function s(e,t,a,n,r,i,s,l,c,d){for(var u,m=0,p=t;m<I;++m)switch(u=P[m].call(o,e,p,a,n,r,i,s,l,c,d)){case void 0:case!1:case!0:case null:break;default:p=u}if(p!==t)return p}function l(e){return void 0!==(e=e.prefix)&&(A=null,e?"function"!=typeof e?D=1:(D=2,A=e):D=0),l}function o(e,a){var l=e;if(33>l.charCodeAt(0)&&(l=l.trim()),l=[l],0<I){var o=s(-1,a,l,l,C,w,0,0,0,0);void 0!==o&&"string"==typeof o&&(a=o)}var u=function e(a,l,o,u,m){for(var p,h,g,k,v,O=0,S=0,x=0,T=0,P=0,A=0,R=g=p=0,F=0,L=0,N=0,Y=0,V=o.length,q=V-1,z="",B="",H="",W="";F<V;){if(h=o.charCodeAt(F),F===q&&0!==S+T+x+O&&(0!==S&&(h=47===S?10:47),T=x=O=0,V++,q++),0===S+T+x+O){if(F===q&&(0<L&&(z=z.replace(d,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=o.charAt(F)}h=59}switch(h){case 123:for(p=(z=z.trim()).charCodeAt(0),g=1,Y=++F;F<V;){switch(h=o.charCodeAt(F)){case 123:g++;break;case 125:g--;break;case 47:switch(h=o.charCodeAt(F+1)){case 42:case 47:e:{for(R=F+1;R<q;++R)switch(o.charCodeAt(R)){case 47:if(42===h&&42===o.charCodeAt(R-1)&&F+2!==R){F=R+1;break e}break;case 10:if(47===h){F=R+1;break e}}F=R}}break;case 91:h++;case 40:h++;case 34:case 39:for(;F++<q&&o.charCodeAt(F)!==h;);}if(0===g)break;F++}switch(g=o.substring(Y,F),0===p&&(p=(z=z.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(z=z.replace(d,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=l;break;default:L=j}if(Y=(g=e(l,L,g,h,m+1)).length,0<I&&(v=s(3,g,L=t(j,z,N),l,C,w,Y,h,m,u),z=L.join(""),void 0!==v&&0===(Y=(g=v.trim()).length)&&(h=0,g="")),0<Y)switch(h){case 115:z=z.replace(E,i);case 100:case 109:case 45:g=z+"{"+g+"}";break;case 107:g=(z=z.replace(f,"$1 $2"))+"{"+g+"}",g=1===D||2===D&&r("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=z+g,112===u&&(B+=g,g="")}else g="";break;default:g=e(l,t(l,z,N),g,u,m+1)}H+=g,g=N=L=R=p=0,z="",h=o.charCodeAt(++F);break;case 125:case 59:if(1<(Y=(z=(0<L?z.replace(d,""):z).trim()).length))switch(0===R&&(p=z.charCodeAt(0),45===p||96<p&&123>p)&&(Y=(z=z.replace(" ",":")).length),0<I&&void 0!==(v=s(1,z,l,a,C,w,B.length,u,m,u))&&0===(Y=(z=v.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),h=z.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){W+=z+o.charAt(F);break}default:58!==z.charCodeAt(Y-1)&&(B+=n(z,p,h,z.charCodeAt(2)))}N=L=R=p=0,z="",h=o.charCodeAt(++F)}}switch(h){case 13:case 10:47===S?S=0:0===1+p&&107!==u&&0<z.length&&(L=1,z+="\0"),0<I*M&&s(0,z,l,a,C,w,B.length,u,m,u),w=1,C++;break;case 59:case 125:if(0===S+T+x+O){w++;break}default:switch(w++,k=o.charAt(F),h){case 9:case 32:if(0===T+O+S)switch(P){case 44:case 58:case 9:case 32:k="";break;default:32!==h&&(k=" ")}break;case 0:k="\\0";break;case 12:k="\\f";break;case 11:k="\\v";break;case 38:0===T+S+O&&(L=N=1,k="\f"+k);break;case 108:if(0===T+S+O+_&&0<R)switch(F-R){case 2:112===P&&58===o.charCodeAt(F-3)&&(_=P);case 8:111===A&&(_=A)}break;case 58:0===T+S+O&&(R=F);break;case 44:0===S+x+T+O&&(L=1,k+="\r");break;case 34:case 39:0===S&&(T=T===h?0:0===T?h:T);break;case 91:0===T+S+x&&O++;break;case 93:0===T+S+x&&O--;break;case 41:0===T+S+O&&x--;break;case 40:if(0===T+S+O){if(0===p)switch(2*P+3*A){case 533:break;default:p=1}x++}break;case 64:0===S+x+T+O+R+g&&(g=1);break;case 42:case 47:if(!(0<T+O+x))switch(S){case 0:switch(2*h+3*o.charCodeAt(F+1)){case 235:S=47;break;case 220:Y=F,S=42}break;case 42:47===h&&42===P&&Y+2!==F&&(33===o.charCodeAt(Y+2)&&(B+=o.substring(Y,F+1)),k="",S=0)}}0===S&&(z+=k)}A=P,P=h,F++}if(0<(Y=B.length)){if(L=l,0<I&&(void 0!==(v=s(2,B,L,a,C,w,Y,u,m,u))&&0===(B=v).length))return W+B+H;if(B=L.join(",")+"{"+B+"}",0!=D*_){switch(2!==D||r(B,2)||(_=0),_){case 111:B=B.replace(b,":-moz-$1")+B;break;case 112:B=B.replace(y,"::-webkit-input-$1")+B.replace(y,"::-moz-$1")+B.replace(y,":-ms-input-$1")+B}_=0}}return W+B+H}(j,l,a,0,0);return 0<I&&(void 0!==(o=s(-2,u,l,l,C,w,u.length,0,0,0))&&(u=o)),"",_=0,w=C=1,u}var c=/^\0+/g,d=/[\0\r\f]/g,u=/: */g,m=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,f=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,v=/([\s\S]*?);/g,O=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,w=1,C=1,_=0,D=1,j=[],P=[],I=0,A=null,M=0;return o.use=function e(t){switch(t){case void 0:case null:I=P.length=0;break;default:if("function"==typeof t)P[I++]=t;else if("object"==typeof t)for(var a=0,n=t.length;a<n;++a)e(t[a]);else M=0|!!t}return e},o.set=l,void 0!==e&&l(e),o};function o(e){e&&c.current.insert(e+"}")}var c={current:null},d=function(e,t,a,n,r,i,s,l,d,u){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return c.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===l)return t+"/*|*/";break;case 3:switch(l){case 102:case 112:return c.current.insert(a[0]+t),"";default:return t+(0===u?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(o)}},u=function(e){void 0===e&&(e={});var t,a=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new l(t);var r,i={};r=e.container||document.head;var o,u=document.querySelectorAll("style[data-emotion-"+a+"]");Array.prototype.forEach.call(u,(function(e){e.getAttribute("data-emotion-"+a).split(" ").forEach((function(e){i[e]=!0})),e.parentNode!==r&&r.appendChild(e)})),n.use(e.stylisPlugins)(d),o=function(e,t,a,r){var i=t.name;c.current=a,n(e,t.styles),r&&(m.inserted[i]=!0)};var m={key:a,sheet:new s({key:a,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:o};return m};function m(e,t,a){var n="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]):n+=a+" "})),n}var p=function(e,t,a){var n=e.key+"-"+t.name;if(!1===a&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var r=t;do{e.insert("."+n,r,e.sheet,!0);r=r.next}while(void 0!==r)}};var h=function(e){for(var t,a=0,n=0,r=e.length;r>=4;++n,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(r){case 3:a^=(255&e.charCodeAt(n+2))<<16;case 2:a^=(255&e.charCodeAt(n+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(n)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)},g={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var f=/[A-Z]|^ms/g,y=/_EMO_([^_]+?)_([^]*?)_EMO_/g,b=function(e){return 45===e.charCodeAt(1)},k=function(e){return null!=e&&"boolean"!=typeof e},E=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}((function(e){return b(e)?e:e.replace(f,"-$&").toLowerCase()})),v=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(y,(function(e,t,a){return S={name:t,styles:a,next:S},t}))}return 1===g[e]||b(e)||"number"!=typeof t||0===t?t:t+"px"};function O(e,t,a,n){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return S={name:a.name,styles:a.styles,next:S},a.name;if(void 0!==a.styles){var r=a.next;if(void 0!==r)for(;void 0!==r;)S={name:r.name,styles:r.styles,next:S},r=r.next;return a.styles+";"}return function(e,t,a){var n="";if(Array.isArray(a))for(var r=0;r<a.length;r++)n+=O(e,t,a[r],!1);else for(var i in a){var s=a[i];if("object"!=typeof s)null!=t&&void 0!==t[s]?n+=i+"{"+t[s]+"}":k(s)&&(n+=E(i)+":"+v(i,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=O(e,t,s,!1);switch(i){case"animation":case"animationName":n+=E(i)+":"+l+";";break;default:n+=i+"{"+l+"}"}}else for(var o=0;o<s.length;o++)k(s[o])&&(n+=E(i)+":"+v(i,s[o])+";")}return n}(e,t,a);case"function":if(void 0!==e){var i=S,s=a(e);return S=i,O(e,t,s,n)}break;case"string":}if(null==t)return a;var l=t[a];return void 0===l||n?a:l}var S,x=/label:\s*([^\s;\n{]+)\s*;/g;var T=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,r="";S=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,r+=O(a,t,i,!1)):r+=i[0];for(var s=1;s<e.length;s++)r+=O(a,t,e[s],46===r.charCodeAt(r.length-1)),n&&(r+=i[s]);x.lastIndex=0;for(var l,o="";null!==(l=x.exec(r));)o+="-"+l[1];return{name:h(r)+o,styles:r,next:S}};var w=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return T(t)},C=Object(i.createContext)("undefined"!=typeof HTMLElement?u():null),_=Object(i.createContext)({}),D=C.Provider,j=function(e){return Object(i.forwardRef)((function(t,a){return Object(i.createElement)(C.Consumer,null,(function(n){return e(t,n,a)}))}))},P="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",I=Object.prototype.hasOwnProperty,A=function(e,t,a,n){var r=null===a?t.css:t.css(a);"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var s=t[P],l=[r],o="";"string"==typeof t.className?o=m(e.registered,l,t.className):null!=t.className&&(o=t.className+" ");var c=T(l);p(e,c,"string"==typeof s);o+=e.key+"-"+c.name;var d={};for(var u in t)I.call(t,u)&&"css"!==u&&u!==P&&(d[u]=t[u]);return d.ref=n,d.className=o,Object(i.createElement)(s,d)},M=j((function(e,t,a){return"function"==typeof e.css?Object(i.createElement)(_.Consumer,null,(function(n){return A(t,e,n,a)})):A(t,e,null,a)}));var R=function(e,t){var a=arguments;if(null==t||!I.call(t,"css"))return i.createElement.apply(void 0,a);var n=a.length,r=new Array(n);r[0]=M;var s={};for(var l in t)I.call(t,l)&&(s[l]=t[l]);s[P]=e,r[1]=s;for(var o=2;o<n;o++)r[o]=a[o];return i.createElement.apply(null,r)},F=j((function(e,t){var a=e.styles;if("function"==typeof a)return Object(i.createElement)(_.Consumer,null,(function(e){var n=T([a(e)]);return Object(i.createElement)(L,{serialized:n,cache:t})}));var n=T([a]);return Object(i.createElement)(L,{serialized:n,cache:t})})),L=function(e){function t(t,a,n){return e.call(this,t,a,n)||this}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.sheet=new s({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},a.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},a.insertStyles=function(){if(void 0!==this.props.serialized.next&&p(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},a.componentWillUnmount=function(){this.sheet.flush()},a.render=function(){return null},t}(i.Component),N=function(){var e=w.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Y=function e(t){for(var a=t.length,n=0,r="";n<a;n++){var i=t[n];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var l in s="",i)i[l]&&l&&(s&&(s+=" "),s+=l);break;default:s=i}s&&(r&&(r+=" "),r+=s)}}return r};function V(e,t,a){var n=[],r=m(e,n,a);return n.length<2?a:r+t(n)}var q=j((function(e,t){return Object(i.createElement)(_.Consumer,null,(function(a){var n=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var r=T(a,t.registered);return p(t,r,!1),t.key+"-"+r.name},r={css:n,cx:function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return V(t.registered,n,Y(a))},theme:a},i=e.children(r);return!0,i}))}))},1571:function(e,t,a){"use strict";var n=a(1),r=a(34),i=a.n(r),s=a(119),l=a(181);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},u=function(e){return n.createElement(l.a,null,(function(t){var a,r,l=t.getPrefixCls,u=e.prefixCls,m=e.className,p=e.color,h=void 0===p?"":p,g=e.children,f=e.pending,y=e.dot,b=d(e,["prefixCls","className","color","children","pending","dot"]),k=l("timeline",u),E=i()((c(a={},"".concat(k,"-item"),!0),c(a,"".concat(k,"-item-pending"),f),a),m),v=i()((c(r={},"".concat(k,"-item-head"),!0),c(r,"".concat(k,"-item-head-custom"),y),c(r,"".concat(k,"-item-head-").concat(h),!0),r));return n.createElement("li",o({},Object(s.default)(b,["position"]),{className:E}),n.createElement("div",{className:"".concat(k,"-item-tail")}),n.createElement("div",{className:v,style:{borderColor:/blue|red|green|gray/.test(h)?void 0:h}},y),n.createElement("div",{className:"".concat(k,"-item-content")},g))}))};u.defaultProps={color:"blue",pending:!1,position:""};var m=u,p=a(448);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(c,e);var t,a,r,s,o=(t=c,function(){var e,a=S(t);if(O()){var n=S(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return v(this,e)});function c(){var e;return k(this,c),(e=o.apply(this,arguments)).renderTimeline=function(t){var a,r=t.getPrefixCls,s=e.props,l=s.prefixCls,o=s.pending,c=void 0===o?null:o,d=s.pendingDot,u=s.children,h=s.className,y=s.reverse,k=s.mode,E=T(s,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),v=r("timeline",l),O="boolean"==typeof c?null:c,S=i()(v,(b(a={},"".concat(v,"-pending"),!!c),b(a,"".concat(v,"-reverse"),!!y),b(a,"".concat(v,"-").concat(k),!!k),a),h),x=c?n.createElement(m,{pending:!!c,dot:d||n.createElement(p.a,{type:"loading"})},O):null,w=y?[x].concat(f(n.Children.toArray(u).reverse())):[].concat(f(n.Children.toArray(u)),[x]),C=function(e,t){return"alternate"===k?"right"===e.props.position?"".concat(v,"-item-right"):"left"===e.props.position?"".concat(v,"-item-left"):"".concat(v,t%2==0?"-item-left":"-item-right"):"left"===k?"".concat(v,"-item-left"):"right"===k||"right"===e.props.position?"".concat(v,"-item-right"):""},_=w.filter((function(e){return!!e})),D=n.Children.count(_),j="".concat(v,"-item-last"),P=n.Children.map(_,(function(e,t){var a=t===D-2?j:"",r=t===D-1?j:"";return n.cloneElement(e,{className:i()([e.props.className,!y&&c?a:r,C(e,t)])})}));return n.createElement("ul",g({},E,{className:S}),P)},e}return a=c,(r=[{key:"render",value:function(){return n.createElement(l.a,null,this.renderTimeline)}}])&&E(a.prototype,r),s&&E(a,s),c}(n.Component);w.Item=m,w.defaultProps={reverse:!1,mode:""};t.a=w},1586:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(1577),s=a(18),l=a(1567),o=a(1579),c=a(448),d=a(115);a(459);const u=i.a.Sider;class m extends n.Component{constructor(e){super(e),this.state={}}render(){return r.a.createElement(u,{trigger:null,collapsible:!0,style:{overflow:"auto",minHeight:"100vh",background:"#fff"}},r.a.createElement(l.a,{mode:"inline",defaultSelectedKeys:["3"]},r.a.createElement(l.a.ItemGroup,{key:"#tasktracker",title:r.a.createElement(o.a,{style:{margin:"0px"}},"Task Tracker")},r.a.createElement(l.a.Item,{key:"1"},r.a.createElement(d.b,{to:"/tasktracker/createtask"},r.a.createElement(c.a,{type:"plus"}),"New Task")),this.props.user.staff.is_manager?r.a.createElement(l.a.Item,{key:"2"},r.a.createElement(d.b,{to:"/tasktracker/createrecurringtask"},r.a.createElement(c.a,{type:"plus"}),"New Recurring Task")):null,this.props.activePracticePermissions.AllRecurringTasks?r.a.createElement(l.a.Item,{key:"12"},r.a.createElement(d.b,{to:"/tasktracker/allrecurring"},r.a.createElement(c.a,{type:"retweet"}),"All Recurring Task")):null,r.a.createElement(l.a.Item,{key:"3"},r.a.createElement(d.b,{to:"/tasktracker/mytask"},r.a.createElement(c.a,{type:"check-circle"}),"My Task")),this.props.user.staff.is_manager?r.a.createElement(l.a.Item,{key:"4"},r.a.createElement(d.b,{to:"/tasktracker/departmenttask"},r.a.createElement(c.a,{type:"retweet"}),"Department Task")):null,r.a.createElement(l.a.Item,{key:"5"},r.a.createElement(d.b,{to:"/tasktracker/taskreport"},r.a.createElement(c.a,{type:"ordered-list"}),"Task Report")),this.props.user.staff.is_manager?r.a.createElement(l.a.Item,{key:"6"},r.a.createElement(d.b,{to:"/tasktracker/rating"},r.a.createElement(c.a,{type:"star"}),"Rating & Review")):null,this.props.user.staff.is_manager?r.a.createElement(l.a.Item,{key:"7"},r.a.createElement(d.b,{to:"/tasktracker/summary"},r.a.createElement(c.a,{type:"user"}),"Emp Day Summary")):null,r.a.createElement(l.a.Item,{key:"8"},r.a.createElement(d.b,{to:"/tasktracker/lastrating"},r.a.createElement(c.a,{type:"star"}),"My Last Ratings")),r.a.createElement(l.a.Item,{key:"9"},r.a.createElement(d.b,{to:"/tasktracker/daily-summary"},r.a.createElement(c.a,{type:"user"}),"My Daily Summary")),r.a.createElement(l.a.Item,{key:"10"},r.a.createElement(d.b,{to:"/tasktracker/targets"},r.a.createElement(c.a,{type:"pushpin"}),"Targets")),r.a.createElement(l.a.Item,{key:"11"},r.a.createElement(d.b,{to:"/tasktracker/department"},r.a.createElement(c.a,{type:"pushpin"}),"Department Targets")))))}}var p=m,h=a(1568),g=a(1105),f=a(1608),y=a(433),b=a(1593),k=a(1183),E=a(763),v=a(1587),O=a(503),S=a(450),x=(a(717),a(436)),T=a.n(x),w=(a(538),a(730),a(729),a(437)),C=a(434),_=a(435);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const A=h.a.TextArea;class M extends n.Component{constructor(e){super(e),I(this,"loadAssignee",()=>{const e=this;Object(_.c)(C.Te,(function(t){e.setState({assigneeList:t})}),(function(){}))}),I(this,"loadReporter",e=>{const t=this;Object(_.c)(C.af,(function(e){t.setState({reporterList:e})}),(function(){}),{user:e})}),I(this,"loadPriority",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({priorityData:t,loading:!1})}),(function(t){e.setState({loading:!1})}),{name:"Task Priority"})}),I(this,"loadEditTask",e=>{const t=this;t.setState({loading:!0});Object(_.c)(Object(_.g)(C.Ee,[e]),(function(e){t.setState({editTask:e,loading:!1},(function(){t.loadReporter(e.assignee)}))}),(function(e){t.setState({loading:!1})}))}),I(this,"handleSubmit",e=>{const t=this,a=t.state.editTask;e.preventDefault(),this.props.form.validateFields((e,n)=>{if(!e){this.setState({loading:!0});const e=P({},n),r=function(e){t.setState({loading:!1,editorState:{}}),t.props.form.resetFields(),Object(_.a)(w.sc,"Task Created Successfully")},i=function(e){t.setState({loading:!1})};a?(e.id=a.id,Object(_.m)(Object(_.g)(C.Ee,[a.id]),e,r,i)):Object(_.k)(C.Se,e,r,i)}})}),I(this,"onEditorStateChange",(e,t)=>{console.log("key",e,t),this.setState((function(a){return{editorState:P(P({},a.editorState),{},{[e]:t})}}))}),this.state={loading:!1,priorityData:[],editTask:null,editorState:{},assigneeList:[],reporterList:[]}}componentDidMount(){this.loadAssignee(),this.loadPriority();const e=this.props.match;S.get(e,"params.id")&&this.loadEditTask(S.get(e,"params.id"))}render(){const e=this.state,t=e.loading,a=e.priorityData,n=e.editTask,i=e.assigneeList,s=e.reporterList,l=(e.editorState,this.props.title),o=this.props.form.getFieldDecorator,c={labelCol:{span:8},wrapperCol:{span:16}},d={labelCol:{span:8},wrapperCol:{span:16}};return r.a.createElement(g.a,null,r.a.createElement(f.a,{title:l},r.a.createElement(y.a,{tip:"Loading...",spinning:t},r.a.createElement(b.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(g.a,null,r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,D({key:"assignee"},c,{label:"Assignee"}),o("assignee",{initialValue:n?n.assignee:null,rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(E.a,{placeholder:"Select Assignee",showSearch:!0,optionFilterProp:"children",onChange:e=>this.loadReporter(e)},i.map(e=>r.a.createElement(E.a.Option,{key:e.id,value:e.id},e.first_name," (",e.emp_id,")")))))),r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,D({key:"reporter"},d,{label:"Reporter"}),o("reporter",{initialValue:n?n.reporter:null,rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(E.a,{placeholder:"Select Reporter",showSearch:!0,optionFilterProp:"children"},s.map(e=>r.a.createElement(E.a.Option,{key:e.id,value:e.id},e.first_name," (",e.emp_id,")"))))))),r.a.createElement(g.a,null,r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,D({key:"priority"},c,{label:"Priority"}),o("priority",{initialValue:n?n.priority:[],rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(E.a,{placeholder:"Select Priority",showSearch:!0,optionFilterProp:"children"},a.map(e=>r.a.createElement(E.a.Option,{key:e.id,value:e.id},e.value)))))),r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,D({key:"deadline"},d,{label:"DeadLine"}),o("deadline",{initialValue:n?T()(n.deadline):"",rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(v.a,{format:"YYYY/MM/DD hh:mm a",style:{width:"100%"},showTime:!0,placeholder:"Select DeadLine"}))))),r.a.createElement(g.a,null,r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,D({key:"name"},c,{label:"Task Name"}),o("name",{initialValue:n?n.name:"",rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(h.a,{placeholder:"Task Name"})))),r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,D({key:"remark"},d,{label:"Remarks"}),o("remark",{initialValue:n?n.remark:"",rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(h.a,{placeholder:"Remarks"}))))),r.a.createElement(g.a,null,r.a.createElement(k.a,{span:24},r.a.createElement(b.a.Item,D({key:"description"},{labelCol:{span:4},wrapperCol:{span:20}},{label:"Description"}),o("description",{initialValue:n?n.description:"",rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(A,{rows:4}))))),r.a.createElement(b.a.Item,null,this.props.history?r.a.createElement(O.a,{style:{margin:5},onClick:()=>this.props.history.goBack()},"Cancel"):null,r.a.createElement(O.a,{style:{margin:5},type:"primary",htmlType:"submit",loading:this.state.loading},"Save"))))))}}var R=b.a.create()(M),F=a(1565),L=a(1572),N=a(1589),Y=a(1596),V=a(1015),q=a.n(V);class z extends n.Component{constructor(e){var t,a,n;super(e),n=e=>{e.preventDefault(),this.props.form.validateFields((e,t)=>{e||console.log("Received values of form: ",t)})},(a="handleSubmit")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={}}render(){const e=this.props.form.getFieldDecorator;let t=this.props,a=t.title,n=t.visible,i=t.onCancel;return(r.a.createElement(Y.a,{title:a,visible:n,onCancel:i,footer:null},r.a.createElement("div",null,r.a.createElement(b.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a.Item,{key:"comments",label:"Comments"},e("comments",{rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(q.a,{placeholder:"Comments"}))),r.a.createElement(b.a.Item,null,r.a.createElement(O.a,{style:{margin:5},onClick:()=>i()},"Cancel"),r.a.createElement(O.a,{style:{margin:5},type:"primary",htmlType:"submit",loading:this.state.loading},"Save"))))))}}b.a.create()(z);var B=a(442);const H=(e,t,a)=>{Object(_.k)(Object(_.g)(C.Je,[e]),{},(function(e){t&&t(e)}),(function(){a&&a()}))},W=(e,t,a)=>{Object(_.k)(Object(_.g)(C.Le,[e]),{},(function(e){t&&t(e)}),(function(){a&&a()}))};var $=a(440);class G extends r.a.Component{constructor(e){super(e),this.state={open:this.props.open}}componentWillReceiveProps(e,t){this.props.open!=e.open&&this.setState({open:e.open})}render(){const e=this.state.open,t=this,a=b.a.create()($.a),n=[{label:"Remark",key:"complete_remark",type:w.db,required:!0}],i={successFn(e){t.props.callback&&t.props.callback(),t.setState({open:!1})},errorFn(){t.props.errorCallback&&t.props.errorCallback()},method:"post",action:Object(_.g)(C.db,[this.props.taskId])};return r.a.createElement(Y.a,{visible:e,footer:null,title:"Complete Task"},r.a.createElement(a,{fields:n,formProp:i}),this.props.cancelFn?r.a.createElement(O.a,{onClick:this.props.cancelFn},"Cancel"):null)}}class U extends r.a.Component{constructor(e){super(e),this.state={open:this.props.open}}componentWillReceiveProps(e,t){this.props.open!=e.open&&this.setState({open:e.open})}render(){const e=this.state.open,t=this,a=b.a.create()($.a),n=[{label:"Comment",key:"comment",type:w.vc,required:!0,minRows:3}],i={successFn(e){t.props.callback&&t.props.callback(),t.props.cancelFn&&t.props.cancelFn()},errorFn(){t.props.errorCallback&&t.props.errorCallback()},method:"post",action:Object(_.g)(C.bb,[t.props.taskId])};return r.a.createElement(Y.a,{visible:e,footer:null,title:"Add Comment to Task"},r.a.createElement(a,{fields:n,formProp:i}),this.props.cancelFn?r.a.createElement(O.a,{onClick:this.props.cancelFn},"Cancel"):null)}}var K=a(441),Z=a(1559),J=a.n(Z);function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class X extends n.Component{constructor(e){super(e),Q(this,"loadTask",(e=1)=>{const t=this;t.setState({loading:!0});const a={page:e,assignee:t.props.user.id,incomplete:!0};Object(_.c)(C.Se,(function(e){t.setState({currentTask:e.results,nextTaskPage:e.next,loading:!1})}),(function(e){t.setState({loading:!1})}),a)}),Q(this,"startTask",e=>{const t=this;H(e,(function(){t.loadTask()}),(function(){}))}),Q(this,"stopTask",e=>{const t=this;W(e,(function(){t.loadTask()}),(function(){}))}),Q(this,"toggleCompleteTask",e=>{this.setState({completeTaskModalOpen:e})}),Q(this,"toggleCommentTask",e=>{this.setState({commentTaskModalOpen:e})}),this.state={visibleCommentModal:!1,loading:!1,commentData:null}}componentDidMount(){this.loadTask()}render(){const e=this.state,t=(e.visibleCommentModal,e.currentTask),a=(e.commentData,e.completeTaskModalOpen),n=e.commentTaskModalOpen,i=[{title:"Task Name",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(d.b,{to:"/tasktracker/task/".concat(t.id,"/view")},r.a.createElement("a",null,t.name))},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(e,t)=>r.a.createElement("span",null,t.reporter&&t.reporter_data?t.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status",render:(e,t)=>r.a.createElement("span",{style:{display:"inline-flex"}},S.get(t,"task_status")==K.bc?r.a.createElement(J.a,{size:20,color:"#1DA57A"}):null,"  ",e)},{title:"Time Remaining",dataIndex:"deadline",key:"deadline",render:(e,t)=>r.a.createElement("span",null,t.deadline?T()(t.deadline)>T()()?T()(t.deadline).from(T()(),!0):r.a.createElement(L.a,{color:"red"},"Delayed By ",T()().from(T()(t.deadline),!0)):null)},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a.Group,{size:"small"},r.a.createElement(O.a,{size:"small",type:"link",onClick:()=>this.startTask(t.id),disabled:S.get(t,"task_status")==K.bc||S.get(t,"task_status")==K.Yb},"Start"),r.a.createElement(O.a,{size:"small",type:"link",onClick:()=>this.stopTask(t.id),disabled:S.get(t,"task_status")==K.ac||S.get(t,"task_status")==K.Zb||S.get(t,"task_status")==K.Yb}," Stop"),r.a.createElement(O.a,{type:"link",onClick:()=>this.toggleCompleteTask(t.id),disabled:S.get(t,"task_status")==K.Yb},"Close"),r.a.createElement(O.a,{type:"link",icon:"message",onClick:()=>this.toggleCommentTask(t.id)},"Comments")))}];return r.a.createElement("div",null,r.a.createElement(G,{open:!!a,key:a,cancelFn:()=>this.toggleCompleteTask(!1),taskId:a,callback:()=>this.loadTask()}),r.a.createElement(U,{open:!!n,key:n,cancelFn:()=>this.toggleCommentTask(!1),taskId:n}),r.a.createElement(N.a,{loading:this.state.loading,dataSource:t,columns:i,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>this.loadData(this.state.nextTaskPage),loading:this.state.loading,hidden:!this.state.nextTaskPage}))}}var ee=X,te=a(1594),ae=a(1578);class ne extends r.a.Component{constructor(e){var t,a,n;super(e),n=e=>{const t=this;Object(_.c)(C.af,(function(e){t.setState({reporterList:e})}),(function(){}),{user:e})},(a="loadReporter")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={open:this.props.open,assignee:this.props.assignee,taskId:this.props.taskId,reporterList:[]}}componentDidMount(){this.loadReporter(this.state.assignee)}componentWillReceiveProps(e,t){this.props.open!=e.open&&this.setState({open:e.open})}render(){const e=this.state,t=e.open,a=e.reporterList,n=e.assignee,i=e.taskId,s=this,l=b.a.create()($.a),o=[{label:"Reporter",key:"reporter",type:w.mc,options:a.map(e=>({label:e.first_name,value:e.id})),required:!0}],c={successFn(e){s.props.callback&&s.props.callback(),s.props.cancelFn&&s.props.cancelFn(),Object(_.a)(w.sc,"Task Assigned Successfully!!")},errorFn(){s.props.errorCallback&&s.props.errorCallback()},method:"post",action:C.x},d=[{key:"assignee",value:n},{key:"template",value:i}];return r.a.createElement(Y.a,{visible:t,footer:null,title:"Assign Task to Self"},Array.isArray(this.state.taskId)?r.a.createElement(ae.a,{message:"You have selected ".concat(this.state.taskId.length," recurring tasks to assign."),banner:!0}):null,r.a.createElement(l,{fields:o,formProp:c,defaultValues:d}),this.props.cancelFn?r.a.createElement(O.a,{onClick:this.props.cancelFn},"Cancel"):null)}}var re=a(438);function ie(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const se=te.a.Text;class le extends r.a.Component{constructor(e){super(e),ie(this,"loadTaskList",e=>{const t=this;this.setState({loading:!0});const a={department:this.props.user.staff.department||this.state[K.c],designation:this.props.user.staff.designation||this.state[K.d],page_size:50,page:e};Object(_.c)(C.Sd,(function(e){1==e.current?t.setState({taskList:e.results,nextTaskPage:e.next,loading:!1}):t.setState((function(t){return{taskList:[...t.taskList,...e.results],nextTaskPage:e.next,loading:!1}}))}),(function(){t.setState({loading:!1})}),a)}),ie(this,"assignToSelf",e=>{this.setState({assignTaskModalId:e})}),ie(this,"showDetails",e=>{this.setState({showTaskDetails:e})}),this.state={taskList:[],showTaskDetails:null,selectedRowKeys:[],loading:!1}}componentDidMount(){let e=this;Object(re.d)(this,[K.c,K.d],(function(){e.loadTaskList()}))}render(){const e=[{title:"Task",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(O.a,{type:"link",onClick:()=>this.showDetails(t)},e)},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Days",dataIndex:"days",key:"days"},{title:"Department",dataIndex:"department",key:"department",render:(e,t)=>r.a.createElement("span",null,t.department&&t.department_data?t.department_data.value:"")},{title:"Designation",dataIndex:"designation",key:"designation",render:(e,t)=>r.a.createElement("span",null,t.designation&&t.designation_data?t.designation_data.value:"")},{title:"Action",dataIndex:"action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a,{type:"link",onClick:()=>this.assignToSelf(t.id)},"Assign to Self"))}],t={onChange:(e,t)=>{this.setState({selectedRowKeys:e})}},a=this.state,n=a.taskList,i=a.nextTaskPage,s=a.loading,l=a.assignTaskModalId,c=a.showTaskDetails,d=a.selectedRowKeys;return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(O.a,{onClick:()=>this.assignToSelf(d),style:{float:"right",marginBottom:10},type:"primary",disabled:!d.length},"Assign Selected Tasks to Self")),r.a.createElement(N.a,{rowSelection:t,pagination:!1,dataSource:n,columns:e,rowKey:e=>e.id,loading:s}),r.a.createElement(B.a,{loaderFunction:()=>this.loadTaskList(i),loading:s,hidden:!i}),r.a.createElement(ne,{open:!!l,key:l,taskId:l,assignee:this.props.user.id,cancelFn:()=>this.assignToSelf(null)}),r.a.createElement(Y.a,{visible:!!c,title:S.get(c,"name"),footer:null,onCancel:()=>this.showDetails(null)},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{label:"Department",value:S.get(c,"department_data.value")}),r.a.createElement(oe,{label:"Designation",value:S.get(c,"designation_data.value")}),r.a.createElement(oe,{label:"Priority",value:S.get(c,"priority_data.value")}),r.a.createElement(oe,{label:"Days",value:S.get(c,"days")}),r.a.createElement(oe,{label:"Remark",value:S.get(c,"remark")}),r.a.createElement(o.a,null),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.description}})):null,r.a.createElement(O.a,{onClick:()=>this.showDetails(null)},"Close")))}}function oe(e){return r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:8,style:{textAlign:"right"}},r.a.createElement(se,{type:"secondary"},e.label,":")),r.a.createElement(k.a,{span:16},r.a.createElement(se,null,e.value)))}function ce(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const de=v.a.RangePicker;class ue extends n.Component{constructor(e){super(e),ce(this,"setFilters",(e={})=>{const t=this;this.setState(e,(function(){t.loadTask()}))}),ce(this,"loadTask",(e=1)=>{const t=this;t.setState({loading:!0});const a={page:e,assignee:t.props.user.id,incomplete:!1};this.state.deadline_gte&&(a.deadline_gte=this.state.deadline_gte),this.state.deadline_lte&&(a.deadline_lte=this.state.deadline_lte),Object(_.c)(C.Se,(function(e){t.setState({currentTask:e.results,nextTaskPage:e.next,loading:!1,taskCount:e.count})}),(function(e){t.setState({loading:!1})}),a)}),ce(this,"toggleCommentTask",e=>{this.setState({commentTaskModalOpen:e})}),this.state={loading:!1,deadline_gte:T()().startOf("month").format(),deadline_lte:T()().endOf("month").format()}}componentDidMount(){this.loadTask()}render(){const e=this.state,t=e.currentTask,a=(e.completeTaskModalOpen,e.commentTaskModalOpen),n=e.deadline_gte,i=e.deadline_lte,s=[{title:"Task Name",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(d.b,{to:"/tasktracker/task/".concat(t.id,"/view")},r.a.createElement("a",null,t.name))},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(e,t)=>r.a.createElement("span",null,t.reporter&&t.reporter_data?t.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"DeadLine",dataIndex:"deadline",key:"deadline",render:(e,t)=>r.a.createElement("span",null,t.deadline?T()(t.deadline).format("LLL"):null)},{title:"Delayed",dataIndex:"delayed",key:"delayed",render:(e,t)=>t.completed_on&&T()(t.deadline)<T()(t.completed_on)||T()(t.deadline)<T()()?r.a.createElement(L.a,{color:"red"},"Delayed"):null},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a.Group,{size:"small"},r.a.createElement(O.a,{type:"link",icon:"message",onClick:()=>this.toggleCommentTask(t.id)},"Comments")))}];return r.a.createElement("div",null,r.a.createElement(U,{open:!!a,key:a,cancelFn:()=>this.toggleCommentTask(!1),taskId:a}),r.a.createElement(g.a,{gutter:16,style:{textAlign:"center"}},r.a.createElement(k.a,{span:24},r.a.createElement("p",null,"Deadline"),r.a.createElement(de,{value:[T()(n),T()(i)],format:"YYYY/MM/DD",onChange:e=>this.setFilters({deadline_gte:T()(e[0]).startOf("day").format(),deadline_lte:T()(e[1]).endOf("day").format()})}))),r.a.createElement(o.a,null),r.a.createElement(N.a,{loading:this.state.loading,dataSource:t,columns:s,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>this.loadData(this.state.nextTaskPage),loading:this.state.loading,hidden:!this.state.nextTaskPage}))}}var me=ue;function pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class he extends n.Component{constructor(e){super(e),pe(this,"loadTask",(e=1)=>{const t=this;t.setState({loading:!0});const a={page:e,incomplete:!0,assignee:t.props.user.id,deadline_lte:T()().format()};Object(_.c)(C.Se,(function(e){t.setState({currentTask:e.results,nextTaskPage:e.next,loading:!1})}),(function(e){t.setState({loading:!1})}),a)}),pe(this,"openCommentModal",e=>{const t=this.state.visibleCommentModal;this.setState({visibleCommentModal:!t,commentData:e})}),pe(this,"startTask",e=>{const t=this;H(e,(function(){t.loadTask(e)}),(function(){}))}),pe(this,"stopTask",e=>{const t=this;W(e,(function(){t.loadTask(e)}),(function(){}))}),pe(this,"toggleCompleteTask",e=>{this.setState({completeTaskModalOpen:e})}),pe(this,"toggleCommentTask",e=>{this.setState({commentTaskModalOpen:e})}),this.state={visibleCommentModal:!1,loading:!1,commentData:null}}componentDidMount(){this.loadTask()}render(){const e=this.state,t=(e.visibleCommentModal,e.currentTask),a=(e.commentData,e.completeTaskModalOpen),n=e.commentTaskModalOpen,i=[{title:"Task Name",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(d.b,{to:"/tasktracker/task/".concat(t.id,"/view")},r.a.createElement("a",null,t.name))},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(e,t)=>r.a.createElement("span",null,t.reporter&&t.reporter_data?t.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"DeadLine",dataIndex:"deadline",key:"deadline",render:(e,t)=>r.a.createElement("span",null,t.deadline?T()(t.deadline).format("LLL"):null)},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a.Group,{size:"small"},r.a.createElement(O.a,{type:"link",icon:"message",onClick:()=>this.toggleCommentTask(t.id)},"Comments")))}];return r.a.createElement("div",null,r.a.createElement(G,{open:!!a,key:a,cancelFn:()=>this.toggleCompleteTask(!1),taskId:a,callback:()=>this.loadTask()}),r.a.createElement(U,{open:!!n,key:n,cancelFn:()=>this.toggleCommentTask(!1),taskId:n}),r.a.createElement(N.a,{loading:this.state.loading,dataSource:t,columns:i,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>this.loadData(this.state.nextTaskPage),loading:this.state.loading,hidden:!this.state.nextTaskPage}))}}var ge=he;const fe=F.a.TabPane;class ye extends n.Component{constructor(e){var t,a,n;super(e),n=e=>{this.setState({activeTab:e})},(a="onChange")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={activeTab:"1"}}render(){const e=this.state.activeTab;return(r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement(F.a,{defaultActiveKey:"1",onChange:e=>this.onChange(e)},r.a.createElement(fe,{key:"1",tab:"My Current Tasks"},"1"==e?r.a.createElement(ee,this.props):null),r.a.createElement(fe,{key:"2",tab:"My Recurring Tasks"},"2"==e?r.a.createElement(le,this.props):null),r.a.createElement(fe,{key:"5",tab:"My Completed Tasks"},"5"==e?r.a.createElement(me,this.props):null),r.a.createElement(fe,{key:"6",tab:"Backlog"},"6"==e?r.a.createElement(ge,this.props):null)))))}}var be=a(1595),ke=a(836),Ee=a(1605),ve=a(34),Oe=a.n(ve),Se=a(181);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _e(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function Ae(e){return e&&e.length?e.map((function(e,t){return n.createElement("li",{key:"action-".concat(t)},e)})):null}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(l,e);var t,a,r,i,s=(t=l,function(){var e,a=je(t);if(De()){var n=je(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return _e(this,e)});function l(){var e;return we(this,l),(e=s.apply(this,arguments)).renderNested=function(e,t){return n.createElement("div",{className:Oe()("".concat(e,"-nested"))},t)},e.renderComment=function(t){var a=t.getPrefixCls,r=e.props,i=r.actions,s=r.author,l=r.avatar,o=r.children,c=r.className,d=r.content,u=r.prefixCls,m=r.style,p=r.datetime,h=Ie(r,["actions","author","avatar","children","className","content","prefixCls","style","datetime"]),g=a("comment",u),f=n.createElement("div",{className:"".concat(g,"-avatar")},"string"==typeof l?n.createElement("img",{src:l,alt:"comment-avatar"}):l),y=i&&i.length?n.createElement("ul",{className:"".concat(g,"-actions")},Ae(i)):null,b=n.createElement("div",{className:"".concat(g,"-content-author")},s&&n.createElement("span",{className:"".concat(g,"-content-author-name")},s),p&&n.createElement("span",{className:"".concat(g,"-content-author-time")},p)),k=n.createElement("div",{className:"".concat(g,"-content")},b,n.createElement("div",{className:"".concat(g,"-content-detail")},d),y),E=n.createElement("div",{className:"".concat(g,"-inner")},f,k);return n.createElement("div",Te({},h,{className:Oe()(g,c),style:m}),E,o?e.renderNested(g,o):null)},e}return a=l,(r=[{key:"render",value:function(){return n.createElement(Se.a,null,this.renderComment)}}])&&Ce(a.prototype,r),i&&Ce(a,i),l}(n.Component);function Re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Fe=te.a.Title,Le=te.a.Text,Ne=be.a.Panel,Ye=ke.a.Countdown;class Ve extends n.Component{constructor(e){super(e),Re(this,"openCommentModal",()=>{const e=this.state.visibleCommentModal;this.setState({visibleCommentModal:!e})}),Re(this,"startTask",e=>{const t=this;this.setState({disableStart:!0});H(e,(function(){t.getTaskValue(e)}),(function(){t.setState({disableStart:!1})}))}),Re(this,"stopTask",e=>{const t=this;this.setState({disableStop:!0});W(e,(function(){t.getTaskValue(e)}),(function(){t.setState({disableStop:!1})}))}),Re(this,"toggleCompleteTask",e=>{this.setState({completeTaskModalOpen:!!e})}),Re(this,"toggleCommentTask",e=>{this.setState({commentTaskModalOpen:!!e})}),Re(this,"goBack",()=>{this.props.history.goBack()}),this.state={visibleCommentModal:!1,taskValue:null,loading:!1,taskData:{}},this.getTaskValue=this.getTaskValue.bind(this)}componentDidMount(){const e=this.props.match;S.get(e,"params.id")&&this.getTaskValue(S.get(e,"params.id"))}getTaskValue(e){const t=this;this.setState({loading:!0,completeTaskModalOpen:!1});Object(_.c)(Object(_.g)(C.Ve,[e]),(function(e){t.setState({taskValue:e,loading:!1})}),(function(){t.setState({loading:!1})}))}render(){const e=this.state,t=(e.visibleCommentModal,e.loading),a=(e.taskData,e.taskValue),n=(e.disableStart,e.disableStop,e.completeTaskModalOpen),i=e.commentTaskModalOpen,s=this,l={background:"#ffffff",borderRadius:4,marginBottom:24,border:0,overflow:"hidden"};return r.a.createElement(f.a,null,r.a.createElement(G,{open:n,cancelFn:()=>s.toggleCompleteTask(!1),taskId:S.get(a,"id"),callback:()=>s.getTaskValue(S.get(a,"id"))}),r.a.createElement(U,{open:i,cancelFn:()=>s.toggleCommentTask(!1),taskId:S.get(a,"id"),callback:()=>s.getTaskValue(S.get(a,"id"))}),r.a.createElement(y.a,{tip:"Loading...",spinning:t},r.a.createElement(g.a,null,r.a.createElement(Fe,{level:2,ellipsis:1},r.a.createElement(O.a,{icon:"arrow-left",shape:"circle",type:"primary",onClick:this.goBack}),"  ",S.get(a,"name")),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/tasktracker/task/".concat(S.get(a,"id"),"/edit")},r.a.createElement(O.a,{type:"primary",ghost:!0,icon:"edit",disabled:S.get(a,"created_by")!=this.props.user.id},"Edit")),r.a.createElement(o.a,{type:"vertical",dashed:!0}),r.a.createElement(O.a,{type:"primary",ghost:!0,icon:"message",onClick:()=>this.toggleCommentTask(!0)},"Comments"),r.a.createElement(o.a,{type:"vertical",dashed:!0}),r.a.createElement(O.a,{type:"primary",ghost:!0,onClick:()=>this.startTask(S.get(a,"id")),disabled:S.get(a,"task_status")==K.bc||S.get(a,"task_status")==K.Yb},"Start"),r.a.createElement(o.a,{type:"vertical",dashed:!0}),r.a.createElement(O.a,{type:"danger",ghost:!0,onClick:()=>this.stopTask(S.get(a,"id")),disabled:S.get(a,"task_status")==K.ac||S.get(a,"task_status")==K.Zb||S.get(a,"task_status")==K.Yb},"Stop"),r.a.createElement(o.a,{type:"vertical",dashed:!0}),r.a.createElement(O.a,{type:"primary",ghost:!0,onClick:()=>this.toggleCompleteTask(!0),disabled:S.get(a,"task_status")==K.Yb},"Close Task")),r.a.createElement(o.a,{style:{marginBottom:"5px"}})),r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:16},r.a.createElement(be.a,{bordered:!1,defaultActiveKey:["1","2","3"],expandIcon:({isActive:e})=>r.a.createElement(c.a,{type:"caret-right",rotate:e?90:0})},r.a.createElement(Ne,{header:"Details",key:"1",style:l},r.a.createElement(ze,a)),r.a.createElement(Ne,{header:"Description",key:"2",style:l},r.a.createElement(He,a)),r.a.createElement(Ne,{header:"Activity",key:"3",style:l},r.a.createElement(We,a)))),r.a.createElement(k.a,{span:8},r.a.createElement(f.a,{hoverable:!0},r.a.createElement(Ye,{title:"Time Remaining",value:T()(S.get(a,"deadline")),format:"D:H:m:s",style:{textAlign:"center"}})),r.a.createElement(be.a,{bordered:!1,defaultActiveKey:["1","2"],expandIcon:({isActive:e})=>r.a.createElement(c.a,{type:"caret-right",rotate:e?90:0})},r.a.createElement(Ne,{header:"People",key:"1",style:l},r.a.createElement(g.a,null,r.a.createElement(Be,{label:"Assignee",value:S.get(a,"assignee_data.first_name")}),r.a.createElement(Be,{label:"Reporter",value:S.get(a,"reporter_data.first_name")}))),r.a.createElement(Ne,{header:"Work Log",key:"2",style:l},r.a.createElement($e,a)))))))}}var qe=Ve;function ze(e){return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(k.a,{xs:24,sm:24,md:12,lg:12},r.a.createElement(Be,{label:"Created On",value:T()(e.created_at).format("LLL")}),r.a.createElement(Be,{label:"Priority",value:S.get(e.priority_data,"value")}),r.a.createElement(Be,{label:"Status",value:S.get(e,"task_status")})),r.a.createElement(k.a,{xs:24,sm:24,md:12,lg:12},r.a.createElement(Be,{label:"Time Spent",value:"".concat(T()(e.work_time,"hh:mm:ss").from(T()("00:00:00","hh:mm:ss"),!0)," (").concat(e.work_time,")")}),r.a.createElement(Be,{label:"Deadline",value:T()(S.get(e,"deadline")).format("LLL")}),r.a.createElement(Be,{label:"Remark",value:S.get(e,"remark")}))))}function Be(e){return r.a.createElement(g.a,null,r.a.createElement(k.a,{span:8},r.a.createElement(Le,{type:"secondary"},e.label,":")),r.a.createElement(k.a,{span:16},r.a.createElement(Le,null,e.value)))}function He(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}})}function We(e){return e?r.a.createElement(Ee.a,{className:"comment-list",itemLayout:"horizontal",dataSource:e.comments,renderItem:e=>r.a.createElement(Ee.a.Item,null,r.a.createElement(Me,{author:e.comment_by,content:e.comment,datetime:T()(e.created_at).format("LLL")}))}):null}function $e(e){return r.a.createElement(Ee.a,{dataSource:e.work_log,renderItem:e=>r.a.createElement(Ee.a.Item,null,r.a.createElement(Ee.a.Item.Meta,{title:e.stop?T()(e.stop).from(T()(e.start),!0):"In Progress",description:r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(g.a,null,r.a.createElement(k.a,{span:8},r.a.createElement(Le,{type:"secondary"},"Start:")),r.a.createElement(k.a,{span:16},r.a.createElement(Le,null,e.start?T()(e.start).format("LLL"):"--"))),r.a.createElement(g.a,null,r.a.createElement(k.a,{span:8},r.a.createElement(Le,{type:"secondary"},"End:")),r.a.createElement(k.a,{span:16},r.a.createElement(Le,null,e.stop?T()(e.stop).format("LLL"):"--"))))}))})}var Ge=a(12),Ue=a(502),Ke=a(119),Ze=a(443);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function et(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){return e?e.toString().split("").reverse().map((function(e){var t=Number(e);return isNaN(t)?e:t})):[]}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(l,e);var t,a,r,i,s=(t=l,function(){var e,a=at(t);if(tt()){var n=at(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return et(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).onAnimated=function(){var e=t.props.onAnimated;e&&e()},t.renderScrollNumber=function(e){var a=e.getPrefixCls,r=t.props,i=r.prefixCls,s=r.className,l=r.style,o=r.title,c=r.component,d=void 0===c?"sup":c,u=r.displayComponent,m=Object(Ke.default)(t.props,["count","onAnimated","component","prefixCls","displayComponent"]),p=a("scroll-number",i),h=Qe(Qe({},m),{className:Oe()(p,s),title:o});return l&&l.borderColor&&(h.style=Qe(Qe({},l),{boxShadow:"0 0 0 1px ".concat(l.borderColor," inset")})),u?n.cloneElement(u,{className:Oe()("".concat(p,"-custom-component"),u.props&&u.props.className)}):n.createElement(d,h,t.renderNumberElement(p))},t.state={animateStarted:!0,count:e.count},t}return a=l,r=[{key:"componentDidUpdate",value:function(e,t){var a=this;this.lastCount=t.count,this.state.animateStarted&&(this.clearTimeout(),this.timeout=setTimeout((function(){a.setState((function(e,t){return{animateStarted:!1,count:t.count}}),a.onAnimated)})))}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"getPositionByNum",value:function(e,t){var a=this.state.count,n=Math.abs(Number(a)),r=Math.abs(Number(this.lastCount)),i=Math.abs(rt(this.state.count)[t]),s=Math.abs(rt(this.lastCount)[t]);return this.state.animateStarted?10+e:n>r?i>=s?10+e:20+e:i<=s?10+e:e}},{key:"renderCurrentNumber",value:function(e,t,a){if("number"==typeof t){var r=this.getPositionByNum(t,a),i=this.state.animateStarted||void 0===rt(this.lastCount)[a];return n.createElement("span",{className:"".concat(e,"-only"),style:{transition:i?"none":void 0,msTransform:"translateY(".concat(100*-r,"%)"),WebkitTransform:"translateY(".concat(100*-r,"%)"),transform:"translateY(".concat(100*-r,"%)")},key:a},function(e,t){for(var a=[],r=0;r<30;r++)a.push(n.createElement("p",{key:r.toString(),className:Oe()(t,{current:e===r})},r%10));return a}(r,"".concat(e,"-only-unit")))}return(n.createElement("span",{key:"symbol",className:"".concat(e,"-symbol")},t))}},{key:"renderNumberElement",value:function(e){var t=this,a=this.state.count;return a&&Number(a)%1==0?rt(a).map((function(a,n){return t.renderCurrentNumber(e,a,n)})).reverse():a}},{key:"render",value:function(){return n.createElement(Se.a,null,this.renderScrollNumber)}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}))}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return"count"in e?t.count===e.count?null:{animateStarted:!0}:null}}],r&&Xe(a.prototype,r),i&&Xe(a,i),l}(n.Component);it.defaultProps={count:null,onAnimated:function(){}},Object(Ze.polyfill)(it);var st=it,lt=a(961);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function dt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function bt(e){return-1!==lt.a.indexOf(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(l,e);var t,a,r,i,s=(t=l,function(){var e,a=gt(t);if(ht()){var n=gt(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return pt(this,e)});function l(){var e;return ut(this,l),(e=s.apply(this,arguments)).renderBadge=function(t){var a,r=t.getPrefixCls,i=e.props,s=i.prefixCls,l=i.scrollNumberPrefixCls,o=i.children,c=i.status,d=i.text,u=i.color,m=yt(i,["prefixCls","scrollNumberPrefixCls","children","status","text","color"]),p=["count","showZero","overflowCount","className","style","dot","offset","title"],h=r("badge",s),g=r("scroll-number",l),f=e.renderBadgeNumber(h,g),y=e.renderStatusText(h),b=Oe()((dt(a={},"".concat(h,"-status-dot"),e.hasStatus()),dt(a,"".concat(h,"-status-").concat(c),!!c),dt(a,"".concat(h,"-status-").concat(u),bt(u)),a)),k={};if(u&&!bt(u)&&(k.background=u),!o&&e.hasStatus()){var E=e.getStyleWithOffset(),v=E&&E.color;return n.createElement("span",ct({},Object(Ke.default)(m,p),{className:e.getBadgeClassName(h),style:E}),n.createElement("span",{className:b,style:k}),n.createElement("span",{style:{color:v},className:"".concat(h,"-status-text")},d))}return(n.createElement("span",ct({},Object(Ke.default)(m,p),{className:e.getBadgeClassName(h)}),o,n.createElement(Ue.a,{component:"",showProp:"data-show",transitionName:o?"".concat(h,"-zoom"):"",transitionAppear:!0},f),y))},e}return a=l,(r=[{key:"getNumberedDispayCount",value:function(){var e=this.props,t=e.count,a=e.overflowCount;return t>a?"".concat(a,"+"):t}},{key:"getDispayCount",value:function(){return this.isDot()?"":this.getNumberedDispayCount()}},{key:"getScrollNumberTitle",value:function(){var e=this.props,t=e.title,a=e.count;return t||("string"==typeof a||"number"==typeof a?a:void 0)}},{key:"getStyleWithOffset",value:function(){var e=this.props,t=e.offset,a=e.style;return t?ct({right:-parseInt(t[0],10),marginTop:t[1]},a):a}},{key:"getBadgeClassName",value:function(e){var t,a=this.props,n=a.className,r=a.children;return Oe()(n,e,(dt(t={},"".concat(e,"-status"),this.hasStatus()),dt(t,"".concat(e,"-not-a-wrapper"),!r),t))}},{key:"hasStatus",value:function(){var e=this.props,t=e.status,a=e.color;return!!t||!!a}},{key:"isZero",value:function(){var e=this.getNumberedDispayCount();return"0"===e||0===e}},{key:"isDot",value:function(){var e=this.props.dot,t=this.isZero();return e&&!t||this.hasStatus()}},{key:"isHidden",value:function(){var e=this.props.showZero,t=this.getDispayCount(),a=this.isZero(),n=this.isDot();return(null==t||""===t||a&&!e)&&!n}},{key:"renderStatusText",value:function(e){var t=this.props.text;return this.isHidden()||!t?null:n.createElement("span",{className:"".concat(e,"-status-text")},t)}},{key:"renderDispayComponent",value:function(){var e=this.props.count;if(e&&"object"===ot(e))return n.cloneElement(e,{style:ct(ct({},this.getStyleWithOffset()),e.props&&e.props.style)})}},{key:"renderBadgeNumber",value:function(e,t){var a,r=this.props,i=r.status,s=r.count,l=r.color,o=this.getDispayCount(),c=this.isDot(),d=this.isHidden(),u=Oe()((dt(a={},"".concat(e,"-dot"),c),dt(a,"".concat(e,"-count"),!c),dt(a,"".concat(e,"-multiple-words"),!c&&s&&s.toString&&s.toString().length>1),dt(a,"".concat(e,"-status-").concat(i),!!i),dt(a,"".concat(e,"-status-").concat(l),bt(l)),a)),m=this.getStyleWithOffset();return l&&!bt(l)&&((m=m||{}).background=l),d?null:n.createElement(st,{prefixCls:t,"data-show":!d,className:u,count:o,displayComponent:this.renderDispayComponent(),title:this.getScrollNumberTitle(),style:m,key:"scrollNumber"})}},{key:"render",value:function(){return n.createElement(Se.a,null,this.renderBadge)}}])&&mt(a.prototype,r),i&&mt(a,i),l}(n.Component);kt.defaultProps={count:null,showZero:!1,dot:!1,overflowCount:99},kt.propTypes={count:Ge.node,showZero:Ge.bool,dot:Ge.bool,overflowCount:Ge.number};const Et=F.a.TabPane;class vt extends n.Component{constructor(e){super(e)}render(){return r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement(F.a,{defaultActiveKey:"1"},r.a.createElement(Et,{key:"1",tab:r.a.createElement("span",null,r.a.createElement(kt,{count:4,style:{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset",marginRight:5}}),"All")},r.a.createElement("p",null,"All")),r.a.createElement(Et,{key:"2",tab:r.a.createElement("span",null,r.a.createElement(kt,{count:4,style:{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset",marginRight:5}}),"Todos")},r.a.createElement("p",null,"Todos")),r.a.createElement(Et,{key:"3",tab:r.a.createElement("span",null,r.a.createElement(kt,{count:4,style:{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset",marginRight:5}}),"Inprogress")},r.a.createElement("p",null,"Inprogress")),r.a.createElement(Et,{key:"4",tab:r.a.createElement("span",null,r.a.createElement(kt,{count:4,style:{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset",marginRight:5}}),"Today")},r.a.createElement("p",null,"Today")))))}}var Ot=a(1600);function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(a),!0).forEach((function(t){wt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ct=h.a.TextArea;class _t extends n.Component{constructor(e){super(e),wt(this,"loadDepartment",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({departmentList:t})}),(function(){}),{name:"Department"})}),wt(this,"loadDesignation",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({designationList:t})}),(function(){}),{name:"Designation"})}),wt(this,"loadPriority",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({priorityData:t,loading:!1})}),(function(t){e.setState({loading:!1})}),{name:"Task Priority"})}),wt(this,"loadEditTask",e=>{const t=this;t.setState({loading:!0});Object(_.c)(C.Sd,(function(e){e.results.length?t.setState({editTask:e.results[0],loading:!1}):Object(_.a)(w.T,"Task not found.!!")}),(function(e){t.setState({loading:!1})}),{id:e})}),wt(this,"handleSubmit",e=>{const t=this,a=t.state.editTask;e.preventDefault(),this.props.form.validateFields((e,n)=>{if(!e){this.setState({loading:!0});const e=Tt({},n),r=function(e){t.setState({loading:!1}),a?Object(_.a)(w.sc,"Task Modified Successfully"):Object(_.a)(w.sc,"Task Created Successfully"),t.props.history.replace("/tasktracker/departmenttask")},i=function(e){t.setState({loading:!1})};a&&(e.id=a.id),Object(_.k)(C.Sd,e,r,i)}})}),wt(this,"onEditorStateChange",(e,t)=>{console.log("key",e,t),this.setState((function(a){return{editorState:Tt(Tt({},a.editorState),{},{[e]:t})}}))}),this.state={loading:!1,priorityData:[],editTask:null,editorState:{},departmentList:[],designationList:[]}}componentDidMount(){this.loadDepartment(),this.loadPriority(),this.loadDesignation();const e=this.props.match;S.get(e,"params.id")&&this.loadEditTask(S.get(e,"params.id"))}render(){const e=this.state,t=e.loading,a=e.priorityData,n=e.editTask,i=e.designationList,s=e.departmentList,l=this.props.title,o=this.props.form.getFieldDecorator,c={labelCol:{span:8},wrapperCol:{span:16}},d={labelCol:{span:8},wrapperCol:{span:16}};return r.a.createElement(g.a,null,r.a.createElement(f.a,{title:l},r.a.createElement(y.a,{tip:"Loading...",spinning:t},r.a.createElement(b.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(g.a,null,r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,St({key:"department"},c,{label:"Department"}),o("department",{initialValue:n?n.department:null,rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(E.a,{placeholder:"Select Department",showSearch:!0,optionFilterProp:"children"},s.map(e=>r.a.createElement(E.a.Option,{key:e.id,value:e.id},e.value)))))),r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,St({key:"designation"},d,{label:"Designation"}),o("designation",{initialValue:n?n.designation:null,rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(E.a,{placeholder:"Select Designation",showSearch:!0,optionFilterProp:"children"},i.map(e=>r.a.createElement(E.a.Option,{key:e.id,value:e.id},e.value))))))),r.a.createElement(g.a,null,r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,St({key:"priority"},c,{label:"Priority"}),o("priority",{initialValue:n?n.priority:[],rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(E.a,{placeholder:"Select Priority",showSearch:!0,optionFilterProp:"children"},a.map(e=>r.a.createElement(E.a.Option,{key:e.id,value:e.id},e.value)))))),r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,St({key:"days"},d,{label:"Days"}),o("days",{initialValue:n?n.days:"",rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(Ot.a,null))))),r.a.createElement(g.a,null,r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,St({key:"name"},c,{label:"Task Name"}),o("name",{initialValue:n?n.name:"",rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(h.a,{placeholder:"Task Name"})))),r.a.createElement(k.a,{span:12},r.a.createElement(b.a.Item,St({key:"remark"},d,{label:"Remarks"}),o("remark",{initialValue:n?n.remark:"",rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(h.a,{placeholder:"Remarks"}))))),r.a.createElement(g.a,null,r.a.createElement(k.a,{span:24},r.a.createElement(b.a.Item,St({key:"description"},{labelCol:{span:4},wrapperCol:{span:20}},{label:"Description"}),o("description",{initialValue:n?n.description:"",rules:[{required:!0,message:"This field is required!"}]})(r.a.createElement(Ct,{rows:4}))))),r.a.createElement(b.a.Item,null,this.props.history?r.a.createElement(O.a,{style:{margin:5},onClick:()=>this.props.history.goBack()},"Cancel"):null,r.a.createElement(O.a,{style:{margin:5},type:"primary",htmlType:"submit",loading:this.state.loading},"Save"))))))}}var Dt=b.a.create()(_t);function jt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Pt extends n.Component{constructor(e){super(e),jt(this,"loadTask",(e=1)=>{const t=this;t.setState({loading:!0});const a={page:e,department:this.props.user.staff.department,incomplete:!0};Object(_.c)(C.Se,(function(e){t.setState({currentTask:e.results,nextTaskPage:e.next,loading:!1})}),(function(e){t.setState({loading:!1})}),a)}),jt(this,"toggleCommentTask",e=>{this.setState({commentTaskModalOpen:e})}),this.state={loading:!1}}componentDidMount(){this.loadTask()}render(){const e=this.state,t=e.currentTask,a=e.completeTaskModalOpen,n=e.commentTaskModalOpen;let i=this;const s=[{title:"Task Name",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(d.b,{to:"/tasktracker/task/".concat(t.id,"/view")},r.a.createElement("a",null,t.name))},{title:"Assignee",dataIndex:"assignee",key:"assignee",render:(e,t)=>r.a.createElement("span",null,t.assignee&&t.assignee_data?t.assignee_data.first_name:"")},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(e,t)=>r.a.createElement("span",null,t.reporter&&t.reporter_data?t.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"Time Remaining",dataIndex:"deadline",key:"deadline",render:(e,t)=>r.a.createElement("span",null,t.deadline?T()(t.deadline)>T()()?T()(t.deadline).from(T()(),!0):r.a.createElement(L.a,{color:"red"},"Delayed By ",T()().from(T()(t.deadline),!0)):null)},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a.Group,{size:"small"},r.a.createElement(O.a,{type:"link",icon:"message",onClick:()=>this.toggleCommentTask(t.id)},"Comments")))}];return(r.a.createElement("div",null,r.a.createElement(U,{open:!!n,key:n,cancelFn:()=>this.toggleCommentTask(!1),taskId:a}),r.a.createElement(N.a,{loading:i.state.loading,dataSource:t,columns:s,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>i.loadTask(i.state.nextTaskPage),loading:i.state.loading,hidden:!i.state.nextTaskPage})))}}var It=Pt;function At(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Mt=v.a.RangePicker;class Rt extends n.Component{constructor(e){super(e),At(this,"setFilters",(e={})=>{const t=this;this.setState(e,(function(){t.loadTask()}))}),At(this,"loadTask",(e=1)=>{const t=this;t.setState({loading:!0});const a={page:e,department:this.props.user.staff.department,incomplete:!1};this.state.deadline_gte&&(a.deadline_gte=this.state.deadline_gte),this.state.deadline_lte&&(a.deadline_lte=this.state.deadline_lte),Object(_.c)(C.Se,(function(e){t.setState({currentTask:e.results,nextTaskPage:e.next,loading:!1,taskCount:e.count})}),(function(e){t.setState({loading:!1})}),a)}),At(this,"toggleCommentTask",e=>{this.setState({commentTaskModalOpen:e})}),this.state={loading:!1,deadline_gte:T()().startOf("month").format(),deadline_lte:T()().endOf("month").format()}}componentDidMount(){this.loadTask()}render(){const e=this.state,t=e.currentTask,a=e.completeTaskModalOpen,n=e.commentTaskModalOpen,i=e.deadline_gte,s=e.deadline_lte,l=[{title:"Task Name",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(d.b,{to:"/tasktracker/task/".concat(t.id,"/view")},r.a.createElement("a",null,t.name))},{title:"Assignee",dataIndex:"assignee",key:"assignee",render:(e,t)=>r.a.createElement("span",null,t.assignee&&t.assignee_data?t.assignee_data.first_name:"")},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(e,t)=>r.a.createElement("span",null,t.reporter&&t.reporter_data?t.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"DeadLine",dataIndex:"deadline",key:"deadline",render:(e,t)=>r.a.createElement("span",null,t.deadline?T()(t.deadline).format("LLL"):null)},{title:"Delayed",dataIndex:"delayed",key:"delayed",render:(e,t)=>t.completed_on&&T()(t.deadline)<T()(t.completed_on)||T()(t.deadline)<T()()?r.a.createElement(L.a,{color:"red"},"Delayed"):null},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a.Group,{size:"small"},r.a.createElement(O.a,{type:"link",icon:"message",onClick:()=>this.toggleCommentTask(t.id)},"Comments")))}];return r.a.createElement("div",null,r.a.createElement(U,{open:!!n,key:n,cancelFn:()=>this.toggleCommentTask(!1),taskId:a}),r.a.createElement(g.a,{gutter:16,style:{textAlign:"center"}},r.a.createElement(k.a,{span:24},r.a.createElement("p",null,"Deadline"),r.a.createElement(Mt,{value:[T()(i),T()(s)],format:"YYYY/MM/DD",onChange:e=>this.setFilters({deadline_gte:T()(e[0]).startOf("day").format(),deadline_lte:T()(e[1]).endOf("day").format()})}))),r.a.createElement(o.a,null),r.a.createElement(N.a,{dataSource:t,columns:l,loading:this.state.loading,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>this.loadData(this.state.nextTaskPage),loading:this.state.loading,hidden:!this.state.nextTaskPage}))}}var Ft=Rt;function Lt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Nt=v.a.RangePicker;class Yt extends n.Component{constructor(e){super(e),Lt(this,"setFilters",(e={})=>{const t=this;this.setState(e,(function(){t.loadTask()}))}),Lt(this,"loadTask",(e=1)=>{const t=this;t.setState({loading:!0});const a={page:e,incomplete:!0,department:this.props.user.staff.department};this.state.priority&&(a.priority=this.state.priority),this.state.assignee&&(a.assignee=this.state.assignee),this.state.deadline_gte&&(a.deadline_gte=this.state.deadline_gte),this.state.deadline_lte&&(a.deadline_lte=this.state.deadline_lte),Object(_.c)(C.Se,(function(e){t.setState({currentTask:e.results,nextTaskPage:e.next,loading:!1,taskCount:e.count})}),(function(e){t.setState({loading:!1})}),a)}),Lt(this,"loadAssignee",()=>{const e=this;Object(_.c)(C.Te,(function(t){e.setState({assigneeList:t})}),(function(){}))}),Lt(this,"loadPriority",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({priorityData:t})}),(function(e){}),{name:"Task Priority"})}),Lt(this,"toggleCompleteTask",e=>{this.setState({completeTaskModalOpen:e})}),Lt(this,"toggleCommentTask",e=>{this.setState({commentTaskModalOpen:e})}),this.state={loading:!1,currentTask:[],assigneeList:[],priorityData:[],assignee:this.props.user.staff.is_manager?null:this.props.user.id,deadline_gte:T()().startOf("month").format(),deadline_lte:T()().endOf("month").format(),priority:null,incomplete:null}}componentDidMount(){this.loadTask(),this.loadAssignee(),this.loadPriority()}render(){const e=this.state,t=e.currentTask,a=e.completeTaskModalOpen,n=e.commentTaskModalOpen,i=e.priorityData,s=e.assigneeList,l=e.deadline_gte,o=e.deadline_lte,c=e.assignee,u=e.priority,m=(e.incomplete,e.taskCount),p=[{title:"Task Name",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(d.b,{to:"/tasktracker/task/".concat(t.id,"/view")},r.a.createElement("a",null,t.name))},{title:"Assignee",dataIndex:"assignee",key:"assignee",render:(e,t)=>r.a.createElement("span",null,t.assignee&&t.assignee_data?t.assignee_data.first_name:"")},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(e,t)=>r.a.createElement("span",null,t.reporter&&t.reporter_data?t.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"DeadLine",dataIndex:"deadline",key:"deadline",render:(e,t)=>r.a.createElement("span",null,t.deadline?T()(t.deadline).format("LLL"):null)},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a.Group,{size:"small"},r.a.createElement(O.a,{type:"link",icon:"message",onClick:()=>this.toggleCommentTask(t.id)},"Comments")))}];return r.a.createElement("div",null,r.a.createElement(G,{open:!!a,key:a,cancelFn:()=>this.toggleCompleteTask(!1),taskId:a,callback:()=>this.loadTask()}),r.a.createElement(U,{open:!!n,key:n,cancelFn:()=>this.toggleCommentTask(!1),taskId:n}),r.a.createElement(g.a,{gutter:16,style:{marginBottom:10}},r.a.createElement(k.a,{span:8},r.a.createElement("p",null,"Priority"),r.a.createElement(E.a,{showSearch:!0,optionFilterProp:"children",style:{width:"100%"},onChange:e=>this.setFilters({priority:e}),value:u},r.a.createElement(E.a.Option,{value:null},"All"),i.map(e=>r.a.createElement(E.a.Option,{value:e.id},e.value)))),r.a.createElement(k.a,{span:8},r.a.createElement("p",null,"Deadline"),r.a.createElement(Nt,{value:[T()(l),T()(o)],format:"YYYY/MM/DD",onChange:e=>this.setFilters({deadline_gte:T()(e[0]).startOf("day").format(),deadline_lte:T()(e[1]).endOf("day").format()})})),this.props.user.staff.is_manager?r.a.createElement(k.a,{span:8},r.a.createElement("p",null,"Assignee"),r.a.createElement(E.a,{showSearch:!0,optionFilterProp:"children",style:{width:"100%"},onChange:e=>this.setFilters({assignee:e}),value:c},r.a.createElement(E.a.Option,{value:null},"All"),s.map(e=>r.a.createElement(E.a.Option,{value:e.id},e.first_name," (",e.emp_id,")")))):null),r.a.createElement(g.a,{style:{textAlign:"center",marginBottom:10}},r.a.createElement(ke.a,{value:m,title:"Task Count"})),r.a.createElement(N.a,{loading:this.state.loading,dataSource:t,columns:p,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>this.loadData(this.state.nextTaskPage),loading:this.state.loading,hidden:!this.state.nextTaskPage}))}}var Vt=Yt;function qt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const zt=te.a.Text;class Bt extends r.a.Component{constructor(e){super(e),qt(this,"loadTaskList",e=>{const t=this;this.setState({loading:!0});const a={department:this.props.user.staff.department};Object(_.c)(C.Sd,(function(e){1==e.current?t.setState({taskList:e.results,nextTaskPage:e.next,loading:!1}):t.setState((function(t){return{taskList:[...t.taskList,...e.results],nextTaskPage:e.next,loading:!1}}))}),(function(){t.setState({loading:!1})}),a)}),qt(this,"assignToSelf",e=>{this.setState({assignTaskModalId:e})}),qt(this,"showDetails",e=>{this.setState({showTaskDetails:e})}),this.state={taskList:[],showTaskDetails:null}}componentDidMount(){this.loadTaskList()}render(){const e=[{title:"Task",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(O.a,{type:"link",onClick:()=>this.showDetails(t)},e)},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Days",dataIndex:"days",key:"days"},{title:"Department",dataIndex:"department",key:"department",render:(e,t)=>r.a.createElement("span",null,t.department&&t.department_data?t.department_data.value:"")},{title:"Designation",dataIndex:"designation",key:"designation",render:(e,t)=>r.a.createElement("span",null,t.designation&&t.designation_data?t.designation_data.value:"")},{title:"Action",dataIndex:"action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a,{type:"link",onClick:()=>this.assignToSelf(t.id)},"Assign to Self"))}],t=this.state,a=t.taskList,n=t.nextTaskPage,i=t.loading,s=t.assignTaskModalId,l=t.showTaskDetails;return r.a.createElement("div",null,r.a.createElement(N.a,{pagination:!1,dataSource:a,columns:e,loading:i}),r.a.createElement(B.a,{loaderFunction:()=>this.loadTaskList(n),loading:i,hidden:!n}),r.a.createElement(ne,{open:!!s,key:s,taskId:s,assignee:this.props.user.id,cancelFn:()=>this.assignToSelf(null)}),r.a.createElement(Y.a,{visible:!!l,title:S.get(l,"name"),footer:null,onCancel:()=>this.showDetails(null)},l?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht,{label:"Department",value:S.get(l,"department_data.value")}),r.a.createElement(Ht,{label:"Designation",value:S.get(l,"designation_data.value")}),r.a.createElement(Ht,{label:"Priority",value:S.get(l,"priority_data.value")}),r.a.createElement(Ht,{label:"Days",value:S.get(l,"days")}),r.a.createElement(Ht,{label:"Remark",value:S.get(l,"remark")}),r.a.createElement(o.a,null),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:l.description}})):null,r.a.createElement(O.a,{onClick:()=>this.showDetails(null)},"Close")))}}function Ht(e){return r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:8,style:{textAlign:"right"}},r.a.createElement(zt,{type:"secondary"},e.label,":")),r.a.createElement(k.a,{span:16},r.a.createElement(zt,null,e.value)))}var Wt=a(439),$t=a(1024);function Gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(a),!0).forEach((function(t){Kt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Kt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Zt extends r.a.PureComponent{constructor(e){super(e),Kt(this,"loadData",()=>{const e=this;e.setState({loading:!1});const t=Ut(Ut({},this.state.filterStrings),{},{department:this.props.user.staff.department});Object(_.c)(C.cf,(function(t){e.setState({targets:t.results,loading:!1})}),(function(){e.setState({loading:!1})}),t)}),Kt(this,"applyFilter",(e,t)=>{const a=this;this.setState((function(a){return{filterStrings:Ut(Ut({},a.filterStrings),{},{[e]:t})}}),(function(){a.loadData()}))}),this.state={loading:!1,targets:[],currentDate:T()(),filterStrings:{date:T()().format("YYYY-MM-DD")}}}componentDidMount(){this.loadData(),Object(re.d)(this,[K.dc])}render(){const e=this.state.currentDate,t=[{title:"Target Name",dataIndex:"name",key:"name"},{title:"Department ",dataIndex:"department.value",key:"department"},{title:"Designation ",dataIndex:"designation.value",key:"designation"},{title:"Project ",dataIndex:"project.value",key:"project"},{width:150,title:"Progress ",dataIndex:"date_target.target",key:"date_target.target",render:(e,t)=>{let a=(t.month_target&&t.month_target.target&&t.month_target.working_days?(100*(e||0)/(t.month_target.target/t.month_target.working_days)).toFixed(0):0)||0;return(r.a.createElement("span",null,r.a.createElement($t.a,{percent:a,strokeColor:a>90?"#87d068":a>50?"#d0c268":"#f50"})))}},{title:"Target Achieved",dataIndex:"date_target.target",key:"date_target"},{title:"Remarks",dataIndex:"date_target.remarks",key:"remarks"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:6},r.a.createElement("h4",null,"Date"),r.a.createElement(v.a,{allowClear:!1,defaultValue:e,style:{width:"100%",marginBottom:10},onChange:e=>this.applyFilter("date",T()(e).format("YYYY-MM-DD"))}))),r.a.createElement(Wt.a,{loading:this.state.loading,columns:t,dataSource:this.state.targets,hideReports:!0}))}}function Jt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Qt extends n.Component{constructor(e){super(e),Jt(this,"loadTask",(e=1)=>{const t=this;t.setState({loading:!0});const a={page:e,reporter:this.props.user.id,incomplete:!0};Object(_.c)(C.Se,(function(e){t.setState({currentTask:e.results,nextTaskPage:e.next,loading:!1})}),(function(e){t.setState({loading:!1})}),a)}),Jt(this,"toggleCommentTask",e=>{this.setState({commentTaskModalOpen:e})}),this.state={loading:!1}}componentDidMount(){this.loadTask()}render(){const e=this.state,t=e.currentTask,a=e.completeTaskModalOpen,n=e.commentTaskModalOpen,i=e.loading,s=[{title:"Task Name",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(d.b,{to:"/tasktracker/task/".concat(t.id,"/view")},r.a.createElement("a",null,t.name))},{title:"Assignee",dataIndex:"assignee",key:"assignee",render:(e,t)=>r.a.createElement("span",null,t.assignee&&t.assignee_data?t.assignee_data.first_name:"")},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(e,t)=>r.a.createElement("span",null,t.reporter&&t.reporter_data?t.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"Time Remaining",dataIndex:"deadline",key:"deadline",render:(e,t)=>r.a.createElement("span",null,t.deadline?T()(t.deadline)>T()()?T()(t.deadline).from(T()(),!0):r.a.createElement(L.a,{color:"red"},"Delayed By ",T()().from(T()(t.deadline),!0)):null)},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(O.a.Group,{size:"small"},r.a.createElement(O.a,{type:"link",icon:"message",onClick:()=>this.toggleCommentTask(t.id)},"Comments")))}];return r.a.createElement("div",null,r.a.createElement(U,{open:!!n,key:n,cancelFn:()=>this.toggleCommentTask(!1),taskId:a}),r.a.createElement(N.a,{loading:i,dataSource:t,columns:s,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>this.loadData(this.state.nextTaskPage),loading:this.state.loading,hidden:!this.state.nextTaskPage}))}}var Xt=Qt;const ea=F.a.TabPane;class ta extends n.Component{constructor(e){var t,a,n;super(e),n=e=>{this.setState({activeTab:e})},(a="onChange")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={activeTab:"2"}}render(){const e=this.state.activeTab;return(r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement(F.a,{defaultActiveKey:"1",onChange:e=>this.onChange(e)},this.props.user.staff.is_manager?r.a.createElement(ea,{key:"2",tab:"Reported Current Tasks"},"2"==e?r.a.createElement(Xt,this.props):null):null,this.props.user.staff.is_manager?r.a.createElement(ea,{key:"3",tab:"Department Current Tasks"},"3"==e?r.a.createElement(It,this.props):null):null,this.props.user.staff.is_manager?r.a.createElement(ea,{key:"4",tab:"Department Recurring Tasks"},"4"==e?r.a.createElement(Bt,this.props):null):null,this.props.user.staff.is_manager?r.a.createElement(ea,{key:"6",tab:"Department Completed Tasks"},"6"==e?r.a.createElement(Ft,this.props):null):null,this.props.user.staff.is_manager?r.a.createElement(ea,{key:"7",tab:"Department Backlog"},"7"==e?r.a.createElement(Vt,this.props):null):null,this.props.user.staff.is_manager?r.a.createElement(ea,{key:"8",tab:"Department Emp target"},"8"==e?r.a.createElement(Zt,this.props):null):null))))}}function aa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const na=v.a.RangePicker;class ra extends r.a.Component{constructor(e){super(e),aa(this,"setFilters",(e={})=>{const t=this;this.setState(e,(function(){t.loadTask()}))}),aa(this,"loadTask",(e=1)=>{const t=this;t.setState({loading:!0});const a={page:e,reporter:this.props.user.id};this.state.incomplete&&(a.incomplete=this.state.incomplete),this.state.priority&&(a.priority=this.state.priority),this.state.assignee&&(a.assignee=this.state.assignee),this.state.deadline_gte&&(a.deadline_gte=this.state.deadline_gte),this.state.deadline_lte&&(a.deadline_lte=this.state.deadline_lte),Object(_.c)(C.Se,(function(e){t.setState({currentTask:e.results,nextTaskPage:e.next,taskCount:e.count,loading:!1})}),(function(e){t.setState({loading:!1})}),a)}),aa(this,"loadAssignee",()=>{const e=this;Object(_.c)(C.Te,(function(t){e.setState({assigneeList:t})}),(function(){}))}),aa(this,"loadPriority",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({priorityData:t})}),(function(e){}),{name:"Task Priority"})}),this.state={currentTask:[],assigneeList:[],priorityData:[],assignee:this.props.user.staff.is_manager?null:this.props.user.id,deadline_gte:T()().startOf("month").format(),deadline_lte:T()().endOf("month").format(),priority:null,incomplete:null,loading:!1}}componentDidMount(){this.loadTask(),this.loadAssignee(),this.loadPriority()}render(){const e=this.state,t=e.currentTask,a=e.taskCount,n=e.priorityData,i=e.assigneeList,s=e.deadline_gte,l=e.deadline_lte,o=e.assignee,c=e.priority,u=e.incomplete,m=[{title:"Task Name",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(d.b,{to:"/tasktracker/task/".concat(t.id,"/view")},r.a.createElement("a",null,t.name))},{title:"Assignee",dataIndex:"assignee",key:"assignee",render:(e,t)=>r.a.createElement("span",null,t.assignee&&t.assignee_data?t.assignee_data.first_name:"")},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(e,t)=>r.a.createElement("span",null,t.reporter&&t.reporter_data?t.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"Delayed",dataIndex:"delayed",key:"delayed",render:(e,t)=>t.completed_on&&T()(t.deadline)<T()(t.completed_on)||T()(t.deadline)<T()()?r.a.createElement(L.a,{color:"red"},"Delayed"):null},{title:"DeadLine",dataIndex:"deadline",key:"deadline",render:(e,t)=>r.a.createElement("span",null,t.deadline?T()(t.deadline).format("LLL"):null)}];return r.a.createElement("div",null,r.a.createElement("h2",null,"Task Report"),r.a.createElement(f.a,null,r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:6},r.a.createElement("p",null,"Status"),r.a.createElement(E.a,{showSearch:!0,optionFilterProp:"children",style:{width:"100%"},onChange:e=>this.setFilters({incomplete:e}),value:u},r.a.createElement(E.a.Option,{value:null},"All"),r.a.createElement(E.a.Option,{value:"true"},"Incomplete"),r.a.createElement(E.a.Option,{value:"false"},"Complete"))),r.a.createElement(k.a,{span:6},r.a.createElement("p",null,"Priority"),r.a.createElement(E.a,{showSearch:!0,optionFilterProp:"children",style:{width:"100%"},onChange:e=>this.setFilters({priority:e}),value:c},r.a.createElement(E.a.Option,{value:null},"All"),n.map(e=>r.a.createElement(E.a.Option,{value:e.id},e.value)))),r.a.createElement(k.a,{span:6},r.a.createElement("p",null,"Deadline"),r.a.createElement(na,{value:[T()(s),T()(l)],format:"YYYY/MM/DD",onChange:e=>this.setFilters({deadline_gte:T()(e[0]).startOf("day").format(),deadline_lte:T()(e[1]).endOf("day").format()})})),this.props.user.staff.is_manager?r.a.createElement(k.a,{span:6},r.a.createElement("p",null,"Assignee"),r.a.createElement(E.a,{showSearch:!0,optionFilterProp:"children",style:{width:"100%"},onChange:e=>this.setFilters({assignee:e}),value:o},r.a.createElement(E.a.Option,{value:null},"All"),i.map(e=>r.a.createElement(E.a.Option,{value:e.id},e.first_name," (",e.emp_id,")")))):null)),r.a.createElement(f.a,null,r.a.createElement(g.a,{style:{textAlign:"center",marginBottom:10}},r.a.createElement(ke.a,{value:a,title:"Task Count"})),r.a.createElement(N.a,{loading:this.state.loading,dataSource:t,columns:m,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>this.loadData(this.state.nextTaskPage),loading:this.state.loading,hidden:!this.state.nextTaskPage})))}}var ia=a(1601);class sa extends r.a.Component{constructor(e){super(e),this.state={open:this.props.open}}componentWillReceiveProps(e,t){this.props.open!=e.open&&this.setState({open:e.open})}render(){const e=this,t=this.state.open,a=this.props.record,n=b.a.create()($.a),i=[{label:"Date",key:"date",type:w.fb,follow:T()(a.date).format("LL")},{label:"Employee",key:"emp",type:w.fb,follow:a.first_name},{label:"Rate",key:"rating",type:w.Vb,allowHalf:!0,initialValue:a.rating?a.rating.rating:null},{label:"Feedback",key:"feedback",type:w.vc,minRows:3,initialValue:a.rating?a.rating.feedback:null}],s={method:"post",action:C.Ye,successFn:function(){e.props.cancelFn&&e.props.cancelFn(null)},errorFn:function(){}};let l=[{key:"date",value:a.date.format("YYYY-MM-DD")},{key:"user",value:a.id}];return a.rating&&l.push({key:"id",value:a.rating.id}),r.a.createElement(Y.a,{visible:t,footer:null,title:"Assign Rating & Feedback"},r.a.createElement(n,{fields:i,formProp:s,defaultValues:l}),this.props.cancelFn?r.a.createElement(O.a,{onClick:this.props.cancelFn},"Cancel"):null)}}function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(Object(a),!0).forEach((function(t){ca(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ca(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class da extends r.a.Component{constructor(e){super(e),ca(this,"changeDate",e=>{let t=this;this.setState({selectedDate:T()(e)},(function(){t.loadRating()}))}),ca(this,"toggleRatingForm",e=>{this.setState({ratingTaskModalOpen:e}),e||this.loadRating()}),ca(this,"loadRating",()=>{let e=this;this.setState({loading:!0});let t={date:this.state.selectedDate.format("YYYY-MM-DD")};Object(_.c)(C.Ue,(function(t){e.setState({rating:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}),ca(this,"disableFutureDate",e=>!T()(e).isBefore(T()())),this.state={selectedDate:T()(),rating:[]}}componentDidMount(){this.loadRating()}render(){let e=1;const t=[{title:"S.No.",dataIndex:"count",key:"count",render:t=>r.a.createElement("span",null,e++)},{title:"Emp. ID",dataIndex:"emp_id",key:"emp_id"},{title:"Name",dataIndex:"first_name",key:"first_name"},{title:"Rating",dataIndex:"rating",key:"rating",render:e=>e?r.a.createElement(ia.a,{value:e.rating,disabled:!0,allowHalf:!0}):r.a.createElement(L.a,{color:"red"},"Pending")},{title:"Feedback",dataIndex:"rating",key:"feedback",render:e=>e?r.a.createElement("p",null,e.feedback):null},{title:"Action",dataIndex:"action",key:"action",render:(e,t)=>r.a.createElement(O.a,{type:"link",size:"small",onClick:()=>this.toggleRatingForm(t)},"Assign Rating")}],a=this.state,n=a.ratingTaskModalOpen,i=a.rating,s=a.loading,l=a.selectedDate;return r.a.createElement("div",null,r.a.createElement("h2",null,"Daily Ratings",r.a.createElement(v.a,{onChange:this.changeDate,value:l,style:{float:"right"},disabledDate:this.disableFutureDate,format:"DD-MM-YYYY"})),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(k.a,{span:24},r.a.createElement(N.a,{columns:t,loading:s,dataSource:i,pagination:!1}))),r.a.createElement(sa,{open:!!n,key:n?n.id:null,record:oa(oa({},n),{},{date:l}),cancelFn:()=>this.toggleRatingForm(null)})))}}var ua=a(1571),ma=a(1606);function pa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ha extends r.a.Component{constructor(e){super(e),pa(this,"updateFormValues",(e,t)=>{const a=this;this.setState({[e]:t},(function(){a.loadSummary()}))}),pa(this,"loadAssignee",()=>{const e=this;Object(_.c)(C.Te,(function(t){e.setState({assigneeList:t})}),(function(){}))}),pa(this,"loadSummary",()=>{const e=this;e.setState({loading:!0});const t={date:this.state.selectedDate.format("YYYY-MM-DD"),user:this.state.selectedEmp};this.state.selectedEmp&&this.state.selectedDate&&Object(_.c)(C.vb,(function(t){let a=23,n=[];e.setState((function(){return t.forEach((function(e){a!=T()(e.time).format("HH")&&(a=T()(e.time).format("HH"),n.push({type:"Time",time:e.time})),n.push(e)})),{summary:n,loading:!1}}))}),(function(){e.setState({loading:!1})}),t)}),this.state={selectedDate:T()(),selectedEmp:null,assigneeList:[],summary:[],loading:!1}}componentDidMount(){this.loadAssignee()}render(){const e=this.state,t=e.selectedDate,a=e.selectedEmp,n=e.assigneeList;return(r.a.createElement("div",null,r.a.createElement("h2",null,"Employee Daily Summary"),r.a.createElement(f.a,null,r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:6}),r.a.createElement(k.a,{span:6},r.a.createElement("p",null,"Employee"),r.a.createElement(E.a,{style:{width:"100%"},value:a,showSearch:!0,onChange:e=>this.updateFormValues("selectedEmp",e),optionFilterProp:"children"},n.map(e=>r.a.createElement(E.a.Option,{value:e.id,label:e.first_name},e.first_name," (",e.emp_id,")")))),r.a.createElement(k.a,{span:6},r.a.createElement("p",null,"Date"),r.a.createElement(v.a,{value:t,format:"DD-MM-YYYY",allowClear:!1,onChange:e=>this.updateFormValues("selectedDate",e)})))),r.a.createElement(f.a,null,r.a.createElement(y.a,{spinning:this.state.loading},r.a.createElement(g.a,null,r.a.createElement(k.a,{span:6}),r.a.createElement(k.a,{span:12},r.a.createElement(ua.a,{progressDot:!0,current:1,direction:"vertical"},this.state.summary.length?this.state.summary.map(e=>r.a.createElement(ua.a.Item,{dot:"Time"==e.type?r.a.createElement(c.a,{type:"clock-circle-o",style:{fontSize:"25px"}}):null},"Time"==e.type?r.a.createElement("span",null,r.a.createElement(ma.a,{top:20,offsetTop:10},r.a.createElement("h2",{style:{marginLeft:"10px",padding:"5px",backgroundImage:"linear-gradient(to right, #ddd , white)",borderRadius:"4px"}},T()(e.time).startOf("hour").format("LT")," - ",T()(e.time).endOf("hour").format("LT")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("small",null,T()(e.time).format("HH:MM A")),r.a.createElement("p",null,e.log)," "))):r.a.createElement("h4",{style:{textAlign:"center"}},"No Updates"))))))))}}class ga extends r.a.Component{constructor(e){var t,a,n;super(e),n=()=>{const e=this;e.setState({loading:!0});let t={user:this.props.user.id,start:T()().subtract(3,"days").format("YYYY-MM-DD"),end:T()().format("YYYY-MM-DD"),page_size:50};Object(_.c)(C.Ye,(function(t){e.setState({ratings:t.results,loading:!1})}),(function(){e.setState({loading:!1})}),t)},(a="loadRatings")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={ratings:[],loading:!1}}componentDidMount(){this.loadRatings()}render(){const e=this.state,t=e.loading,a=e.ratings,n=[{title:"Date",dataIndex:"date",key:"date",render:e=>r.a.createElement("span",null,T()(e).format("LL"))},{title:"Assigner",dataIndex:"rating_by_data",key:"rating_by_data",render:e=>r.a.createElement("span",null,e.first_name)},{title:"Rating",dataIndex:"rating",key:"rating",render:e=>r.a.createElement(ia.a,{disabled:!0,value:e,allowHalf:!0})},{title:"Feedback",dataIndex:"feedback",key:"feedback"}];return r.a.createElement("div",null,r.a.createElement("h2",null,"My Last Ratings"),r.a.createElement(f.a,null,r.a.createElement(N.a,{pagination:!1,loading:t,dataSource:a,columns:n})))}}function fa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ya extends r.a.Component{constructor(e){super(e),fa(this,"updateFormValues",(e,t)=>{const a=this;this.setState({[e]:t},(function(){a.loadSummary()}))}),fa(this,"loadAssignee",()=>{const e=this;Object(_.c)(C.Te,(function(t){e.setState({assigneeList:t})}),(function(){}))}),fa(this,"loadSummary",()=>{const e=this;e.setState({loading:!0});const t={date:this.state.selectedDate.format("YYYY-MM-DD"),user:this.state.selectedEmp};this.state.selectedEmp&&this.state.selectedDate&&Object(_.c)(C.vb,(function(t){let a=23,n=[];e.setState((function(){return t.forEach((function(e){a!=T()(e.time).format("HH")&&(a=T()(e.time).format("HH"),n.push({type:"Time",time:e.time})),n.push(e)})),{summary:n,loading:!1}}))}),(function(){e.setState({loading:!1})}),t)}),this.state={selectedDate:T()(),selectedEmp:this.props.user.id,assigneeList:[],summary:[],loading:!1}}componentDidMount(){this.loadAssignee()}render(){const e=this.state,t=e.selectedDate,a=(e.selectedEmp,e.assigneeList,e.loading);return(r.a.createElement("div",null,r.a.createElement("h2",null,"Employee Daily Summary",r.a.createElement(v.a,{value:t,format:"DD-MM-YYYY",allowClear:!1,style:{float:"right"},onChange:e=>this.updateFormValues("selectedDate",e)})),r.a.createElement(f.a,null,r.a.createElement(y.a,{tip:"Loading...",spinning:a},r.a.createElement(g.a,null,r.a.createElement(k.a,{span:6}),r.a.createElement(k.a,{span:12},r.a.createElement(ua.a,{progressDot:!0,current:1,direction:"vertical",mode:"left"},this.state.summary.length?this.state.summary.map(e=>r.a.createElement(ua.a.Item,{dot:"Time"==e.type?r.a.createElement(c.a,{type:"clock-circle-o",style:{fontSize:"25px"}}):null},"Time"==e.type?r.a.createElement("span",null,r.a.createElement(ma.a,{top:20,offsetTop:10},r.a.createElement("h2",{style:{marginLeft:"10px",padding:"5px",backgroundImage:"linear-gradient(to right, #ddd , white)",borderRadius:"4px"}},T()(e.time).startOf("hour").format("LT")," - ",T()(e.time).endOf("hour").format("LT")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("small",null,T()(e.time).format("HH:MM A")),r.a.createElement("p",null,e.log)," "))):r.a.createElement("h4",{style:{textAlign:"center"}},"No Updates"))))))))}}var ba=a(732);function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ea(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class va extends r.a.Component{constructor(e){super(e),Ea(this,"loadProject",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({projectList:t})}),(function(){}),{name:"Project"})}),Ea(this,"loadDepartment",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({departmentList:t})}),(function(){}),{name:"Department"})}),Ea(this,"loadDesignation",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({designationList:t})}),(function(){}),{name:"Designation"})}),Ea(this,"handleCancel",()=>{this.setState({visible:!1,editRecord:null})}),Ea(this,"editRecord",e=>{this.setState({editRecord:e,visible:!0})}),this.state={targets:[],designationList:[],departmentList:[],projectList:[],loading:!1}}componentDidMount(){this.loadData(),this.loadDepartment(),this.loadDesignation(),this.loadProject()}loadData(){const e=this;e.setState({loading:!0});Object(_.c)(C.Re,(function(t){e.setState({targets:t,loading:!1})}),(function(){e.setState({loading:!1})}))}changeRedirect(){const e=this.state.redirect;this.setState({redirect:!e})}deleteObject(e){const t=this,a={id:e.id,is_active:!1};Object(_.k)(C.Re,a,(function(e){t.loadData()}),(function(){}))}render(){const e=this,t=[{title:"Target Name",dataIndex:"name",key:"name"},{title:"Department ",dataIndex:"department.value",key:"department"},{title:"Designation ",dataIndex:"designation.value",key:"designation"},{title:"Project ",dataIndex:"project.value",key:"project"},{title:"Actions",key:"action",render:(t,a)=>r.a.createElement("span",null,r.a.createElement("a",{onClick:()=>this.editRecord(a)},"  Edit"),r.a.createElement(o.a,{type:"vertical"}),r.a.createElement(ba.a,{title:"Are you sure delete this?",onConfirm:()=>e.deleteObject(a),okText:"Yes",cancelText:"No"},r.a.createElement("a",null,"Delete")))}],a=[{label:"Target Name",key:"name",placeholder:"Target Name",required:!0,type:w.db},{label:"Department",key:"department",required:!0,type:w.mc,options:this.state.departmentList.map(e=>({value:e.id,label:e.value}))},{label:"Designation",key:"designation",required:!0,type:w.mc,options:this.state.designationList.map(e=>({value:e.id,label:e.value}))},{label:"Project",key:"project",required:!0,type:w.mc,options:this.state.projectList.map(e=>({value:e.id,label:e.value}))}],n=[{label:"Target Name",key:"name",placeholder:"Target Name",required:!0,type:w.db,initialValue:this.state.editRecord?this.state.editRecord.name:null},{label:"Department",key:"department",required:!0,type:w.mc,options:this.state.departmentList.map(e=>({value:e.id,label:e.value})),initialValue:this.state.editRecord&&this.state.editRecord.department?this.state.editRecord.department.id:null},{label:"Designation",key:"designation",required:!0,type:w.mc,options:this.state.designationList.map(e=>({value:e.id,label:e.value})),initialValue:this.state.editRecord&&this.state.editRecord.designation?this.state.editRecord.designation.id:null},{label:"Project",key:"project",required:!0,type:w.mc,options:this.state.projectList.map(e=>({value:e.id,label:e.value})),initialValue:this.state.editRecord&&this.state.editRecord.project?this.state.editRecord.project.id:null}],i={successFn(t){e.handleCancel(),e.loadData(),Object(_.a)(w.sc,"Target recorded successfully!!")},errorFn(){},action:C.Re,method:"post"},s=[{key:"id",value:this.state.editRecord?this.state.editRecord.id:null}],l=b.a.create()($.a);return r.a.createElement("div",null,r.a.createElement(l,ka({defaultValues:[],formProp:i,fields:a},this.props)),r.a.createElement(o.a,null),r.a.createElement(Wt.a,{loading:this.state.loading,columns:t,dataSource:this.state.targets}),r.a.createElement(Y.a,{title:"Edit Target",visible:this.state.visible,footer:null,onCancel:this.handleCancel},r.a.createElement(l,{defaultValues:s,formProp:i,fields:n}),r.a.createElement(O.a,{key:"back",onClick:this.handleCancel},"Return"),","))}}class Oa extends r.a.PureComponent{constructor(e){super(e),this.state={targets:[],loading:!1}}componentDidMount(){this.loadData()}loadData(){const e=this;e.setState({loading:!0});const t={department:this.props.user.staff.department,designation:this.props.user.staff.designation};Object(_.c)(C.Re,(function(t){e.setState({targets:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}render(){const e=[{title:"S.No",dataIndex:"sno",key:"sno",render:(e,t,a)=>r.a.createElement("span",null,a+1)},{title:"Target Name",dataIndex:"name",key:"name"},{title:"Project ",dataIndex:"project.value",key:"project"}];return(r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt.a,{loading:this.state.loading,columns:e,dataSource:this.state.targets,hideReport:!0})))}}function Sa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(a),!0).forEach((function(t){Ta(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ta(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const wa=v.a.MonthPicker;class Ca extends r.a.PureComponent{constructor(e){super(e),Ta(this,"loadProject",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({projectList:t})}),(function(){}),{name:"Project"})}),Ta(this,"loadDepartment",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({departmentList:t})}),(function(){}),{name:"Department"})}),Ta(this,"loadDesignation",()=>{const e=this;Object(_.c)(C.Sb,(function(t){e.setState({designationList:t})}),(function(){}),{name:"Designation"})}),Ta(this,"loadData",(e=1)=>{const t=this;t.setState({loading:!0});const a=xa({page:e},this.state.filterStrings);Object(_.c)(C.Xe,(function(e){1==e.current?t.setState({targets:e.results,nextPage:e.next,loading:!1}):t.setState((function(t){return{targets:[...t.targets,...e.results],nextPage:e.next,loading:!1}}))}),(function(){t.setState({loading:!1})}),a)}),Ta(this,"applyFilter",(e,t,a,n)=>{const r=this;this.setState((function(r){return{filterStrings:xa(xa({},r.filterStrings),{},{[e]:t,[a]:n})}}),(function(){r.loadData()}))}),Ta(this,"editTarget",e=>{this.setState({editRecord:e,visible:!0})}),Ta(this,"editCancel",()=>{this.setState({editRecord:null,visible:!1})}),this.state={currentDate:T()(),targets:[],designationList:[],departmentList:[],projectList:[],filterStrings:{month:T()().format("MM"),year:T()().format("YYYY")},loading:!1}}componentDidMount(){this.loadData(),this.loadDepartment(),this.loadDesignation(),this.loadProject()}render(){const e=this,t=[{title:"Target Name",dataIndex:"name",key:"name"},{title:"Department ",dataIndex:"department.value",key:"department"},{title:"Designation ",dataIndex:"designation.value",key:"designation"},{title:"Project ",dataIndex:"project.value",key:"project"},{title:"Working Days ",dataIndex:"month_target.working_days",key:"working_days"},{title:"Month Target ",dataIndex:"month_target.target",key:"month_target"},{title:"Actions",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement("a",{onClick:()=>this.editTarget(t)},"Edit Target"))}],a=this.state,n=a.departmentList,i=a.designationList,s=a.projectList,l=a.filterStrings,c=a.currentDate,d=a.editRecord,u=a.visible,m=b.a.create()($.a),p=[{label:"Target Name",follow:d?d.name:null,type:w.fb,key:"name"},{label:"Department",follow:d&&d.designation?d.designation.value:null,type:w.fb,key:"department"},{label:"Designation",follow:d&&d.department?d.department.value:null,type:w.fb,key:"designation"},{label:"Project",follow:d&&d.project?d.project.value:null,type:w.fb,key:"project"},{label:"Working Days",initialValue:d&&d.month_target?d.month_target.working_days:null,type:w.Bb,key:"working_days",required:!0,max:31},{label:"Target Count",initialValue:d&&d.month_target?d.month_target.target:null,type:w.Bb,key:"target",required:!0}],h={method:"post",action:C.We,beforeSend:function(e){return[xa(xa({},e),{},{id:d&&d.month_target?d.month_target.id:null})]},successFn:function(t){Object(_.a)(w.sc,"Monthly Target Recorded Successfully!!"),e.editCancel(),e.loadData()},errorFn:function(){}},f=[{key:"month",value:l.month},{key:"year",value:l.year},{key:"department",value:d&&d.department?d.department.id:null},{key:"designation",value:d&&d.designation?d.designation.id:null},{key:"project",value:d&&d.project?d.project.id:null},{key:"head",value:d?d.id:null}];return r.a.createElement("div",null,r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:6},r.a.createElement("h4",null,"Month"),r.a.createElement(wa,{allowClear:!1,defaultValue:c,style:{width:"100%",marginBottom:10},onChange:e=>this.applyFilter("month",T()(e).format("MM"),"year",T()(e).format("YYYY"))})),r.a.createElement(k.a,{span:6},r.a.createElement("h4",null,"Department"),r.a.createElement(E.a,{allowClear:!0,onChange:e=>this.applyFilter("department",e),style:{width:"100%",marginBottom:10}},n.map(e=>r.a.createElement(E.a.Option,{value:e.id},e.value)))),r.a.createElement(k.a,{span:6},r.a.createElement("h4",null,"Designation"),r.a.createElement(E.a,{allowClear:!0,onChange:e=>this.applyFilter("designation",e),style:{width:"100%",marginBottom:10}},i.map(e=>r.a.createElement(E.a.Option,{value:e.id},e.value)))),r.a.createElement(k.a,{span:6},r.a.createElement("h4",null,"Project"),r.a.createElement(E.a,{allowClear:!0,onChange:e=>this.applyFilter("project",e),style:{width:"100%",marginBottom:10}},s.map(e=>r.a.createElement(E.a.Option,{value:e.id},e.value))))),r.a.createElement(o.a,null),r.a.createElement(Wt.a,{loading:this.state.loading,columns:t,dataSource:this.state.targets,pagination:!1,hideReport:!0}),r.a.createElement(B.a,{hidden:!this.state.nextPage,loaderFunction:()=>this.loadData(this.state.nextPage),loading:this.state.loading}),r.a.createElement(Y.a,{visible:u,footer:null,title:"Edit Monthly Target",onCancel:()=>this.editCancel()},r.a.createElement(m,{fields:p,formProp:h,defaultValues:f})))}}function _a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(a),!0).forEach((function(t){ja(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_a(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ja(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Pa extends r.a.PureComponent{constructor(e){super(e),ja(this,"loadData",()=>{const e=this;e.setState({loading:!0});const t=Da(Da({},this.state.filterStrings),{},{department:this.props.user.staff.department,designation:this.props.user.staff.designation,user:this.props.user.id});Object(_.c)(C.cf,(function(t){e.setState({targets:t.results,loading:!1})}),(function(){e.setState({loading:!1})}),t)}),ja(this,"applyFilter",(e,t)=>{const a=this;this.setState((function(a){return{filterStrings:Da(Da({},a.filterStrings),{},{[e]:t})}}),(function(){a.loadData()}))}),ja(this,"editTarget",e=>{this.setState({editRecord:e,visible:!0})}),ja(this,"editCancel",()=>{this.setState({editRecord:null,visible:!1})}),this.state={targets:[],loading:!1,currentDate:T()(),filterStrings:{date:T()().format("YYYY-MM-DD")}}}componentDidMount(){this.loadData(),Object(re.d)(this,[K.dc])}render(){const e=this,t=this.state,a=t.filterStrings,n=t.currentDate,i=t.editRecord,s=t.visible,l=(t.loading,[{title:"Target Name",dataIndex:"name",key:"name"},{title:"Department ",dataIndex:"department.value",key:"department"},{title:"Designation ",dataIndex:"designation.value",key:"designation"},{title:"Project ",dataIndex:"project.value",key:"project"},{width:150,title:"Progress ",dataIndex:"date_target.target",key:"date_target.target",render:(e,t)=>{let a=(t.month_target&&t.month_target.target&&t.month_target.working_days?(100*(e||0)/(t.month_target.target/t.month_target.working_days)).toFixed(0):0)||0;return(r.a.createElement("span",null,r.a.createElement($t.a,{percent:a,strokeColor:a>90?"#87d068":a>50?"#d0c268":"#f50"})))},export:(e,t)=>(t.month_target&&t.month_target.target&&t.month_target.working_days?(100*(e||0)/(t.month_target.target/t.month_target.working_days)).toFixed(0):0)||"0%"},{title:"Target Achieved",dataIndex:"date_target.target",key:"date_target"},{title:"Remarks",dataIndex:"date_target.remarks",key:"remarks"},{title:"Actions",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement("a",{onClick:()=>this.editTarget(t),disabled:!this.state[K.dc]||T()(this.state[K.dc]).format("YYYY-MM-DD")!=this.state.filterStrings.date},"Edit Target"))}]),o=b.a.create()($.a),c=[{label:"Target Name",follow:i?i.name:null,type:w.fb,key:"name"},{label:"Target Count",initialValue:i&&i.date_target?i.date_target.target:null,type:w.Bb,key:"target",required:!0},{label:"Remark",initialValue:i&&i.date_target?i.date_target.remarks:null,type:w.vc,key:"remarks",row:3}],d={method:"post",action:C.bf,beforeSend:function(e){return[Da(Da({},e),{},{id:i&&i.date_target?i.date_target.id:null})]},successFn:function(t){Object(_.a)(w.sc,"Monthly Target Recorded Successfully!!"),e.editCancel(),e.loadData()},errorFn:function(){}},u=[{key:"date",value:a.date},{key:"head",value:i?i.id:null},{key:"user",value:this.props.user.id}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:6},r.a.createElement("h4",null,"Date"),r.a.createElement(v.a,{allowClear:!1,defaultValue:n,style:{width:"100%",marginBottom:10},onChange:e=>this.applyFilter("date",T()(e).format("YYYY-MM-DD"))}))),r.a.createElement(Wt.a,{loading:this.state.loading,columns:l,dataSource:this.state.targets,hideReports:!0}),r.a.createElement(Y.a,{visible:s,footer:null,title:"Daily Target",onCancel:()=>this.editCancel()},r.a.createElement(o,{fields:c,formProp:d,defaultValues:u})))}}class Ia extends r.a.PureComponent{constructor(e){var t,a,n;super(e),n=e=>{this.setState({activeTab:e})},(a="onChange")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={activeTab:"myTarget"}}render(){const e=this.state.activeTab;return(r.a.createElement(f.a,null,r.a.createElement(F.a,{defaultActiveKey:"myTarget",onChange:e=>this.onChange(e)},r.a.createElement(F.a.TabPane,{tab:"My Targets",key:"myTarget"},"myTarget"==e?r.a.createElement(Oa,this.props):null),r.a.createElement(F.a.TabPane,{tab:"My Targets Record",key:"targetRecords"},"targetRecords"==e?r.a.createElement(Pa,this.props):null),this.props.activePracticePermissions.TaskHeads?r.a.createElement(F.a.TabPane,{tab:"Organisation Targets",key:"allTarget"},"allTarget"==e?r.a.createElement(va,this.props):null):null,this.props.activePracticePermissions.MonthlyTaskTargets?r.a.createElement(F.a.TabPane,{tab:"Monthly Targets",key:"monthlyTarget"},"monthlyTarget"==e?r.a.createElement(Ca,this.props):null):null)))}}class Aa extends r.a.PureComponent{constructor(e){super(e),this.state={targets:[],loading:!1}}componentDidMount(){this.loadData()}loadData(){const e=this;e.setState({loading:!0});const t={department:this.props.user.staff.department};Object(_.c)(C.Re,(function(t){e.setState({targets:t,loading:!1})}),(function(){e.setState({loading:!1})}),t)}render(){let e=1;const t=[{title:"S.No",dataIndex:"sno",key:"sno",render:(t,a)=>r.a.createElement("span",null,e++)},{title:"Target Name",dataIndex:"name",key:"name"},{title:"Project ",dataIndex:"project.value",key:"project"},{title:"Designation ",dataIndex:"designation.value",key:"designation"},{title:"Department ",dataIndex:"department.value",key:"department"}];return(r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt.a,{loading:this.state.loading,columns:t,dataSource:this.state.targets,hideReport:!0,pagination:!1})))}}function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(a),!0).forEach((function(t){Fa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class La extends r.a.PureComponent{constructor(e){super(e),Fa(this,"loadData",(e=1)=>{const t=this;t.setState({loading:!0});const a=Ra(Ra({},this.state.filterStrings),{},{department:this.props.user.staff.department,page:e});Object(_.c)(C.if,(function(e){1==e.current?t.setState({targets:e.results,loading:!1,loadMoreReport:e.next}):t.setState((function(t){return{targets:[...t.targets,...e.results],loading:!1,loadMoreReport:e.next}}))}),(function(){t.setState({loading:!1})}),a)}),Fa(this,"applyFilter",(e,t)=>{const a=this;this.setState((function(a){return{filterStrings:Ra(Ra({},a.filterStrings),{},{[e]:t})}}),(function(){a.loadData()}))}),Fa(this,"editTarget",e=>{this.setState({editRecord:e,visible:!0})}),Fa(this,"editCancel",()=>{this.setState({editRecord:null,visible:!1})}),this.state={targets:[],currentDate:T()(),loading:!1,filterStrings:{date:T()().format("YYYY-MM-DD")}}}componentDidMount(){this.loadData()}render(){const e=this,t=[{title:"Staff Name",key:"username",dataIndex:"staff.user.first_name"},{title:"Staff Id",key:"staffid",dataIndex:"staff.emp_id"},{title:"Target Name",dataIndex:"targets.name",key:"name"},{title:"Department ",dataIndex:"targets.department.value",key:"department"},{title:"Designation ",dataIndex:"targets.designation.value",key:"designation"},{width:150,title:"Progress ",dataIndex:"targets.date_target.target",key:"date_target.target",render:(e,t)=>{let a=(t.targets.month_target&&t.targets.month_target.target&&t.targets.month_target.working_days?(100*(e||0)/(t.targets.month_target.target/t.targets.month_target.working_days)).toFixed(0):0)||0;return(r.a.createElement("span",null,r.a.createElement($t.a,{percent:a,strokeColor:a>90?"#87d068":a>50?"#d0c268":"#f50"})))},export:(e,t)=>(t.targets.month_target&&t.targets.month_target.target&&t.targets.month_target.working_days?(100*(e||0)/(t.targets.month_target.target/t.targets.month_target.working_days)).toFixed(0):0)||"0%"},{title:"Target Achieved",dataIndex:"targets.date_target.target",key:"date_target"},{title:"Remarks",dataIndex:"targets.date_target.remarks",key:"remarks"}],a=this.state,n=a.filterStrings,i=a.currentDate,s=a.editRecord,l=a.visible;console.log(s);const o=b.a.create()($.a),c=[{label:"Target Name",follow:s?s.name:null,type:w.fb,key:"name"},{label:"Target Count",initialValue:s&&s.date_target?s.date_target.target:null,type:w.Bb,key:"target",required:!0},{label:"Remark",initialValue:s&&s.date_target?s.date_target.remarks:null,type:w.vc,key:"remarks",row:3}],d={method:"post",action:C.bf,beforeSend:function(e){return[Ra(Ra({},e),{},{id:s&&s.date_target?s.date_target.id:null})]},successFn:function(t){Object(_.a)(w.sc,"Monthly Target Recorded Successfully!!"),e.editCancel(),e.loadData()},errorFn:function(){}},u=[{key:"date",value:n.date},{key:"head",value:s?s.id:null}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:6},r.a.createElement("h4",null,"Date"),r.a.createElement(v.a,{allowClear:!1,defaultValue:i,style:{width:"100%",marginBottom:10},onChange:e=>this.applyFilter("date",T()(e).format("YYYY-MM-DD"))}))),r.a.createElement(Wt.a,{loading:this.state.loading,columns:t,dataSource:this.state.targets,hideReports:!0,pagination:!1}),r.a.createElement(B.a,{loaderFunction:()=>this.loadData(this.state.loadMoreReport),loading:this.state.loading,hidden:!this.state.loadMoreReport}),r.a.createElement(Y.a,{visible:l,footer:null,title:"Daily Target",onCancel:()=>this.editCancel()},r.a.createElement(o,{fields:c,formProp:d,defaultValues:u})))}}class Na extends r.a.Component{constructor(e){var t,a,n;super(e),n=e=>{this.setState({activeTab:e})},(a="onChange")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={activeTab:"departmentTarget"}}render(){const e=this.state.activeTab;return(r.a.createElement(f.a,null,r.a.createElement(F.a,{defaultActiveKey:"departmentTarget",onChange:e=>this.onChange(e)},r.a.createElement(F.a.TabPane,{tab:"Department Target List",key:"departmentTarget"},"departmentTarget"==e?r.a.createElement(Aa,this.props):null),r.a.createElement(F.a.TabPane,{tab:"Department Target Record",key:"departmentTargetRecord"},"departmentTargetRecord"==e?r.a.createElement(La,this.props):null))))}}function Ya(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Va=te.a.Text;class qa extends r.a.Component{constructor(e){super(e),Ya(this,"loadTaskList",e=>{const t=this;this.setState({loading:!0});Object(_.c)(C.Sd,(function(e){1==e.current?t.setState({taskList:e.results,nextTaskPage:e.next,loading:!1}):t.setState((function(t){return{taskList:[...t.taskList,...e.results],nextTaskPage:e.next,loading:!1}}))}),(function(){t.setState({loading:!1})}),{})}),Ya(this,"assignToSelf",e=>{this.setState({assignTaskModalId:e})}),Ya(this,"showDetails",e=>{this.setState({showTaskDetails:e})}),this.state={taskList:[],showTaskDetails:null}}componentDidMount(){this.loadTaskList()}render(){const e=[{title:"Task",dataIndex:"name",key:"name",render:(e,t)=>r.a.createElement(O.a,{type:"link",onClick:()=>this.showDetails(t)},e)},{title:"Priority",dataIndex:"priority",key:"priority",render:(e,t)=>r.a.createElement("span",null,t.priority&&t.priority_data?t.priority_data.value:"")},{title:"Days",dataIndex:"days",key:"days"},{title:"Department",dataIndex:"department",key:"department",render:(e,t)=>r.a.createElement("span",null,t.department&&t.department_data?t.department_data.value:"")},{title:"Designation",dataIndex:"designation",key:"designation",render:(e,t)=>r.a.createElement("span",null,t.designation&&t.designation_data?t.designation_data.value:"")},{title:"Action",dataIndex:"action",key:"action",render:(e,t)=>r.a.createElement("span",null,r.a.createElement(d.b,{to:"/tasktracker/recurringtask/".concat(t.id,"/edit")},r.a.createElement(O.a,{type:"link"},"Edit Task")))}],t=this.state,a=t.taskList,n=t.nextTaskPage,i=t.loading,s=t.assignTaskModalId,l=t.showTaskDetails;return r.a.createElement(f.a,{title:"All Recurring Tasks"},r.a.createElement(N.a,{pagination:!1,dataSource:a,columns:e,loading:i}),r.a.createElement(B.a,{loaderFunction:()=>this.loadTaskList(n),loading:i,hidden:!n}),r.a.createElement(ne,{open:!!s,key:s,taskId:s,assignee:this.props.user.id,cancelFn:()=>this.assignToSelf(null)}),r.a.createElement(Y.a,{visible:!!l,title:S.get(l,"name"),footer:null,onCancel:()=>this.showDetails(null)},l?r.a.createElement(r.a.Fragment,null,r.a.createElement(za,{label:"Department",value:S.get(l,"department_data.value")}),r.a.createElement(za,{label:"Designation",value:S.get(l,"designation_data.value")}),r.a.createElement(za,{label:"Priority",value:S.get(l,"priority_data.value")}),r.a.createElement(za,{label:"Days",value:S.get(l,"days")}),r.a.createElement(za,{label:"Remark",value:S.get(l,"remark")}),r.a.createElement(o.a,null),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:l.description}})):null,r.a.createElement(O.a,{onClick:()=>this.showDetails(null)},"Close")))}}function za(e){return r.a.createElement(g.a,{gutter:16},r.a.createElement(k.a,{span:8,style:{textAlign:"right"}},r.a.createElement(Va,{type:"secondary"},e.label,":")),r.a.createElement(k.a,{span:16},r.a.createElement(Va,null,e.value)))}function Ba(){return(Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ha=i.a.Content;class Wa extends n.Component{constructor(e){super(e),this.state={}}render(){return r.a.createElement(Ha,{className:"main-container",style:{minHeight:280}},r.a.createElement(i.a,null,r.a.createElement(p,this.props),r.a.createElement(Ha,{style:{margin:"24px 16px",minHeight:280}},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/tasktracker/createtask",render:e=>r.a.createElement(R,Ba({},e,this.props,{title:"Create New Task"}))}),this.props.user.staff.is_manager?r.a.createElement(s.b,{exact:!0,path:"/tasktracker/createrecurringtask",render:e=>r.a.createElement(Dt,Ba({},e,this.props,{title:"Create New Recurring Task"}))}):null,this.props.user.staff.is_manager?r.a.createElement(s.b,{exact:!0,path:"/tasktracker/recurringtask/:id/edit",render:e=>r.a.createElement(Dt,Ba({},this.props,e,{title:"Edit Recurring Task"}))}):null,this.props.activePracticePermissions.AllRecurringTasks?r.a.createElement(s.b,{exact:!0,path:"/tasktracker/allrecurring",render:e=>r.a.createElement(qa,Ba({},e,this.props))}):null,r.a.createElement(s.b,{path:"/tasktracker/mytask",render:e=>r.a.createElement(ye,Ba({},this.props,e))}),r.a.createElement(s.b,{exact:!0,path:"/tasktracker/lastrating",render:e=>r.a.createElement(ga,Ba({},e,this.props))}),this.props.user.staff.is_manager?r.a.createElement(s.b,{exact:!0,path:"/tasktracker/departmenttask",render:e=>r.a.createElement(ta,Ba({},e,this.props))}):null,this.props.user.staff.is_manager?r.a.createElement(s.b,{exact:!0,path:"/tasktracker/summary",render:e=>r.a.createElement(ha,Ba({},e,this.props))}):null,r.a.createElement(s.b,{exact:!0,path:"/tasktracker/daily-summary",render:e=>r.a.createElement(ya,Ba({},e,this.props))}),r.a.createElement(s.b,{exact:!0,path:"/tasktracker/recurringtask",render:e=>r.a.createElement(le,Ba({},e,this.props))}),r.a.createElement(s.b,{path:"/tasktracker/taskreport",render:e=>r.a.createElement(ra,Ba({},e,this.props))}),r.a.createElement(s.b,{exact:!0,path:"/tasktracker/task/:id/view",render:e=>r.a.createElement(qe,Ba({},this.props,e))}),r.a.createElement(s.b,{exact:!0,path:"/tasktracker/task/:id/edit",render:e=>r.a.createElement(R,Ba({},this.props,e,{title:"Edit Task"}))}),r.a.createElement(s.b,{exact:!0,path:"/tasktracker/departmentdesc",render:e=>r.a.createElement(vt,Ba({},e,this.props))}),r.a.createElement(s.b,{exact:!0,path:"/tasktracker/rating",render:e=>r.a.createElement(da,Ba({},e,this.props))}),r.a.createElement(s.b,{exact:!0,path:"/tasktracker/targets",render:e=>r.a.createElement(Ia,Ba({},e,this.props))}),this.props.user.staff.is_manager?r.a.createElement(s.b,{exact:!0,path:"/tasktracker/department",render:e=>r.a.createElement(Na,Ba({},e,this.props))}):null))))}}t.default=Wa},439:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(1),r=a.n(n),i=a(1568),s=a(503),l=a(448),o=a(1105),c=a(1183),d=a(1589),u=a(1572),m=a(436),p=a.n(m),h=a(517),g=a.n(h),f=a(464),y=a.n(f),b=a(508),k=a.n(b);a(518);const E=function(e,t,a=!0){let n="",r=[];return a&&(e.forEach((function(e){r.push(e)})),n+=r.join(","),n+="\r\n"),t.forEach((function(t){r=[],e.forEach((function(e){t[e]?r.push(t[e]):r.push("--")})),n+=r.join(","),n+="\r\n"})),n},v=function(e,t){const a="".concat(t,".csv");let n;const r=[];r.push(255,254);for(let t=0;t<e.length;++t)n=e.charCodeAt(t),r.push(255&n),r.push(n/256>>>0);const i=new Blob([new Uint8Array(r)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(i,a);else{const e=document.createElement("a");if(void 0!==e.download){const t=window.URL.createObjectURL(i);e.setAttribute("href",t),e.setAttribute("download",a),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(t)}}};a(435),a(434),a(438);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){T(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class w extends r.a.Component{constructor(e){super(e),T(this,"getColumnSearchProps",e=>({filterDropdown:({setSelectedKeys:t,selectedKeys:a,confirm:n,clearFilters:l})=>r.a.createElement("div",{style:{padding:8}},r.a.createElement(i.a,{ref:e=>{this.searchInput=e},placeholder:"Search ".concat(e),value:a[0],onChange:e=>t(e.target.value?[e.target.value]:[]),onPressEnter:()=>this.handleSearch(a,n),style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(s.a,{type:"primary",onClick:()=>this.handleSearch(a,n),icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(s.a,{onClick:()=>this.handleReset(l),size:"small",style:{width:90}},"Reset")),filterIcon:e=>r.a.createElement(l.a,{type:"search",style:{color:e?"#1890ff":void 0}}),onFilter:(t,a)=>null!=y()(a,e)?y()(a,e).toString().toLowerCase().includes(t.toLowerCase()):"",onFilterDropdownVisibleChange:e=>{e&&setTimeout(()=>this.searchInput.select())},render:e=>r.a.createElement(g.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[this.state.searchText],autoEscape:!0,textToHighlight:e?e.toString():""})})),T(this,"handleSearch",(e,t)=>{t(),this.setState({searchText:e[0]})}),T(this,"handleReset",e=>{e(),this.setState({searchText:""})}),this.state=x(x({},e),{},{searchText:""}),this.excelExport=this.excelExport.bind(this),this.pdfExport=this.pdfExport.bind(this)}componentWillReceiveProps(e){e.columns==this.state.columns&&e.dataSource==this.state.dataSource&&e.loading==this.state.loading||this.setState(x({},e))}pdfExport(){const e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push({title:e.title,dataKey:e.title})}));const a=[];e.state.dataSource.forEach((function(t,n){const r={};e.state.columns.forEach((function(e){e.export?r[e.title]=e.export(y()(t,e.dataIndex),t,n):r[e.title]=y()(t,e.dataIndex)})),a.push(r)})),function(e,t,a){const n=new k.a("p","mm","a4");!function(e){e.line(10,20,200,20)}(n);const r=Object.create(t);n.autoTable(e,r,{margin:{top:35},startY:n.autoTableEndPosY()+20,headerStyle:{overflow:"linebreak"},bodyStyles:{overflow:"linebreak"}}),function(e){e.line(10,270,200,270),e.setFontSize(8),e.text(10,275,"This is a computer generated report.")}(n),n.save("".concat(a,".pdf"))}(t,a,"Export".concat(p()()))}excelExport(){const e=this,t=[];e.state.columns.forEach((function(e){e.hideExport||t.push(e.title)}));const a=[];e.state.dataSource.forEach((function(t,n){const r={};e.state.columns.forEach((function(e){e.export?r[e.title]=e.export(y()(t,e.dataIndex),t,n):r[e.title]=y()(t,e.dataIndex)})),a.push(r)})),function(e,t,a="download"){const n=E(e,t);v(n,a)}(t,a,"Export".concat(p()()))}render(){const e=this,t=this.state.columns.map(t=>t.hide?{}:t.render?x({},t):x(x({},t),e.getColumnSearchProps(t.dataIndex)));return r.a.createElement("div",null,this.props.hideReport?null:r.a.createElement(o.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a.Group,{size:"small"},r.a.createElement(s.a,{disabled:this.state.loading,type:"primary",onClick:this.excelExport},r.a.createElement(l.a,{type:"file-excel"})," Excel"),r.a.createElement(s.a,{disabled:this.state.loading,type:"primary",onClick:this.pdfExport},r.a.createElement(l.a,{type:"file-pdf"})," PDF")))),r.a.createElement(o.a,null,r.a.createElement(d.a,O({pagination:{position:"both",pageSizeOptions:["10","20","30","40","50","100"],showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:(e,t)=>r.a.createElement(u.a,null,"Showing ",r.a.createElement("b",null,t[0])," to ",r.a.createElement("b",null,t[1])," of ",r.a.createElement("b",null,e)," items")}},this.state,{columns:t}))))}}},442:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(433),r=a(1105),i=a(503),s=a(1),l=a.n(s);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends l.a.Component{constructor(e){super(e),o(this,"startLoading",()=>{this.props.loaderFunction&&(this.props.loaderFunction(),this.startMakingExtraLabels())}),o(this,"startMakingExtraLabels",()=>{const e=this;this.setState((function(e){return e.extraLoadingLabel.length>2?{extraLoadingLabel:""}:{extraLoadingLabel:"".concat(e.extraLoadingLabel,".")}}),(function(){e.props.loading&&setTimeout((function(){e.startMakingExtraLabels()}),500)}))}),this.state={extraLoadingLabel:""}}render(){return this.props.loading?l.a.createElement(n.a,{spinning:this.props.loading},l.a.createElement(r.a,{style:{minHeight:200}})):this.props.hidden?l.a.createElement(r.a,null,l.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},l.a.createElement("small",null,"No More Data Found"))):l.a.createElement(r.a,null,l.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},l.a.createElement(i.a,{type:"primary",onClick:this.startLoading,loading:this.props.loading},this.props.loading?"Loading".concat(this.state.extraLoadingLabel):"Load More")))}}}}]);