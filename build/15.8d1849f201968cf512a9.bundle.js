(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1523:function(t,e,a){"use strict";var n=a(1);t.exports=function(t){var e=t.tree,a=t.NodeComponent;return n.createElement("div",{className:"reactOrgChart"},function t(e){var s=function(t){return(e.children||[]).length>t+1},r=function(t){return t>0},o=n.createElement("td",{colSpan:2*(e.children||[]).length,className:"nodeGroupCellLines"},n.createElement("table",{className:"nodeLineTable"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"nodeLineCell nodeGroupLineVerticalMiddle"}),n.createElement("td",{colSpan:2,className:"nodeLineCell"}))))),i=(e.children||[]).map((function(t,e){return n.createElement("td",{colSpan:"2",className:"nodeGroupCellLines",key:e},n.createElement("table",{className:"nodeLineTable"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"nodeLineCell nodeGroupLineVerticalMiddle"+(r(e)?" nodeLineBorderTop":"")}),n.createElement("td",{colSpan:2,className:"nodeLineCell"+(s(e)?" nodeLineBorderTop":"")})))))})),l=(e.children||[]).map((function(e,a){return n.createElement("td",{colSpan:"2",className:"nodeGroupCell",key:a},t(e))}));return n.createElement("table",{className:"orgNodeChildGroup"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"nodeCell",colSpan:2*(e.children||[]).length},n.createElement(a,{node:e}))),n.createElement("tr",null,(e.children||[]).length>0&&o),n.createElement("tr",null,i),n.createElement("tr",null,l)))}(e))}},1524:function(t,e,a){var n=a(125),s=a(1525);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};n(s,r);t.exports=s.locals||{}},1525:function(t,e,a){(e=a(126)(!1)).push([t.i,".reactOrgChart{margin:2px}.reactOrgChart .orgNodeChildGroup .node{border:solid 1px #000000;display:inline-block;padding:4px;width:100px}.reactOrgChart .orgNodeChildGroup .nodeCell{text-align:center}.reactOrgChart .orgNodeChildGroup .nodeGroupCell{vertical-align:top}.reactOrgChart .orgNodeChildGroup .nodeGroupLineVerticalMiddle{height:25px;width:50%;border-right:2px solid #000}.reactOrgChart .nodeLineBorderTop{border-top:solid 2px #000}.reactOrgChart table{border-collapse:collapse;border:none;margin:0 auto}.reactOrgChart td{padding:0}.reactOrgChart table.nodeLineTable{width:100%}.reactOrgChart table td.nodeCell{width:50%}\n",""]),t.exports=e},1582:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),r=a(1577),o=a(433),i=a(18),l=a(436),c=a.n(l),p=a(1587),d=a(763);const m=r.a.Header,u=p.a.RangePicker;class h extends s.a.Component{constructor(t){super(t),this.changeReport=this.changeReport.bind(this)}changeReport(t){this.props.history.push(t)}render(){const t=this,e=[{name:"Daily Summary",value:"/reports/summary",active:t.props.activePracticePermissions.ReportsDailySummary||t.props.allowAllPermissions},{name:"Income",value:"/reports/income",active:t.props.activePracticePermissions.ReportsIncome||t.props.allowAllPermissions},{name:"Payments",value:"/reports/payments",active:t.props.activePracticePermissions.ReportsPayments||t.props.allowAllPermissions},{name:"Appointment",value:"/reports/appointments",active:t.props.activePracticePermissions.ReportsAppointments||t.props.allowAllPermissions},{name:"Patients",value:"/reports/patients",active:t.props.activePracticePermissions.ReportsPatients||t.props.allowAllPermissions},{name:"Amount Due",value:"/reports/amountdue",active:t.props.activePracticePermissions.ReportsAmountDue||t.props.allowAllPermissions},{name:"Expenses",value:"/reports/expenses",active:t.props.activePracticePermissions.ReportsExpenses||t.props.allowAllPermissions},{name:"Inventory",value:"/reports/inventory",active:t.props.activePracticePermissions.ReportsInventory||t.props.allowAllPermissions},{name:"EMR",value:"/reports/emr",active:t.props.activePracticePermissions.ReportsEMR||t.props.allowAllPermissions},{name:"Bed Booking",value:"/reports/bed_booking",active:t.props.activePracticePermissions.ReportsBedBooking||t.props.allowAllPermissions},{name:"Inventory Retails",value:"/reports/inventoryretails",active:t.props.activePracticePermissions.ReportsInventoryRetail||t.props.allowAllPermissions},{name:"MLM ",value:"/reports/mlm",active:t.props.activePracticePermissions.ReportsMLMReport||t.props.allowAllPermissions},{name:"Invoice Returns ",value:"/reports/invoice-return",active:t.props.activePracticePermissions.ReportsInventoryRetail||t.props.allowAllPermissions},{name:"Task Track",value:"/reports/tasks",active:t.props.activePracticePermissions.ReportsTaskTrack||t.props.allowAllPermissions},{name:"Suggestions",value:"/reports/suggestions",active:t.props.activePracticePermissions.ReportsSuggestions||t.props.allowAllPermissions}];return s.a.createElement(m,{style:{background:"#fff"}},s.a.createElement("ul",{style:{listStyle:"none"}},s.a.createElement("li",{style:{display:"inline"}},"Select Report Category  "),s.a.createElement("li",{style:{display:"inline"}},s.a.createElement(d.a,{style:{minWidth:"200px"},defaultValue:e[3].name,value:this.props.history.location.pathname,onChange:this.changeReport},e.map(t=>s.a.createElement(d.a.Option,{value:t.value,disabled:!t.active},t.name)))),s.a.createElement("li",{style:{display:"inline",float:"right"}},s.a.createElement(u,{allowClear:!1,onChange:(e,a)=>t.props.reportsDateRange(a),defaultValue:[c()(),c()()],format:"DD/MM/YYYY"}))))}}var g=a(503),y=a(1608),E=a(1105),f=a(1183),D=a(1029),b=a(434),_=a(441),x=a(435),v=a(437),S=a(836),M=a(1589),O=a(438);function P(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Y extends s.a.Component{constructor(t){super(t),P(this,"loadReport",()=>{const t=this;t.setState({loading:!0});const e={practice:this.props.active_practiceId,type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(x.c)(b.n,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),P(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),e.mail_to=t,Object(O.j)(b.n,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!0,report:[],mailingUsersList:this.props.mailingUsersList}}componentDidMount(){this.loadReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}render(){const t=this.state,e=t.report,a=t.loading,n=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:(t,e,a)=>s.a.createElement("span",null,a+1),width:50},{title:"Invoice Date",key:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("DD MMM YYYY"))},{title:"Invoice Number",key:"invoice_id",dataIndex:"invoice_id"},{title:"Patient",dataIndex:"first_name",key:"first_name"},{title:"Patient ID",dataIndex:"custom_id",key:"custom_id"},{title:"Doctor Name",dataIndex:"doctor_name",key:"doctor_name"},{title:"Invoice Amount(INR)",key:"total",dataIndex:"total",render:t=>t.toFixed(2)},{title:"Amount Due(INR)",dataIndex:"amount_due",key:"amount_due",render:t=>t.toFixed(2)}],r=e.reduce((function(t,e){return t+e.amount_due}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Total Amount Due ",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Amount Due For Listed Invoices(INR)",value:r.toFixed(2)}),s.a.createElement("br",null),s.a.createElement("p",null,"*Advance payments are not considered here. Amounts may vary slightly."))),s.a.createElement(M.a,{loading:a,columns:n,pagination:!1,dataSource:e}))}}function I(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class j extends s.a.Component{constructor(t){super(t),I(this,"loadReport",()=>{const t=this;t.setState({loading:!0});const e={practice:this.props.active_practiceId,type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(x.c)(b.n,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),I(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.doctors&&(e.doctors=this.props.doctors.toString()),e.mail_to=t,Object(O.j)(b.n,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!0,report:[],mailingUsersList:this.props.mailingUsersList},this.loadReport=this.loadReport.bind(this)}componentDidMount(){this.loadReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}render(){const t=this.state,e=t.report,a=t.loading;let n=0,r=0,o=0,i=0,l=0,c=0;e.map((function(t){n+=t["0_29"],r+=t["30_59"],o+=t["60_89"],i+=t["89_364"],l+=t[365],c=n+r+o+i+l}));const p=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:(t,e,a)=>s.a.createElement("span",null,a+1),width:50},{title:"Name",dataIndex:"first_name",key:"first_name"},{title:"for 0-29 days (INR)",dataIndex:"0_29",key:"0_29",render:t=>s.a.createElement("span",null,t.toFixed(2))},{title:"for 30-59 days (INR)",dataIndex:"30_59",key:"30_59",render:t=>s.a.createElement("span",null,t.toFixed(2))},{title:"for 60-89 days (INR)",dataIndex:"60_89",key:"60_89",render:t=>s.a.createElement("span",null,t.toFixed(2))},{title:"for 89-364 days (INR)",dataIndex:"89_364",key:"89_364",render:t=>s.a.createElement("span",null,t.toFixed(2))},{title:"for more than 364 days (INR)",dataIndex:"365",key:"365",render:t=>s.a.createElement("span",null,t.toFixed(2))},{title:"Total (INR)",key:"total",render:(t,e)=>s.a.createElement("span",null,(e["0_29"]+e["30_59"]+e["60_89"]+e["89_364"]+e[365]).toFixed(2))}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Ageing Amount Due ",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:22,offset:1},s.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"*Unpaid Invoice Amount."),s.a.createElement(y.a,{title:"Summary",bordered:!1,type:"inner"},s.a.createElement(E.a,null,s.a.createElement(f.a,{span:4},s.a.createElement(S.a,{title:"for 0-29 days (INR)",value:n.toFixed(2)})),s.a.createElement(f.a,{span:4},s.a.createElement(S.a,{title:"for 30-59 days (INR)",value:r.toFixed(2)})),s.a.createElement(f.a,{span:4},s.a.createElement(S.a,{title:"for 60-89 days (INR)",value:o.toFixed(2)})),s.a.createElement(f.a,{span:4},s.a.createElement(S.a,{title:"for 89-364 days (INR)",value:i.toFixed(2)})),s.a.createElement(f.a,{span:4},s.a.createElement(S.a,{title:"for more than 364 days (INR)",value:l.toFixed(2)})),s.a.createElement(f.a,{span:4},s.a.createElement(S.a,{title:"Total (INR)",value:c.toFixed(2)})))))),s.a.createElement(E.a,{gutter:16},s.a.createElement("p",{style:{textAlign:"center",marginTop:40}},"*Unpaid Invoice Amount."),s.a.createElement(y.a,{title:"Summary",bordered:!1,type:"inner",bodyStyle:{padding:0}},s.a.createElement(M.a,{loading:a,columns:p,pagination:!1,dataSource:e})))))}}var k=a(56),w=a(447);function R(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class C extends s.a.Component{constructor(t){super(t),R(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),R(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};e.mail_to=t,Object(O.j)(b.n,e)}),this.state={reportEachDoctor:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!0,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadReport=this.loadReport.bind(this)}componentDidMount(){this.loadReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReport()}))}loadReport(){const t=this;t.setState({loading:!0});const e={practice:this.props.active_practiceId,type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};Object(x.c)(b.n,(function(e){t.setState({reportEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this.state,e=t.reportEachDoctor,a=t.loading,n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50,render:(t,e,a)=>s.a.createElement("span",null,a+1)},{title:"Doctor",key:"doctor",dataIndex:"doctor_name"},{title:"Invoiced (INR)",key:"invoiced",dataIndex:"invoiced",render:t=>t.toFixed(2)},{title:"Received (INR)",key:"received_amount",dataIndex:"received_amount",render:(t,e)=>s.a.createElement("span",null,(e.invoiced-e.amount_due).toFixed(2))},{title:"Total Amount Due (INR)",key:"amount_due",dataIndex:"amount_due",render:t=>t.toFixed(2)}],r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return s.a.createElement("div",null,s.a.createElement("h2",null,"Amount Due Per Doctor",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:a},e.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.doctor_name,", ")+"INR ".concat(d.invoiced.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"amount_due",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},e.map((t,e)=>s.a.createElement(w.c,{fill:r[e%r.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(M.a,{loading:a,columns:n,pagination:!1,dataSource:e}))}}function A(){return(A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function L(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class T extends s.a.Component{constructor(t){super(t),L(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),L(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),L(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),this.state={sidePanelColSpan:4,patientGroup:[],practiceDoctors:[],type:"ALL",advancedOptionShow:!0},Object(O.e)(this),this.loadPatientGroup=this.loadPatientGroup.bind(this)}componentDidMount(){this.loadPatientGroup()}loadPatientGroup(){const t=this;Object(x.c)(Object(x.g)(b.md,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}advancedOption(t){this.setState({advancedOptionShow:t})}render(){const t=this.state,e=t.type,a=t.sidePanelColSpan,n=t.advancedOptionShow,r=t.patientGroup,o=t.practiceDoctors;return(s.a.createElement("div",null,s.a.createElement("h2",null,"Amount Due Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:a?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(a)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-a},e==v.yc?s.a.createElement(Y,A({},this.state,this.props)):null,e==v.b?s.a.createElement(j,A({},this.state,this.props)):null,e==v.m?s.a.createElement(C,A({},this.state,this.props)):null),s.a.createElement(f.a,{span:a},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.yc,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Patients"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.yc},"Total Amount Due"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.f.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.type==v.yc||this.state.type==v.b?s.a.createElement(s.a.Fragment,null,n?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{href:"#",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options"),s.a.createElement(f.a,null," ",s.a.createElement("br",null),this.state.type!=v.b?s.a.createElement(s.a.Fragment,null,s.a.createElement("h4",null,"Patient Groups"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:t=>this.handleChangeOption("patient_groups",t)},r.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null)):null,s.a.createElement("h4",null,"Doctors"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:t=>this.handleChangeOption("doctors",t)},o.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name))))):s.a.createElement("a",{href:"#",onClick:t=>this.advancedOption(!0)},"Show Advanced Options")):null)))))}}var N=a(837),F=a(439);function U(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function B(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?U(Object(a),!0).forEach((function(e){W(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function W(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class G extends s.a.Component{constructor(t){super(t),W(this,"loadAppointmentReport",()=>{const t=this,e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled,practice:t.props.active_practiceId};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(Object(x.g)(b.v,[t.props.active_practiceId]),(function(e){t.setState({appointmentReports:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),W(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),W(this,"sendMail",t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(Object(x.g)(b.v,[this.props.active_practiceId]),e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!0,appointmentCategory:[],appointmentReports:[],activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentReport=this.loadAppointmentReport.bind(this)}componentDidMount(){this.loadAppointmentReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentReport()}))}render(){const t=this.state.appointmentReports,e=[];for(let a=1;a<=t.length;a++)e.push(B({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.schedule_at).format("DD MMM YYYY")),export:(t,e)=>c()(e.schedule_at).format("ll")},{title:"Scheduled At\t",key:"time",dataIndex:"time",render:(t,e)=>s.a.createElement("span",null,c()(e.schedule_at).format("HH:mm")),export:(t,e)=>c()(e.schedule_at).format("HH:mm")},{title:"Patient",dataIndex:"patient",key:"patient_name",render:(t,e)=>s.a.createElement("span",null,t.user.first_name),export:(t,e)=>t.user.first_name},{title:"Patient Id",dataIndex:"patient",key:"patient_name",render:(t,e)=>s.a.createElement("span",null,t.custom_id),export:(t,e)=>t.custom_id},{title:"Current Status",key:"status",dataIndex:"status"},{title:"Doctor",dataIndex:"doctor",key:"address",render:(t,e)=>s.a.createElement("span",null,e.doctor_data?e.doctor_data.user.first_name:null),export:(t,e)=>e.doctor_data?e.doctor_data.user.first_name:null},{title:"Check-in At",dataIndex:"waiting",key:"waiting",render:(t,e)=>s.a.createElement("span",null,e.waiting?c()(e.waiting).format("lll"):""),export:(t,e)=>c()(e.schedule_at).format("HH:mm")},{title:"Waited For (hh:mm:ss)",dataIndex:"age",key:"age",render:(t,e)=>s.a.createElement("span",null,e.engaged?c()(e.engaged).from(c()(e.waiting)):""),export:(t,e)=>e.engaged?c()(e.engaged).from(c()(e.waiting)):""},{title:"Engaged At",dataIndex:"engaged",key:"engaged",render:(t,e)=>s.a.createElement("span",null,e.engaged?c()(e.engaged).format("lll"):""),export:(t,e)=>e.engaged?c()(e.engaged).format("lll"):""},{title:"Checkout At",dataIndex:"checkout",key:"checkout",render:(t,e)=>s.a.createElement("span",null,e.checkout?c()(e.checkout).format("lll"):""),export:(t,e)=>e.checkout?c()(e.checkout).format("lll"):""},{title:"Category",dataIndex:"category",key:"address",render:(t,e)=>s.a.createElement("span",null,e.category_data?e.category_data.name:null),export:(t,e)=>e.category_data?e.category_data.name:null}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"All Appointments Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Appointments",value:this.state.total}),s.a.createElement("br",null))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:a,dataSource:e})))}}function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function K(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(Object(a),!0).forEach((function(e){H(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function H(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class V extends s.a.Component{constructor(t){super(t),H(this,"loadAppointmentWithCategory",()=>{const t=this;t.setState({loading:!0}),this.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.gd,(function(e){t.setState({appointmentCategory:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),H(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),H(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,appointmentCategory:[],activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentWithCategory=this.loadAppointmentWithCategory.bind(this)}componentDidMount(){this.loadAppointmentWithCategory()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentWithCategory()}))}render(){const t=this.state.appointmentCategory,e=[];for(let a=1;a<=t.length;a++)e.push(K({s_no:a},t[a-1]));const a=["#0088FE","#00C49F","#FFBB28","#FF8042"];return s.a.createElement("div",null,s.a.createElement("h2",null,"Appointment By Category",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.category,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},e.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Category",key:"category",dataIndex:"category"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:e}))}}var q=a(1579);function J(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function X(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?J(Object(a),!0).forEach((function(e){Q(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Q(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Z extends s.a.Component{constructor(t){super(t),Q(this,"loadAppointmentEachDoctor",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.gd,(function(e){t.setState({appointmentEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Q(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),Q(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),this.state={appointmentEachDoctor:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentEachDoctor=this.loadAppointmentEachDoctor.bind(this)}componentDidMount(){this.loadAppointmentEachDoctor()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentEachDoctor()}))}render(){const t=this.state.appointmentEachDoctor,e=[];for(let a=1;a<=t.length;a++)e.push(X({s_no:a},t[a-1]));const a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=e.reduce((function(t,e){return t+e.count}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Appointment For Each Patient Doctor",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.doctor,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},e.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n})),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:e}))}}function $(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function tt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$(Object(a),!0).forEach((function(e){et(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function et(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class at extends s.a.Component{constructor(t){super(t),et(this,"loadAppointmentPatientGroup",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.gd,(function(e){t.setState({appointmentGroup:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),et(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),et(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),this.state={appointmentGroup:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentPatientGroup=this.loadAppointmentPatientGroup.bind(this)}componentDidMount(){this.loadAppointmentPatientGroup()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentPatientGroup()}))}render(){const t=this.state.appointmentGroup,e=[];for(let a=1;a<=t.length;a++)e.push(tt({s_no:a},t[a-1]));const a=["#0088FE","#00C49F","#FFBB28","#FF8042"];return s.a.createElement("div",null,s.a.createElement("h2",null,"Appointment For Each Patient Group",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement("text",{x:a,y:n,dy:8,textAnchor:"middle",fill:p},d.patient_group),s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.patient_group,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},e.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:this.state.total})),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Group",key:"patient_group",dataIndex:"patient_group"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:e}))}}function nt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function st(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(a),!0).forEach((function(e){rt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function rt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ot extends s.a.Component{constructor(t){super(t),rt(this,"loadAppointmentDayWait",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.gd,(function(e){t.setState({appointmentDayWait:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),rt(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),this.state={appointmentDayWait:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentDayWait=this.loadAppointmentDayWait.bind(this)}componentDidMount(){this.loadAppointmentDayWait()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentDayWait()}))}render(){const t=this.state.appointmentDayWait,e=[];for(let a=1;a<=t.length;a++)e.push(st({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Time Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("DD MMM YYYY")),export:(t,e)=>c()(e.date).format("DD MMM YYYY")},{title:"Avg. waiting Time(hh:mm:ss)",key:"wait",dataIndex:"wait",render:(t,e)=>s.a.createElement("span",null,e.wait?c()().add(e.wait,"second").fromNow():""),export:(t,e)=>e.wait?c()().add(e.wait,"second").fromNow():""},{title:"Avg. engaged Time(hh:mm:ss)",key:"engage",dataIndex:"engage",render:(t,e)=>s.a.createElement("span",null,e.engage?c()().add(e.engage,"second").fromNow():""),export:(t,e)=>e.engage?c()().add(e.engage,"second").fromNow():""},{title:"Avg. stay Time (hh:mm:ss)",key:"stay",dataIndex:"stay",render:(t,e)=>s.a.createElement("span",null,e.stay?c()().add(e.stay,"second").fromNow():""),export:(t,e)=>e.stay?c()().add(e.stay,"second").fromNow():""}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Average Waiting/engaged Time Day Wise",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:a,dataSource:e})))}}function it(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function lt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?it(Object(a),!0).forEach((function(e){ct(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ct(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class pt extends s.a.Component{constructor(t){super(t),ct(this,"loadAppointmentMonthWait",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.gd,(function(e){t.setState({appointmentMonthWait:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),ct(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),this.state={appointmentMonthWait:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentMonthWait=this.loadAppointmentMonthWait.bind(this)}componentDidMount(){this.loadAppointmentMonthWait()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentMonthWait()}))}render(){const t=this.state.appointmentMonthWait,e=[];for(let a=1;a<=t.length;a++)e.push(lt({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Time Month",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("DD MMM YYYY")),export:(t,e)=>c()(e.date).format("DD MMM YYYY")},{title:"Avg. waiting Time(hh:mm:ss)",key:"wait",dataIndex:"wait",render:(t,e)=>s.a.createElement("span",null,e.wait?c()().add(e.wait,"second").fromNow():""),export:(t,e)=>e.wait?c()().add(e.wait,"second").fromNow():""},{title:"Avg. engaged Time(hh:mm:ss)",key:"engage",dataIndex:"engage",render:(t,e)=>s.a.createElement("span",null,e.engage?c()().add(e.engage,"second").fromNow():""),export:(t,e)=>e.engage?c()().add(e.engage,"second").fromNow():""},{title:"Avg. stay Time (hh:mm:ss)",key:"stay",dataIndex:"stay",render:(t,e)=>s.a.createElement("span",null,e.stay?c()().add(e.stay,"second").fromNow():""),export:(t,e)=>e.stay?c()().add(e.stay,"second").fromNow():""}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Average Waiting/engaged Time Month Wise",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:a,dataSource:e})))}}function dt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function mt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(a),!0).forEach((function(e){ut(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):dt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ut(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ht extends s.a.Component{constructor(t){super(t),ut(this,"loadAppointmentCancellation",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.gd,(function(e){console.log(Object.entries(e)),t.setState({appointmentCancel:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),ut(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),ut(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),this.state={appointmentCancel:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentCancellation=this.loadAppointmentCancellation.bind(this)}componentDidMount(){this.loadAppointmentCancellation()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentCancellation()}))}render(){const t=this.state.appointmentCancel,e=[];for(let a=1;a<=t.length;a++)e.push(mt({s_no:a},t[a-1]));const a=["#FFBB28","#FF8042"],n=e.reduce((function(t,e){return t+e.count}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Cancellations Numbers",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0&&n?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{label:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.type,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},e.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n})),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment Status",key:"type",dataIndex:"type"},{title:"Total Appointments",key:"count",dataIndex:"count"}],dataSource:e}))}}function gt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function yt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(a),!0).forEach((function(e){Et(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):gt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Et(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ft extends s.a.Component{constructor(t){super(t),Et(this,"loadAppointmentDaily",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.gd,(function(e){t.setState({appointmentDaily:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Et(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),this.state={appointmentDaily:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentDaily=this.loadAppointmentDaily.bind(this)}componentDidMount(){this.loadAppointmentDaily()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentDaily()}))}render(){const t=this.state.appointmentDaily,e=[];for(let a=1;a<=t.length;a++)e.push(yt({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("DD MMM ")),export:(t,e)=>c()(e.date).format("DD MMM ")},{title:"Total Appointments",key:"count",dataIndex:"count"}],n=({x:t,y:e,stroke:a,value:n})=>s.a.createElement("text",{x:t,y:e,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n);return s.a.createElement("div",null,s.a.createElement("h2",null,"Daily Appointment Count",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0?s.a.createElement(w.h,{width:1e3,height:300,data:[...e].reverse(),margin:{top:5,right:30,left:20,bottom:55}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Appointments",angle:-90,position:"insideLeft"}}),s.a.createElement(w.b,{strokeDasharray:"3 3"}),s.a.createElement(w.m,null),s.a.createElement(w.g,{type:"monotone",dataKey:"count",stroke:"#1DA57A",strokeWidth:4,label:s.a.createElement(n,null)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:this.state.total})),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:a,dataSource:e}))}}function Dt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function bt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(a),!0).forEach((function(e){_t(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Dt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _t(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class xt extends s.a.Component{constructor(t){super(t),_t(this,"loadAppointmentMonthly",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.gd,(function(e){t.setState({appointmentMonthly:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),_t(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),this.state={appointmentMonthly:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadAppointmentMonthly=this.loadAppointmentMonthly.bind(this)}componentDidMount(){this.loadAppointmentMonthly()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadAppointmentMonthly()}))}render(){const t=this.state.appointmentMonthly,e=[];for(let a=1;a<=t.length;a++)e.push(bt({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Month",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("MMMM YYYY")),export:(t,e)=>c()(e.date).format("DD MMM YYYY")},{title:"Total Appointments",key:"count",dataIndex:"count"}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Monthly Appointment Count",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:[...e].reverse(),margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("MMM YY")}),s.a.createElement(w.o,null),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:this.state.total})),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:a,dataSource:e}))}}s.a.Component;var vt=a(460);function St(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Mt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?St(Object(a),!0).forEach((function(e){Ot(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):St(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ot(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Pt extends s.a.Component{constructor(t){super(t),Ot(this,"sendMail",t=>{const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(b.gd,e)}),this.state={patient_conversion:[],distinct_patients:"",startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadPatientConversion=this.loadPatientConversion.bind(this)}componentDidMount(){this.loadPatientConversion()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors&&this.props.exclude_cancelled==t.exclude_cancelled&&this.props.appointmentType==t.appointmentType&&this.props.conversionType==t.conversionType||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPatientConversion()}))}loadPatientConversion(){const t=this;t.setState({loading:!0});const e={type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!!this.props.exclude_cancelled};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),this.props.appointmentType&&(e.first=this.props.appointmentType),this.props.conversionType&&(e.conversion=this.props.conversionType),Object(x.c)(b.gd,(function(e){t.setState({patient_conversion:e.data,distinct_patients:e.distinct_patients,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.patient_conversion,a=[];for(let t=1;t<=e.length;t++)a.push(Mt({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Appointment",key:"appointment",dataIndex:"appointment",render:t=>s.a.createElement("span",null,c()(t).format("DD MMM YYYY HH:mm"))},{title:"Patient Id",key:"custom_id",dataIndex:"custom_id"},{title:"Patient Name",key:"patient_name",dataIndex:"patient_name"},{title:"Contact Number",key:"mobile",dataIndex:"mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Secondary Number",key:"secondary_number",dataIndex:"secondary_number",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"email",dataIndex:"email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Address",key:"address",dataIndex:"address"},{title:"Gender",key:"gender",dataIndex:"gender"},{title:"DOB",key:"dob",dataIndex:"dob",render:t=>c()(t).format("lll")},{title:"Source",key:"source",dataIndex:"source"},{title:"Appointment Status",key:"status",dataIndex:"status"},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Last Payments",key:"invoice_total",dataIndex:"invoice_total"},{title:"Last Patient Note",key:"last_note",dataIndex:"last_note",render:(t,e)=>s.a.createElement("span",null,e.last_note?"".concat(e.last_note,"( ").concat(e.note_by,")"):"")},{title:"Referal",key:"referal_by",dataIndex:"referal_by"},{title:"First Appointment",key:"first_appointment",dataIndex:"first_appointment",render:t=>s.a.createElement("span",null,t?"YES":"NO")},{title:"Conversion",key:"conversion",dataIndex:"invoice_total",render:t=>s.a.createElement("span",null,t?"YES":"NO")},{title:"City",key:"city",dataIndex:"city"},{title:"State",key:"state",dataIndex:"state"},{title:"Country",key:"country",dataIndex:"country"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Patient Conversion",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Conversions",value:this.state.distinct_patients}))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:n,dataSource:a})))}}function Yt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function It(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(a),!0).forEach((function(e){jt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Yt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function jt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class kt extends s.a.Component{constructor(t){super(t),jt(this,"appointmentReportCancel",()=>{const t=this;t.setState({loading:!0});const e={type:"CANCELLATION",practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!1};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),Object(x.c)(b.s,(function(e){t.setState({cancelReport:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),jt(this,"sendMail",t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),exclude_cancelled:!1};this.props.categories&&(e.categories=this.props.categories.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.country&&(e.country=this.props.country),this.props.state&&(e.state=this.props.state),this.props.city&&(e.city=this.props.city),e.mail_to=t,Object(O.j)(Object(x.g)(b.s,[this.props.active_practiceId]),e)}),this.state={cancelReport:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.appointmentReportCancel=this.appointmentReportCancel.bind(this)}componentDidMount(){this.appointmentReportCancel()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.categories==t.categories&&this.props.country==t.country&&this.props.state==t.state&&this.props.city==t.city&&this.props.doctors==t.doctors||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.appointmentReportCancel()}))}render(){const t=this.state.cancelReport;console.log(t);const e=[];for(let a=1;a<=t.length;a++)e.push(It({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"patient.user.first_name",key:"first_name"},{title:"Patient-ID",dataIndex:"patient.custom_id",key:"id"},{title:"Docter Name",dataIndex:"doctor_data.user.first_name",key:"doctor_name"},{title:"Appointment Date",dataIndex:"modified_at",key:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.schedule_at).format("LLL")),exports:(t,e)=>c()(e.schedule_at).format("LLL")},{title:"Category",dataIndex:"category_data.name",key:"Category"},{title:"Reason",dataIndex:"cancel_reason",key:"reason"},{title:"Cancel By",dataIndex:"cancel_by",key:"cancelby"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Rating List",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{loading:this.state.loading,columns:a,dataSource:e,pagination:!1})))}}var wt=kt;function Rt(){return(Rt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function Ct(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class At extends s.a.Component{constructor(t){super(t),Ct(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),Ct(this,"handleChangeOption",(t,e)=>{const a=this;this.setState({[t]:e},(function(){"country"==t&&a.setState({state:"",city:""},(function(){a.getState()})),"state"==t&&a.setState({city:""},(function(){a.getCity()}))}))}),Ct(this,"onChangeCheckbox",t=>{this.setState({exclude_cancelled:!this.state.exclude_cancelled})}),Ct(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),this.state={sidePanelColSpan:4,appointmentReports:[],type:"ALL",advancedOptionShow:!0,appointmentCategory:[],categories:"",practiceDoctors:[],countrylist:[],stateList:[],appointmentType:null,conversionType:null,cityList:[]},this.loadAppointmentCategory=this.loadAppointmentCategory.bind(this)}componentDidMount(){this.loadAppointmentCategory(),Object(O.e)(this),this.getCountry()}getCountry(){const t=this;Object(x.c)(b.lb,(function(e){t.setState({countrylist:e})}),(function(){}))}getState(){const t=this;Object(x.c)(b.Ke,(function(e){t.setState({stateList:e})}),(function(){}),{country:this.state.country})}getCity(){const t=this;Object(x.c)(b.Z,(function(e){t.setState({cityList:e})}),(function(){}),{state:this.state.state})}loadAppointmentCategory(){const t=this;Object(x.c)(Object(x.g)(b.t,[this.props.active_practiceId]),(function(e){t.setState({appointmentCategory:e})}),(function(){}))}advancedOption(t){this.setState({advancedOptionShow:t})}render(){const t=this.state,e=t.sidePanelColSpan,a=t.type,n=t.advancedOptionShow,r=t.practiceDoctors,o=t.appointmentCategory,i=t.appointmentType,l=t.conversionType;return s.a.createElement("div",null,s.a.createElement("h2",null,"Appointments Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:e?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(e)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-e},a==v.e?s.a.createElement(G,Rt({type:v.e},this.state,this.props)):null,a==v.o?s.a.createElement(V,Rt({},this.state,this.props)):null,a==v.p?s.a.createElement(Z,Rt({},this.state,this.props)):null,a==v.q?s.a.createElement(at,Rt({},this.state,this.props)):null,a==v.u?s.a.createElement(ot,Rt({},this.state,this.props)):null,a==v.v?s.a.createElement(pt,Rt({},this.state,this.props)):null,a==v.z?s.a.createElement(ht,Rt({},this.state,this.props)):null,a==v.F?s.a.createElement(ft,Rt({},this.state,this.props)):null,a==v.ob?s.a.createElement(xt,Rt({},this.state,this.props)):null,a==v.r?s.a.createElement(Pt,Rt({},this.props,this.state)):null,a==v.n?s.a.createElement(wt,Rt({},this.props,this.state)):null),s.a.createElement(f.a,{span:e},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.e,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Appointments"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.e},"All Appointments"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.j.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),n?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options"),s.a.createElement(f.a,null,a==v.r?s.a.createElement(s.a.Fragment,null,s.a.createElement("h4",null,"Appointment Type"),s.a.createElement(d.a,{onChange:t=>this.handleChangeOption("appointmentType",t),value:i,style:{minWidth:"200px"}},s.a.createElement(d.a.Option,{value:null},"All Appointment"),s.a.createElement(d.a.Option,{value:"true"},"First Time Appointment"),s.a.createElement(d.a.Option,{value:"false"},"Repeated Appointment")),s.a.createElement("br",null),s.a.createElement("br",null)):null,a==v.r?s.a.createElement(s.a.Fragment,null,s.a.createElement("h4",null,"Conversion Type"),s.a.createElement(d.a,{onChange:t=>this.handleChangeOption("conversionType",t),value:l,style:{minWidth:"200px"}},s.a.createElement(d.a.Option,{value:null},"All Appointment"),s.a.createElement(d.a.Option,{value:"true"},"Converted Appointment"),s.a.createElement(d.a.Option,{value:"false"},"Not Converted Appointment")),s.a.createElement("br",null),s.a.createElement("br",null)):null,s.a.createElement("h4",null,"Country"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Country",onChange:t=>this.handleChangeOption("country",t)},this.state.countrylist.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"State"),s.a.createElement(d.a,{style:{minWidth:"200px"},value:this.state.state,placeholder:"Select State",onChange:t=>this.handleChangeOption("state",t),allowclear:!0},this.state.stateList.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"City"),s.a.createElement(d.a,{style:{minWidth:"200px"},value:this.state.city,placeholder:"Select City",onChange:t=>this.handleChangeOption("city",t)},this.state.cityList.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Doctors"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:t=>this.handleChangeOption("doctors",t)},r.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Appointment Categories"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Category",onChange:t=>this.handleChangeOption("categories",t)},o.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(N.a,{onChange:t=>this.onChangeCheckbox(t)}," Exclude Cancelled"))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options")))))}}function Lt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Tt extends s.a.Component{constructor(t){super(t),Lt(this,"loadTreatmentEachDoctor",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),is_complete:!!this.props.is_complete};this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(x.c)(Object(x.g)(b.Cb,[t.props.active_practiceId]),(function(e){t.setState({treatmentEachDoctor:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Lt(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),Lt(this,"sendMail",t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(Object(x.g)(b.Cb,[this.props.active_practiceId]),e)}),this.state={treatmentEachDoctor:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadTreatmentEachDoctor=this.loadTreatmentEachDoctor.bind(this)}componentDidMount(){this.loadTreatmentEachDoctor()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentEachDoctor()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor"},{title:"Total Treatments",key:"count",dataIndex:"count"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.treatmentEachDoctor.reduce((function(t,e){return t+e.count}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Treatments For Each Patient Doctor",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.treatmentEachDoctor.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.doctor,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:[...this.state.treatmentEachDoctor].reverse(),cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.treatmentEachDoctor.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.treatmentEachDoctor}))}}class Nt extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(Object(x.g)(b.Cb,[this.props.active_practiceId]),e)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyTreatments=this.loadDailyTreatments.bind(this)}componentDidMount(){this.loadDailyTreatments()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyTreatments()}))}loadDailyTreatments(){const t=this;t.setState({loading:!0});const e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),is_complete:!!this.props.is_complete};this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(x.c)(Object(x.g)(b.Cb,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"abcd",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("ll")),export:(t,e)=>c()(e.date).format("ll")},{title:"Total Treatments",key:"count",dataIndex:"count"}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Daily Treatments Count",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.h,{width:1e3,height:300,data:[...this.state.report].reverse(),margin:{top:5,right:30,left:20,bottom:55}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Total Treatments",angle:-90,position:"insideLeft"}}),s.a.createElement(w.b,{strokeDasharray:"3 3"}),s.a.createElement(w.m,null),s.a.createElement(w.g,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:4})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total Patients",value:this.state.total})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report}))}}function Ft(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ut extends s.a.Component{constructor(t){super(t),Ft(this,"loadTreatmentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),is_complete:!!this.props.is_complete};this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(x.c)(Object(x.g)(b.Cb,[t.props.active_practiceId]),(function(e){t.setState({treatmentPerformed:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Ft(this,"sendMail",t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(Object(x.g)(b.Cb,[this.props.active_practiceId]),e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,treatmentPerformed:[],mailingUsersList:this.props.mailingUsersList},this.loadTreatmentsReport=this.loadTreatmentsReport.bind(this)}componentDidMount(){this.loadTreatmentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentsReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Performed On",key:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.schedule_at).format("DD MMM YYYY")),export:(t,e)=>c()(e.schedule_at).format("DD MMM YYYY")},{title:"Name",dataIndex:"procedure_name",key:"procedure_name"},{title:"Performed by",key:"doctor",dataIndex:"doctor"},{title:"Total Treatments",key:"quantity",dataIndex:"quantity"}],a=this.state.treatmentPerformed.reduce((function(t,e){return t+e.quantity}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"All Treatments Performed",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Treatments",value:a}),s.a.createElement("br",null))),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.treatmentPerformed}))}}function Bt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Wt extends s.a.Component{constructor(t){super(t),Bt(this,"loadTreatmentMonthly",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),is_complete:!!this.props.is_complete};this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(x.c)(Object(x.g)(b.Cb,[t.props.active_practiceId]),(function(e){t.setState({treatmentMonthly:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Bt(this,"sendMail",t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(Object(x.g)(b.Cb,[this.props.active_practiceId]),e)}),this.state={treatmentMonthly:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadTreatmentMonthly=this.loadTreatmentMonthly.bind(this)}componentDidMount(){this.loadTreatmentMonthly()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentMonthly()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"date",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Month",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("MMMM YYYY")),export:(t,e)=>{c()(e.date).format("ll")}},{title:"Total Treatments",key:"count",dataIndex:"count"}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Monthly Treatments Count",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.treatmentMonthly.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:[...this.state.treatmentMonthly].reverse(),margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("MMM YY")}),s.a.createElement(w.o,null),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:this.state.total})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.treatmentMonthly}))}}function Gt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class zt extends s.a.Component{constructor(t){super(t),Gt(this,"loadTreatmentWithCategory",()=>{const t=this;this.setState({loading:!0});const e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),is_complete:!!this.props.is_complete};this.props.doctors&&(e.doctors=this.props.doctors.toString()),Object(x.c)(Object(x.g)(b.Cb,[t.props.active_practiceId]),(function(e){t.setState({treatmentCategory:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Gt(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),Gt(this,"sendMail",t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(Object(x.g)(b.Cb,[this.props.active_practiceId]),e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,treatmentCategory:[],activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadTreatmentWithCategory=this.loadTreatmentWithCategory.bind(this)}componentDidMount(){this.loadTreatmentWithCategory()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.doctors==t.doctors&&this.props.is_complete==t.is_complete||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTreatmentWithCategory()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Treatment Category",key:"procedure_name",dataIndex:"procedure_name"},{title:"Total Treatments",key:"count",dataIndex:"count"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"];return s.a.createElement("div",null,s.a.createElement("h2",null,"Treatments By Category",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.treatmentCategory.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.procedure_name,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:[...this.state.treatmentCategory].reverse(),cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.treatmentCategory.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.treatmentCategory}))}}function Kt(){return(Kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function Ht(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Vt extends s.a.Component{constructor(t){super(t),Ht(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),Ht(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),Ht(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),Ht(this,"onChangeCheckbox",t=>{this.setState({is_complete:!this.state.is_complete})}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,practiceDoctors:[]},Object(O.e)(this)}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"EMR Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.k?s.a.createElement(Ut,Kt({},this.state,this.props)):null,this.state.type==v.L?s.a.createElement(Nt,Kt({},this.state,this.props)):null,this.state.type==v.zc?s.a.createElement(Tt,Kt({},this.state,this.props)):null,this.state.type==v.ub?s.a.createElement(Wt,Kt({},this.state,this.props)):null,this.state.type==v.Ac?s.a.createElement(zt,Kt({},this.state,this.props)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.k,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Treatments"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.k},"All Treatments Performed"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.R.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options "),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Doctors"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:t=>this.handleChangeOption("doctors",t)},this.state.practiceDoctors.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(N.a,{onChange:t=>this.onChangeCheckbox(t)}," Only Completed"))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options ")))))}}function qt(t,e,a,n,s,r,o){try{var i=t[r](o),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(n,s)}function Jt(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function o(t){qt(r,n,s,o,i,"next",t)}function i(t){qt(r,n,s,o,i,"throw",t)}o(void 0)}))}}function Xt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Qt extends s.a.Component{constructor(t){var e;super(t),e=this,Xt(this,"componentDidMount",Jt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ExpenseReport();case 2:case"end":return t.stop()}}),t)})))),Xt(this,"ExpenseReport",Jt(regeneratorRuntime.mark((function t(){var a,n,s,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e,e.setState({loading:!0}),n=function(t){a.setState({report:t,loading:!1})},s=function(){a.setState({loading:!1})},r={start:e.state.startDate.format("YYYY-MM-DD"),end:e.state.endDate.format("YYYY-MM-DD"),practice:a.props.active_practiceId},e.props.payment_mode&&(r.payment_mode=e.props.payment_mode.toString()),e.props.expense_type&&(r.expense_type=e.props.expense_type.toString()),Object(x.c)(b.Hb,n,s,r);case 8:case"end":return t.stop()}}),t)})))),Xt(this,"sendMail",t=>{const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),e.mail_to=t,Object(O.j)(b.Hb,e,!0,!0)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.ExpenseReport=this.ExpenseReport.bind(this)}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.ExpenseReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Date",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.expense_date).format("DD MMM YYYY")),export:(t,e)=>c()(e.expense_date).format("ll")},{title:"\tExpense Type",dataIndex:"expense_type.name",key:"name",export:(t,e)=>e.expense_type.name},{title:"Expense Amount (INR)",dataIndex:"amount",key:"amount"},{title:"Mode Of Payment",dataIndex:"payment_mode.mode",key:"payment_mode",export:(t,e)=>e.payment_mode.mode},{title:"Vendor",dataIndex:"vendor.name",key:"vendor.name",export:(t,e)=>e.vendor.name},{title:"Notes",dataIndex:"remark",key:"remark"}],a=this.state.report.reduce((function(t,e){return t+e.amount}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Expenses Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Expense (INR)",value:a}),s.a.createElement("br",null))),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report}))}}class Zt extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),e.mail_to=t,Object(O.j)(b.Ib,e)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyExpense=this.loadDailyExpense.bind(this)}componentDidMount(){this.loadDailyExpense()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyExpense()}))}loadDailyExpense(){const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(x.c)(b.Ib,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("DD MMM")),export:(t,e)=>c()(e.date).format("DD MMM")},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],a=this.state.report.reduce((function(t,e){return t+e.total}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Daily Expense",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:[...this.state.report].reverse(),margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Total Expenses(INR)",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"total",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:a})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report}))}}class $t extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),e.mail_to=t,Object(O.j)(b.Ib,e)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadMonthlyExpense=this.loadMonthlyExpense.bind(this)}componentDidMount(){this.loadMonthlyExpense()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyExpense()}))}loadMonthlyExpense(){const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(x.c)(b.Ib,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Month",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("MMMM YYYY")),export:(t,e)=>c()(e.date).format("MMM YYYY")},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],a=this.state.report.reduce((function(t,e){return t+e.total}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Monthly Expense",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:[...this.state.report].reverse(),margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("MMM YY"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Total Expenses(INR)",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"total",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:a})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report}))}}class te extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e={type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),e.mail_to=t,Object(O.j)(b.Ib,e)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadExpenseEachType=this.loadExpenseEachType.bind(this)}componentDidMount(){this.loadExpenseEachType()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadExpenseEachType()}))}loadExpenseEachType(){const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.expense_type&&(e.expense_type=this.props.expense_type.toString()),Object(x.c)(b.Ib,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Expense Name",key:"expense",dataIndex:"expense"},{title:"Total Expenses (INR)",key:"total",dataIndex:"total"}],a=["#89b9d8","#8fc6eb","#81dac9","#f39e94","#bb98c9","#73c1c1"],n=this.state.report.reduce((function(t,e){return t+e.total}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Expenses Type",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0&&n?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{label:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.expense,",").concat(d.total)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report}))}}function ee(){return(ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function ae(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ne extends s.a.Component{constructor(t){super(t),ae(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),ae(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),ae(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),this.state={advancedOptionShow:!0,expenseTypeOption:[],paymentModeOption:[],sidePanelColSpan:4,type:"ALL"},this.loadExpenseType=this.loadExpenseType.bind(this),this.loadPaymentMode=this.loadPaymentMode.bind(this)}componentDidMount(){this.loadExpenseType(),this.loadPaymentMode()}loadExpenseType(){const t=this;Object(x.c)(Object(x.g)(b.Jb,[this.props.active_practiceId]),(function(e){t.setState({expenseTypeOption:e})}),(function(){}))}loadPaymentMode(){const t=this;Object(x.c)(Object(x.g)(b.zd,[this.props.active_practiceId]),(function(e){t.setState({paymentModeOption:e})}),(function(){}))}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Expenses Report"," ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.f?s.a.createElement(Qt,ee({},this.props,this.state)):null,this.state.type==v.H?s.a.createElement(Zt,ee({},this.props,this.state)):null,this.state.type==v.qb?s.a.createElement($t,ee({},this.props,this.state)):null,this.state.type==v.U?s.a.createElement(te,ee({},this.props,this.state)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.f,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Expenses"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.f},"All Expenses"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.X.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options"," "),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Expense Type"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Expense Type",onChange:t=>this.handleChangeOption("expense_type",t)},this.state.expenseTypeOption.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Payment Modes"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Payment Modes",onChange:t=>this.handleChangeOption("payment_mode",t)},this.state.paymentModeOption.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.mode))))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options"," ")))))}}var se=a(1572);function re(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function oe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?re(Object(a),!0).forEach((function(e){ie(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ie(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class le extends s.a.Component{constructor(t){super(t),ie(this,"loadInvoices",()=>{const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(b.Vb,(function(e){t.setState({invoiceReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),ie(this,"sendMail",t=>{const e=this,a={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(a.income_type=e.props.income_type),e.props.discount&&(a.discount=e.props.discount),this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.products&&(a.products=this.props.products.toString()),this.props.doctors&&(a.doctors=this.props.doctors.toString()),this.props.taxes&&(a.taxes=this.props.taxes.toString()),this.props.treatments&&(a.treatments=this.props.treatments.toString()),a.mail_to=t,Object(O.j)(b.Vb,a)}),this.state={inventoryReports:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,invoiceReports:[],mailingUsersList:this.props.mailingUsersList},this.loadInvoices=this.loadInvoices.bind(this)}componentDidMount(){this.loadInvoices()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadInvoices()}))}render(){const t=this.state.invoiceReports,e=[];let a=0,n=0,r=0,o=0,i=0,l=0;for(let e=0;e<t.length;e++)n+=t[e].clinic_cost,r+=t[e].taxes,a+=t[e].total,o+=t[e].total-t[e].clinic_cost-t[e].courier_charge,i+=t[e].total-t[e].clinic_cost-t[e].taxes-t[e].courier_charge,l+=t[e].courier_charge;e.push({sale_amount:a,tax_amount:r,cost_amount:n,profit_before_tax:o,profit_after_tax:i,delivery_charge:l});let p=[];const m=[];t.map(t=>{if(p=[],t.reservation){let e=t.reservation_data.medicines.map(t=>oe(oe({},t.medicine),{},{unit:t.quantity,total:t.total_price,unit_cost:t.unit_cost,discount:0}));const a={NORMAL:{total:"final_normal_price",tax:"normal_tax_value",unit_cost:"normal_price"},TATKAL:{total:"final_tatkal_price",tax:"tatkal_tax_value",unit_cost:"tatkal_price"}};p=[...p,oe(oe({},t.reservation_data.bed_package),{},{unit:1,total:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].total]:null,tax_value:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].tax]:null,unit_cost:t.reservation_data.bed_package?t.reservation_data.bed_package[a[t.reservation_data.seat_type].unit_cost]:null}),...e]}m.push(oe(oe({},t),{},{treatment:[...p,...t.procedure,...t.inventory]}))});let u=1;const h=[{title:"Total Sales (INR)",key:"sale_amount",dataIndex:"sale_amount",render:(t,e)=>s.a.createElement("span",null,e.sale_amount.toFixed(2)),export:(t,e)=>e.sale_amount.toFixed(2)},{title:"Total Cost (INR)",key:"cost_amount",dataIndex:"cost_amount",render:(t,e)=>s.a.createElement("span",null,e.cost_amount.toFixed(2)),export:(t,e)=>e.cost_amount.toFixed(2)},{title:"Delivery Charges(INR)",key:"delivery_charge",dataIndex:"delivery_charge",render:(t,e)=>s.a.createElement("span",null,e.delivery_charge.toFixed(2)),export:(t,e)=>e.delivery_charge.toFixed(2)},{title:"Total Profit before Tax(INR)",key:"tax_with_out",dataIndex:"profit_before_tax",render:(t,e)=>s.a.createElement("span",null,e.profit_before_tax.toFixed(2)),export:(t,e)=>e.profit_before_tax.toFixed(2)},{title:"Total Tax(INR)",key:"tax_amount",dataIndex:"tax_amount",render:(t,e)=>s.a.createElement("span",null,e.tax_amount.toFixed(2)),export:(t,e)=>e.tax_amount.toFixed(2)},{title:"Total Profit after Tax(INR)",key:"tax_with",dataIndex:"profit_after_tax",render:(t,e)=>s.a.createElement("span",null,e.profit_after_tax.toFixed(2)),export:(t,e)=>e.profit_after_tax.toFixed(2)}],g=[{title:"S. No",key:"sno",render:(t,e)=>s.a.createElement("span",null," ",u++),width:50},{title:"Date",key:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.created_at).format("ll")),export:(t,e)=>c()(e.created_at).format("ll")},{title:"Invoice Number",key:"invoice_id",dataIndex:"invoice_id"},{title:"Patient",key:"patient",dataIndex:"patient",render:(t,e)=>s.a.createElement("span",null,e.patient?e.patient.user.first_name:e.patient),export:(t,e)=>e.patient?e.patient.user.first_name:e.patient},{title:"Treatments & Products",key:"treatments",render:(t,e)=>s.a.createElement("span",null,e.treatment.map(t=>s.a.createElement(se.a,null,t.name))),export:(t,e)=>e.treatment.map(t=>"".concat(t.name,","))},{title:"Total Amount",key:"total",dataIndex:"total",align:"right",render:(t,e)=>s.a.createElement("span",null,e.total.toFixed(2)),export:(t,e)=>e.total.toFixed(2)}];return"PRODUCTS"==this.props.income_type&&g.push({title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2)),export:(t,e)=>e.cost.toFixed(2)},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:(t,e)=>s.a.createElement("span",null,e.discount.toFixed(2)),export:(t,e)=>e.discount.toFixed(2)},{title:"tax(INR)",key:"tax",dataIndex:"taxes",render:(t,e)=>s.a.createElement("span",null,e.taxes.toFixed(2)),export:(t,e)=>e.taxes.toFixed(2)},{title:"Invoice Amount(INR)",key:"amount",dataIndex:"total",render:(t,e)=>s.a.createElement("span",null,e.total.toFixed(2)),export:(t,e)=>e.total.toFixed(2)},{title:"Amount Paid(INR)",key:"tax",dataIndex:"tax"}),s.a.createElement("div",null,s.a.createElement("h2",null,"All Invoices",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{loading:this.state.loading,columns:h,pagination:!1,dataSource:e}),s.a.createElement(F.a,{loading:this.state.loading,columns:g,pagination:!1,dataSource:m,hideReport:!0}))}}class ce extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e=this,a={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(a.income_type=e.props.income_type),e.props.discount&&(a.discount=e.props.discount),this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.products&&(a.products=this.props.products.toString()),this.props.doctors&&(a.doctors=this.props.doctors.toString()),this.props.taxes&&(a.taxes=this.props.taxes.toString()),this.props.treatments&&(a.treatments=this.props.treatments.toString()),a.mail_to=t,Object(O.j)(b.Vb,a)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyIncome=this.loadDailyIncome.bind(this)}componentDidMount(){this.loadDailyIncome()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyIncome()}))}loadDailyIncome(){const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(b.Vb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("ll")),export:(t,e)=>c()(e.date).format("ll")},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:(t,e)=>s.a.createElement("span",null,e.discount.toFixed(2))},{title:"Income after Discount(INR)",key:"income_after_discount",render:(t,e)=>s.a.createElement("span",null,(e.cost-e.discount).toFixed(2))},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax.toFixed(2))},{title:"Income Amount(INR)",key:"income_amount",render:(t,e)=>s.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Daily Invoiced Income",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:this.state.report,margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("ll")}),s.a.createElement(w.o,{label:{value:"Income(INR)",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o.toFixed(2))})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,hideReport:!0,dataSource:this.state.report}))}}class pe extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e=this,a={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(a.income_type=e.props.income_type),e.props.discount&&(a.discount=e.props.discount),this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.products&&(a.products=this.props.products.toString()),this.props.doctors&&(a.doctors=this.props.doctors.toString()),this.props.taxes&&(a.taxes=this.props.taxes.toString()),this.props.treatments&&(a.treatments=this.props.treatments.toString()),a.mail_to=t,Object(O.j)(b.Vb,a)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyIncome=this.loadDailyIncome.bind(this)}componentDidMount(){this.loadDailyIncome()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyIncome()}))}loadDailyIncome(){const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(b.Vb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("MM YYYY")),export:(t,e)=>c()(e.date).format("MM YYYY")},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:(t,e)=>s.a.createElement("span",null,e.discount.toFixed(2))},{title:"Income after Discount(INR)",key:"income_after_discount",render:(t,e)=>s.a.createElement("span",null,(e.cost-e.discount).toFixed(2))},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax.toFixed(2))},{title:"Income Amount(INR)",key:"income_amount",render:(t,e)=>s.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Monthly Invoiced Income",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:this.state.report,margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("MM YYYY")}),s.a.createElement(w.o,{label:{value:"Income(INR)",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o.toFixed(2))})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report,hideReport:!0}))}}class de extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e=this,a={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(a.income_type=e.props.income_type),e.props.discount&&(a.discount=e.props.discount),this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.products&&(a.products=this.props.products.toString()),this.props.doctors&&(a.doctors=this.props.doctors.toString()),this.props.taxes&&(a.taxes=this.props.taxes.toString()),this.props.treatments&&(a.treatments=this.props.treatments.toString()),a.mail_to=t,Object(O.j)(b.Vb,a)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadTaxedIncome=this.loadTaxedIncome.bind(this)}componentDidMount(){this.loadTaxedIncome()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTaxedIncome()}))}loadTaxedIncome(){const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(b.Vb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Tax Name",key:"name",dataIndex:"name",render:(t,e)=>s.a.createElement("span",null,e.name," @ ",e.tax_value,"%")},{title:"Tax (INR)",key:"tax",dataIndex:"total",render:(t,e)=>s.a.createElement("span",null,e.total.toFixed(2))}],a=["#FFBB28","#FF8042","#1DA57A"],n=this.state.report.reduce((function(t,e){return t+e.total}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Taxed Invoiced Income",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0&&n?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{label:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,"@").concat(d.tax_value,"% ,").concat(d.total.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report,hideReport:!0}))}}function me(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ue extends s.a.Component{constructor(t){super(t),me(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),me(this,"sendMail",t=>{const e=this,a={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(a.income_type=e.props.income_type),e.props.discount&&(a.discount=e.props.discount),this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.products&&(a.products=this.props.products.toString()),this.props.doctors&&(a.doctors=this.props.doctors.toString()),this.props.taxes&&(a.taxes=this.props.taxes.toString()),this.props.treatments&&(a.treatments=this.props.treatments.toString()),a.mail_to=t,Object(O.j)(b.Vb,a)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,practiceDoctors:[],mailingUsersList:this.props.mailingUsersList},this.loadEachDoctorIncome=this.loadEachDoctorIncome.bind(this),Object(O.e)(this)}componentDidMount(){this.loadEachDoctorIncome()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachDoctorIncome()}))}loadEachDoctorIncome(){const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(b.Vb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Doctor",key:"doctor",dataIndex:"doctor",render:(t,e)=>s.a.createElement("span",null,"NA"==e.doctor?s.a.createElement("span",null,"No Doctor assigned"):s.a.createElement(s.a.Fragment,null,this.state.practiceDoctors.map(t=>t.id==e.doctor?s.a.createElement("span",null,t.user.first_name):null)))},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:(t,e)=>s.a.createElement("span",null,e.discount_value.toFixed(2))},{title:"Income After Discount",key:"income_after_discount",render:(t,e)=>s.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))},{title:"Tax (INR)",key:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax_value.toFixed(2))},{title:"Invoiced Amount(INR)",key:"amount",render:(t,e)=>s.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(t,e){return t+e.cost}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Income For Each Patient Doctor",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"NA"==d.doctor?"No Doctor assigned":s.a.createElement(s.a.Fragment,null,this.state.practiceDoctors.map(t=>t.id==d.doctor?s.a.createElement(s.a.Fragment,null,t.user.first_name):null))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report,hideReport:!0}))}}function he(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ge extends s.a.Component{constructor(t){super(t),he(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),he(this,"sendMail",t=>{const e=this,a={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(a.income_type=e.props.income_type),e.props.discount&&(a.discount=e.props.discount),this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.products&&(a.products=this.props.products.toString()),this.props.doctors&&(a.doctors=this.props.doctors.toString()),this.props.taxes&&(a.taxes=this.props.taxes.toString()),this.props.treatments&&(a.treatments=this.props.treatments.toString()),a.mail_to=t,Object(O.j)(b.Vb,a)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadEachProcedureIncome=this.loadEachProcedureIncome.bind(this)}componentDidMount(){this.loadEachProcedureIncome()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProcedureIncome()}))}loadEachProcedureIncome(){const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(b.Vb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Treatment Category",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:(t,e)=>s.a.createElement("span",null,e.discount_value.toFixed(2))},{title:"Income After Discount",key:"income_after_discount",render:(t,e)=>s.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))},{title:"Tax (INR)",key:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax_value.toFixed(2))},{title:"Invoiced Amount(INR)",key:"amount",render:(t,e)=>s.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(t,e){return t+e.cost}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Income For Each Procedure",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,",").concat(d.cost.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report,hideReport:!0}))}}function ye(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ee extends s.a.Component{constructor(t){super(t),ye(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),ye(this,"sendMail",t=>{const e=this,a={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(a.income_type=e.props.income_type),e.props.discount&&(a.discount=e.props.discount),this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.products&&(a.products=this.props.products.toString()),this.props.doctors&&(a.doctors=this.props.doctors.toString()),this.props.taxes&&(a.taxes=this.props.taxes.toString()),this.props.treatments&&(a.treatments=this.props.treatments.toString()),a.mail_to=t,Object(O.j)(b.Vb,a)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadPatientGroupsIncome=this.loadPatientGroupsIncome.bind(this)}componentDidMount(){this.loadPatientGroupsIncome()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPatientGroupsIncome()}))}loadPatientGroupsIncome(){const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(b.Vb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Patient Group",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:(t,e)=>s.a.createElement("span",null,e.discount.toFixed(2))},{title:"Income After Discount",key:"income_after_discount",render:(t,e)=>s.a.createElement("span",null,(e.cost-e.discount).toFixed(2))},{title:"Tax (INR)",key:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax.toFixed(2))},{title:"Invoiced Amount(INR)",key:"amount",render:(t,e)=>s.a.createElement("span",null,(e.cost-(e.discount+e.tax)).toFixed(2))}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(t,e){return t+e.cost}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Income For Each Patient Group",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,",").concat(d.cost.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report,hideReport:!0}))}}function fe(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class De extends s.a.Component{constructor(t){super(t),fe(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),fe(this,"sendMail",t=>{const e=this,a={practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:e.props.type,is_cancelled:!!this.props.is_cancelled};e.props.income_type&&(a.income_type=e.props.income_type),e.props.discount&&(a.discount=e.props.discount),this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.products&&(a.products=this.props.products.toString()),this.props.doctors&&(a.doctors=this.props.doctors.toString()),this.props.taxes&&(a.taxes=this.props.taxes.toString()),this.props.treatments&&(a.treatments=this.props.treatments.toString()),a.mail_to=t,Object(O.j)(b.Vb,a)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadEachProductIncome=this.loadEachProductIncome.bind(this)}componentDidMount(){this.loadEachProductIncome()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.income_type==t.income_type&&this.props.is_cancelled==t.is_cancelled&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.doctors==t.doctors&&this.props.taxes==t.taxes&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProductIncome()}))}loadEachProductIncome(){const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,is_cancelled:!!this.props.is_cancelled};t.props.income_type&&(e.income_type=t.props.income_type),t.props.discount&&(e.discount=t.props.discount),this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(b.Vb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Item Destock",key:"name",dataIndex:"name"},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Discount(INR)",key:"discount",dataIndex:"discount_value",render:(t,e)=>s.a.createElement("span",null,e.discount_value.toFixed(2))},{title:"Income After Discount",key:"income_after_discount",render:(t,e)=>s.a.createElement("span",null,(e.cost-e.discount_value).toFixed(2))},{title:"Tax (INR)",key:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax_value.toFixed(2))},{title:"Invoiced Amount(INR)",key:"amount",render:(t,e)=>s.a.createElement("span",null,(e.cost-(e.discount_value+e.tax_value)).toFixed(2))}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(t,e){return t+e.cost}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Income For Each Product",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,",").concat(d.cost.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report,hideReport:!0}))}}function be(){return(be=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function _e(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class xe extends s.a.Component{constructor(t){super(t),_e(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),_e(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),_e(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),_e(this,"onChangeCheckbox",t=>{this.setState({is_cancelled:!this.state.is_cancelled})}),this.state={advancedOptionShow:!0,sidePanelColSpan:4,type:"ALL",practiceDoctors:[],patientGroup:[],vendorOption:[],taxes_list:[],productItems:[],treatment_data:[]},Object(O.e)(this),this.loadPatientGroup=this.loadPatientGroup.bind(this),this.loadTaxes=this.loadTaxes.bind(this),this.loadProductItem=this.loadProductItem.bind(this),this.loadTreatments=this.loadTreatments.bind(this)}componentDidMount(){this.loadPatientGroup(),this.loadTaxes(),this.loadProductItem(),this.loadTreatments()}loadProductItem(){const t=this;Object(x.c)(b.Ld,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}loadPatientGroup(){const t=this;Object(x.c)(Object(x.g)(b.md,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}loadTaxes(){const t=this;Object(x.c)(Object(x.g)(b.df,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}loadTreatments(){const t=this;Object(x.c)(Object(x.g)(b.Kd,[this.props.active_practiceId]),(function(e){t.setState({treatment_data:e})}),(function(){}),{pagination:!1})}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Income Report"," ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.j?s.a.createElement(le,be({},this.props,this.state)):null,this.state.type==v.I?s.a.createElement(ce,be({},this.props,this.state)):null,this.state.type==v.rb?s.a.createElement(pe,be({},this.props,this.state)):null,this.state.type==v.uc?s.a.createElement(de,be({},this.props,this.state)):null,this.state.type==v.R?s.a.createElement(ue,be({},this.props,this.state)):null,this.state.type==v.Qb?s.a.createElement(ge,be({},this.props,this.state)):null,this.state.type==v.Ib?s.a.createElement(Ee,be({},this.props,this.state)):null,this.state.type==v.Rb?s.a.createElement(De,be({},this.props,this.state)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.h,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Income"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.h},"All Invoice"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.kb.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options"),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Show income from"),s.a.createElement(D.a.Group,{style:{width:"100%",display:"inline-grid"},onChange:t=>this.handleChangeOption("income_type",t.target.value)},_.Rb.map(t=>s.a.createElement(D.a,{value:t.value}," ",t.label))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Doctors"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:t=>this.handleChangeOption("doctors",t)},this.state.practiceDoctors.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Patient Groups"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:t=>this.handleChangeOption("patient_groups",t)},this.state.patientGroup.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Discount"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:t=>this.handleChangeOption("discount",t)},_.I.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.label))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Product"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Products",onChange:t=>this.handleChangeOption("products",t),showSearch:!0,optionFilterProp:"label"},this.state.productItems.map(t=>s.a.createElement(d.a.Option,{value:t.id,label:t.name},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Treatments"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:t=>this.handleChangeOption("treatments",t)},this.state.treatment_data.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Taxes"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:t=>this.handleChangeOption("taxes",t)},this.state.taxes_list.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(N.a,{onChange:t=>this.onChangeCheckbox(t)}," ","Exclude Cancelled"))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options")))))}}var ve=a(1593),Se=a(1568);class Me extends s.a.Component{constructor(t){super(t),this.state={inventoryList:[],loading:!1},this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData()}loadData(){const t=this;t.setState({loading:!0});const e=function(e){t.setState({inventoryList:e,loading:!1})},a=function(){t.setState({loading:!1})};(this.props.id||this.props.supplier)&&Object(x.c)(b.C,e,a,{id:this.props.id})}render(){const t=[{title:"name",key:"name",dataIndex:"inventory_item_data.name"},{title:"Batch",key:"batch_number",dataIndex:"batch_number"},{title:"Expiry Date",key:"expiry_date",dataIndex:"expiry_date"},{title:"Item Type",key:"item_type",dataIndex:"inventory_item_data.item_type"},{title:"ADD/CONSUME",key:"item_add_type",dataIndex:"item_add_type"},{title:"Type of Consumption",key:"type_of_consumption",dataIndex:"type_of_consumption"},{title:"Bill File",key:"bill_file",dataIndex:"bill_file",render:t=>t?s.a.createElement("a",{target:"_blank",href:Object(x.h)(t)},"Bill"):null},{title:"Quantity",key:"quantity",dataIndex:"quantity"},{title:"Unit Cost",key:"unit_cost",dataIndex:"unit_cost"},{title:"Total Cost",key:"total_cost",dataIndex:"total_cost"}];return s.a.createElement("div",null,s.a.createElement(M.a,{loading:this.state.loading,bordered:!0,rowKey:t=>t.id,pagination:!1,columns:t,dataSource:this.state.inventoryList}))}}var Oe=a(442);function Pe(){return(Pe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function Ye(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ie extends s.a.Component{constructor(t){super(t),Ye(this,"sendMail",t=>{const e=this,a={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};e.state.bill_number&&(a.bill_number=e.state.bill_number),e.state.supplier&&(a.supplier=e.state.supplier.toString()),e.state.invoice&&(a.invoice=1),e.state.inventory&&(a.inventory=1),a.mail_to=t,Object(O.j)(b.C,a)}),Ye(this,"handleSubmit",t=>{const e=this;t.preventDefault(),this.props.form.validateFieldsAndScroll((t,a)=>{console.log(a),t||e.setState({bill_number:a.bill_number,supplier:a.supplier,inventory:a.inventory,invoice:a.invoice},(function(){e.loadBillSupplier()}))})}),Ye(this,"onChangeCheckbox",(t,e)=>{this.setState({[t]:!e})}),this.state={loading:!1,billSuplier:[],startDate:this.props.startDate,endDate:this.props.endDate,nextItemPage:null,supplierList:[],inventory:!0,invoice:!0,mailingUsersList:this.props.mailingUsersList},this.loadBillSupplier=this.loadBillSupplier.bind(this),this.loadSupplierList=this.loadSupplierList.bind(this)}componentDidMount(){this.loadBillSupplier(),this.loadSupplierList()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBillSupplier()}))}loadBillSupplier(t=1){const e=this;e.setState({loading:!0});const a={page:t,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:e.props.active_practiceId};e.state.bill_number&&(a.bill_number=e.state.bill_number),e.state.supplier&&(a.supplier=e.state.supplier.toString()),e.state.invoice&&(a.invoice=1),e.state.inventory&&(a.inventory=1),Object(x.c)(b.C,(function(t){e.setState((function(e){return 1==t.current?{loading:!1,billSuplier:t.results,nextItemPage:t.next}:{loading:!1,billSuplier:[...e.billSuplier,...t.results],nextItemPage:t.next}}))}),(function(){e.setState({loading:!1})}),a)}expandIcon(t){return s.a.createElement(g.a,{onClick:e=>t.onExpand(t.record,e)},"view detail")}loadSupplierList(){const t=this,e={practice:this.props.active_practiceId};Object(x.c)(Object(x.g)(b.Pe,[this.props.active_practiceId]),(function(e){t.setState({supplierList:e})}),(function(){}),e)}handleChange(t,e){this.props.form.setFieldsValue({[t]:e})}render(){const t=this,e=this.props.form.getFieldDecorator,a=[{title:"Date",key:"date",dataIndex:"date",render:t=>s.a.createElement("span",null,t||"")},{title:"Bill Number",key:"bill_number",dataIndex:"bill_number"},{title:"Supplier ",key:"name",dataIndex:"supplier_data.name"},{title:"Note",key:"remarks",dataIndex:"remarks"}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Inventory Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(y.a,{bodyStyle:{padding:0},extra:s.a.createElement("div",null,s.a.createElement(ve.a,{layout:"inline",onSubmit:this.handleSubmit},s.a.createElement(ve.a.Item,{label:"Invoice"},e("invoice",{valuePropName:"checked",initialValue:this.state.invoice})(s.a.createElement(N.a,{onChange:t=>this.onChangeCheckbox("invoice",t)}))),s.a.createElement(ve.a.Item,{label:"Inventory"},e("inventory",{valuePropName:"checked",initialValue:this.state.inventory})(s.a.createElement(N.a,{onChange:t=>this.onChangeCheckbox("inventory",t)}))),s.a.createElement(ve.a.Item,{label:"Bill Number"},e("bill_number",{})(s.a.createElement(Se.a,{placeholder:"Bill Numbers"}))),s.a.createElement(ve.a.Item,{key:"supplier",label:"Supplier"},e("supplier",{initialValue:this.state.supplierList?this.state.supplierList.name:null},{rules:[{required:!0,message:"This field required!"}],onChange:this.handleChange})(s.a.createElement(d.a,{placeholder:"Supplier",style:{minWidth:150},mode:"multiple"},this.state.supplierList.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))))),s.a.createElement(ve.a.Item,null,s.a.createElement(g.a,{type:"primary",htmlType:"submit",style:{margin:5}},"Submit"))))},s.a.createElement(M.a,{loading:this.state.loading,bordered:!0,rowKey:t=>t.id,expandedRowRender:e=>s.a.createElement(Me,Pe({},e,t.props)),columns:a,dataSource:this.state.billSuplier,pagination:!1}),s.a.createElement(Oe.a,{loaderFunction:()=>this.loadBillSupplier(this.state.nextItemPage),loading:this.state.loading,hidden:!this.state.nextItemPage})))}}var je=ve.a.create()(Ie);class ke extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),e.mail_to=t,Object(O.j)(b.Yb,e)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyInventory=this.loadDailyInventory.bind(this)}componentDidMount(){this.loadDailyInventory()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInventory()}))}loadDailyInventory(){const t=this;t.setState({loading:!0});const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,practice:t.props.active_practiceId};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(x.c)(b.Yb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=t.state.report,a=[],n={};let r=1;for(r=0;r<e.length;r++)e[r].date in n||(n[e[r].date]={SALES:0,SERVICES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0}),n[e[r].date][e[r].type_of_consumption]=e[r].consume;for(const t in n){const e={item_date:t,type:n[t],total_consumption:0},s=n[t].SALES+n[t].SERVICES+n[t].DAMAGED+n[t].RETURNED+n[t].ADJUSTMENT;e.total_consumption=s,a.push(e)}const i=[{title:"S. No",key:"sno",render:(t,e)=>s.a.createElement("span",null," ",r++),export:(t,e,a)=>a+1,width:50},{title:"Day",key:"date",dataIndex:"item_date",render:(t,e)=>s.a.createElement("span",null,c()(e.item_date).format("DD MMM")),export:(t,e)=>c()(e.item_date).format("DD MMM")}];for(let e=0;e<_.ec.length;e++){const a=_.ec[e].value,n={title:_.ec[e].label,key:_.ec[e].value,render:(t,e)=>s.a.createElement("span",null,e.type[a]),export:(t,e)=>e.type.value};t.props.consume.includes(_.ec[e].value)&&i.push(n)}i.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return s.a.createElement("div",null,s.a.createElement("h2",null,"Daily Inventory",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:[...this.state.report].reverse(),margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM")}),s.a.createElement(w.o,{label:{value:"Quantity Consumed",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(F.a,{loading:this.state.loading,columns:i,dataSource:a}))}}class we extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),e.mail_to=t,Object(O.j)(b.Yb,e)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadMonthlyInventory=this.loadMonthlyInventory.bind(this)}componentDidMount(){this.loadMonthlyInventory()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyInventory()}))}loadMonthlyInventory(){const t=this;t.setState({loading:!0});const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,practice:t.props.active_practiceId};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(x.c)(b.Yb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=t.state.report,a=[],n={};let r=0;for(r=0;r<e.length;r++)e[r].date in n||(n[e[r].date]={SERVICES:0,SALES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0}),n[e[r].date][e[r].type_of_consumption]=e[r].consume;for(const t in n){const e={item_date:t,type:n[t],total_consumption:0},s=n[t].SERVICES+n[t].SALES+n[t].DAMAGED+n[t].RETURNED+n[t].ADJUSTMENT;e.total_consumption=s,a.push(e)}let i=1;const l=[{title:"S. No",key:"sno",render:(t,e)=>s.a.createElement("span",null," ",i++),export:(t,e,a)=>a+1,width:50},{title:"Month",key:"date",dataIndex:"item_date",render:(t,e)=>s.a.createElement("span",null,c()(e.item_date).format("MMM YYYY")),export:(t,e)=>c()(e.item_date).format("MMM YYYY")}];for(let e=0;e<_.ec.length;e++){const a=_.ec[e].value,n={title:_.ec[e].label,key:_.ec[e].value,render:(t,e)=>s.a.createElement("span",null,e.type[a]),export:(t,e)=>e.type.value};t.props.consume.includes(_.ec[e].value)&&l.push(n)}l.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return s.a.createElement("div",null,s.a.createElement("h2",null,"Monthly Inventory",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:[...this.state.report].reverse(),margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("MMM YY")}),s.a.createElement(w.o,{label:{value:"Quantity Consumed",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(F.a,{loading:this.state.loading,columns:l,dataSource:a}))}}class Re extends s.a.Component{constructor(t){var e,a,n;super(t),n=t=>{const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),e.mail_to=t,Object(O.j)(b.Yb,e)},(a="sendMail")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={reportItem_wise:[],reportTotal:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyInventory=this.loadDailyInventory.bind(this)}componentDidMount(){this.loadDailyInventory()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.product_item==t.product_item&&this.props.consume==t.consume||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInventory()}))}loadDailyInventory(){const t=this;t.setState({loading:!0});const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:t.props.type,practice:t.props.active_practiceId};this.props.consume&&(e.consume=this.props.consume.toString()),this.props.product_item&&(e.product=this.props.product_item),Object(x.c)(b.Yb,(function(e){t.setState({report:e,reportItem_wise:e.item_wise,reportTotal:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=t.state.reportItem_wise,a=[],n={};for(let t=0;t<e.length;t++)e[t].inventory_item__name in n||(n[e[t].inventory_item__name]={SALES:0,SERVICES:0,DAMAGED:0,RETURNED:0,ADJUSTMENT:0}),n[e[t].inventory_item__name][e[t].type_of_consumption]=e[t].consume;for(const t in n){const e={item_name:t,type:n[t],total_consumption:0},s=n[t].SALES+n[t].SERVICES+n[t].DAMAGED+n[t].RETURNED+n[t].ADJUSTMENT;e.total_consumption=s,a.push(e)}let r=1;const i=[{title:"S. No",key:"sno",render:(t,e)=>s.a.createElement("span",null," ",r++),export:(t,e,a)=>a+1,width:50},{title:"Item Name",key:"inventory_item__name",dataIndex:"item_name"}];for(let e=0;e<_.ec.length;e++){const a=_.ec[e].value,n={title:_.ec[e].label,key:_.ec[e].value,render:(t,e)=>s.a.createElement("span",null,e.type[a]),export:(t,e)=>e.type.value};t.props.consume.includes(_.ec[e].value)&&i.push(n)}i.push({title:"Total Consumption",key:"total_consumption",dataIndex:"total_consumption"});return s.a.createElement("div",null,s.a.createElement("h2",null,"Top Inventory",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.reportTotal.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:this.state.reportTotal,margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"inventory_item__name"}),s.a.createElement(w.o,{label:{value:"Top Quantity Consumed",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"consume",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(F.a,{loading:this.state.loading,columns:i,dataSource:a}))}}function Ce(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ae extends s.a.Component{constructor(t){super(t),Ce(this,"sendMail",t=>{const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};e.mail_to=t,Object(O.j)(b.Wc,e)}),Ce(this,"addDataToColumn",(t,e)=>({title:t,key:"practice_".concat(e),dataIndex:"practice_".concat(e),render:t=>s.a.createElement("span",null,t||"Not exist")})),this.state={loading:!0,startDate:this.props.startDate,endDate:this.props.endDate,mailingUsersList:this.props.mailingUsersList,practices:[],items:[]},this.loadPractices=this.loadPractices.bind(this)}componentDidMount(){this.loadPractices()}loadPractices(){const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId};Object(x.c)(b.Wc,(function(e){t.setState({loading:!1,practices:e.practices,items:e.item_detail})}),(function(){t.setState({loading:!1})}),e)}render(){this.props.form.getFieldDecorator;const t=[{title:"Item",key:"name",dataIndex:"name",render:t=>s.a.createElement("span",null,t||"")}];return this.state.practices.map(e=>{t.push(this.addDataToColumn(e.name,e.id))}),s.a.createElement("div",null,s.a.createElement("h2",null,"Mismanaged Inventory",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(y.a,{bodyStyle:{padding:0}},s.a.createElement(M.a,{loading:this.state.loading,bordered:!0,rowKey:t=>t.id,pagination:!1,columns:t,dataSource:this.state.items})))}}var Le=ve.a.create()(Ae);function Te(){return(Te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function Ne(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Fe extends s.a.Component{constructor(t){super(t),Ne(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),Ne(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),Ne(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),this.state={advancedOptionShow:!0,sidePanelColSpan:4,productItems:[],type:"ALL",consume:_.ec.map(t=>t.value)},this.loadProductItem=this.loadProductItem.bind(this)}componentDidMount(){this.loadProductItem()}loadProductItem(){const t=this;Object(x.c)(b.Ld,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Inventory Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.g?s.a.createElement(je,Te({},this.props,this.state)):null,this.state.type==v.J?s.a.createElement(ke,Te({},this.props,this.state)):null,this.state.type==v.sb?s.a.createElement(we,Te({},this.props,this.state)):null,this.state.type==v.xc?s.a.createElement(Re,Te({},this.props,this.state)):null,this.state.type==v.mb?s.a.createElement(Le,Te({},this.props,this.state)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.g,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Inventory"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.g},"All Stock Update History"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.pb.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.type!==v.g?s.a.createElement(s.a.Fragment,null,this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options "),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Product"),s.a.createElement(d.a,{style:{minWidth:"200px"},defaultValue:v.d,onChange:t=>this.handleChangeOption("product_item",t)},s.a.createElement(d.a.Option,{value:""},v.d),this.state.productItems.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(N.a.Group,{style:{width:"100%",display:"inline-grid"},defaultValue:_.ec.map(t=>t.value),onChange:t=>this.handleChangeOption("consume",t)},_.ec.map(t=>s.a.createElement(N.a,{value:t.value}," ",t.label))))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options ")):null))))}}function Ue(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Be(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(a),!0).forEach((function(e){We(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function We(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ge extends s.a.Component{constructor(t){super(t),We(this,"sendMail",t=>{let e=this.props.showAllClinic;const a={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.blood_group&&(a.blood_group=this.props.blood_group),e||(a.practice=this.props.active_practiceId),a.mail_to=t,Object(O.j)(b.ed,a)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyNewPatients=this.loadDailyNewPatients.bind(this)}componentDidMount(){this.loadDailyNewPatients()}componentWillReceiveProps(t){const e=this;this.props.showAllClinic==t.showAllClinic&&this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyNewPatients()}))}loadDailyNewPatients(){const t=this;let e=t.props.showAllClinic;t.setState({loading:!0});const a={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.blood_group&&(a.blood_group=this.props.blood_group),e||(a.practice=this.props.active_practiceId),Object(x.c)(b.ed,(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),a)}render(){const t=this.state.report,e=[];for(let a=1;a<=t.length;a++)e.push(Be({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("ll")),export:(t,e)=>c()(e.date).format("ll")},{title:"Patients",key:"count",dataIndex:"count"}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Daily New Patients Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0?s.a.createElement(w.h,{width:1e3,height:300,data:[...e].reverse(),margin:{top:5,right:30,left:20,bottom:55}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Total Patients",angle:-90,position:"insideLeft"}}),s.a.createElement(w.b,{strokeDasharray:"3 3"}),s.a.createElement(w.m,null),s.a.createElement(w.g,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:4})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total Patients",value:this.state.total})),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:a,dataSource:e}))}}function ze(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ke(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ze(Object(a),!0).forEach((function(e){He(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function He(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ve extends s.a.Component{constructor(t){super(t),He(this,"sendMail",t=>{let e=this.props.showAllClinic;const a={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:"EXPIRED"};e||(a.practice=this.props.active_practiceId),a.mail_to=t,Object(O.j)(b.Gc,a)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadExpireMembership=this.loadExpireMembership.bind(this)}componentDidMount(){this.loadExpireMembership()}componentWillReceiveProps(t){const e=this;this.props.showAllClinic==t.showAllClinic&&this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadExpireMembership()}))}loadExpireMembership(){const t=this;let e=t.props.showAllClinic;t.setState({loading:!0});const a={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:"EXPIRED"};e||(a.practice=this.props.active_practiceId),Object(x.c)(b.Gc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),a)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(Ke({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:(t,e)=>e.patient.user.first_name},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),export:(t,e)=>e.patient.user.mobile},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),export:(t,e)=>e.patient.user.email},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:(t,e)=>e.patient.gender},{title:"Start Date",key:"start_date",dataIndex:"medical_from"},{title:"Valid Till",key:"valid_till",dataIndex:"medical_to"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Expiring Membership",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(F.a,{loading:this.state.loading,columns:n,hideReport:!0,dataSource:a})))}}function qe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Je(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(a),!0).forEach((function(e){Xe(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Xe(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Qe extends s.a.Component{constructor(t){super(t),Xe(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),e.mail_to=t,Object(O.j)(b.ed,e)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadMonthlyPatients=this.loadMonthlyPatients.bind(this)}componentDidMount(){this.loadMonthlyPatients()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.offer==t.offer||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyPatients()}))}loadMonthlyPatients(){const t=this;t.setState({loading:!0});const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),Object(x.c)(b.ed,(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this.state.report,e=[];for(let a=1;a<=t.length;a++)e.push(Je({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Month",key:"month",render:(t,e)=>s.a.createElement("span",null,c()(e.month).format("MMM"),"  ",c()(e.year).format("YYYY")),export:(t,e)=>c()(e.month).format("MMM YYYY")},{title:"Patients",key:"count",dataIndex:"count"}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Monthly New Patients Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:[...e].reverse(),margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("MMM YYYY")}),s.a.createElement(w.o,null),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"count",barSize:35,fill:"#413ea0",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total Patients",value:this.state.total})),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:a,dataSource:e}))}}function Ze(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function $e(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(a),!0).forEach((function(e){ta(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ze(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ta(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ea extends s.a.Component{constructor(t){super(t),ta(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:"NEW"};e.mail_to=t,Object(O.j)(b.Gc,e)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadNewMembership=this.loadNewMembership.bind(this)}componentDidMount(){this.loadNewMembership()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadNewMembership()}))}loadNewMembership(){const t=this;t.setState({loading:!0});const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:"NEW"};Object(x.c)(b.Gc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push($e({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:(t,e)=>e.patient.user.first_name},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),export:(t,e)=>e.patient.user.mobile},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),export:(t,e)=>e.patient.user.email},{title:"Membership Type",key:"membership_type",dataIndex:"medical_membership.name",export:(t,e)=>e.medical_membership.name},{title:"Start Date",key:"start_date",dataIndex:"medical_from"},{title:"Valid Till",key:"valid_till",dataIndex:"medical_to"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"New Membership ",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:n,dataSource:a})))}}function aa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function na(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(a),!0).forEach((function(e){sa(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):aa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function sa(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ra extends s.a.Component{constructor(t){super(t),sa(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),e.mail_to=t,Object(O.j)(b.ed,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,report:[],loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadNewPatient=this.loadNewPatient.bind(this)}componentDidMount(){"DETAILED"==this.props.type&&this.loadNewPatient()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){"DETAILED"==e.props.type&&this.loadNewPatient()}))}loadNewPatient(){const t=this;t.setState({loading:!0});const e={type:t.props.type?t.props.type:"DETAILED",from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(x.c)(b.ed,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(na({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:(t,e)=>s.a.createElement("span",null," ",e.s_no),export:(t,e,a)=>a+1,width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.id),exports:(t,e)=>e.custom_id?e.custom_id:e.id},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"user.email",dataIndex:"user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Gender",key:"gender",dataIndex:"gender"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"New Patients Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Patients",value:this.state.report.length}),s.a.createElement("br",null))),s.a.createElement(F.a,{loading:this.state.loading,columns:n,hideReport:!0,dataSource:a})))}}function oa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ia(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?oa(Object(a),!0).forEach((function(e){la(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function la(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ca extends s.a.Component{constructor(t){super(t),la(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};e.mail_to=t,Object(O.j)(b.Nb,e)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadFirstAppointment=this.loadFirstAppointment.bind(this)}componentDidMount(){this.loadFirstAppointment()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadFirstAppointment()}))}loadFirstAppointment(){const t=this;t.setState({loading:!0});const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};Object(x.c)(b.Nb,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this.state.report,e=[];for(let a=1;a<=t.length;a++)e.push(ia({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"appointment_time",render:(t,e)=>s.a.createElement("span",null,c()(e.appointment_time).format("LL")),export:(t,e)=>c()(e.appointment_time).format("LL")},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.patient_id),exports:(t,e)=>e.custom_id?e.custom_id:e.patient_id}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Patients First AppointmentReport",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Patients",value:this.state.report.length}),s.a.createElement("br",null))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:a,dataSource:e})))}}function pa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function da(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?pa(Object(a),!0).forEach((function(e){ma(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ma(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ua extends s.a.Component{constructor(t){super(t),ma(this,"sendMail",t=>{let e=this.props.showAllClinic;const a={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.blood_group&&(a.blood_group=this.props.blood_group),e||(a.practice=this.props.active_practiceId),a.mail_to=t,Object(O.j)(b.b,a)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,report:[],loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadActivePatient=this.loadActivePatient.bind(this)}componentDidMount(){this.loadActivePatient()}componentWillReceiveProps(t){const e=this;this.props.showAllClinic==t.showAllClinic&&this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadActivePatient()}))}loadActivePatient(){const t=this;t.setState({loading:!0});let e=t.props.showAllClinic;const a={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.blood_group&&(a.blood_group=this.props.blood_group),e||(a.practice=this.props.active_practiceId),Object(x.c)(b.b,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),a)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(da({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:(t,e)=>s.a.createElement("span",null," ",e.s_no),export:(t,e,a)=>a+1,width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.id),exports:(t,e)=>e.custom_id?e.custom_id:e.id},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"user.email",dataIndex:"user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Gender",key:"gender",dataIndex:"gender"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Active Patients Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Patients",value:this.state.report.length}),s.a.createElement("br",null))),s.a.createElement(F.a,{loading:this.state.loading,columns:n,hideReport:!0,dataSource:a})))}}function ha(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ga(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ha(Object(a),!0).forEach((function(e){ya(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ha(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ya(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ea extends s.a.Component{constructor(t){super(t),ya(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),e.mail_to=t,Object(O.j)(b.ed,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,report:[],loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadFollowUpPatient=this.loadFollowUpPatient.bind(this)}componentDidMount(){this.loadFollowUpPatient()}componentWillReceiveProps(t){this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.loadFollowUpPatient()}))}loadFollowUpPatient(){const t=this;t.setState({loading:!0});const e={follow_start:this.props.startDate.format("YYYY-MM-DD"),follow_end:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(x.c)(b.ed,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(ga({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.id),exports:(t,e)=>e.custom_id?e.custom_id:e.id},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"user.email",dataIndex:"user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Gender",key:"gender",dataIndex:"gender"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Patient Follow Up Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Patients",value:this.state.report.length}),s.a.createElement("br",null))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:n,dataSource:a})))}}function fa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Da(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?fa(Object(a),!0).forEach((function(e){ba(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):fa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ba(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class _a extends s.a.Component{constructor(t){super(t),ba(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),e.mail_to=t,Object(O.j)(b.ed,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,report:[],loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadPatientMedicine=this.loadPatientMedicine.bind(this)}componentDidMount(){this.loadPatientMedicine()}componentWillReceiveProps(t){this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.loadPatientMedicine()}))}loadPatientMedicine(){const t=this;t.setState({loading:!0});const e={follow_start:this.props.startDate.format("YYYY-MM-DD"),follow_end:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(x.c)(b.ed,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(Da({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.id),exports:(t,e)=>e.custom_id?e.custom_id:e.id},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"user.email",dataIndex:"user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Gender",key:"gender",dataIndex:"gender"},{title:"Follow Up",key:"follow_up_date",dataIndex:"follow_up_date"},{title:"Medicine From",key:"medicine_from",dataIndex:"medicine_from"},{title:"Medicine Till",key:"medicine_till",dataIndex:"medicine_till"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Patient Medicine Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Patients",value:a.length}),s.a.createElement("br",null))),s.a.createElement(F.a,{loading:this.state.loading,columns:n,hideReport:!0,dataSource:a})))}}function xa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function va(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?xa(Object(a),!0).forEach((function(e){Sa(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):xa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Sa(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ma extends s.a.Component{constructor(t){super(t),Sa(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),e.mail_to=t,Object(O.j)(b.ed,e)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyNewPatients=this.loadDailyNewPatients.bind(this)}componentDidMount(){this.loadDailyNewPatients()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyNewPatients()}))}loadDailyNewPatients(){const t=this;t.setState({loading:!0});const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),Object(x.c)(b.ed,(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this.state.report,e=[];for(let a=1;a<=t.length;a++)e.push(va({s_no:a},t[a-1]));const a=["#FFBB28","#FF8042"];return s.a.createElement("div",null,s.a.createElement("h2",null,"Source Wise New Patients Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{label:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.source__name,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},e.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total Patients",value:this.state.total})),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Source",key:"source__name",dataIndex:"source__name"},{title:"Patients",key:"count",dataIndex:"count"}],dataSource:e}))}}function Oa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Pa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Oa(Object(a),!0).forEach((function(e){Ya(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Oa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ya(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ia extends n.Component{constructor(t){super(t),Ya(this,"loadPDDoctorWisePatient",(t=1)=>{const e=this;e.setState({loading:!0});const a={pd_doctor:this.state.pd_doctor?this.state.pd_doctor:"",page:t};this.props.patient_groups&&(a.groups=this.props.patient_groups.toString()),this.props.blood_group&&(a.blood_group=this.props.blood_group),Object(x.c)(b.cd,(function(t){1==t.current?e.setState({report:t.results,loading:!1,loadMoreReport:t.next}):e.setState((function(e){return{total:t.count,report:[...e.report,...t.results],loading:!1,loadMoreReport:t.next}}))}),(function(){e.setState({loading:!1})}),a)}),Ya(this,"sendMail",t=>{const e={pd_doctor:1};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.blood_group&&(e.blood_group=this.props.blood_group),e.mail_to=t;Object(O.j)(b.cd,e,(function(t){}),(function(t){}))}),this.state={report:[],mailingUsersList:this.props.mailingUsersList,startDate:this.props.startDate,endDate:this.props.endDate,loading:!1}}componentDidMount(){this.loadPDDoctorWisePatient()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.pd_doctor==t.pd_doctor||this.setState({startDate:t.startDate,endDate:t.endDate,pd_doctor:t.pd_doctor},(function(){e.loadPDDoctorWisePatient()}))}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(Pa({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.id),exports:(t,e)=>e.custom_id?e.custom_id:e.id},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"user.email",dataIndex:"user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Gender",key:"gender",dataIndex:"gender"},{title:"PD Doctor",key:"pd_doctor_data",dataIndex:"pd_doctor_data",render:(t,e)=>s.a.createElement("span",null,t?t.user.first_name:null)},{title:"PD Doctor Added",key:"pd_doctor_added",dataIndex:"pd_doctor_added",render:(t,e)=>s.a.createElement("span",null,t?c()(t).format("LL"):"--")}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"PD Doctor Wise Patient",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{pagination:!1,loading:this.state.loading,columns:n,dataSource:a}),s.a.createElement(Oe.a,{loaderFunction:()=>this.loadPDDoctorWisePatient(this.state.loadMoreReport),loading:this.state.loading,hidden:!this.state.loadMoreReport})))}}function ja(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ka(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ja(Object(a),!0).forEach((function(e){wa(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ja(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function wa(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ra extends n.Component{constructor(t){super(t),wa(this,"loadMedicalHistoryWisePatient",(t=1)=>{const e=this;e.setState({loading:!0});const a={page:t,type:this.props.type};this.props.medical_history&&(a.medical_history=this.props.medical_history.toString()),Object(x.c)(b.pd,(function(t){e.setState((function(e){return 1==t.current?{loading:!1,report:t.results,patientCount:t.count,nextItemPage:t.next}:{loading:!1,report:[...e.report,...t.results],nextItemPage:t.next}}))}),(function(){e.setState({loading:!1})}),a)}),wa(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};e.mail_to=t,Object(O.j)(b.pd,e)}),this.state={report:[],patientCount:0,startDate:this.props.startDate,endDate:this.props.endDate,nextItemPage:null,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadMedicalHistoryWisePatient=this.loadMedicalHistoryWisePatient.bind(this)}componentDidMount(){this.loadMedicalHistoryWisePatient()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group&&this.props.medical_history==t.medical_history||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMedicalHistoryWisePatient()}))}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(ka({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no"},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.id),exports:(t,e)=>e.custom_id?e.custom_id:e.id},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"user.email",dataIndex:"user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Gender",key:"gender",dataIndex:"gender"},{title:"Medical History",dataIndex:"medical_history_data",render:(t,e,a)=>s.a.createElement("span",null,e.medical_history_data.map(t=>s.a.createElement(se.a,null,t.name)))}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Medical History",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Patients",value:this.state.patientCount}),s.a.createElement("br",null))),s.a.createElement(M.a,{loading:this.state.loading,bordered:!0,rowKey:t=>t.id,columns:n,dataSource:a,pagination:!1}),s.a.createElement(Oe.a,{loaderFunction:()=>this.loadMedicalHistoryWisePatient(this.state.nextItemPage),loading:this.state.loading,hidden:!this.state.nextItemPage})))}}function Ca(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Aa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ca(Object(a),!0).forEach((function(e){La(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ca(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function La(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ta extends n.Component{constructor(t){super(t),La(this,"loadReligionWisePatient",(t=1)=>{const e=this;e.setState({loading:!0});const a={page:t,type:this.props.type};this.props.religions&&(a.religions=this.props.religions.toString()),Object(x.c)(b.wd,(function(t){e.setState((function(e){return 1==t.current?{loading:!1,report:t.results,patientCount:t.count,nextItemPage:t.next}:{loading:!1,report:[...e.report,...t.results],nextItemPage:t.next}}))}),(function(){e.setState({loading:!1})}),a)}),La(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD")};e.mail_to=t,Object(O.j)(b.wd,e)}),this.state={report:[],patientCount:0,startDate:this.props.startDate,endDate:this.props.endDate,nextItemPage:null,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadReligionWisePatient=this.loadReligionWisePatient.bind(this)}componentDidMount(){this.loadReligionWisePatient()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.blood_group==t.blood_group&&this.props.blood_group==t.blood_group&&this.props.religions==t.religions||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReligionWisePatient()}))}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(Aa({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no"},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.id),exports:(t,e)=>e.custom_id?e.custom_id:e.id},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"user.email",dataIndex:"user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Gender",key:"gender",dataIndex:"gender"},{title:"Religion",dataIndex:"religion_data.value"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Religion Wise Patient",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Patients",value:this.state.patientCount}),s.a.createElement("br",null))),s.a.createElement(M.a,{loading:this.state.loading,bordered:!0,rowKey:t=>t.id,columns:n,dataSource:a,pagination:!1}),s.a.createElement(Oe.a,{loaderFunction:()=>this.loadReligionWisePatient(this.state.nextItemPage),loading:this.state.loading,hidden:!this.state.nextItemPage})))}}function Na(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Fa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Na(Object(a),!0).forEach((function(e){Ua(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Na(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ua(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ba extends s.a.Component{constructor(t){super(t),Ua(this,"GroupData",(t=1)=>{const e=this;e.setState({loading:!0});const a={page:t};"over30m"==this.props.groupvalue&&(a.gender="male",a.age="30",a.type="gt"),"over30f"==this.props.groupvalue&&(a.gender="female",a.age="30",a.type="gt"),"under30m"==this.props.groupvalue&&(a.gender="male",a.age="30",a.type="lt"),"under30f"==this.props.groupvalue&&(a.gender="female",a.age="30",a.type="lt"),"male"==this.props.groupvalue&&(a.gender="male"),"female"==this.props.groupvalue&&(a.gender="female"),Object(x.c)(b.Pb,(function(t){console.log(t),1==t.current?e.setState({Groupreport:t.results,loading:!1,loadMoreReport:t.next}):e.setState((function(e){return{Groupreport:[...e.Groupreport,...t.results],loading:!1,loadMoreReport:t.next}}))}),(function(){e.setState({loading:!1})}),a)}),Ua(this,"sendMail",t=>{const e={mail_to:t};"over30m"==this.props.groupvalue&&(e.gender="male",e.age="30",e.type="gt"),"over30f"==this.props.groupvalue&&(e.gender="female",e.age="30",e.type="gt"),"under30m"==this.props.groupvalue&&(e.gender="male",e.age="30",e.type="lt"),"under30f"==this.props.groupvalue&&(e.gender="female",e.age="30",e.type="lt"),"male"==this.props.groupvalue&&(e.gender="male"),"female"==this.props.groupvalue&&(e.gender="female");Object(O.j)(b.Pb,e,(function(t){}),(function(t){}))}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,Groupreport:[],loading:!1,mailingUsersList:this.props.mailingUsersList},this.GroupData=this.GroupData.bind(this)}componentDidMount(){this.GroupData()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.groupvalue==t.groupvalue||this.setState({startDate:t.startDate,endDate:t.endDate,groupvalue:t.groupvalue},(function(){e.GroupData()}))}render(){const t=this.state.Groupreport,e=[];for(let a=1;a<=t.length;a++)e.push(Fa({s_no:a},t[a-1]));console.log(e);return s.a.createElement("div",null,s.a.createElement("h2",null,"Group Data",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{pagination:!1,loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Patient Number",key:"id",dataIndex:"custom_id"},{title:"Mobile Number",key:"mobile",dataIndex:"user.mobile"},{title:"Email",key:"email",dataIndex:"user.email"},{title:"Gender",key:"gender",dataIndex:"gender"}],dataSource:e}),s.a.createElement(Oe.a,{loaderFunction:()=>this.GroupData(this.state.loadMoreReport),loading:this.state.loading,hidden:!this.state.loadMoreReport}))}}function Wa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ga(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Wa(Object(a),!0).forEach((function(e){za(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Wa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function za(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ka extends s.a.Component{constructor(t){super(t),za(this,"patientCallData",(t=1)=>{const e=this;e.setState({loading:!0});const a={start:this.props.startDate.format("YYYY-MM-DD"),end:this.props.endDate.format("YYYY-MM-DD"),page:t};this.state.practice_staff&&(a.practice_staff=this.state.practice_staff),this.state.patient_name&&(a.patient=this.state.patient_name),this.state.practice_name&&(a.practice=this.state.practice_name),this.state.call_type&&(a.type=this.state.call_type),this.state.response_type&&(a.response=this.state.response_type),Object(x.c)(b.hd,(function(t){1==t.current?e.setState({patientCall:t.results,loading:!1,loadMoreReport:t.next}):e.setState((function(e){return{patientCall:[...e.patientCall,...t.results],loading:!1,loadMoreReport:t.next}}))}),(function(){e.setState({loading:!1})}),a)}),za(this,"sendMail",t=>{const e={mail_to:t};this.state.practice_staff&&(e.practice_staff=this.state.practice_staff),this.state.patient_name&&(e.patient=this.state.patient_name),this.state.practice_name&&(e.practice=this.state.practice_name),this.state.call_type&&(e.call_type=this.state.call_type),this.state.response_type&&(e.response=this.state.response_type);Object(O.j)(b.hd,e,(function(t){}),(function(t){}))}),this.state={patientCall:[],loading:!1,startDate:this.props.startDate,endDate:this.props.endDate,mailingUsersList:this.props.mailingUsersList},this.patientCallData=this.patientCallData.bind(this)}componentDidMount(){this.patientCallData()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.staff==t.practice_staff&&this.props.patient_name==t.patient_name&&this.props.practice_name==t.practice_name&&this.props.call_type==t.call_type&&this.state.response_type==this.state.response_type||this.setState({startDate:t.startDate,endDate:t.endDate,practice_staff:t.practice_staff,patient_name:t.patient_name,practice_name:t.practice_name,call_type:t.call_type,response_type:t.response_type},(function(){e.patientCallData()}))}render(){const t=this.state.patientCall,e=[];for(let a=1;a<=t.length;a++)e.push(Ga({s_no:a},t[a-1]));return s.a.createElement("div",null,s.a.createElement("h2",null,"New Patients Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Patients",value:this.state.patientCall.length}),s.a.createElement("br",null))),s.a.createElement(M.a,{loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"patient.user.first_name",key:"first_name"},{title:"Patient ID",key:"id",dataIndex:"patient.custom_id"},{title:"Mobile Number",key:"mobile",dataIndex:"patient.user.mobile"},{title:"Staff",key:"staff",dataIndex:"staff"},{title:"Staff ID",key:"Staff_id",dataIndex:"staff_id"},{title:"Type",key:"type",dataIndex:"type"},{title:"Response",key:"resonse",dataIndex:"response"},{title:"Remark",key:"remark",dataIndex:"remarks"}],dataSource:e,pagination:!1}))}}function Ha(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Va(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ha(Object(a),!0).forEach((function(e){qa(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ha(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function qa(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ja extends s.a.Component{constructor(t){super(t),qa(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:"NEW"};e.mail_to=t,Object(O.j)(b.Ud,e)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadNewMembership=this.loadNewMembership.bind(this)}componentDidMount(){this.loadNewMembership()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadNewMembership()}))}loadNewMembership(){const t=this;t.setState({loading:!0});const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:"NEW"};Object(x.c)(b.Ud,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(Va({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:(t,e)=>e.patient.user.first_name},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),export:(t,e)=>e.patient.user.mobile},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),export:(t,e)=>e.patient.user.email},{title:"Registration Type",key:"membership_type",dataIndex:"registration.name",export:(t,e)=>e.registration.name},{title:"Start Date",dataIndex:"medical_from",render:(t,e)=>s.a.createElement("span",null,c()(e.registration_from).format("LL")),exports:(t,e)=>c()(e.registration_from).format("LL")},{title:"Valid Till",dataIndex:"medical_to",render:(t,e)=>s.a.createElement("span",null,c()(e.registration_to).format("LL")),exports:(t,e)=>c()(e.registration_to).format("LL")}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"New Registration ",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(F.a,{hideReport:!0,loading:this.state.loading,columns:n,dataSource:a})))}}function Xa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Qa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Xa(Object(a),!0).forEach((function(e){Za(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Xa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Za(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class $a extends s.a.Component{constructor(t){super(t),Za(this,"sendMail",t=>{const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:"EXPIRED"};e.mail_to=t,Object(O.j)(b.Ud,e)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadExpireMembership=this.loadExpireMembership.bind(this)}componentDidMount(){this.loadExpireMembership()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadExpireMembership()}))}loadExpireMembership(){const t=this;t.setState({loading:!0});const e={from_date:this.props.startDate.format("YYYY-MM-DD"),to_date:this.props.endDate.format("YYYY-MM-DD"),type:"EXPIRED"};Object(x.c)(b.Ud,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(Qa({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",dataIndex:"patient.user.first_name",key:"patient.user.first_name",export:(t,e)=>e.patient.user.first_name},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),export:(t,e)=>e.patient.user.mobile},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),export:(t,e)=>e.patient.user.email},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:(t,e)=>e.patient.gender},{title:"Start Date",dataIndex:"medical_from",render:(t,e)=>s.a.createElement("span",null,c()(e.registration_from).format("LL")),exports:(t,e)=>c()(e.registration_from).format("LL")},{title:"Valid Till",dataIndex:"medical_to",render:(t,e)=>s.a.createElement("span",null,c()(e.registration_to).format("LL")),exports:(t,e)=>c()(e.registration_to).format("LL")}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Expiring Registration",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(F.a,{loading:this.state.loading,columns:n,hideReport:!0,dataSource:a})))}}function tn(){return(tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function en(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class an extends s.a.Component{constructor(t){super(t),en(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),en(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),en(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),this.state={type:"DETAILED",advancedOptionShow:!0,sidePanelColSpan:4,patientGroup:[],offerOption:[],medicalHistory:[],practiceDoctors:[],religionData:[],staff:[],patient:[],clinic:[]},this.loadPatientGroup=this.loadPatientGroup.bind(this),this.loadMedicalHistory=this.loadMedicalHistory.bind(this),this.getReligions=this.getReligions.bind(this),this.staffData=this.staffData.bind(this),this.patientData=this.patientData.bind(this),this.clinicData=this.clinicData.bind(this)}componentDidMount(){this.loadPatientGroup(),this.loadMedicalHistory(),this.getReligions(),this.staffData(),this.patientData(),this.clinicData(),Object(O.c)(this)}loadPatientGroup(){const t=this;Object(x.c)(Object(x.g)(b.md,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}loadMedicalHistory(){const t=this;Object(x.c)(b.xc,(function(e){t.setState({medicalHistory:e})}),(function(){}))}patientData(){const t=this;Object(x.c)(b.cd,(function(e){t.setState({patient:e.results})}),(function(){}))}clinicData(){const t=this;Object(x.c)(b.l,(function(e){t.setState({clinic:e})}),(function(){}))}staffData(){const t=this;Object(x.c)(b.m,(function(e){t.setState({staff:e})}),(function(){}))}getReligions(){const t=this;Object(x.c)(b.Rb,(function(e){t.setState({religionData:e})}),(function(){}),{name:"Religion"})}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Patients Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.zb?s.a.createElement(ra,tn({},this.props,this.state)):null,this.state.type==v.K?s.a.createElement(Ge,tn({},this.props,this.state)):null,this.state.type==v.V?s.a.createElement(Ve,tn({},this.props,this.state)):null,this.state.type==v.Fb?s.a.createElement(ca,tn({},this.props,this.state)):null,this.state.type==v.tb?s.a.createElement(Qe,tn({},this.props,this.state)):null,this.state.type==v.yb?s.a.createElement(ea,tn({},this.props,this.state)):null,this.state.type==v.a?s.a.createElement(ua,tn({},this.props,this.state)):null,this.state.type==v.qc?s.a.createElement(Ma,tn({},this.props,this.state)):null,this.state.type==v.Y?s.a.createElement(Ea,tn({},this.props,this.state)):null,this.state.type==v.jb?s.a.createElement(_a,tn({},this.props,this.state)):null,this.state.type==v.Ob?s.a.createElement(Ia,tn({},this.props,this.state)):null,this.state.type==v.ib?s.a.createElement(Ra,tn({},this.props,this.state)):null,this.state.type==v.ac?s.a.createElement(Ta,tn({},this.props,this.state)):null,this.state.type==v.bb?s.a.createElement(Ba,tn({},this.props,this.state)):null,this.state.type==v.Hb?s.a.createElement(Ka,tn({},this.props,this.state)):null,this.state.type==v.Ab?s.a.createElement(Ja,tn({},this.props,this.state)):null,this.state.type==v.W?s.a.createElement($a,tn({},this.props,this.state)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.zb,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Patients"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.zb},"New Patients"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.Bb.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options"),this.state.type==v.ib?s.a.createElement(f.a,null,s.a.createElement("br",null),s.a.createElement("h4",null,"Medical History"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Medical History",onChange:t=>this.handleChangeOption("medical_history",t)},this.state.medicalHistory.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name)))):null,this.state.type==v.ac?s.a.createElement(f.a,null,s.a.createElement("br",null),s.a.createElement("h4",null,"Religion"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Religion",onChange:t=>this.handleChangeOption("religions",t)},this.state.religionData.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.value)))):null,this.state.type==v.bb?s.a.createElement(f.a,null,s.a.createElement("h4",null,"Group Type"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Group",onChange:t=>this.handleChangeOption("groupvalue",t),allowClear:!0},_.bb.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.name)))):null,this.state.type==v.zb||this.state.type==v.K||this.state.type==v.tb||this.state.type==v.a||this.state.type==v.Y||this.state.type==v.jb||this.state.type==v.qc?s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Patient Groups"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:t=>this.handleChangeOption("patient_groups",t)},this.state.patientGroup.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("h4",null,"Blood Groups"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Blood Group",onChange:t=>this.handleChangeOption("blood_group",t),allowClear:!0},_.q.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.name))),s.a.createElement("br",null)):null,this.state.type==v.Ob?s.a.createElement(f.a,null,s.a.createElement("h4",null,"PD Doctor"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select PD Doctor",onChange:t=>this.handleChangeOption("pd_doctor",t),allowClear:!0},this.state.practiceDoctors.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name)))):null,this.state.type==v.Hb?s.a.createElement(E.a,null,s.a.createElement(f.a,null,s.a.createElement("h4",null,"Staff"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"staff name",onChange:t=>this.handleChangeOption("practice_staff",t),allowClear:!0},this.state.staff.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name)))),s.a.createElement(f.a,null,s.a.createElement("h4",null,"Patient"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"patient name",onChange:t=>this.handleChangeOption("patient_name",t),allowClear:!0},this.state.patient.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name)))),s.a.createElement(f.a,null,s.a.createElement("h4",null,"Practice"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Practice",onChange:t=>this.handleChangeOption("practice_name",t),allowClear:!0},this.state.clinic.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name)))),s.a.createElement(f.a,null,s.a.createElement("h4",null,"Call Type "),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Practice",onChange:t=>this.handleChangeOption("call_type",t),allowClear:!0},_.v.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.name)))),s.a.createElement(f.a,null,s.a.createElement("h4",null,"Response Type "),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Practice",onChange:t=>this.handleChangeOption("response_type",t),allowClear:!0},_.u.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.name))))):null):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options")))))}}var nn=a(450);function sn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class rn extends s.a.Component{constructor(t){super(t),sn(this,"loadPaymentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(e.is_cancelled=!1),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.patient_groups&&(e.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.consume&&(e.consume=this.props.consume.toString()),this.props.discount&&(e.discount=this.props.discount),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(Object(x.g)(b.Bd,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(e){t.setState({loading:!1})}),e)}),sn(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),sn(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r={practice:s.active_practiceId,type:s.type,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(r.is_cancelled=!1),this.props.taxes&&(r.taxes=this.props.taxes.toString()),this.props.patient_groups&&(r.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(r.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(r.doctors=this.props.doctors.toString()),this.props.consume&&(r.consume=this.props.consume.toString()),this.props.discount&&(r.discount=this.props.discount),this.props.treatments&&(r.treatments=this.props.treatments.toString()),r.mail_to=t,Object(O.j)(Object(x.g)(b.Bd,[this.props.active_practiceId]),r)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList},this.loadPaymentsReport=this.loadPaymentsReport.bind(this)}componentDidMount(){this.loadPaymentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}render(){const t=[{title:"Date",key:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("LL"))},{title:"Scheduled At\t",key:"time",render:(t,e)=>s.a.createElement("span",null,c()(e.shedule_at).format("HH:mm")),export:(t,e)=>{c()(e.shedule_at).format("HH:mm")}},{title:"Patient",dataIndex:"patient.user.first_name",key:"patient_name"},{title:"Receipt Number",dataIndex:"payment_id",key:"payment_id"},{title:"Invoice(s)",dataIndex:"invoice_id",key:"invoice_id",render:(t,e)=>s.a.createElement("span",null,e.invoices.map(t=>s.a.createElement(se.a,null,t.invoice))),export:(t,e)=>e.invoices.map(t=>"".concat(t.invoice,","))},{title:"Treatments & Products",dataIndex:"treatement",key:"treatement",render:(t,e)=>s.a.createElement("span",null,e.invoices.map(t=>s.a.createElement(se.a,null,t.invoice_items))),export:(t,e)=>e.invoices.map(t=>"".concat(t.invoice_items,","))},{title:"Amount Paid (INR)\t",dataIndex:"total",key:"total",render:(t,e)=>s.a.createElement("span",null,e.total.toFixed(2)),export:(t,e)=>e.total.toFixed(2)},{title:"Advance Amount (INR)",dataIndex:"advance_value",key:"advance_value",render:(t,e)=>s.a.createElement("span",null,e.advance_value?e.advance_value.toFixed(2):"--"),export:(t,e)=>e.advance_value?e.advance_value.toFixed(2):"--"},{title:"Payment Info",dataIndex:"payment_mode_data.mode",key:"payment_mode_data.mode"},{title:"Vendor Fees (INR)",key:"vendor_fee",render:(t,e)=>s.a.createElement("span",null,e.total?(e.total/100*(e.payment_mode_data?e.payment_mode_data.fee:0)).toFixed(2):0),export:(t,e)=>e.total?(e.total/100*(e.payment_mode_data?e.payment_mode_data.fee:0)).toFixed(2):0}],e=this.state.report.reduce((function(t,e){return t+e.total}),0),a=this.state.report.reduce((function(t,e){return t+e.advance_value}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"All Payments Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(q.a,null,s.a.createElement("h2",null,"Summary")),s.a.createElement(f.a,{span:12,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Payment (INR)",value:e.toFixed(2)})),s.a.createElement(f.a,{span:12,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Advance Payment (INR)",value:a.toFixed(2)})),s.a.createElement(q.a,null)),s.a.createElement(M.a,{rowKey:t=>t.id,loading:this.state.loading,columns:t,dataSource:this.state.report}))}}s.a.Component;s.a.Component;function on(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ln extends s.a.Component{constructor(t){super(t),on(this,"loadPaymentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(e.is_cancelled=!1),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.patient_groups&&(e.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.consume&&(e.consume=this.props.consume.toString()),this.props.discount&&(e.discount=this.props.discount),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(Object(x.g)(b.Bd,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),on(this,"sendMail",t=>{const e=this.state,a=(e.startDate,e.endDate,this.props),n=(a.active_practiceId,a.type,{type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")});this.props.exclude_cancelled&&(n.is_cancelled=!1),this.props.taxes&&(n.taxes=this.props.taxes.toString()),this.props.patient_groups&&(n.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(n.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(n.doctors=this.props.doctors.toString()),this.props.consume&&(n.consume=this.props.consume.toString()),this.props.discount&&(n.discount=this.props.discount),this.props.treatments&&(n.treatments=this.props.treatments.toString()),n.mail_to=t,Object(O.j)(Object(x.g)(b.Bd,[this.props.active_practiceId]),n)}),on(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList,activeIndex:0},this.loadPaymentsReport=this.loadPaymentsReport.bind(this)}componentDidMount(){this.loadPaymentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Group Name",key:"group_name",dataIndex:"name"},{title:"Amount(INR)",key:"amount",dataIndex:"amount",render:(t,e)=>s.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--"),export:(t,e)=>e.amount?e.amount.toFixed(2):"--"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(t,e){return t+e.amount}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Payment Received Each Patient Group",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,",").concat(d.amount.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"amount",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n.toFixed(2)})),s.a.createElement(M.a,{loading:this.state.loading,columns:e,pagination:!1,dataSource:this.state.report}))}}function cn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class pn extends s.a.Component{constructor(t){super(t),cn(this,"loadPaymentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(e.is_cancelled=!1),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.patient_groups&&(e.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.consume&&(e.consume=this.props.consume.toString()),this.props.discount&&(e.discount=this.props.discount),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(Object(x.g)(b.Bd,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),cn(this,"sendMail",t=>{const e=this.state,a=(e.startDate,e.endDate,this.props),n=(a.active_practiceId,a.type,{type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")});this.props.exclude_cancelled&&(n.is_cancelled=!1),this.props.taxes&&(n.taxes=this.props.taxes.toString()),this.props.patient_groups&&(n.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(n.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(n.doctors=this.props.doctors.toString()),this.props.consume&&(n.consume=this.props.consume.toString()),this.props.discount&&(n.discount=this.props.discount),this.props.treatments&&(n.treatments=this.props.treatments.toString()),n.mail_to=t,Object(O.j)(Object(x.g)(b.Bd,[this.props.active_practiceId]),n)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList},this.loadPaymentsReport=this.loadPaymentsReport.bind(this)}componentDidMount(){this.loadPaymentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Date",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("LL")),export:(t,e)=>{c()(e.date).format("LL")}},{title:"Patient Name",key:"name",dataIndex:"name"},{title:"Patient Id",key:"patient_id",dataIndex:"custom_id"},{title:"Unsettled Advance(INR)",key:"advance",dataIndex:"advance",render:(t,e)=>s.a.createElement("span",null,e.advance?e.advance.toFixed(2):"--"),export:(t,e)=>e.advance?e.advance.toFixed(2):"--"},{title:"Net Advance/Due (INR)",key:"net",dataIndex:"net",render:(t,e)=>s.a.createElement("span",null,e.net?e.net.toFixed(2):"--"),export:(t,e)=>e.net?e.net.toFixed(2):"--"},{title:"Last Payment",key:"last_payment",dataIndex:"last_payment"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Patients With Unsettled Advance",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{loading:this.state.loading,columns:e,pagination:!1,dataSource:this.state.report})))}}function dn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class mn extends s.a.Component{constructor(t){super(t),dn(this,"loadPaymentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(e.is_cancelled=!1),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.patient_groups&&(e.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.consume&&(e.consume=this.props.consume.toString()),this.props.discount&&(e.discount=this.props.discount),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(Object(x.g)(b.Bd,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),dn(this,"sendMail",t=>{const e=this,a=this.state,n=(a.startDate,a.endDate,this.props),s=(n.active_practiceId,n.type,{type:e.props.type,practice:e.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")});this.props.exclude_cancelled&&(s.is_cancelled=!1),this.props.taxes&&(s.taxes=this.props.taxes.toString()),this.props.patient_groups&&(s.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(s.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(s.doctors=this.props.doctors.toString()),this.props.consume&&(s.consume=this.props.consume.toString()),this.props.discount&&(s.discount=this.props.discount),this.props.treatments&&(s.treatments=this.props.treatments.toString()),s.mail_to=t,Object(O.j)(Object(x.g)(b.Bd,[e.props.active_practiceId]),s)}),dn(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList,activeIndex:0},this.loadPaymentsReport=this.loadPaymentsReport.bind(this)}componentDidMount(){this.loadPaymentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Name",key:"mode_name",dataIndex:"mode_name"},{title:"Amount",key:"amount",dataIndex:"amount",render:(t,e)=>s.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--"),export:(t,e)=>e.amount?e.amount.toFixed(2):"--"},{title:"Fees(INR)",key:"fee_percent",dataIndex:"fee_percent",render:(t,e)=>s.a.createElement("span",null,e.amount?(e.amount/100*e.fee_percent).toFixed(2):"0.00")}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.report.reduce((function(t,e){return t+e.amount}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Modes of Payment",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=(t.percent,t.value,Math.sin(-e*r)),u=Math.cos(-e*r),h=a+(i+10)*u,g=n+(i+10)*m,y=a+(i+30)*u,E=n+(i+30)*m,f=y+22*(u>=0?1:-1),D=E,b=u>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(h,",").concat(g,"L").concat(y,",").concat(E,"L").concat(f,",").concat(D),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:f,cy:D,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:f+12*(u>=0?1:-1),y:D,textAnchor:b,fill:"#333"},"".concat(d.mode_name,",").concat(d.amount.toFixed(2))),s.a.createElement("text",{x:f+12*(u>=0?1:-1),y:D,dy:18,textAnchor:b,fill:"#999"},"(Fees ".concat((d.amount/100*d.fee_percent).toFixed(2),"INR)")))},data:this.state.report,cx:300,dataKey:"amount",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:n.toFixed(2)})),s.a.createElement(M.a,{loading:this.state.loading,columns:e,pagination:!1,dataSource:this.state.report}))}}function un(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class hn extends s.a.Component{constructor(t){super(t),un(this,"loadPaymentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(e.is_cancelled=!1),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.patient_groups&&(e.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.consume&&(e.consume=this.props.consume.toString()),this.props.discount&&(e.discount=this.props.discount),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(Object(x.g)(b.Bd,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),un(this,"sendMail",t=>{const e=this.state,a=(e.startDate,e.endDate,this.props),n=(a.active_practiceId,a.type,{type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")});this.props.exclude_cancelled&&(n.is_cancelled=!1),this.props.taxes&&(n.taxes=this.props.taxes.toString()),this.props.patient_groups&&(n.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(n.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(n.doctors=this.props.doctors.toString()),this.props.consume&&(n.consume=this.props.consume.toString()),this.props.discount&&(n.discount=this.props.discount),this.props.treatments&&(n.treatments=this.props.treatments.toString()),n.mail_to=t,Object(O.j)(Object(x.g)(b.Bd,[this.props.active_practiceId]),n)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList},this.loadPaymentsReport=this.loadPaymentsReport.bind(this)}componentDidMount(){this.loadPaymentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("DD MMM ")),export:(t,e)=>c()(e.date).format("DD MMM ")},{title:"Amount",key:"Amount",dataIndex:"amount",render:(t,e)=>s.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--"),export:(t,e)=>e.amount?e.amount.toFixed(2):"--"}],a=this.state.report.reduce((function(t,e){return t+e.amount}),0),n=({x:t,y:e,stroke:a,value:n})=>s.a.createElement("text",{x:t,y:e,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n);return s.a.createElement("div",null,s.a.createElement("h2",null,"Payment Received Per Day",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.h,{width:1e3,height:300,data:[...this.state.report].reverse(),margin:{top:5,right:30,left:20,bottom:55}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Amount",angle:-90,position:"insideLeft"}}),s.a.createElement(w.b,{strokeDasharray:"3 3"}),s.a.createElement(w.m,null),s.a.createElement(w.g,{type:"monotone",dataKey:"amount",stroke:"#1DA57A",strokeWidth:4,label:s.a.createElement(n,null)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:a.toFixed(2)})),s.a.createElement(M.a,{loading:this.state.loading,columns:e,pagination:!1,dataSource:this.state.report}))}}function gn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class yn extends s.a.Component{constructor(t){super(t),gn(this,"loadPaymentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(e.is_cancelled=!1),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.patient_groups&&(e.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.consume&&(e.consume=this.props.consume.toString()),this.props.discount&&(e.discount=this.props.discount),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(Object(x.g)(b.Bd,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),gn(this,"sendMail",t=>{const e=this.state,a=(e.startDate,e.endDate,this.props),n=(a.active_practiceId,a.type,{type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")});this.props.exclude_cancelled&&(n.is_cancelled=!1),this.props.taxes&&(n.taxes=this.props.taxes.toString()),this.props.patient_groups&&(n.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(n.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(n.doctors=this.props.doctors.toString()),this.props.consume&&(n.consume=this.props.consume.toString()),this.props.discount&&(n.discount=this.props.discount),this.props.treatments&&(n.treatments=this.props.treatments.toString()),n.mail_to=t,Object(O.j)(Object(x.g)(b.Bd,[this.props.active_practiceId]),n)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList},this.loadPaymentsReport=this.loadPaymentsReport.bind(this)}componentDidMount(){this.loadPaymentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Month",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("MMMM YYYY")),export:(t,e)=>c()(e.date).format("DD MMM YYYY")},{title:"Amount",key:"Amount",dataIndex:"amount",render:(t,e)=>s.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--"),export:(t,e)=>e.amount?e.amount.toFixed(2):"--"}],a=this.state.report.reduce((function(t,e){return t+e.amount}),0),n=({x:t,y:e,stroke:a,value:n})=>s.a.createElement("text",{x:t,y:e,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n);return s.a.createElement("div",null,s.a.createElement("h2",null,"Payment Received Per Month",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.h,{width:1e3,height:300,data:[...this.state.report].reverse(),margin:{top:5,right:30,left:20,bottom:55}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Amount",angle:-90,position:"insideLeft"}}),s.a.createElement(w.b,{strokeDasharray:"3 3"}),s.a.createElement(w.m,null),s.a.createElement(w.g,{type:"monotone",dataKey:"amount",stroke:"#1DA57A",strokeWidth:4,label:s.a.createElement(n,null)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:a.toFixed(2)})),s.a.createElement(M.a,{loading:this.state.loading,columns:e,pagination:!1,dataSource:this.state.report}))}}function En(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class fn extends s.a.Component{constructor(t){super(t),En(this,"loadPaymentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(e.is_cancelled=!1),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.patient_groups&&(e.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.consume&&(e.consume=this.props.consume.toString()),this.props.discount&&(e.discount=this.props.discount),this.props.treatments&&(e.treatments=this.props.treatments.toString()),Object(x.c)(Object(x.g)(b.Bd,[t.props.active_practiceId]),(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),En(this,"sendMail",t=>{const e=this.state,a=(e.startDate,e.endDate,this.props),n=(a.active_practiceId,a.type,{type:this.props.type,practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")});this.props.exclude_cancelled&&(n.is_cancelled=!1),this.props.taxes&&(n.taxes=this.props.taxes.toString()),this.props.patient_groups&&(n.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(n.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(n.doctors=this.props.doctors.toString()),this.props.consume&&(n.consume=this.props.consume.toString()),this.props.discount&&(n.discount=this.props.discount),this.props.treatments&&(n.treatments=this.props.treatments.toString()),n.mail_to=t,Object(O.j)(Object(x.g)(b.Bd,[this.props.active_practiceId]),n)}),En(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList,activeIndex:0},this.loadPaymentsReport=this.loadPaymentsReport.bind(this)}componentDidMount(){this.loadPaymentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.discount==t.discount&&this.props.treatments==t.treatments&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Doctor Name",key:"doctor_name",dataIndex:"doctor_name"},{title:"Amount",key:"amount",dataIndex:"amount",render:(t,e)=>s.a.createElement("span",null,e.amount?e.amount.toFixed(2):"--"),export:(t,e)=>e.amount?e.amount.toFixed(2):"--"}],a=this.state.report.reduce((function(t,e){return t+e.amount}),0),n=["#0088FE","#00C49F","#FFBB28","#FF8042"];return s.a.createElement("div",null,s.a.createElement("h2",null,"Payment Received Per Doctor",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.report.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.doctor_name,",").concat(d.amount.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.report,cx:300,dataKey:"amount",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.report.map((t,e)=>s.a.createElement(w.c,{fill:n[e%n.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:a.toFixed(2)})),s.a.createElement(M.a,{loading:this.state.loading,columns:e,pagination:!1,dataSource:this.state.report}))}}s.a.Component;function Dn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class bn extends s.a.Component{constructor(t){super(t),Dn(this,"loadPaymentsReport",()=>{const t=this;t.setState({loading:!0});const e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.exclude_cancelled&&(e.is_cancelled=!1),this.props.taxes&&(e.taxes=this.props.taxes.toString()),this.props.patient_groups&&(e.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(e.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.consume&&(e.consume=this.props.consume.toString()),Object(x.c)(Object(x.g)(b.Bd,[t.props.active_practiceId]),(function(e){t.setState({report:e.data,total:e.total,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Dn(this,"sendMail",t=>{const e=this.state,a=(e.startDate,e.endDate,this.props),n=(a.active_practiceId,a.type,{type:this.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")});this.props.exclude_cancelled&&(n.is_cancelled=!1),this.props.taxes&&(n.taxes=this.props.taxes.toString()),this.props.patient_groups&&(n.patient_groups=this.props.patient_groups.toString()),this.props.payment_mode&&(n.payment_mode=this.props.payment_mode.toString()),this.props.doctors&&(n.doctors=this.props.doctors.toString()),this.props.consume&&(n.consume=this.props.consume.toString()),n.mail_to=t,Object(O.j)(Object(x.g)(b.Bd,[this.props.active_practiceId]),n)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList},this.loadPaymentsReport=this.loadPaymentsReport.bind(this)}componentDidMount(){this.loadPaymentsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.taxes==t.taxes&&this.props.doctors==t.doctors&&this.props.payment_mode==t.payment_mode&&this.props.consume==t.consume&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadPaymentsReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Payment Settlement",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement("br",null))),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.report})))}}s.a.Component;function _n(){return(_n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function xn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class vn extends s.a.Component{constructor(t){super(t),xn(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),xn(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),xn(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),xn(this,"onChangeCheckbox",t=>{this.setState({exclude_cancelled:!this.state.exclude_cancelled})}),this.state={advancedOptionShow:!0,paymentModeOption:[],sidePanelColSpan:4,type:"ALL",practiceDoctors:[],patientGroup:[],vendorOption:[],taxes_list:[],treatment_data:[],exclude_cancelled:!0},Object(O.e)(this),this.loadPatientGroup=this.loadPatientGroup.bind(this),this.loadPaymentMode=this.loadPaymentMode.bind(this),this.loadTaxes=this.loadTaxes.bind(this),this.loadTreatments=this.loadTreatments.bind(this)}componentDidMount(){this.loadPatientGroup(),this.loadPaymentMode(),this.loadTaxes(),this.loadTreatments()}loadPatientGroup(){const t=this;Object(x.c)(Object(x.g)(b.md,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}loadPaymentMode(){const t=this;Object(x.c)(Object(x.g)(b.zd,[this.props.active_practiceId]),(function(e){t.setState({paymentModeOption:e})}),(function(){}))}loadTaxes(){const t=this;Object(x.c)(Object(x.g)(b.df,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}loadTreatments(){const t=this;Object(x.c)(Object(x.g)(b.Kd,[this.props.active_practiceId]),(function(e){t.setState({treatment_data:e})}),(function(){}),{pagination:!1})}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Payments Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.j?s.a.createElement(rn,_n({},this.props,this.state)):null,this.state.type==v.Jb?s.a.createElement(ln,_n({},this.props,this.state)):null,this.state.type==v.Gb?s.a.createElement(pn,_n({},this.props,this.state)):null,this.state.type==v.nb?s.a.createElement(mn,_n({},this.props,this.state)):null,this.state.type==v.Kb?s.a.createElement(hn,_n({},this.props,this.state)):null,this.state.type==v.Mb?s.a.createElement(yn,_n({},this.props,this.state)):null,this.state.type==v.Lb?s.a.createElement(fn,_n({},this.props,this.state)):null,this.state.type==v.Nb?s.a.createElement(bn,_n({},this.props,this.state)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.j,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Payments"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.j},"All Payments"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.Gb.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options"),s.a.createElement(f.a,null,this.state.type==v.Lb||this.state.type==v.Mb||this.state.type==v.Kb?null:s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("h4",null,"Show"),s.a.createElement(N.a.Group,{style:{width:"100%",display:"inline-grid"},onChange:t=>this.handleChangeOption("consume",t)},_.Sb.map(t=>s.a.createElement(N.a,{value:t.value}," ",t.label)))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Doctors"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:t=>this.handleChangeOption("doctors",t)},this.state.practiceDoctors.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Treatments"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:t=>this.handleChangeOption("treatments",t)},this.state.treatment_data.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Patient Groups"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:t=>this.handleChangeOption("patient_groups",t)},this.state.patientGroup.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Payment Modes"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Payment Modes",onChange:t=>this.handleChangeOption("payment_mode",t)},this.state.paymentModeOption.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.mode))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Discount"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:t=>this.handleChangeOption("discount",t)},_.I.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.label))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Taxes"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:t=>this.handleChangeOption("taxes",t)},this.state.taxes_list.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(N.a,{onChange:t=>this.onChangeCheckbox(t),checked:this.state.exclude_cancelled}," Exclude Cancelled"))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options")))))}}var Sn=a(1594),Mn=a(1605);function On(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Pn(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?On(Object(a),!0).forEach((function(e){Yn(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):On(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Yn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const In=Sn.a.Text;class jn extends s.a.Component{constructor(t){super(t),Yn(this,"sendMail",t=>{const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.state.doctors&&(e.doctor=this.state.doctors.toString()),e.mail_to=t,Object(O.j)(b.bc,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,dailySummary:[],practiceDoctors:[],paidAmountForPaymentMode:{},mailingUsersList:this.props.mailingUsersList},this.loadDailySummary=this.loadDailySummary.bind(this),Object(O.e)(this)}componentDidMount(){this.loadDailySummary()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailySummary()}))}loadDailySummary(t=1){const e=this;e.setState({loading:!0});const a={page:t,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId};this.state.doctors&&(a.doctor=this.state.doctors.toString()),this.state.unpaid&&(a.is_pending=!0),Object(x.c)(b.bc,(function(t){e.setState((function(e){const a=[];let n={type:"FINAL",unit_cost:0,tax_value:0,unit:1,total:0,discount_value:0,invoice:{inventory:[],prescription:[],procedure:[],payments:[]},paidAmount:0},s={};return t.current>1&&(s=Pn({},e.paidAmountForPaymentMode),n=Pn({},e.finalRow)),t.results.length&&t.results.forEach((function(t){t.inventory.forEach((function(e){a.push(Pn(Pn({},e),{},{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),t.prescription.forEach((function(e){a.push(Pn(Pn({},e),{},{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),t.procedure.forEach((function(e){a.push(Pn(Pn({},e),{},{invoice:t})),n.unit_cost+=e.unit_cost*e.unit,n.tax_value+=e.tax_value,n.discount_value+=e.discount_value,n.total+=e.total})),t.payments.forEach((function(t){n.paidAmount+=t.pay_amount,s[t.payment_mode]?s[t.payment_mode]+=t.pay_amount:s[t.payment_mode]=t.pay_amount}))})),t.count&&!t.next&&a.push(n),1==t.current?{loading:!1,dailySummary:a,nextItemPage:t.next,paidAmountForPaymentMode:s,finalRow:n}:{loading:!1,dailySummary:[...e.dailySummary,...a],nextItemPage:t.next,paidAmountForPaymentMode:s,finalRow:n}}))}),(function(){e.setState({loading:!1})}),a)}filterReport(t,e){this.setState((function(a){return{[t]:e}}),(function(){this.loadDailySummary()}))}render(){const t=this;let e=1,a=null,n=null,r=null,o=null,i=null,l=null;const c=[{title:"S. No",key:"sno",dataIndex:"abcd",align:"center",render:(t,n,r)=>{const o={props:{}};return n.invoice.invoice_id==a?o.props.rowSpan=0:(a=n.invoice.invoice_id,o.children="FINAL"==n.type?"--":s.a.createElement("span",null," ",e++),o.props.rowSpan=n.invoice.inventory.length+n.invoice.prescription.length+n.invoice.procedure.length,"FINAL"==n.type&&(o.props.rowSpan=1)),o},width:50},{title:"Patient Name",key:"patient_name",dataIndex:"invoice.patient_data.user.first_name",render:(t,e,a)=>{const r={props:{}};if(e.invoice.invoice_id==n)r.props.rowSpan=0;else{n=e.invoice.invoice_id;const a=e.invoice.payments.map(t=>t.pay_amount).reduce((t,e)=>t+e,0).toFixed(2);r.children="FINAL"==e.type?"--":s.a.createElement("span",null,s.a.createElement("b",null,t," (",e.invoice.patient_data.custom_id,")"),s.a.createElement("br",null),s.a.createElement("span",null,"Invoice Income: ",s.a.createElement(In,{type:"danger"},"INR ",e.invoice.total.toFixed(2))),s.a.createElement("br",null),s.a.createElement("span",null,"Total Payment: ",s.a.createElement(In,{type:"danger"},"INR ",a)),s.a.createElement("br",null),s.a.createElement("span",null,"Amount Due: ",s.a.createElement(In,{type:"danger"},"INR ",(e.invoice.total-a).toFixed(2))),s.a.createElement("br",null),s.a.createElement("span",null,"Status: ",s.a.createElement(In,{type:e.invoice.is_pending?"danger":"success"}," ",e.invoice.is_pending?"Unpaid":"Paid"))),r.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(r.props.rowSpan=1)}return r}},{title:"Treatment & Products",dataIndex:"name",key:"name"},{title:"Cost (INR)",key:"unit_cost",dataIndex:"unit_cost",align:"right",render:(t,e)=>e.unit_cost?s.a.createElement("span",null,(e.unit_cost.toFixed(2)*e.unit).toFixed(2),"FINAL"==e.type?null:s.a.createElement("span",null,s.a.createElement("br",null),s.a.createElement("small",null,e.unit_cost.toFixed(2),"x",e.unit))):"--"},{title:"Discount (INR)",key:"discount_value",dataIndex:"discount_value",align:"right",render:(t,e)=>s.a.createElement("span",null,t?t.toFixed(2):"")},{title:"Tax",dataIndex:"tax_value",key:"taxes",align:"right",render:(t,e)=>s.a.createElement("span",null,t?t.toFixed(2):"")},{title:"Invoice No.",key:"invoice_id",dataIndex:"invoice.invoice_id",render:(t,e)=>s.a.createElement("span",null,t,s.a.createElement("br",null),s.a.createElement("small",null,e.invoice.date))},{title:"Invoice Cost (INR)",key:"invoice_cost",dataIndex:"total",align:"right",render:(t,e)=>s.a.createElement("span",null,t?t.toFixed(2):"")},{title:"Receipt No",key:"payment_data.payment_id",dataIndex:"",render:(t,e,a)=>{const n={props:{}};return e.invoice.invoice_id==r?n.props.rowSpan=0:(r=e.invoice.invoice_id,n.children=s.a.createElement("span",null,e.invoice.payments.map(t=>s.a.createElement("span",null,t.payment_id,s.a.createElement("br",null)))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1)),n}},{title:"Mode Of Payment",key:"mode_of_payments",dataIndex:"payment_mode",align:"center",render:(t,e,a)=>{const n={props:{}};return e.invoice.invoice_id==o?n.props.rowSpan=0:(o=e.invoice.invoice_id,n.children=s.a.createElement("span",null,e.invoice.payments.map(t=>s.a.createElement("span",null,t.payment_mode||"--",s.a.createElement("br",null)))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1)),n}},{title:"Amount Paid (INR)",key:"amount_paid",dataIndex:"pay_amount",align:"right",render:(t,e,a)=>{const n={props:{}};return e.invoice.invoice_id==i?n.props.rowSpan=0:(i=e.invoice.invoice_id,n.children=s.a.createElement("span",null,e.invoice.payments.map(t=>s.a.createElement("span",null,t.pay_amount.toFixed(2)||"--",s.a.createElement("br",null)))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1,n.children=s.a.createElement("span",null,e.paidAmount.toFixed(2)))),n}},{title:"Total Amount Paid",key:"total_amount_paid",dataIndex:"total",align:"right",render:(t,e,a)=>{const n={props:{}};return e.invoice.invoice_id==l?n.props.rowSpan=0:(l=e.invoice.invoice_id,n.children=s.a.createElement("span",null,e.invoice.payments.map(t=>s.a.createElement("b",null,t.pay_amount.toFixed(2)||"--",s.a.createElement("br",null)))),n.props.rowSpan=e.invoice.inventory.length+e.invoice.prescription.length+e.invoice.procedure.length,"FINAL"==e.type&&(n.props.rowSpan=1,n.children=s.a.createElement("span",null,e.paidAmount.toFixed(2)))),n}}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Daily Summary Report"),s.a.createElement(y.a,{bodyStyle:{padding:0},extra:s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Only UnPaid : "),s.a.createElement(N.a,{style:{minWidth:"200px"},onChange:t=>this.filterReport("unpaid",t.target.checked)}),"  ",s.a.createElement("span",null,"Doctors : "),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:t=>this.filterReport("doctors",t)},this.state.practiceDoctors.map(t=>s.a.createElement(d.a.Option,{key:t.id,value:t.id},t.user.first_name))),"  ",s.a.createElement("span",null,"E-Mail To: ",s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))},s.a.createElement(M.a,{bordered:!0,rowKey:(t,e)=>e,columns:c,dataSource:this.state.dailySummary,pagination:!1}),s.a.createElement(Oe.a,{loaderFunction:()=>this.loadDailySummary(this.state.nextItemPage),loading:this.state.loading,hidden:!this.state.nextItemPage}),this.state.nextItemPage?null:s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:6,style:{margin:15}},s.a.createElement("h4",null,"Amount Total by Mode of Payments"),s.a.createElement(Mn.a,{size:"small",dataSource:Object.keys(this.state.paidAmountForPaymentMode).map(t=>({payment_mode:t||"--",value:0})),renderItem:e=>s.a.createElement(Mn.a.Item,null,s.a.createElement(Mn.a.Item.Meta,{title:e.payment_mode||"--"}),s.a.createElement("span",null,"INR ",t.state.paidAmountForPaymentMode[e.payment_mode].toFixed(2)))}))))))}}function kn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class wn extends s.a.Component{constructor(t){super(t),kn(this,"loadBedBookingReport",(t=1)=>{const e=this;this.setState({loading:!0});const a={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),page:t,practice:this.props.active_practiceId};this.props.payment_status&&(a.payment_status=this.props.payment_status),this.props.type&&(a.type=this.props.type),this.props.bed_packages&&(a.bed_packages=this.props.bed_packages.join(",")),Object(x.c)(b.A,(function(t){1==t.current?e.setState({bedBookingReports:t.results,loading:!1,nextReport:t.next}):e.setState((function(e){return{bedBookingReports:[...e.bedBookingReports,...t.results],loading:!1,nextReport:t.next}}))}),(function(){e.setState({loading:!1})}),a)}),kn(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,report_type:this.props.report_type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(b.A,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:this.props.mailingUsersList},this.loadBedBookingReport=this.loadBedBookingReport.bind(this)}componentDidMount(){this.loadBedBookingReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(e,a)=>{t++},width:50},{title:"Patient Name",key:"patient",dataIndex:"patient",render:t=>t?s.a.createElement("span",null,t.user.first_name," (",t.custom_id,")"):null},{title:"Package Name",key:"name",dataIndex:"bed_package.name"},{title:"Medicine Package",key:"medicine",dataIndex:"medicines",render:(t,e)=>s.a.createElement("span",null,t.map(t=>s.a.createElement(se.a,null,t.name)))},{title:"From ",key:"from_date",render:(t,e)=>s.a.createElement("span",null,c()(e.from_date).format("LL"))},{title:"To ",key:"to_date",render:(t,e)=>s.a.createElement("span",null,c()(e.to_date).format("LL"))},{title:"Seat/Bed Type",key:"seat_type",dataIndex:"seat_type"},{title:"Seat Number",key:"seat_no",dataIndex:"seat_no"},{title:"Total price",key:"total_price",dataIndex:"total_price",render:t=>s.a.createElement("p",null,t.toFixed(2))},{title:"Payment Status",key:"payment_status",dataIndex:"payment_status"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Seat/Bed Booking Report",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(F.a,{hideReport:!0,pagination:!1,columns:e,dataSource:this.state.bedBookingReports}),s.a.createElement(Oe.a,{loaderFunction:()=>this.loadBedBookingReport(this.state.nextReport),loading:this.state.loading,hidden:!this.state.nextReport})))}}var Rn=a(1596);function Cn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Rn.a.confirm;class An extends s.a.Component{constructor(t){super(t),Cn(this,"loadBedBookingReport",()=>{const t=this;this.setState({loading:!0});const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId,report_type:this.props.report_type};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),Object(x.c)(b.A,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Cn(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,report_type:this.props.report_type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(b.A,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:this.props.mailingUsersList},this.loadBedBookingReport=this.loadBedBookingReport.bind(this)}componentDidMount(){this.loadBedBookingReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("DD MMM ")),export:(t,e)=>c()(e.date).format("DD MMM ")},{title:"Total Booking",key:"count",dataIndex:"count"},{title:"Amount (INR)",key:"amount",dataIndex:"total"}],a=({x:t,y:e,stroke:a,value:n})=>s.a.createElement("text",{x:t,y:e,dy:-4,fill:"#666",fontSize:18,textAnchor:"middle"},n),n=this.state.bedBookingReports.reduce((function(t,e){return t+e.total}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Daily Booking Count",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?s.a.createElement(w.h,{width:1e3,height:300,data:[...this.state.bedBookingReports].reverse(),margin:{top:5,right:30,left:20,bottom:55}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Bookings",angle:-90,position:"insideLeft"}}),s.a.createElement(w.b,{strokeDasharray:"3 3"}),s.a.createElement(w.m,null),s.a.createElement(w.g,{type:"monotone",dataKey:"count",stroke:"#1DA57A",strokeWidth:4,label:s.a.createElement(a,null)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total Amounts",value:n||"0.00"})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.bedBookingReports}))}}function Ln(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Rn.a.confirm;class Tn extends s.a.Component{constructor(t){super(t),Ln(this,"loadBedBookingReport",()=>{const t=this;this.setState({loading:!0});const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),practice:this.props.active_practiceId,report_type:this.props.report_type};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),Object(x.c)(b.A,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Ln(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,report_type:this.props.report_type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(b.A,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,bedBookingReports:[],packages:[],mailingUsersList:this.props.mailingUsersList},this.loadBedBookingReport=this.loadBedBookingReport.bind(this)}componentDidMount(){this.loadBedBookingReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Month",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("MMM YYYY")),export:(t,e)=>c()(e.date).format("MMM YYYY")},{title:"Total Booking",key:"count",dataIndex:"count"},{title:"Amount (INR)",key:"amount",dataIndex:"total"}],a=this.state.bedBookingReports.reduce((function(t,e){return t+e.total}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Monthly Booking Count",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:[...this.state.bedBookingReports].reverse(),margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("MMM YY")}),s.a.createElement(w.o,null),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"count",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total Amounts",value:a||"0.00"})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.bedBookingReports}))}}function Nn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Rn.a.confirm;class Fn extends s.a.Component{constructor(t){super(t),Nn(this,"loadBedBookingReport",()=>{const t=this;this.setState({loading:!0});const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),report_type:this.props.report_type,practice:this.props.active_practiceId};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),Object(x.c)(b.A,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Nn(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),Nn(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,report_type:this.props.report_type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(b.A,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,bedBookingReports:[],packages:[],activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadBedBookingReport=this.loadBedBookingReport.bind(this)}componentDidMount(){this.loadBedBookingReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Medicine Name",key:"name",dataIndex:"medicine"},{title:"Total Medicine",key:"count",dataIndex:"count"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.bedBookingReports.reduce((function(t,e){return t+e.count}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Medicine Usage Count",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.medicine,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.bedBookingReports,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.bedBookingReports.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total Amounts",value:n})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.bedBookingReports}))}}function Un(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Bn extends s.a.Component{constructor(t){super(t),Un(this,"loadBedBookingReport",()=>{const t=this;t.setState({loading:!0});const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),report_type:this.props.report_type,practice:this.props.active_practiceId};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),Object(x.c)(b.A,(function(e){t.setState({bedBookingReports:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Un(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),Un(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,report_type:this.props.report_type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.payment_status&&(e.payment_status=this.props.payment_status),this.props.type&&(e.type=this.props.type),this.props.bed_packages&&(e.bed_packages=this.props.bed_packages.join(",")),e.mail_to=t,Object(O.j)(b.A,e)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,bedBookingReports:[],packages:[],activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadBedBookingReport=this.loadBedBookingReport.bind(this)}componentDidMount(){this.loadBedBookingReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.bed_packages==t.bed_packages&&this.props.payment_status==t.payment_status&&this.props.type==t.type||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadBedBookingReport()}))}render(){let t=1;const e=[{title:"S. No",key:"sno",dataIndex:"sno",render:(e,a)=>s.a.createElement("span",null," ",t++),export:(t,e,a)=>a+1,width:50},{title:"Bed Package Name",key:"bed_package",dataIndex:"bed_package"},{title:"Total Bed Package",key:"count",dataIndex:"count"}],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],n=this.state.bedBookingReports.reduce((function(t,e){return t+e.count}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Bed Booking Package Count",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.bedBookingReports.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.bed_package,",").concat(d.count)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.bedBookingReports,cx:300,dataKey:"count",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.bedBookingReports.map((t,e)=>s.a.createElement(w.c,{fill:a[e%a.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total Amounts",value:n})),s.a.createElement(F.a,{loading:this.state.loading,columns:e,dataSource:this.state.bedBookingReports}))}}function Wn(){return(Wn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function Gn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class zn extends s.a.Component{constructor(t){super(t),Gn(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),Gn(this,"loadPackages",()=>{const t=this;Object(x.c)(Object(x.g)(b.B,[this.props.active_practiceId]),(function(e){t.setState({packages:e})}),(function(){}))}),Gn(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),Gn(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),this.state={report_type:"ALL",sidePanelColSpan:4,advancedOptionShow:!0,packages:[]},this.loadPackages=this.loadPackages.bind(this)}componentDidMount(){this.loadPackages()}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Bed Booking Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.report_type==v.d?s.a.createElement(wn,Wn({},this.props,this.state)):null,this.state.report_type==v.G?s.a.createElement(An,Wn({},this.props,this.state)):null,this.state.report_type==v.pb?s.a.createElement(Tn,Wn({},this.props,this.state)):null,this.state.report_type==v.kb?s.a.createElement(Fn,Wn({},this.props,this.state)):null,this.state.report_type==v.x?s.a.createElement(Bn,Wn({},this.props,this.state)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.d,onChange:t=>this.onChangeHandle("report_type",t)},s.a.createElement("h2",null,"Bed Booking"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.d},"All Bookings"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.m.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options "),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Bed Package"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Bed Package",onChange:t=>this.handleChangeOption("bed_packages",t)},this.state.packages.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Type"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select type",defaultValue:v.d,onChange:t=>this.handleChangeOption("type",t)},s.a.createElement(d.a.Option,{value:""},v.d),_.xb.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.label))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Payment Status"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Payment Status",defaultValue:v.d,onChange:t=>this.handleChangeOption("payment_status",t)},s.a.createElement(d.a.Option,{value:""},v.d),_.Ib.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.label))))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options ")))))}}var Kn=a(459);function Hn(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Vn(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Hn(Object(a),!0).forEach((function(e){qn(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Hn(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function qn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Jn extends s.a.Component{constructor(t){super(t),qn(this,"loadInventoryRetails",()=>{const t=this;t.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.manufacturers&&(e.manufacturers=this.props.manufacturers.toString()),this.props.suppliers&&(e.suppliers=this.props.suppliers.toString()),Object(x.c)(b.Zb,(function(e){const a=[];e.forEach((function(t){const e=Vn({},t);e.profit=(t.total-t.cost-t.tax).toFixed(2),a.push(e)})),t.setState({inventoryReports:a,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),qn(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.patient_groups&&(e.groups=this.props.patient_groups.toString()),this.props.products&&(e.products=this.props.products.toString()),this.props.doctors&&(e.doctors=this.props.doctors.toString()),this.props.manufacturers&&(e.manufacturers=this.props.manufacturers.toString()),this.props.suppliers&&(e.suppliers=this.props.suppliers.toString()),e.mail_to=t,Object(O.j)(b.Zb,e)}),this.state={inventoryReports:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadInventoryRetails=this.loadInventoryRetails.bind(this)}componentDidMount(){this.loadInventoryRetails()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.products==t.products&&this.props.doctors==t.doctors&&this.props.manufacturers==t.manufacturers&&this.props.suppliers==t.suppliers&&this.props.patient_groups==t.patient_groups||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadInventoryRetails()}))}render(){const t=this.state.inventoryReports,e=[];let a=0,n=0,r=0,i=0,l=0;for(let e=0;e<t.length;e++)n+=t[e].cost,r+=t[e].tax,a+=t[e].total,i+=t[e].total-t[e].cost,l+=t[e].total-t[e].cost-t[e].tax;e.push({sale_amount:a,tax_amount:r,cost_amount:n,profit_before_tax:i,profit_after_tax:l});const p=[{title:"Total Sales (INR)",key:"sale_amount",dataIndex:"sale_amount",render:(t,e)=>s.a.createElement("span",null,e.sale_amount.toFixed(2))},{title:"Total Cost (INR)",key:"cost_amount",dataIndex:"cost_amount",render:(t,e)=>s.a.createElement("span",null,e.cost_amount.toFixed(2))},{title:"Total Profit before Tax(INR)",key:"tax_with_out",dataIndex:"profit_before_tax",render:(t,e)=>s.a.createElement("span",null,e.profit_before_tax.toFixed(2))},{title:"Total Tax(INR)",key:"tax_amount",dataIndex:"tax_amount",render:(t,e)=>s.a.createElement("span",null,e.tax_amount.toFixed(2))},{title:"Total Profit after Tax(INR)",key:"tax_with",dataIndex:"profit_after_tax",render:(t,e)=>s.a.createElement("span",null,e.profit_after_tax.toFixed(2))}],m=this.state.inventoryReports,u=[];for(let t=1;t<=m.length;t++)u.push(Vn({s_no:t},m[t-1]));const h=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("YYYY-MM-DD"))},{title:"Sales (INR)",key:"sale_amount",dataIndex:"total",render:(t,e)=>s.a.createElement("span",null,e.total.toFixed(2))},{title:"Cost",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Profit before Tax(INR)",key:"tax_with_out",render:(t,e)=>s.a.createElement("span",null,(e.total-e.cost).toFixed(2))},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax.toFixed(2))},{title:"Profit after Tax(INR)",key:"tax_with",render:(t,e)=>s.a.createElement("span",null,(e.total-e.cost-e.tax).toFixed(2))}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Profit Loss",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:this.state.loading},u.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:u,margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("DD MMM"),label:{value:"Data Range",offset:0,margin:{top:10},position:"insideBottom"}}),s.a.createElement(w.o,{label:{value:"Sales Profit",angle:-90,position:"insideLeft"}}),s.a.createElement(w.o,null),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"profit",barSize:35,fill:"#0059b3",stroke:"#0059b3",label:({payload:t,x:e,y:a,width:n,height:r,value:o})=>s.a.createElement("text",{x:e+n/2,y:a,fill:"#666",textAnchor:"middle",dy:-6},o)})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(M.a,{loading:this.state.loading,columns:p,pagination:!1,dataSource:e}),s.a.createElement(M.a,{loading:this.state.loading,columns:h,pagination:!1,dataSource:u}))}}function Xn(){return(Xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function Qn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Zn extends s.a.Component{constructor(t){super(t),Qn(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),Qn(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),Qn(this,"onChangeCheckbox",t=>{this.setState({exclude_cancelled:!this.state.exclude_cancelled})}),Qn(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),this.state={sidePanelColSpan:4,startDate:this.props.startDate,endDate:this.props.endDate,advancedOptionShow:!0,manufacturesOption:[],productsOption:[],suppliersOption:[],practiceDoctors:[],patientGroup:[]},this.loadManufactures=this.loadManufactures.bind(this),this.loadProducts=this.loadProducts.bind(this),this.loadSuppliers=this.loadSuppliers.bind(this),this.loadPatientGroup=this.loadPatientGroup.bind(this),Object(O.e)(this)}componentDidMount(){this.loadManufactures(),this.loadProducts(),this.loadSuppliers(),this.loadPatientGroup()}loadPatientGroup(){const t=this;Object(x.c)(Object(x.g)(b.md,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}loadManufactures(){const t=this;Object(x.c)(b.tc,(function(e){t.setState({manufacturesOption:e})}),(function(){}))}loadSuppliers(){const t=this,e={practice:this.props.active_practiceId};Object(x.c)(b.Pe,(function(e){t.setState({suppliersOption:e})}),(function(){}),e)}loadProducts(){const t=this,e={practice:this.props.active_practiceId};Object(x.c)(b.Ld,(function(e){t.setState({productsOption:e})}),(function(){}),e)}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Inventory Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},s.a.createElement(Jn,Xn({},this.state,this.props))),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.d},s.a.createElement("h2",null,"Inventory Retails"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.d},"Profit Loss"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports")),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options "),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Patient Groups"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:t=>this.handleChangeOption("patient_groups",t)},this.state.patientGroup.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("h4",null,"Doctors"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:t=>this.handleChangeOption("doctors",t)},this.state.practiceDoctors.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Products"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Products",onChange:t=>this.handleChangeOption("products",t)},this.state.productsOption.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Manufactures"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Manufacturers",onChange:t=>this.handleChangeOption("manufacturers",t)},this.state.manufacturesOption.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Suppliers"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Suppliers",onChange:t=>this.handleChangeOption("suppliers",t)},this.state.suppliersOption.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options ")))))}}function $n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ts(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(a),!0).forEach((function(e){es(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function es(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class as extends s.a.Component{constructor(t){super(t),es(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.agents&&(e.agents=this.props.agents.toString()),e.mail_to=t,Object(O.j)(b.Yc,e)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadMlmReport=this.loadMlmReport.bind(this)}componentDidMount(){this.loadMlmReport()}UNSAFE_componentWillReceiveProps(t){const e=this;this.props.startDate===t.startDate&&this.props.endDate===t.endDate&&this.props.agents===t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}loadMlmReport(){const t=this;this.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:this.props.type};this.props.agents&&(e.agents=this.props.agents.toString()),Object(x.c)(b.Yc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this.state.report,e=[];for(let a=1;a<=t.length;a++)e.push(ts({s_no:a},t[a-1]));const a=e.reduce((function(t,e){return t+e.total}),0),n=["#0088FE","#00C49F","#FFBB28","#FF8042"];return s.a.createElement("div",null,s.a.createElement("h2",null,"Margin Type wise",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},e.length>0&&a?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{label:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=Math.sin(-e*r),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.margin,",").concat(d.total)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8"},e.map((t,e)=>s.a.createElement(w.c,{fill:n[e%n.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(F.a,{loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Name",key:"name",dataIndex:"margin"},{title:"Total Amount",key:"amount",dataIndex:"total"}],dataSource:e}))}}function ns(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ss(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ns(Object(a),!0).forEach((function(e){rs(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ns(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function rs(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const os=Sn.a.Text;class is extends s.a.Component{constructor(t){super(t),rs(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),rs(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:"TRANSFER"};this.props.agents&&(e.agents=this.props.agents.toString()),e.mail_to=t,Object(O.j)(b.Yc,e)}),this.state={report:[],reportSummary:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadMlmReport=this.loadMlmReport.bind(this)}componentDidMount(){this.loadMlmReport()}UNSAFE_componentWillReceiveProps(t){const e=this;this.props.startDate===t.startDate&&this.props.endDate===t.endDate&&this.props.agents===t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}loadMlmReport(){const t=this;this.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD"),type:"TRANSFER"};this.props.agents&&(e.agents=this.props.agents.toString()),Object(x.c)(b.Yc,(function(e){t.setState({report:e.data,reportSummary:e.summary,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.report,a=[];for(let t=1;t<=e.length;t++)a.push(ss({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",dataIndex:"created_at",key:"created_at",render:(t,e)=>s.a.createElement("span",null,c()(e.schedule_at).format("LLL")," "),export:(t,e)=>c()(e.schedule_at).format("LLL")},{title:"Advisor Name",dataIndex:"patient.user.first_name",key:"name",export:(t,e)=>e.patient.user.first_name},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),export:(t,e)=>e.patient.user.mobile},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),export:(t,e)=>e.patient.user.email},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:(t,e)=>e.patient.gender},{title:"Amount (INR)",dataIndex:"amount",key:"amount",render:(t,e)=>e.is_cancelled?s.a.createElement(os,{delete:!0},t):t},{title:"Amount Type",dataIndex:"amount_type",key:"amount_type"},{title:"Cr/Dr",dataIndex:"ledger_type",key:"ledger_type",render:(t,e)=>e.is_cancelled?s.a.createElement(os,{delete:!0},t):t},{title:"Margin",key:"mlm",dataIndex:"mlm"},{title:"Ledger Comment",dataIndex:"comments",key:"comments"}],r=["#0088FE","#00C49F","#FFBB28","#FF8042"];return s.a.createElement("div",null,s.a.createElement("h2",null,"ALl MLM",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:this.state.loading},this.state.reportSummary.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:this.state.activeIndex,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=Math.sin(-e*r),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.ledger_type,",").concat(d.total)),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:this.state.reportSummary,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},this.state.reportSummary.map((t,e)=>s.a.createElement(w.c,{fill:r[e%r.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(F.a,{loading:this.state.loading,columns:n,dataSource:a}))}}function ls(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function cs(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ls(Object(a),!0).forEach((function(e){ps(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ls(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ps(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ds extends s.a.Component{constructor(t){super(t),ps(this,"sendMail",t=>{const e={practice:this.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.agents&&(e.agents=this.props.agents.toString()),e.mail_to=t,Object(O.j)(b.Xc,e)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadMlmReport=this.loadMlmReport.bind(this)}componentDidMount(){this.loadMlmReport()}UNSAFE_componentWillReceiveProps(t){const e=this;this.props.startDate===t.startDate&&this.props.endDate===t.endDate&&this.props.agents===t.agents||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMlmReport()}))}loadMlmReport(){const t=this;this.setState({loading:!0});const e={practice:t.props.active_practiceId,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.agents&&(e.agents=this.props.agents.toString()),Object(x.c)(b.Xc,(function(e){t.setState({report:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.report,a=[];console.log({report:e});for(let t=1;t<=e.length;t++)a.push(cs({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Advisor Name",dataIndex:"patient.user.first_name",key:"name",export:(t,e)=>e.patient.user.first_name},{title:"Mobile Number",key:"patient.user.mobile",dataIndex:"patient.user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),export:(t,e)=>e.patient.user.mobile},{title:"Email",key:"patient.user.email",dataIndex:"patient.user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),export:(t,e)=>e.patient.user.email},{title:"Gender",key:"gender",dataIndex:"patient.gender",export:(t,e)=>e.patient.gender},{title:"Refundable Amount",dataIndex:"refundable_amount",key:"refundable_amount",render:(t,e)=>s.a.createElement("span",null,e.refundable_amount?e.refundable_amount.toFixed(2):"0.00")},{title:"Non Refundable Amount",dataIndex:"non_refundable",key:"non_refundable",render:(t,e)=>s.a.createElement("span",null,e.non_refundable?e.non_refundable.toFixed(2):"0.00")}],r=this.state.report.reduce((function(t,e){return t+e.refundable_amount}),0),o=this.state.report.reduce((function(t,e){return t+e.non_refundable}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Wallet Balance Amount",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:12},s.a.createElement(S.a,{title:"Total Refundable Amount(INR)",value:r?r.toFixed(2):"0.00"})),s.a.createElement(f.a,{span:12},s.a.createElement(S.a,{title:"Total Non Refundable Amount(INR)",value:o?o.toFixed(2):"0.00"}))))),s.a.createElement(F.a,{loading:this.state.loading,columns:n,dataSource:a}))}}s.a.Component;var ms=a(1580),us=a(448),hs=a(1523),gs=a.n(hs);a(1524);y.a.Meta;class ys extends s.a.Component{constructor(t){super(t),this.state={agentData:{},agentTreeData:{},loading:!1},this.loadAgentTree=this.loadAgentTree.bind(this)}componentDidMount(){this.props.agents&&this.loadAgentTree()}componentWillReceiveProps(t){this.props.agents!=t.agents&&this.setState({startDate:t.startDate,endDate:t.endDate},(function(){this.props.agents&&this.loadAgentTree()}))}loadAgentTree(){const t=this;t.setState({loading:!0});Object(x.c)(Object(x.g)(b.g,[t.props.agents]),(function(e){t.setState({agentData:e,loading:!1},(function(){t.setState({agentTreeData:this.general_list(0,e[0][0]),loading:!1})}))}),(function(){t.setState({loading:!1})}))}ref_data_level(t,e){const a=this.state.agentData;return a[e.toString()]?a[e.toString()].filter((function(e){return e.user.referer==t})):[]}general_list(t,e){const a=this.ref_data_level(e.user.id,t+1);for(const e in a)a[e]=this.general_list(t+1,a[e]);return e.children=a,e}render(){return s.a.createElement("div",{style:{background:"#f0f2f5",paddingBottom:"20px"}},s.a.createElement("h2",{style:{padding:"10px"}},"Advisor Tree"),s.a.createElement("div",{style:{width:"100%",overflowX:"scroll"}},s.a.createElement(gs.a,{tree:this.state.agentTreeData,NodeComponent:Es})))}}const Es=function({node:t}){return s.a.createElement("div",null,t.user?s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{style:{margin:"auto",height:160,width:160},bodyStyle:{padding:5,overflow:"hidden"},hoverable:!0},s.a.createElement(E.a,null,s.a.createElement(f.a,{span:24},t.image?s.a.createElement(ms.a,{src:Object(x.h)(t.image),size:50}):s.a.createElement(ms.a,{style:{backgroundColor:"#87d068"},size:50},t.user.first_name?t.user.first_name.charAt(0):s.a.createElement(us.a,{type:"user"}))),s.a.createElement(f.a,{span:24},t.user.first_name),s.a.createElement(f.a,{span:24},s.a.createElement("span",null,t.is_approved?s.a.createElement(se.a,{color:"#87d068"},"Approved"):s.a.createElement(se.a,{color:"#f50"},"Not Approved"),s.a.createElement("br",null),t.user.mobile,s.a.createElement("br",null),t.user.email))))):null)};function fs(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ds(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?fs(Object(a),!0).forEach((function(e){bs(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):fs(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function bs(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class _s extends s.a.Component{constructor(t){super(t),bs(this,"sendMail",t=>{const e={pd_doctor:1};e.mail_to=t;Object(O.j)(b.cd,e,(function(t){}),(function(t){}))}),this.state={advisorList:[],loading:!1,searchText:"",mailingUsersList:this.props.mailingUsersList},this.getAdvisorPatient=this.getAdvisorPatient.bind(this),this.search=this.search.bind(this)}componentDidMount(){this.getAdvisorPatient(),this.search()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.agents==t.agents||this.setState({startDate:t.startDate,endDate:t.endDate,agents:t.agents},(function(){e.search()}))}getAdvisorPatient(t=1){const e=this;e.setState({loading:!0});const a={page:t};this.state.searchString&&(a.name=this.state.searchString);Object(x.c)(b.cd,(function(t){1==t.current&&e.state.searchString==a.name?e.setState({advisorList:t.results,next:t.next,loading:!1}):e.setState((function(e){return{advisorList:[...e.advisorList,...t.results],next:t.next,loading:!1}}))}),(function(){e.setState({loading:!1})}),a)}search(){const t=this;t.setState({loading:!0});let e={start:c()(this.state.startDate).format("YYYY-MM-DD"),end:c()(this.state.endDate).format("YYYY-MM-DD"),referred_by:this.props.agents?this.props.agents:""};Object(x.c)(b.cd,(function(e){t.setState({advisorList:e.results,next:e.next,loading:!1})}),(function(){t.setState({loading:!1})}),e)}render(){const t=this,e=this.state.advisorList,a=[];console.log({advisorList:e});for(let t=1;t<=e.length;t++)a.push(Ds({s_no:t},e[t-1]));const n=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Patient Name",dataIndex:"user.first_name",key:"first_name"},{title:"Referred By",dataIndex:"user.referer",key:"referer"},{title:"Patient Number",key:"id",render:(t,e)=>s.a.createElement("span",null,e.custom_id?e.custom_id:e.id),exports:(t,e)=>e.custom_id?e.custom_id:e.id},{title:"Added On",key:"created at",render:(t,e)=>s.a.createElement("span",null,c()(e.created_at).format("LL")),exports:(t,e)=>c()(e.created_at).format("LL")},{title:"Mobile Number",key:"user.mobile",dataIndex:"user.mobile",render:e=>t.props.activePracticePermissions.PatientPhoneNumber?e:Object(vt.b)(e),exports:t=>t},{title:"Email",key:"user.email",dataIndex:"user.email",render:e=>t.props.activePracticePermissions.PatientEmailId?e:Object(vt.a)(e),exports:t=>t},{title:"Gender",key:"gender",dataIndex:"gender"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Adivsor Patient",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{loading:this.state.loading,columns:n,dataSource:a,pagination:!1}),s.a.createElement(Oe.a,{loading:this.state.loading,hidden:!this.state.next,loaderFunction:()=>this.getAdvisorPatient(this.state.next)})))}}function xs(){return(xs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function vs(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ss extends s.a.Component{constructor(t){super(t),vs(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),vs(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),vs(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),this.state={type:"ALL",sidePanelColSpan:4,advancedOptionShow:!0,agentsOption:[],loading:!1,advisorList:[]},this.loadAgents=this.loadAgents.bind(this),this.loadAdvisor=this.loadAdvisor.bind(this)}componentDidMount(){this.loadAgents(),this.loadAdvisor()}loadAdvisor(){const t=this;Object(x.c)(b.cd,(function(e){t.setState({advisorList:e.results})}),(function(){}))}loadAgents(t){const e=this,a={agent:!0,practice:this.props.active_practiceId,type:this.props.type,name:t};Object(x.c)(b.cd,(function(t){e.setState({agentsOption:t.results,loading:!1})}),(function(){e.setState({loading:!1})}),a)}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"MLM Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.d?s.a.createElement(is,xs({},this.state,this.props)):null,this.state.type==v.hb?s.a.createElement(as,xs({},this.props,this.state)):null,this.state.type==v.c?s.a.createElement(ys,xs({},this.props,this.state)):null,this.state.type==v.Cc?s.a.createElement(ds,xs({},this.props,this.state)):null,this.state.type==v.lc?s.a.createElement(_s,xs({},this.props,this.state)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.d,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"MLM"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.d},"All MLM"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.ub.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options"),this.state.type==v.c||this.state.type==v.Cc||this.state.type==v.Sb||this.state.type==v.hb||this.state.type==v.d||this.state.type==v.lc?s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Advisor"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Advisor",showSearch:!0,optionFilterProp:"children",onSearch:t=>this.loadAgents(t),onChange:t=>this.handleChangeOption("agents",t),allowClear:!0},this.state.agentsOption.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name)))):null):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options")))))}}a(461);function Ms(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Os(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ms(Object(a),!0).forEach((function(e){Ps(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ms(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ps(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ys extends s.a.Component{constructor(t){super(t),Ps(this,"loadSuggestionsReport",()=>{const t=this;t.setState({loading:!0});const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.status&&(e.status=this.props.status.toString()),Object(x.c)(b.Oe,(function(e){t.setState({report:e.results,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),Ps(this,"sendMail",t=>{const e={start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.props.status&&(e.status=this.props.status.toString()),e.mail_to=t,Object(O.j)(b.Oe,e,!0,!0)}),this.state={startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,report:[],mailingUsersList:this.props.mailingUsersList},this.loadSuggestionsReport=this.loadSuggestionsReport.bind(this)}componentDidMount(){this.loadSuggestionsReport()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.status==t.status||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadSuggestionsReport()}))}render(){const t=this.state.report,e=[];for(let a=1;a<=t.length;a++)e.push(Os({s_no:a},t[a-1]));const a=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Date",key:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.created_at).format("DD MMM YYYY")),export:(t,e)=>c()(e.created_at).format("DD MMM YYYY")},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",key:"email",dataIndex:"email"},{title:"Mobile",ket:"mobile",dataIndex:"mobile"},{title:"Subject",key:"subject",dataIndex:"subject"},{title:"Description",key:"description",dataIndex:"description"}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"All Suggestions",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6,style:{textAlign:"center"}},s.a.createElement(S.a,{title:"Total Suggestions",value:e.length}),s.a.createElement("br",null))),s.a.createElement(F.a,{loading:this.state.loading,columns:a,dataSource:e})))}}function Is(){return(Is=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function js(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ks extends s.a.Component{constructor(t){super(t),js(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),js(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),js(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),js(this,"onChangeCheckbox",t=>{this.setState({is_complete:!this.state.is_complete})}),this.state={type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0}}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Suggestions Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.d?s.a.createElement(Ys,Is({},this.state,this.props)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.d,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Suggestions"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.d},"All Suggestions"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"))))))}}function ws(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Rs(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ws(Object(a),!0).forEach((function(e){Cs(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ws(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Cs(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class As extends s.a.Component{constructor(t){super(t),Cs(this,"startLoading",()=>{this.setState({loading:!0})}),Cs(this,"stopLoading",()=>{this.setState({loading:!1})}),Cs(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString()),g.mail_to=t,Object(O.j)(b.Yd,g)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadReturnInvoice=this.loadReturnInvoice.bind(this)}componentDidMount(){this.loadReturnInvoice()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadReturnInvoice()}))}loadReturnInvoice(){const t=this;this.startLoading();const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString());Object(x.c)(b.Yd,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),g)}render(){const t=this.state,e=t.report,a=t.loading,n=[];for(let t=1;t<=e.length;t++)n.push(Rs({s_no:t},e[t-1]));const r=[{title:"S. No",key:"s_no",dataIndex:"s_no",render:(t,e)=>s.a.createElement("span",null," ",e.s_no),width:50},{title:"Date",key:"date",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"date"))},{title:"Patient Name",key:"patientName",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"patient_data.user.first_name"))},{title:"Patient Id",key:"patient_id",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"patient_data.custom_id"))},{title:"Return Id",key:"return_id",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"return_id"))},{title:"Return By",key:"returnBy",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"staff_data.user.first_name"))},{title:"Total Amount",key:"total",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"total",0).toFixed(2))},{title:"Return Amount",key:"return_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"return_value",0).toFixed(2))},{title:"Cash Return Amount",key:"cash_return",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"cash_return",0).toFixed(2))}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"All Returned Invoices",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{loading:a,rowKey:t=>t.s_no,pagination:!1,columns:r,expandedRowRender:t=>s.a.createElement(Ls,{record:[...t.inventory,...t.procedure]}),dataSource:n})))}}function Ls(t){const e=[{title:"Treatment & Products",key:"name",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"name"))},{title:"Cost",key:"cost",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"unit_cost",0).toFixed(2))},{title:"Unit",key:"unit",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"unit"))},{title:"Discount",key:"discount",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"discount_value",0).toFixed(2))},{title:"Tax",key:"tax",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"tax_value",0).toFixed(2))},{title:"Total",key:"total",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"total",0).toFixed(2))}];return(s.a.createElement("div",null,s.a.createElement(M.a,{columns:e,dataSource:nn.get(t,"record"),pagination:!1})))}function Ts(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ns(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ts(Object(a),!0).forEach((function(e){Fs(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ts(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Fs(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Us extends s.a.Component{constructor(t){super(t),Fs(this,"startLoading",()=>{this.setState({loading:!0})}),Fs(this,"stopLoading",()=>{this.setState({loading:!1})}),Fs(this,"loadMonthlyInvoiceReturn",()=>{const t=this;this.startLoading();const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString());Object(x.c)(b.Yd,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),g)}),Fs(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString()),g.mail_to=t,Object(O.j)(b.Yd,g)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadMonthlyInvoiceReturn=this.loadMonthlyInvoiceReturn.bind(this)}componentDidMount(){this.loadMonthlyInvoiceReturn()}componentWillReceiveProps(t){const e=this,a=this.props,n=a.startDate,s=a.endDate,r=a.patient_groups,o=a.doctors,i=a.income_type,l=a.taxes,c=a.discount,p=a.products,d=a.treatments,m=a.exclude_cancelled;n==t.startDate&&s==t.endDate&&r==t.patient_groups&&o==t.doctors&&i==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&d==t.treatments&&m==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadMonthlyInvoiceReturn()}))}render(){const t=this.state,e=t.report,a=t.loading,n=[];for(let t=1;t<=e.length;t++)n.push(Ns({s_no:t},e[t-1]));const r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("MM YYYY")),export:(t,e)=>c()(e.date).format("MM YYYY")},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:(t,e)=>s.a.createElement("span",null,e.discount.toFixed(2))},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax.toFixed(2))}];return(s.a.createElement("div",null,s.a.createElement("h2",null,"Monthly wise Return Invoice",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:a},n.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:n,margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("MM YYYY")}),s.a.createElement(w.o,{label:{value:"Return Invoice(INR)",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3"})):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(F.a,{loading:a,columns:r,dataSource:n})))}}function Bs(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Ws extends s.a.Component{constructor(t){super(t),Bs(this,"startLoading",()=>{this.setState({loading:!0})}),Bs(this,"stopLoading",()=>{this.setState({loading:!1})}),Bs(this,"loadEachProcedureInvoiceReturn",()=>{const t=this;this.startLoading();const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString());Object(x.c)(b.Yd,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),g)}),Bs(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),Bs(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString()),g.mail_to=t,Object(O.j)(b.Yd,g)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadEachProcedureInvoiceReturn=this.loadEachProcedureInvoiceReturn.bind(this)}componentDidMount(){this.loadEachProcedureInvoiceReturn()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProcedureInvoiceReturn()}))}render(){const t=this.state,e=t.loading,a=t.report,n=t.activeIndex,r=["#00C49F","#0088FE","#FFBB28","#FF8042"],i=a.reduce((function(t,e){return t+e.cost}),0),l=[{title:"Name",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"discount_value",0).toFixed(2))},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"tax_value",0).toFixed(2))},{title:"Cost",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"cost",0).toFixed(2))}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Return Invoice For Each Procedures",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:e},a.length>0?s.a.createElement(w.j,{width:1e3,height:400},s.a.createElement(w.i,{activeIndex:n,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,",").concat(d.cost.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:a,cx:400,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((t,e)=>s.a.createElement(w.c,{fill:r[e%r.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:i.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:l,dataSource:a}))}}function Gs(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class zs extends s.a.Component{constructor(t){super(t),Gs(this,"startLoading",()=>{this.setState({loading:!0})}),Gs(this,"stopLoading",()=>{this.setState({loading:!1})}),Gs(this,"loadEachProductInvoiceReturn",()=>{const t=this;this.startLoading();const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString());Object(x.c)(b.Yd,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),g)}),Gs(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString()),g.mail_to=t,Object(O.j)(b.Yd,g)}),Gs(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadEachProductInvoiceReturn=this.loadEachProductInvoiceReturn.bind(this)}componentDidMount(){this.loadEachProductInvoiceReturn()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.patient_groups==t.patient_groups&&this.props.doctors==t.doctors&&this.props.income_type==t.income_type&&this.props.taxes==t.taxes&&this.props.discount==t.discount&&this.props.products==t.products&&this.props.treatments==t.treatments&&this.props.exclude_cancelled==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachProductInvoiceReturn()}))}render(){const t=this.state,e=t.loading,a=t.report,n=t.activeIndex,r=["#0088FE","#00C49F","#FFBB28","#FF8042"],i=a.reduce((function(t,e){return t+e.cost}),0),l=[{title:"Name",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"discount_value",0).toFixed(2))},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"tax_value",0).toFixed(2))},{title:"Cost",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"cost",0).toFixed(2))}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Return Invoice For Each Products",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:e},a.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:n,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,",").concat(d.cost.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:a,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},a.map((t,e)=>s.a.createElement(w.c,{fill:r[e%r.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:i.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:l,dataSource:a}))}}function Ks(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Hs extends s.a.Component{constructor(t){super(t),Ks(this,"startLoading",()=>{this.setState({loading:!0})}),Ks(this,"stopLoading",()=>{this.setState({loading:!1})}),Ks(this,"loadEachDoctorInvoiceReturn",()=>{const t=this;this.startLoading();const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString());Object(x.c)(b.Yd,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),g)}),Ks(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),Ks(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString()),g.mail_to=t,Object(O.j)(b.Yd,g)}),this.state={report:[],practiceDoctors:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadEachDoctorInvoiceReturn=this.loadEachDoctorInvoiceReturn.bind(this),Object(O.e)(this)}componentDidMount(){this.loadEachDoctorInvoiceReturn()}componentWillReceiveProps(t){const e=this,a=this.props,n=a.startDate,s=a.endDate,r=a.patient_groups,o=a.doctors,i=a.income_type,l=a.taxes,c=a.discount,p=a.products,d=a.treatments,m=a.exclude_cancelled;n==t.startDate&&s==t.endDate&&r==t.patient_groups&&o==t.doctors&&i==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&d==t.treatments&&m==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachDoctorInvoiceReturn()}))}render(){const t=this.state,e=t.report,a=t.loading,n=t.activeIndex,r=t.practiceDoctors,i=["#0088FE","#00C49F","#FFBB28","#FF8042"],l=e.reduce((function(t,e){return t+e.cost}),0),c=[{title:"Doctor",key:"doctor",dataIndex:"doctor",render:(t,e)=>s.a.createElement("span",null,"NA"==e.doctor?s.a.createElement("span",null,"No Doctor assigned"):s.a.createElement(s.a.Fragment,null,r.map(t=>t.id==e.doctor?s.a.createElement("span",null,t.user.first_name):null)))},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"discount_value",0).toFixed(2))},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"tax_value",0).toFixed(2))},{title:"Cost",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"cost",0).toFixed(2))}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Return Invoice For Each Doctors",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:a},e.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:n,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,o=t.midAngle,i=t.innerRadius,l=t.outerRadius,c=t.startAngle,p=t.endAngle,d=t.fill,m=t.payload,u=t.percent,h=(t.value,Math.sin(-e*o)),g=Math.cos(-e*o),y=a+(l+10)*g,E=n+(l+10)*h,f=a+(l+30)*g,D=n+(l+30)*h,b=f+22*(g>=0?1:-1),_=D,x=g>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:c,endAngle:p,fill:d}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:c,endAngle:p,innerRadius:l+6,outerRadius:l+10,fill:d}),s.a.createElement("path",{d:"M".concat(y,",").concat(E,"L").concat(f,",").concat(D,"L").concat(b,",").concat(_),stroke:d,fill:"none"}),s.a.createElement("circle",{cx:b,cy:_,r:2,fill:d,stroke:"none"}),s.a.createElement("text",{x:b+12*(g>=0?1:-1),y:_,textAnchor:x,fill:"#333"},"NA"==m.doctor?"No Doctor assigned":s.a.createElement(s.a.Fragment,null,r.map(t=>t.id==m.doctor?s.a.createElement(s.a.Fragment,null,t.user.first_name):null))),s.a.createElement("text",{x:b+12*(g>=0?1:-1),y:_,dy:18,textAnchor:x,fill:"#999"},"(Rate ".concat((100*u).toFixed(2),"%)")))},data:e,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},e.map((t,e)=>s.a.createElement(w.c,{fill:i[e%i.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:l.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:c,dataSource:e}))}}function Vs(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class qs extends s.a.Component{constructor(t){super(t),Vs(this,"startLoading",()=>{this.setState({loading:!0})}),Vs(this,"stopLoading",()=>{this.setState({loading:!1})}),Vs(this,"loadEachPatientGroupInvoiceReturn",()=>{const t=this;this.startLoading();const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString());Object(x.c)(b.Yd,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),g)}),Vs(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString()),g.mail_to=t,Object(O.j)(b.Yd,g)}),Vs(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadEachPatientGroupInvoiceReturn=this.loadEachPatientGroupInvoiceReturn.bind(this)}componentDidMount(){this.loadEachPatientGroupInvoiceReturn()}componentWillReceiveProps(t){const e=this,a=this.props,n=a.startDate,s=a.endDate,r=a.patient_groups,o=a.doctors,i=a.income_type,l=a.taxes,c=a.discount,p=a.products,d=a.treatments,m=a.exclude_cancelled;n==t.startDate&&s==t.endDate&&r==t.patient_groups&&o==t.doctors&&i==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&d==t.treatments&&m==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachPatientGroupInvoiceReturn()}))}render(){const t=this.state,e=t.report,a=t.loading,n=t.activeIndex,r=["#00C49F","#0088FE","#00C49F","#FFBB28","#FF8042"],i=e.reduce((function(t,e){return t+e.cost}),0),l=[{title:"Patient Group",key:"name",dataIndex:"name"},{title:"Discount",key:"discount_value",dataIndex:"discount_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"discount_value",0).toFixed(2))},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"tax_value",0).toFixed(2))},{title:"Cost",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"cost",0).toFixed(2))}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Return Invoice For Each Patient Groups",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:a},e.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:n,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,",").concat(d.cost.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"cost",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},e.map((t,e)=>s.a.createElement(w.c,{fill:r[e%r.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:i.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:l,dataSource:e}))}}function Js(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class Xs extends s.a.Component{constructor(t){super(t),Js(this,"startLoading",()=>{this.setState({loading:!0})}),Js(this,"stopLoading",()=>{this.setState({loading:!1})}),Js(this,"loadEachTaxInvoiceReturn",()=>{const t=this;this.startLoading();const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString());Object(x.c)(b.Yd,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),g)}),Js(this,"onPieEnter",(t,e)=>{this.setState({activeIndex:e})}),Js(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString()),g.mail_to=t,Object(O.j)(b.Yd,g)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,activeIndex:0,mailingUsersList:this.props.mailingUsersList},this.loadEachTaxInvoiceReturn=this.loadEachTaxInvoiceReturn.bind(this)}componentDidMount(){this.loadEachTaxInvoiceReturn()}componentWillReceiveProps(t){const e=this,a=this.props,n=a.startDate,s=a.endDate,r=a.patient_groups,o=a.doctors,i=a.income_type,l=a.taxes,c=a.discount,p=a.products,d=a.treatments,m=a.exclude_cancelled;n==t.startDate&&s==t.endDate&&r==t.patient_groups&&o==t.doctors&&i==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&d==t.treatments&&m==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadEachTaxInvoiceReturn()}))}render(){const t=this.state,e=t.report,a=t.loading,n=t.activeIndex,r=["#0088FE","#00C49F","#FFBB28","#FF8042"],i=[{title:"Tax",key:"name",dataIndex:"name"},{title:"Tax",key:"tax_value",dataIndex:"tax_value",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"tax_value",0).toFixed(2))},{title:"Total",key:"total",dataIndex:"total",render:(t,e)=>s.a.createElement("span",null,nn.get(e,"total",0).toFixed(2))}],l=e.reduce((function(t,e){return t+e.total}),0);return s.a.createElement("div",null,s.a.createElement("h2",null,"Return Invoice For Each Taxes",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(E.a,null,s.a.createElement(f.a,{span:12,offset:6},s.a.createElement(o.a,{size:"large",spinning:a},e.length>0?s.a.createElement(w.j,{width:800,height:400},s.a.createElement(w.i,{activeIndex:n,activeShape:t=>{const e=Math.PI/180,a=t.cx,n=t.cy,r=t.midAngle,o=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,p=t.fill,d=t.payload,m=t.percent,u=(t.value,Math.sin(-e*r)),h=Math.cos(-e*r),g=a+(i+10)*h,y=n+(i+10)*u,E=a+(i+30)*h,f=n+(i+30)*u,D=E+22*(h>=0?1:-1),b=f,_=h>=0?"start":"end";return s.a.createElement("g",null,s.a.createElement(w.l,{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:l,endAngle:c,fill:p}),s.a.createElement(w.l,{cx:a,cy:n,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:p}),s.a.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(f,"L").concat(D,",").concat(b),stroke:p,fill:"none"}),s.a.createElement("circle",{cx:D,cy:b,r:2,fill:p,stroke:"none"}),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,textAnchor:_,fill:"#333"},"".concat(d.name,",").concat(d.total.toFixed(2))),s.a.createElement("text",{x:D+12*(h>=0?1:-1),y:b,dy:18,textAnchor:_,fill:"#999"},"(Rate ".concat((100*m).toFixed(2),"%)")))},data:e,cx:300,dataKey:"total",cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",onMouseEnter:this.onPieEnter},e.map((t,e)=>s.a.createElement(w.c,{fill:r[e%r.length]})))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})))),s.a.createElement(q.a,null,s.a.createElement(S.a,{title:"Total",value:l.toFixed(2)})),s.a.createElement(F.a,{loading:this.state.loading,columns:i,dataSource:e}))}}function Qs(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Zs(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Qs(Object(a),!0).forEach((function(e){$s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Qs(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function $s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class tr extends s.a.Component{constructor(t){super(t),$s(this,"startLoading",()=>{this.setState({loading:!0})}),$s(this,"stopLoading",()=>{this.setState({loading:!1})}),$s(this,"loadDailyInvoiceReturn",()=>{const t=this;this.startLoading();const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString());Object(x.c)(b.Yd,(function(e){t.setState({report:e}),t.stopLoading()}),(function(e){t.stopLoading()}),g)}),$s(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate,s=this.props,r=s.active_practiceId,o=s.type,i=s.exclude_cancelled,l=s.patient_groups,c=s.doctors,p=s.income_type,d=s.taxes,m=s.discount,u=s.products,h=s.treatments,g={practice:r,type:o,start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD"),is_cancelled:!!i};l&&(g.groups=l.toString()),c&&(g.doctors=c.toString()),p&&(g.income_type=p),h&&(g.treatments=h.toString()),m&&(g.discount=m),d&&(g.taxes=d.toString()),u&&(g.products=u.toString()),g.mail_to=t,Object(O.j)(b.Yd,g)}),this.state={report:[],startDate:this.props.startDate,endDate:this.props.endDate,loading:!1,mailingUsersList:this.props.mailingUsersList},this.loadDailyInvoiceReturn=this.loadDailyInvoiceReturn.bind(this)}componentDidMount(){this.loadDailyInvoiceReturn()}componentWillReceiveProps(t){const e=this,a=this.props,n=a.startDate,s=a.endDate,r=a.patient_groups,o=a.doctors,i=a.income_type,l=a.taxes,c=a.discount,p=a.products,d=a.treatments,m=a.exclude_cancelled;n==t.startDate&&s==t.endDate&&r==t.patient_groups&&o==t.doctors&&i==t.income_type&&l==t.taxes&&c==t.discount&&p==t.products&&d==t.treatments&&m==t.exclude_cancelled||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadDailyInvoiceReturn()}))}render(){const t=this.state,e=t.report,a=t.loading,n=[];for(let t=1;t<=e.length;t++)n.push(Zs({s_no:t},e[t-1]));const r=[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Day",key:"date",dataIndex:"date",render:(t,e)=>s.a.createElement("span",null,c()(e.date).format("ll")),export:(t,e)=>c()(e.date).format("ll")},{title:"Cost(INR)",key:"cost",dataIndex:"cost",render:(t,e)=>s.a.createElement("span",null,e.cost.toFixed(2))},{title:"Discount(INR)",key:"discount",dataIndex:"discount",render:(t,e)=>s.a.createElement("span",null,e.discount.toFixed(2))},{title:"Tax(INR)",key:"tax",dataIndex:"tax",render:(t,e)=>s.a.createElement("span",null,e.tax.toFixed(2))}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Daily wise Return Invoice",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(o.a,{size:"large",spinning:a},n.length>0?s.a.createElement(w.d,{width:1e3,height:400,data:n,margin:{top:20,right:20,bottom:20,left:20}},s.a.createElement(w.n,{dataKey:"date",tickFormatter:t=>c()(t).format("ll")}),s.a.createElement(w.o,{label:{value:"Return Invoice(INR)",angle:-90,position:"insideLeft"}}),s.a.createElement(w.m,null),s.a.createElement(w.a,{dataKey:"cost",barSize:35,fill:"#0059b3",stroke:"#0059b3"},s.a.createElement(w.e,{dataKey:"cost"}))):s.a.createElement(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:"No Data to Show"})),s.a.createElement(F.a,{loading:a,columns:r,dataSource:n}))}}function er(){return(er=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function ar(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class nr extends s.a.Component{constructor(t){super(t),ar(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),ar(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),ar(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),ar(this,"onChangeCheckbox",t=>{this.setState({exclude_cancelled:!this.state.exclude_cancelled})}),this.state={type:"ALL",loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,patientGroup:[],practiceDoctors:[],taxes_list:[],productItems:[],treatment_data:[]},Object(O.e)(this)}componentDidMount(){this.loadPatientGroup(),this.loadTaxes(),this.loadProductItem(),this.loadTreatments()}loadPatientGroup(){const t=this;Object(x.c)(Object(x.g)(b.md,[this.props.active_practiceId]),(function(e){t.setState({patientGroup:e})}),(function(){}))}loadTaxes(){const t=this;Object(x.c)(Object(x.g)(b.df,[this.props.active_practiceId]),(function(e){t.setState({taxes_list:e})}),(function(){}))}loadProductItem(){const t=this;Object(x.c)(b.Ld,(function(e){t.setState({productItems:e})}),(function(){}),{practice:this.props.active_practiceId})}loadTreatments(){const t=this;Object(x.c)(Object(x.g)(b.Kd,[this.props.active_practiceId]),(function(e){t.setState({treatment_data:e})}),(function(){}),{pagination:!1})}advancedOption(t){this.setState({advancedOptionShow:t})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Return Invoice Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.i?s.a.createElement(As,er({},this.props,this.state)):null,this.state.type==v.M?s.a.createElement(tr,er({},this.props,this.state)):null,this.state.type==v.vb?s.a.createElement(Us,er({},this.props,this.state)):null,this.state.type==v.gc?s.a.createElement(Ws,er({},this.props,this.state)):null,this.state.type==v.hc?s.a.createElement(zs,er({},this.props,this.state)):null,this.state.type==v.ec?s.a.createElement(Hs,er({},this.state,this.props)):null,this.state.type==v.fc?s.a.createElement(qs,er({},this.state,this.props)):null,this.state.type==v.ic?s.a.createElement(Xs,er({},this.state,this.props)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.i,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Invoice Returns"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.d},"All Returned Invoices"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.qb.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options "),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Patient Groups"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Patient Groups",onChange:t=>this.handleChangeOption("patient_groups",t)},this.state.patientGroup.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Doctors"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Doctors",onChange:t=>this.handleChangeOption("doctors",t)},this.state.practiceDoctors.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.user.first_name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Income Type"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Income Type",onChange:t=>this.handleChangeOption("income_type",t)},_.lb.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.label))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Taxes"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Taxes",onChange:t=>this.handleChangeOption("taxes",t)},this.state.taxes_list.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Discount"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Select Discount",onChange:t=>this.handleChangeOption("discount",t)},_.I.map(t=>s.a.createElement(d.a.Option,{value:t.value},t.label))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Product"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Products",onChange:t=>this.handleChangeOption("products",t)},this.state.productItems.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("h4",null,"Treatments"),s.a.createElement(d.a,{style:{minWidth:"200px"},mode:"multiple",placeholder:"Select Treatments",onChange:t=>this.handleChangeOption("treatments",t)},this.state.treatment_data.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(N.a,{onChange:t=>this.onChangeCheckbox(t)}," Exclude Cancelled"))):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options ")))))}}var sr=a(115);class rr extends s.a.Component{constructor(t){super(t),this.state={startDate:this.props.startDate,endDate:this.props.endDate,empolyeeOption:[],loading:!1}}componentDidMount(){this.loadTask()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.expense_type==t.expense_type&&this.props.payment_mode==t.payment_mode||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadTask()}))}loadTask(t=1){const e=this;e.setState({loading:!0});const a={page:t,deadline_gte:this.state.startDate.format("YYYY-MM-DD"),deadline_lte:this.state.endDate.format("YYYY-MM-DD")};Object(x.c)(b.Se,(function(t){1==t.current?e.setState({currentTask:t.results,next:t.next,loading:!1}):e.setState((function(e){return{currentTask:[...e.currentTask,...t.results],next:t.next,loading:!1}}))}),(function(t){e.setState({loading:!1})}),a)}render(){const t=this.state.currentTask,e=[{title:"Task Name",dataIndex:"name",key:"name",render:(t,e)=>s.a.createElement(sr.b,{to:"/tasktracker/task/".concat(e.id,"/view")},s.a.createElement("a",null,e.name))},{title:"Assignee",dataIndex:"assignee",key:"assignee",render:(t,e)=>s.a.createElement("span",null,e.assignee&&e.assignee_data?e.assignee_data.first_name:"")},{title:"Assigner",dataIndex:"reporter",key:"reporter",render:(t,e)=>s.a.createElement("span",null,e.reporter&&e.reporter_data?e.reporter_data.first_name:"")},{title:"Priority",dataIndex:"priority",key:"priority",render:(t,e)=>s.a.createElement("span",null,e.priority&&e.priority_data?e.priority_data.value:"")},{title:"Status",dataIndex:"task_status",key:"task_status"},{title:"Time Remaining",dataIndex:"deadline",key:"deadline",render:(t,e)=>s.a.createElement("span",null,e.deadline?c()(e.deadline).format("LLL"):null)}];return s.a.createElement("div",null,s.a.createElement("h2",null,"All Tasks"),s.a.createElement(M.a,{dataSource:t,columns:e,pagination:!1,loading:this.state.loading}),s.a.createElement(Oe.a,{loaderFunction:()=>this.loadTask(this.state.next),loading:this.state.loading,hidden:!this.state.next}))}}function or(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ir(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?or(Object(a),!0).forEach((function(e){lr(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):or(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function lr(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class cr extends s.a.Component{constructor(t){super(t),lr(this,"RatingView",()=>{const t=this;t.setState({loading:!0});let e={type:"AVERAGE",start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};this.state.dept&&(e.department=this.state.dept),this.state.designation&&(e.designation=this.state.designation),this.state.employee&&(e.user=this.state.employee),Object(x.c)(b.Rd,(function(e){t.setState({RatingList:e,loading:!1})}),(function(){t.setState({loading:!1})}),e)}),lr(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate;let s={type:"AVERAGE",start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD")};this.state.dept&&(s.department=this.state.dept),this.state.designation&&(s.designation=this.state.designation),this.state.employee&&(s.user=this.state.employee),s.mail_to=t,Object(O.j)(b.Rd,s)}),this.state={RatingList:[],loading:!1,startDate:this.props.startDate,endDate:this.props.endDate,mailingUsersList:this.props.mailingUsersList},this.RatingView=this.RatingView.bind(this)}componentDidMount(){this.RatingView()}componentWillReceiveProps(t){const e=this;this.props.employee==t.employee&&this.props.dept==t.dept&&this.props.designation==t.designation&&this.props.startDate==t.startDate&&this.props.endDate==t.endDate||this.setState({employee:t.employee,dept:t.dept,designation:t.designation,startDate:t.startDate,endDate:t.endDate},(function(){e.RatingView()}))}render(){console.log(this.props);const t=this.state.RatingList;console.log({RatingList:t});const e=[];for(let a=1;a<=t.length;a++)e.push(ir({s_no:a},t[a-1]));return s.a.createElement("div",null,s.a.createElement("h2",null,"Rating List",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{loading:this.state.loading,columns:[{title:"S. No",key:"s_no",dataIndex:"s_no",width:50},{title:"Employee Name",dataIndex:"user.first_name",key:"first_name"},{title:"EMP-ID",dataIndex:"user.id",key:"id"},{title:"Department",key:"department",dataIndex:"user.details.department"},{title:"Designation",key:"designation",dataIndex:"user.details.designation"},{title:"Rating",key:"rating",dataIndex:"avg_rating"}],dataSource:e,pagination:!1}),s.a.createElement(Oe.a,{loading:this.state.loading,hidden:!this.state.next,loaderFunction:()=>this.getAdvisorPatient(this.state.next)}))}}function pr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function dr(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(a),!0).forEach((function(e){mr(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pr(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function mr(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class ur extends s.a.Component{constructor(t){super(t),mr(this,"sendMail",t=>{const e=this.state,a=e.startDate,n=e.endDate;let s={type:"DEPARTMENT",start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD")};this.state.tasktype&&(s.incomplete=this.state.tasktype),s.mail_to=t,Object(O.j)(b.Ze,s)}),this.state={complist:[],loading:!1,startDate:this.props.startDate,endDate:this.props.endDate,mailingUsersList:this.props.mailingUsersList},this.ListView=this.ListView.bind(this)}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.tasktype==t.tasktype||this.setState({startDate:t.startDate,endDate:t.endDate,tasktype:t.tasktype},(function(){e.ListView()}))}componentDidMount(){this.ListView()}ListView(){const t=this,e=this.state,a=e.startDate,n=e.endDate;t.setState({loading:!0});let s={type:"DEPARTMENT",start:a.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD")};this.state.tasktype&&(s.incomplete=this.state.tasktype),Object(x.c)(b.Ze,(function(e){let a=dr({},e);console.log(a);let n=e.priorities;delete a.priorities;let s=[];Object.keys(a).forEach((function(t){let e=0;n.forEach((function(n){e+=a[t][n]||0})),s.push(dr(dr({department:t},a[t]),{},{total:e}))})),t.setState({complist:s,priorities:n,loading:!1})}),(function(){t.setState({loading:!1})}),s)}render(){const t=this.state,e=t.complist,a=t.priorities;console.log();let n=[{title:"Departments",key:"dept",dataIndex:"department"}];return a&&a.forEach((function(t){n.push({title:t,dataIndex:t,render:t=>t||0})})),n.push({title:"Total",dataIndex:"total",key:"total"}),s.a.createElement("div",null,s.a.createElement("h2",null,"Department Summary",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{loading:this.state.loading,dataSource:e,columns:n,pagination:!1}))}}class hr extends n.Component{constructor(t){var e,a,n;super(t),n=()=>{let t=this;const e={type:t.props.type,start:this.state.startDate.format("YYYY-MM-DD"),end:this.state.endDate.format("YYYY-MM-DD")};t.props.dept&&(e.department=t.props.dept),t.props.designation&&(e.designation=t.props.designation),console.log("req",e)},(a="loadUserTargetSummary")in(e=this)?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,this.state={loading:!1,reportData:[],startDate:this.props.startDate,endDate:this.props.endDate,mailingUsersList:this.props.mailingUsersList}}componentDidMount(){this.loadUserTargetSummary()}componentWillReceiveProps(t){const e=this;this.props.startDate==t.startDate&&this.props.endDate==t.endDate&&this.props.dept==t.dept&&this.props.designation==t.designation||this.setState({startDate:t.startDate,endDate:t.endDate},(function(){e.loadUserTargetSummary()}))}render(){let t=this.state,e=t.loading,a=t.reportData;return s.a.createElement("div",null,s.a.createElement("h2",null,"All User Target Summary",s.a.createElement("span",{style:{float:"right"}},s.a.createElement("p",null,s.a.createElement("small",null,"E-Mail To: "),s.a.createElement(d.a,{onChange:t=>this.sendMail(t),style:{width:200}},this.state.mailingUsersList.map(t=>s.a.createElement(d.a.Option,{value:t.email},t.name)))))),s.a.createElement(M.a,{loading:e,dataSource:a,columns:[{}],pagination:!1}))}}var gr=hr;class yr extends n.Component{render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"User Wise Targets Summary"))}}var Er=yr;function fr(){return(fr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function Dr(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class br extends s.a.Component{constructor(t){super(t),Dr(this,"onChangeHandle",(t,e)=>{this.setState({[t]:e.target.value})}),Dr(this,"changeSidePanelSize",t=>{this.setState({sidePanelColSpan:t?0:4})}),Dr(this,"handleChangeOption",(t,e)=>{this.setState({[t]:e})}),Dr(this,"onChangeCheckbox",t=>{this.setState({is_complete:!this.state.is_complete})}),this.state={type:v.k,loading:!0,sidePanelColSpan:4,advancedOptionShow:!0,practiceDoctors:[],employeeOption:[],departmentList:[],designationList:[]},Object(O.e)(this),this.loadEmployee=this.loadEmployee.bind(this),this.loadDepartment=this.loadDepartment.bind(this),this.loadDesignation=this.loadDesignation.bind(this)}componentDidMount(){this.loadEmployee(),this.loadDepartment(),this.loadDesignation()}advancedOption(t){this.setState({advancedOptionShow:t})}loadEmployee(){const t=this;Object(x.c)(b.Rd,(function(e){t.setState({employeeOption:e,loading:!1})}),(function(){t.setState({loading:!1})}),{type:"AVERAGE"})}loadDepartment(){const t=this;Object(x.c)(b.Sb,(function(e){t.setState({departmentList:e})}),(function(){}),{name:"Department"})}loadDesignation(){const t=this;Object(x.c)(b.Sb,(function(e){t.setState({designationList:e})}),(function(){}),{name:"Designation"})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Task Track Report ",s.a.createElement(g.a,{type:"primary",shape:"round",icon:this.state.sidePanelColSpan?"double-right":"double-left",style:{float:"right"},onClick:()=>this.changeSidePanelSize(this.state.sidePanelColSpan)},"Panel")),s.a.createElement(y.a,null,s.a.createElement(E.a,{gutter:16},s.a.createElement(f.a,{span:24-this.state.sidePanelColSpan},this.state.type==v.k?s.a.createElement(rr,fr({},this.props,this.state)):null,this.state.type==v.w?s.a.createElement(cr,fr({},this.props,this.state)):null,this.state.type==v.tc?s.a.createElement(ur,fr({},this.props,this.state)):null,this.state.type==v.l?s.a.createElement(gr,fr({},this.props,this.state)):null,this.state.type==v.Bc?s.a.createElement(Er,fr({},this.props,this.state)):null),s.a.createElement(f.a,{span:this.state.sidePanelColSpan},s.a.createElement(D.a.Group,{buttonStyle:"solid",defaultValue:v.k,onChange:t=>this.onChangeHandle("type",t)},s.a.createElement("h2",null,"Task Track"),s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent",border:"0px"},value:v.k},"All Tasks"),s.a.createElement("p",null,s.a.createElement("br",null)),s.a.createElement("h2",null,"Related Reports"),_.Xb.map(t=>s.a.createElement(D.a.Button,{style:{width:"100%",backgroundColor:"transparent"},value:t.value},t.name))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.advancedOptionShow?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!1)},"Hide Advanced Options"),this.state.type==v.w||this.state.type==v.k?s.a.createElement(E.a,null," ",s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Employee"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Employee Name",showSearch:!0,optionFilterProp:"children",onChange:t=>this.handleChangeOption("employee",t),allowClear:!0},this.state.employeeOption.map(t=>s.a.createElement(d.a.Option,{value:t.user.id},t.user.first_name)))),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Department"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Department",showSearch:!0,optionFilterProp:"children",onSearch:t=>this.loadDepartment(t),onChange:t=>this.handleChangeOption("dept",t),allowClear:!0},this.state.departmentList.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.value)))),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Designation"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Designation",showSearch:!0,optionFilterProp:"children",onSearch:t=>this.loadDesignation(t),onChange:t=>this.handleChangeOption("designation",t),allowClear:!0},this.state.designationList.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.value))))):null,this.state.type==v.tc?s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Task Type"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Task Type",showSearch:!0,optionFilterProp:"children",onChange:t=>this.handleChangeOption("tasktype",t),allowClear:!0},_.cc.map(t=>s.a.createElement(D.a.Button,{value:t.value},t.name)))):null,this.state.type==v.l?s.a.createElement(E.a,null,s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Department"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Department",showSearch:!0,optionFilterProp:"children",onSearch:t=>this.loadDepartment(t),onChange:t=>this.handleChangeOption("dept",t),allowClear:!0},this.state.departmentList.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.value)))),s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Designation"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Designation",showSearch:!0,optionFilterProp:"children",onSearch:t=>this.loadDesignation(t),onChange:t=>this.handleChangeOption("designation",t),allowClear:!0},this.state.designationList.map(t=>s.a.createElement(d.a.Option,{value:t.id},t.value))))):null,this.state.type==v.Bc?s.a.createElement(E.a,null,s.a.createElement(f.a,null," ",s.a.createElement("br",null),s.a.createElement("h4",null,"Employee"),s.a.createElement(d.a,{style:{minWidth:"200px"},placeholder:"Employee Name",showSearch:!0,optionFilterProp:"children",onChange:t=>this.handleChangeOption("employee",t),allowClear:!0},this.state.employeeOption.map(t=>s.a.createElement(d.a.Option,{value:t.user.id},t.user.first_name))))):null):s.a.createElement(g.a,{type:"link",onClick:t=>this.advancedOption(!0)},"Show Advanced Options ")))))}}function _r(){return(_r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}const xr=r.a.Content;class vr extends s.a.Component{constructor(t){super(t),this.state={startDate:c()(),endDate:c()(),active_practiceId:this.props.active_practiceId,mailingUsersList:[]},this.reportsDateRange=this.reportsDateRange.bind(this)}componentDidMount(){Object(O.f)(this)}reportsDateRange(t){this.setState({startDate:c()(t[0],"DD/MM/YYYY"),endDate:c()(t[1],"DD/MM/YYYY")})}render(){const t=this;return(s.a.createElement(r.a,null,s.a.createElement(h,_r({reportsDateRange:this.reportsDateRange},this.props)),s.a.createElement(o.a,{spinning:this.state.loadingMailingUserList},s.a.createElement(xr,{style:{margin:"16px"},key:this.state.loadingMailingUserList},s.a.createElement(i.d,null,s.a.createElement(i.b,{exact:!0,path:"/reports/amountdue",render:e=>t.props.activePracticePermissions.ReportsAmountDue||t.props.allowAllPermissions?s.a.createElement(T,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/emr",render:e=>t.props.activePracticePermissions.ReportsEMR||t.props.allowAllPermissions?s.a.createElement(Vt,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/expenses",render:e=>t.props.activePracticePermissions.ReportsExpenses||t.props.allowAllPermissions?s.a.createElement(ne,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/income",render:e=>t.props.activePracticePermissions.ReportsIncome||t.props.allowAllPermissions?s.a.createElement(xe,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/inventory",render:e=>t.props.activePracticePermissions.ReportsInventory||t.props.allowAllPermissions?s.a.createElement(Fe,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/inventoryretails",render:e=>t.props.activePracticePermissions.ReportsInventoryRetail||t.props.allowAllPermissions?s.a.createElement(Zn,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/patients",render:e=>t.props.activePracticePermissions.ReportsPatients||t.props.allowAllPermissions?s.a.createElement(an,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/payments",render:e=>t.props.activePracticePermissions.ReportsPayments||t.props.allowAllPermissions?s.a.createElement(vn,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/summary",render:e=>t.props.activePracticePermissions.ReportsDailySummary||t.props.allowAllPermissions?s.a.createElement(jn,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/bed_booking",render:e=>t.props.activePracticePermissions.ReportsBedBooking||t.props.allowAllPermissions?s.a.createElement(zn,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/mlm",render:e=>t.props.activePracticePermissions.ReportsMLMReport||t.props.allowAllPermissions?s.a.createElement(Ss,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/invoice-return",render:e=>t.props.activePracticePermissions.ReportsMLMReport||t.props.allowAllPermissions?s.a.createElement(nr,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/tasks",render:e=>t.props.activePracticePermissions.ReportsTaskTrack||t.props.allowAllPermissions?s.a.createElement(br,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{exact:!0,path:"/reports/suggestions",render:e=>t.props.activePracticePermissions.ReportsSuggestions||t.props.allowAllPermissions?s.a.createElement(ks,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}),s.a.createElement(i.b,{render:e=>t.props.activePracticePermissions.ReportsAppointments||t.props.allowAllPermissions?s.a.createElement(At,_r({},this.props,this.state,e)):s.a.createElement(Kn.a,null)}))))))}}e.default=vr},439:function(t,e,a){"use strict";a.d(e,"a",(function(){return O}));var n=a(1),s=a.n(n),r=a(1568),o=a(503),i=a(448),l=a(1105),c=a(1183),p=a(1589),d=a(1572),m=a(436),u=a.n(m),h=a(517),g=a.n(h),y=a(464),E=a.n(y),f=a(508),D=a.n(f);a(518);const b=function(t,e,a=!0){let n="",s=[];return a&&(t.forEach((function(t){s.push(t)})),n+=s.join(","),n+="\r\n"),e.forEach((function(e){s=[],t.forEach((function(t){e[t]?s.push(e[t]):s.push("--")})),n+=s.join(","),n+="\r\n"})),n},_=function(t,e){const a="".concat(e,".csv");let n;const s=[];s.push(255,254);for(let e=0;e<t.length;++e)n=t.charCodeAt(e),s.push(255&n),s.push(n/256>>>0);const r=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(r,a);else{const t=document.createElement("a");if(void 0!==t.download){const e=window.URL.createObjectURL(r);t.setAttribute("href",e),t.setAttribute("download",a),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(e)}}};a(435),a(434),a(438);function x(){return(x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){M(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function M(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class O extends s.a.Component{constructor(t){super(t),M(this,"getColumnSearchProps",t=>({filterDropdown:({setSelectedKeys:e,selectedKeys:a,confirm:n,clearFilters:i})=>s.a.createElement("div",{style:{padding:8}},s.a.createElement(r.a,{ref:t=>{this.searchInput=t},placeholder:"Search ".concat(t),value:a[0],onChange:t=>e(t.target.value?[t.target.value]:[]),onPressEnter:()=>this.handleSearch(a,n),style:{width:188,marginBottom:8,display:"block"}}),s.a.createElement(o.a,{type:"primary",onClick:()=>this.handleSearch(a,n),icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),s.a.createElement(o.a,{onClick:()=>this.handleReset(i),size:"small",style:{width:90}},"Reset")),filterIcon:t=>s.a.createElement(i.a,{type:"search",style:{color:t?"#1890ff":void 0}}),onFilter:(e,a)=>null!=E()(a,t)?E()(a,t).toString().toLowerCase().includes(e.toLowerCase()):"",onFilterDropdownVisibleChange:t=>{t&&setTimeout(()=>this.searchInput.select())},render:t=>s.a.createElement(g.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[this.state.searchText],autoEscape:!0,textToHighlight:t?t.toString():""})})),M(this,"handleSearch",(t,e)=>{e(),this.setState({searchText:t[0]})}),M(this,"handleReset",t=>{t(),this.setState({searchText:""})}),this.state=S(S({},t),{},{searchText:""}),this.excelExport=this.excelExport.bind(this),this.pdfExport=this.pdfExport.bind(this)}componentWillReceiveProps(t){t.columns==this.state.columns&&t.dataSource==this.state.dataSource&&t.loading==this.state.loading||this.setState(S({},t))}pdfExport(){const t=this,e=[];t.state.columns.forEach((function(t){t.hideExport||e.push({title:t.title,dataKey:t.title})}));const a=[];t.state.dataSource.forEach((function(e,n){const s={};t.state.columns.forEach((function(t){t.export?s[t.title]=t.export(E()(e,t.dataIndex),e,n):s[t.title]=E()(e,t.dataIndex)})),a.push(s)})),function(t,e,a){const n=new D.a("p","mm","a4");!function(t){t.line(10,20,200,20)}(n);const s=Object.create(e);n.autoTable(t,s,{margin:{top:35},startY:n.autoTableEndPosY()+20,headerStyle:{overflow:"linebreak"},bodyStyles:{overflow:"linebreak"}}),function(t){t.line(10,270,200,270),t.setFontSize(8),t.text(10,275,"This is a computer generated report.")}(n),n.save("".concat(a,".pdf"))}(e,a,"Export".concat(u()()))}excelExport(){const t=this,e=[];t.state.columns.forEach((function(t){t.hideExport||e.push(t.title)}));const a=[];t.state.dataSource.forEach((function(e,n){const s={};t.state.columns.forEach((function(t){t.export?s[t.title]=t.export(E()(e,t.dataIndex),e,n):s[t.title]=E()(e,t.dataIndex)})),a.push(s)})),function(t,e,a="download"){const n=b(t,e);_(n,a)}(e,a,"Export".concat(u()()))}render(){const t=this,e=this.state.columns.map(e=>e.hide?{}:e.render?S({},e):S(S({},e),t.getColumnSearchProps(e.dataIndex)));return s.a.createElement("div",null,this.props.hideReport?null:s.a.createElement(l.a,null,s.a.createElement(c.a,null,s.a.createElement(o.a.Group,{size:"small"},s.a.createElement(o.a,{disabled:this.state.loading,type:"primary",onClick:this.excelExport},s.a.createElement(i.a,{type:"file-excel"})," Excel"),s.a.createElement(o.a,{disabled:this.state.loading,type:"primary",onClick:this.pdfExport},s.a.createElement(i.a,{type:"file-pdf"})," PDF")))),s.a.createElement(l.a,null,s.a.createElement(p.a,x({pagination:{position:"both",pageSizeOptions:["10","20","30","40","50","100"],showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:(t,e)=>s.a.createElement(d.a,null,"Showing ",s.a.createElement("b",null,e[0])," to ",s.a.createElement("b",null,e[1])," of ",s.a.createElement("b",null,t)," items")}},this.state,{columns:e}))))}}},442:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a(433),s=a(1105),r=a(503),o=a(1),i=a.n(o);function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class c extends i.a.Component{constructor(t){super(t),l(this,"startLoading",()=>{this.props.loaderFunction&&(this.props.loaderFunction(),this.startMakingExtraLabels())}),l(this,"startMakingExtraLabels",()=>{const t=this;this.setState((function(t){return t.extraLoadingLabel.length>2?{extraLoadingLabel:""}:{extraLoadingLabel:"".concat(t.extraLoadingLabel,".")}}),(function(){t.props.loading&&setTimeout((function(){t.startMakingExtraLabels()}),500)}))}),this.state={extraLoadingLabel:""}}render(){return this.props.loading?i.a.createElement(n.a,{spinning:this.props.loading},i.a.createElement(s.a,{style:{minHeight:200}})):this.props.hidden?i.a.createElement(s.a,null,i.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},i.a.createElement("small",null,"No More Data Found"))):i.a.createElement(s.a,null,i.a.createElement("div",{style:{textAlign:"center",margin:"15px 0px"}},i.a.createElement(r.a,{type:"primary",onClick:this.startLoading,loading:this.props.loading},this.props.loading?"Loading".concat(this.state.extraLoadingLabel):"Load More")))}}},468:function(t,e){var a=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return a.test(t)}},469:function(t,e,a){var n=a(523),s=a(468),r=a(524);t.exports=function(t){return s(t)?r(t):n(t)}},488:function(t,e,a){var n=a(520),s=a(545),r=a(521),o=a(468),i=a(469),l=a(525),c=Math.ceil;t.exports=function(t,e){var a=(e=void 0===e?" ":s(e)).length;if(a<2)return a?n(e,t):e;var p=n(e,c(t/i(e)));return o(e)?r(l(p),0,t).join(""):p.slice(0,t)}},519:function(t,e,a){var n=a(488),s=a(469),r=a(501),o=a(498);t.exports=function(t,e,a){t=o(t);var i=(e=r(e))?s(t):0;return e&&i<e?t+n(e-i,a):t}},520:function(t,e){var a=Math.floor;t.exports=function(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=a(e/2))&&(t+=t)}while(e);return n}},521:function(t,e,a){var n=a(522);t.exports=function(t,e,a){var s=t.length;return a=void 0===a?s:a,!e&&a>=s?t:n(t,e,a)}},522:function(t,e){t.exports=function(t,e,a){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(a=a>s?s:a)<0&&(a+=s),s=e>a?0:a-e>>>0,e>>>=0;for(var r=Array(s);++n<s;)r[n]=t[n+e];return r}},523:function(t,e,a){var n=a(550)("length");t.exports=n},524:function(t,e){var a="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+s+")"+"?",c="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[r,o,i].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),p="(?:"+[r+n+"?",n,o,i,a].join("|")+")",d=RegExp(s+"(?="+s+")|"+p+c,"g");t.exports=function(t){for(var e=d.lastIndex=0;d.test(t);)++e;return e}},525:function(t,e,a){var n=a(526),s=a(468),r=a(527);t.exports=function(t){return s(t)?r(t):n(t)}},526:function(t,e){t.exports=function(t){return t.split("")}},527:function(t,e){var a="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+s+")"+"?",c="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[r,o,i].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),p="(?:"+[r+n+"?",n,o,i,a].join("|")+")",d=RegExp(s+"(?="+s+")|"+p+c,"g");t.exports=function(t){return t.match(d)||[]}},528:function(t,e,a){var n=a(488),s=a(469),r=a(501),o=a(498);t.exports=function(t,e,a){t=o(t);var i=(e=r(e))?s(t):0;return e&&i<e?n(e-i,a)+t:t}},836:function(t,e,a){"use strict";var n=a(1),s=a(34),r=a.n(s),o=a(181),i=a(519),l=a.n(i),c=function(t){var e,a=t.value,s=t.formatter,r=t.precision,o=t.decimalSeparator,i=t.groupSeparator,c=void 0===i?"":i,p=t.prefixCls;if("function"==typeof s)e=s(a);else{var d=String(a),m=d.match(/^(-?)(\d*)(\.(\d+))?$/);if(m){var u=m[1],h=m[2]||"0",g=m[4]||"";h=h.replace(/\B(?=(\d{3})+(?!\d))/g,c),"number"==typeof r&&(g=l()(g,r,"0").slice(0,r)),g&&(g="".concat(o).concat(g)),e=[n.createElement("span",{key:"int",className:"".concat(p,"-content-value-int")},u,h),g&&n.createElement("span",{key:"decimal",className:"".concat(p,"-content-value-decimal")},g)]}else e=d}return(n.createElement("span",{className:"".concat(p,"-content-value")},e))};function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}var d=function(t){var e=t.prefixCls,a=t.className,s=t.style,o=t.valueStyle,i=t.value,l=void 0===i?0:i,d=t.title,m=t.valueRender,u=t.prefix,h=t.suffix,g=n.createElement(c,p({},t,{value:l}));return m&&(g=m(g)),n.createElement("div",{className:r()(e,a),style:s},d&&n.createElement("div",{className:"".concat(e,"-title")},d),n.createElement("div",{style:o,className:"".concat(e,"-content")},u&&n.createElement("span",{className:"".concat(e,"-content-prefix")},u),g,h&&n.createElement("span",{className:"".concat(e,"-content-suffix")},h)))};d.defaultProps={decimalSeparator:".",groupSeparator:","};var m=Object(o.c)({prefixCls:"statistic"})(d),u=a(443),h=a(436),g=a(470),y=a(528),E=a.n(y);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],n=!0,s=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==i.return||i.return()}finally{if(s)throw r}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return D(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return D(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var b=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function _(t,e){var a=e.format,n=void 0===a?"":a,s=Object(g.a)(h)(t).valueOf(),r=Object(g.a)(h)().valueOf();return function(t,e){var a=t,n=/\[[^\]]*\]/g,s=(e.match(n)||[]).map((function(t){return t.slice(1,-1)})),r=e.replace(n,"[]"),o=b.reduce((function(t,e){var n=f(e,2),s=n[0],r=n[1];if(-1!==t.indexOf(s)){var o=Math.floor(a/r);return a-=o*r,t.replace(new RegExp("".concat(s,"+"),"g"),(function(t){var e=t.length;return E()(o.toString(),e,"0")}))}return t}),r),i=0;return o.replace(n,(function(){var t=s[i];return i+=1,t}))}(Math.max(s-r,0),n)}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){return Object(g.a)(h)(t).valueOf()}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(i,t);var e,a,s,r,o=(e=i,function(){var t,a=Y(e);if(P()){var n=Y(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return O(this,t)});function i(){var t;return S(this,i),(t=o.apply(this,arguments)).syncTimer=function(){j(t.props.value)>=Date.now()?t.startTimer():t.stopTimer()},t.startTimer=function(){t.countdownId||(t.countdownId=window.setInterval((function(){t.forceUpdate()}),1e3/30))},t.stopTimer=function(){var e=t.props,a=e.onFinish,n=e.value;if(t.countdownId){clearInterval(t.countdownId),t.countdownId=void 0;var s=j(n);a&&s<Date.now()&&a()}},t.formatCountdown=function(e,a){var n=t.props.format;return _(e,v(v({},a),{format:n}))},t.valueRender=function(t){return n.cloneElement(t,{title:void 0})},t}return a=i,(s=[{key:"componentDidMount",value:function(){this.syncTimer()}},{key:"componentDidUpdate",value:function(){this.syncTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){return n.createElement(m,v({valueRender:this.valueRender},this.props,{formatter:this.formatCountdown}))}}])&&M(a.prototype,s),r&&M(a,r),i}(n.Component);k.defaultProps={format:"HH:mm:ss"},Object(u.polyfill)(k);var w=k;m.Countdown=w;e.a=m}}]);