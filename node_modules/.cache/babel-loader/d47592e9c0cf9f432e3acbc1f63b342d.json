{"ast":null,"code":"import _classCallCheck from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/shivam/WorkSpace/bk-erp-front/src/app/components/settings/options/emr/TableData.js\";\nimport React from \"react\";\nimport DynamicFieldsForm from \"../../../common/DynamicFieldsForm\";\nimport { Button, Modal, Card, Form, Icon, Row, Table, Divider, Popconfirm } from \"antd\";\nimport { CHECKBOX_FIELD, SUCCESS_MSG_TYPE, INPUT_FIELD, RADIO_FIELD, NUMBER_FIELD, SELECT_FIELD } from \"../../../../constants/dataKeys\";\nimport { TAXES } from \"../../../../constants/api\";\nimport { Link } from \"react-router-dom\";\nimport { getAPI, displayMessage, interpolate, postAPI } from \"../../../../utils/common\";\nimport CustomizedTable from \"../../../common/CustomizedTable\";\n\nvar TableData =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TableData, _React$Component);\n\n  function TableData(props) {\n    var _this;\n\n    _classCallCheck(this, TableData);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TableData).call(this, props));\n\n    _this.handleCancel = function () {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.state = {\n      redirect: false,\n      visible: false,\n      data: null\n    };\n    _this.loadData = _this.loadData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteObject = _this.deleteObject.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(TableData, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadData();\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData() {\n      var that = this;\n\n      var successFn = function successFn(data) {\n        that.setState({\n          data: data\n        });\n      };\n\n      var errorFn = function errorFn() {};\n\n      getAPI(interpolate(this.props.id, [this.props.active_practiceId]), successFn, errorFn);\n    }\n  }, {\n    key: \"changeRedirect\",\n    value: function changeRedirect() {\n      var redirectVar = this.state.redirect;\n      this.setState({\n        redirect: !redirectVar\n      });\n    }\n  }, {\n    key: \"editFunction\",\n    value: function editFunction(value) {\n      this.setState({\n        editingId: value.id,\n        editingName: value.name,\n        visible: true\n      });\n    }\n  }, {\n    key: \"deleteObject\",\n    value: function deleteObject(record) {\n      var that = this;\n      var reqData = record;\n      reqData.is_active = false;\n\n      var successFn = function successFn(data) {\n        that.loadData();\n      };\n\n      var errorFn = function errorFn() {};\n\n      postAPI(interpolate(this.props.id, [this.props.active_practiceId]), reqData, successFn, errorFn);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var that = this;\n      var columns = [{\n        title: 'Name',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: 'Action',\n        key: 'action',\n        render: function render(text, record) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            onClick: function onClick() {\n              return _this2.editFunction(record);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, \"  Edit\"), React.createElement(Divider, {\n            type: \"vertical\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }), React.createElement(Popconfirm, {\n            title: \"Are you sure delete this item?\",\n            onConfirm: function onConfirm() {\n              return that.deleteObject(record);\n            },\n            okText: \"Yes\",\n            cancelText: \"No\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, \"Delete\")));\n        }\n      }];\n      var fields = [{\n        label: this.props.name,\n        key: \"name\",\n        required: true,\n        type: INPUT_FIELD\n      }];\n      var editfields = [{\n        label: this.props.name,\n        key: \"name\",\n        required: true,\n        initialValue: this.state.editingName,\n        type: INPUT_FIELD\n      }];\n      var formProp = {\n        successFn: function successFn(data) {\n          that.handleCancel();\n          that.loadData();\n          console.log(data);\n          console.log(\"sucess\");\n          displayMessage(SUCCESS_MSG_TYPE, \"success\");\n        },\n        errorFn: function errorFn() {},\n        action: interpolate(this.props.id, [this.props.active_practiceId]),\n        method: \"post\"\n      };\n      var defaultValues = [{\n        \"key\": \"practice\",\n        \"value\": this.props.active_practiceId\n      }];\n      var editFormDefaultValues = [{\n        \"key\": \"practice\",\n        \"value\": this.props.active_practiceId\n      }, {\n        \"key\": \"id\",\n        \"value\": this.state.editingId\n      }];\n      var TestFormLayout = Form.create()(DynamicFieldsForm);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(TestFormLayout, {\n        defaultValues: defaultValues,\n        formProp: formProp,\n        fields: fields,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(CustomizedTable, {\n        columns: columns,\n        dataSource: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        title: \"Edit \" + this.props.name,\n        visible: this.state.visible,\n        footer: null,\n        onCancel: this.handleCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(TestFormLayout, {\n        defaultValues: editFormDefaultValues,\n        formProp: formProp,\n        fields: editfields,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), React.createElement(Button, {\n        key: \"back\",\n        onClick: this.handleCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Return\"), \",\"));\n    }\n  }]);\n\n  return TableData;\n}(React.Component);\n\nexport default TableData;","map":{"version":3,"sources":["/home/shivam/WorkSpace/bk-erp-front/src/app/components/settings/options/emr/TableData.js"],"names":["React","DynamicFieldsForm","Button","Modal","Card","Form","Icon","Row","Table","Divider","Popconfirm","CHECKBOX_FIELD","SUCCESS_MSG_TYPE","INPUT_FIELD","RADIO_FIELD","NUMBER_FIELD","SELECT_FIELD","TAXES","Link","getAPI","displayMessage","interpolate","postAPI","CustomizedTable","TableData","props","handleCancel","setState","visible","state","redirect","data","loadData","bind","deleteObject","that","successFn","errorFn","id","active_practiceId","redirectVar","value","editingId","editingName","name","record","reqData","is_active","columns","title","dataIndex","key","render","text","editFunction","fields","label","required","type","editfields","initialValue","formProp","console","log","action","method","defaultValues","editFormDefaultValues","TestFormLayout","create","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,mCAA9B;AACA,SAAQC,MAAR,EAAgBC,KAAhB,EAAuBC,IAAvB,EAA6BC,IAA7B,EAAmCC,IAAnC,EAAyCC,GAAzC,EAA8CC,KAA9C,EAAqDC,OAArD,EAA8DC,UAA9D,QAA+E,MAA/E;AACA,SACIC,cADJ,EAEIC,gBAFJ,EAGIC,WAHJ,EAIIC,WAJJ,EAKIC,YALJ,EAMIC,YANJ,QAOO,gCAPP;AAQA,SAAQC,KAAR,QAAoB,2BAApB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,MAAR,EAAgBC,cAAhB,EAAgCC,WAAhC,EAA6CC,OAA7C,QAA2D,0BAA3D;AACA,OAAOC,eAAP,MAA4B,iCAA5B;;IAEMC,S;;;;;AACF,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,mFAAMA,KAAN;;AADe,UA0CnBC,YA1CmB,GA0CJ,YAAM;AACjB,YAAKC,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAd;AACH,KA5CkB;;AAEf,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KADD;AAETF,MAAAA,OAAO,EAAE,KAFA;AAGTG,MAAAA,IAAI,EAAE;AAHG,KAAb;AAKA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,uDAAhB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AARe;AASlB;;;;wCAEmB;AAChB,WAAKD,QAAL;AACH;;;+BAEU;AACP,UAAIG,IAAI,GAAG,IAAX;;AACA,UAAIC,SAAS,GAAG,SAAZA,SAAY,CAAUL,IAAV,EAAgB;AAC5BI,QAAAA,IAAI,CAACR,QAAL,CAAc;AACVI,UAAAA,IAAI,EAAEA;AADI,SAAd;AAGH,OAJD;;AAKA,UAAIM,OAAO,GAAG,SAAVA,OAAU,GAAY,CACzB,CADD;;AAEAlB,MAAAA,MAAM,CAACE,WAAW,CAAC,KAAKI,KAAL,CAAWa,EAAZ,EAAgB,CAAC,KAAKb,KAAL,CAAWc,iBAAZ,CAAhB,CAAZ,EAA6DH,SAA7D,EAAwEC,OAAxE,CAAN;AACH;;;qCAEgB;AACb,UAAIG,WAAW,GAAG,KAAKX,KAAL,CAAWC,QAA7B;AACA,WAAKH,QAAL,CAAc;AACVG,QAAAA,QAAQ,EAAE,CAACU;AADD,OAAd;AAGH;;;iCAEYC,K,EAAO;AAChB,WAAKd,QAAL,CAAc;AACVe,QAAAA,SAAS,EAAED,KAAK,CAACH,EADP;AAEVK,QAAAA,WAAW,EAAEF,KAAK,CAACG,IAFT;AAGVhB,QAAAA,OAAO,EAAE;AAHC,OAAd;AAKH;;;iCAMYiB,M,EAAQ;AACjB,UAAIV,IAAI,GAAG,IAAX;AACA,UAAIW,OAAO,GAAGD,MAAd;AACAC,MAAAA,OAAO,CAACC,SAAR,GAAoB,KAApB;;AACA,UAAIX,SAAS,GAAG,SAAZA,SAAY,CAAUL,IAAV,EAAgB;AAC5BI,QAAAA,IAAI,CAACH,QAAL;AACH,OAFD;;AAGA,UAAIK,OAAO,GAAG,SAAVA,OAAU,GAAY,CACzB,CADD;;AAEAf,MAAAA,OAAO,CAACD,WAAW,CAAC,KAAKI,KAAL,CAAWa,EAAZ,EAAgB,CAAC,KAAKb,KAAL,CAAWc,iBAAZ,CAAhB,CAAZ,EAA6DO,OAA7D,EAAsEV,SAAtE,EAAiFC,OAAjF,CAAP;AACH;;;6BAEQ;AAAA;;AACL,UAAIF,IAAI,GAAG,IAAX;AACA,UAAMa,OAAO,GAAG,CAAC;AACbC,QAAAA,KAAK,EAAE,MADM;AAEbC,QAAAA,SAAS,EAAE,MAFE;AAGbC,QAAAA,GAAG,EAAE;AAHQ,OAAD,EAIb;AACCF,QAAAA,KAAK,EAAE,QADR;AAECE,QAAAA,GAAG,EAAE,QAFN;AAGCC,QAAAA,MAAM,EAAE,gBAACC,IAAD,EAAOR,MAAP;AAAA,iBACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACF;AAAG,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAI,CAACS,YAAL,CAAkBT,MAAlB,CAAN;AAAA,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADE,EAEA,oBAAC,OAAD;AAAS,YAAA,IAAI,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,EAGI,oBAAC,UAAD;AAAY,YAAA,KAAK,EAAC,gCAAlB;AACY,YAAA,SAAS,EAAE;AAAA,qBAAMV,IAAI,CAACD,YAAL,CAAkBW,MAAlB,CAAN;AAAA,aADvB;AACwD,YAAA,MAAM,EAAC,KAD/D;AACqE,YAAA,UAAU,EAAC,IADhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,CAHJ,CADI;AAAA;AAHT,OAJa,CAAhB;AAkBA,UAAMU,MAAM,GAAG,CAAC;AACZC,QAAAA,KAAK,EAAE,KAAK/B,KAAL,CAAWmB,IADN;AAEZO,QAAAA,GAAG,EAAE,MAFO;AAGZM,QAAAA,QAAQ,EAAE,IAHE;AAIZC,QAAAA,IAAI,EAAE7C;AAJM,OAAD,CAAf;AAMA,UAAM8C,UAAU,GAAG,CAEf;AACIH,QAAAA,KAAK,EAAE,KAAK/B,KAAL,CAAWmB,IADtB;AAEIO,QAAAA,GAAG,EAAE,MAFT;AAGIM,QAAAA,QAAQ,EAAE,IAHd;AAIIG,QAAAA,YAAY,EAAE,KAAK/B,KAAL,CAAWc,WAJ7B;AAKIe,QAAAA,IAAI,EAAE7C;AALV,OAFe,CAAnB;AASA,UAAMgD,QAAQ,GAAG;AACbzB,QAAAA,SAAS,EAAE,mBAAUL,IAAV,EAAgB;AACvBI,UAAAA,IAAI,CAACT,YAAL;AACAS,UAAAA,IAAI,CAACH,QAAL;AACA8B,UAAAA,OAAO,CAACC,GAAR,CAAYhC,IAAZ;AACA+B,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA3C,UAAAA,cAAc,CAACR,gBAAD,EAAmB,SAAnB,CAAd;AAEH,SARY;AASbyB,QAAAA,OAAO,EAAE,mBAAY,CAEpB,CAXY;AAYb2B,QAAAA,MAAM,EAAE3C,WAAW,CAAC,KAAKI,KAAL,CAAWa,EAAZ,EAAgB,CAAC,KAAKb,KAAL,CAAWc,iBAAZ,CAAhB,CAZN;AAab0B,QAAAA,MAAM,EAAE;AAbK,OAAjB;AAeA,UAAMC,aAAa,GAAG,CAAC;AAAC,eAAO,UAAR;AAAoB,iBAAS,KAAKzC,KAAL,CAAWc;AAAxC,OAAD,CAAtB;AACA,UAAM4B,qBAAqB,GAAG,CAAC;AAAC,eAAO,UAAR;AAAoB,iBAAS,KAAK1C,KAAL,CAAWc;AAAxC,OAAD,EAA6D;AACvF,eAAO,IADgF;AAEvF,iBAAS,KAAKV,KAAL,CAAWa;AAFmE,OAA7D,CAA9B;AAKA,UAAM0B,cAAc,GAAG/D,IAAI,CAACgE,MAAL,GAAcpE,iBAAd,CAAvB;AACA,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACH,oBAAC,cAAD;AAAgB,QAAA,aAAa,EAAEiE,aAA/B;AAA8C,QAAA,QAAQ,EAAEL,QAAxD;AAAkE,QAAA,MAAM,EAAEN,MAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADG,EAEH,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFG,EAGH,oBAAC,eAAD;AAAiB,QAAA,OAAO,EAAEP,OAA1B;AAAmC,QAAA,UAAU,EAAE,KAAKnB,KAAL,CAAWE,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHG,EAIH,oBAAC,KAAD;AACI,QAAA,KAAK,EAAE,UAAU,KAAKN,KAAL,CAAWmB,IADhC;AAEI,QAAA,OAAO,EAAE,KAAKf,KAAL,CAAWD,OAFxB;AAGI,QAAA,MAAM,EAAE,IAHZ;AAII,QAAA,QAAQ,EAAE,KAAKF,YAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMI,oBAAC,cAAD;AAAgB,QAAA,aAAa,EAAEyC,qBAA/B;AAAsD,QAAA,QAAQ,EAAEN,QAAhE;AAA0E,QAAA,MAAM,EAAEF,UAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANJ,EAOI,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAC,MAAZ;AAAmB,QAAA,OAAO,EAAE,KAAKjC,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,MAJG,CAAP;AAeH;;;;EAnImB1B,KAAK,CAACsE,S;;AAsI9B,eAAe9C,SAAf","sourcesContent":["import React from \"react\";\nimport DynamicFieldsForm from \"../../../common/DynamicFieldsForm\";\nimport {Button, Modal, Card, Form, Icon, Row, Table, Divider, Popconfirm} from \"antd\";\nimport {\n    CHECKBOX_FIELD,\n    SUCCESS_MSG_TYPE,\n    INPUT_FIELD,\n    RADIO_FIELD,\n    NUMBER_FIELD,\n    SELECT_FIELD\n} from \"../../../../constants/dataKeys\";\nimport {TAXES} from \"../../../../constants/api\"\nimport {Link} from \"react-router-dom\";\nimport {getAPI, displayMessage, interpolate, postAPI} from \"../../../../utils/common\";\nimport CustomizedTable from \"../../../common/CustomizedTable\";\n\nclass TableData extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            redirect: false,\n            visible: false,\n            data: null,\n        }\n        this.loadData = this.loadData.bind(this);\n        this.deleteObject = this.deleteObject.bind(this);\n    }\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    loadData() {\n        var that = this;\n        let successFn = function (data) {\n            that.setState({\n                data: data,\n            })\n        };\n        let errorFn = function () {\n        };\n        getAPI(interpolate(this.props.id, [this.props.active_practiceId]), successFn, errorFn);\n    }\n\n    changeRedirect() {\n        var redirectVar = this.state.redirect;\n        this.setState({\n            redirect: !redirectVar,\n        });\n    }\n\n    editFunction(value) {\n        this.setState({\n            editingId: value.id,\n            editingName: value.name,\n            visible: true,\n        })\n    }\n\n    handleCancel = () => {\n        this.setState({visible: false});\n    }\n\n    deleteObject(record) {\n        let that = this;\n        let reqData = record;\n        reqData.is_active = false;\n        let successFn = function (data) {\n            that.loadData();\n        }\n        let errorFn = function () {\n        };\n        postAPI(interpolate(this.props.id, [this.props.active_practiceId]), reqData, successFn, errorFn)\n    }\n\n    render() {\n        let that = this;\n        const columns = [{\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        }, {\n            title: 'Action',\n            key: 'action',\n            render: (text, record) => (\n                <span>\n              <a onClick={() => this.editFunction(record)}>  Edit</a>\n                <Divider type=\"vertical\"/>\n                    <Popconfirm title=\"Are you sure delete this item?\"\n                                onConfirm={() => that.deleteObject(record)} okText=\"Yes\" cancelText=\"No\">\n                      <a>Delete</a>\n                  </Popconfirm>\n              </span>\n            ),\n        }];\n        const fields = [{\n            label: this.props.name,\n            key: \"name\",\n            required: true,\n            type: INPUT_FIELD\n        },];\n        const editfields = [\n\n            {\n                label: this.props.name,\n                key: \"name\",\n                required: true,\n                initialValue: this.state.editingName,\n                type: INPUT_FIELD\n            },];\n        const formProp = {\n            successFn: function (data) {\n                that.handleCancel();\n                that.loadData();\n                console.log(data);\n                console.log(\"sucess\");\n                displayMessage(SUCCESS_MSG_TYPE, \"success\")\n\n            },\n            errorFn: function () {\n\n            },\n            action: interpolate(this.props.id, [this.props.active_practiceId]),\n            method: \"post\",\n        };\n        const defaultValues = [{\"key\": \"practice\", \"value\": this.props.active_practiceId}]\n        const editFormDefaultValues = [{\"key\": \"practice\", \"value\": this.props.active_practiceId}, {\n            \"key\": \"id\",\n            \"value\": this.state.editingId\n        }]\n\n        const TestFormLayout = Form.create()(DynamicFieldsForm);\n        return <div>\n            <TestFormLayout defaultValues={defaultValues} formProp={formProp} fields={fields}/>\n            <Divider/>\n            <CustomizedTable columns={columns} dataSource={this.state.data}/>\n            <Modal\n                title={\"Edit \" + this.props.name}\n                visible={this.state.visible}\n                footer={null}\n                onCancel={this.handleCancel}\n            >\n                <TestFormLayout defaultValues={editFormDefaultValues} formProp={formProp} fields={editfields}/>\n                <Button key=\"back\" onClick={this.handleCancel}>Return</Button>,\n\n            </Modal>\n        </div>\n    }\n}\n\nexport default TableData;\n"]},"metadata":{},"sourceType":"module"}