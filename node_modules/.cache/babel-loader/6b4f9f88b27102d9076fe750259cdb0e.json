{"ast":null,"code":"import _classCallCheck from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shivam/WorkSpace/bk-erp-front/src/app/components/webAdmin/blog/AddPost.js\";\nimport { Card, Form, Row } from \"antd\";\nimport React from \"react\";\nimport { DATE_PICKER, SINGLE_IMAGE_UPLOAD_FIELD, INPUT_FIELD, QUILL_TEXT_FIELD, SUCCESS_MSG_TYPE, TEXT_FIELD } from \"../../../constants/dataKeys\";\nimport DynamicFieldsForm from \"../../common/DynamicFieldsForm\";\nimport { displayMessage, getAPI, interpolate } from \"../../../utils/common\";\nimport { BLOG_POST, SINGLE_POST } from \"../../../constants/api\";\nimport { Route } from \"react-router\";\nimport { Redirect } from \"react-router-dom\";\n\nvar AddPost =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddPost, _React$Component);\n\n  function AddPost(props) {\n    var _this;\n\n    _classCallCheck(this, AddPost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddPost).call(this, props));\n    _this.state = {\n      editBlogData: _this.props.editBlogData ? _this.props.editBlogData : null\n    };\n    return _this;\n  }\n\n  _createClass(AddPost, [{\n    key: \"changeRedirect\",\n    value: function changeRedirect() {\n      var redirectVar = this.state.redirect;\n      this.setState({\n        redirect: !redirectVar\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.match.params.id) {\n        if (!this.state.editBlogData) {\n          this.loadData();\n        }\n      }\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData() {\n      var that = this;\n\n      var successFn = function successFn(data) {\n        that.setState({\n          editBlogData: data\n        });\n      };\n\n      var errorFn = function errorFn() {};\n\n      getAPI(interpolate(SINGLE_POST, [this.props.match.params.id]), successFn, errorFn);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var fields = [{\n        label: \"Blog Title\",\n        key: \"title\",\n        initialValue: this.state.editBlogData ? this.state.editBlogData.title : null,\n        type: INPUT_FIELD\n      }, {\n        label: \"Blog Domain \",\n        key: \"domain\",\n        initialValue: this.state.editBlogData ? this.state.editBlogData.domain : null,\n        type: INPUT_FIELD\n      }, {\n        label: \"Blog URL \",\n        key: \"slug\",\n        initialValue: this.state.editBlogData ? this.state.editBlogData.slug : null,\n        type: INPUT_FIELD\n      }, {\n        label: \"Blog Image\",\n        key: \"featured_image\",\n        initialValue: this.state.editBlogData ? this.state.editBlogData.featured_image : null,\n        type: SINGLE_IMAGE_UPLOAD_FIELD\n      }, {\n        label: \"Posted On\",\n        key: \"posted_on\",\n        initialValue: this.state.editBlogData ? this.state.editBlogData.posted_on : null,\n        type: DATE_PICKER,\n        format: \"YYYY/MM/DD HH:mm\"\n      }, {\n        label: \"SEO Description\",\n        key: \"meta_description\",\n        initialValue: this.state.editBlogData ? this.state.editBlogData.meta_description : null,\n        type: INPUT_FIELD\n      }, {\n        label: \"SEO Keywords\",\n        key: \"keywords\",\n        initialValue: this.state.editBlogData ? this.state.editBlogData.keywords : null,\n        type: TEXT_FIELD\n      }, {\n        label: \"Content\",\n        key: \"content\",\n        initialValue: this.state.editBlogData ? this.state.editBlogData.content : null,\n        type: QUILL_TEXT_FIELD\n      }];\n      var editformProp;\n\n      if (this.state.editBlogData) {\n        editformProp = {\n          successFn: function successFn(data) {\n            displayMessage(SUCCESS_MSG_TYPE, \"success\");\n            console.log(data);\n          },\n          errorFn: function errorFn() {},\n          action: interpolate(SINGLE_POST, [this.props.match.params.id]),\n          method: \"put\"\n        };\n      }\n\n      var TestFormLayout = Form.create()(DynamicFieldsForm);\n      var formProp = {\n        successFn: function successFn(data) {\n          displayMessage(SUCCESS_MSG_TYPE, \"success\");\n          console.log(data);\n        },\n        errorFn: function errorFn() {},\n        action: BLOG_POST,\n        method: \"post\"\n      };\n      var defaultValues = [];\n      return React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/web/blog/edit/:id\",\n        render: function render() {\n          return _this2.props.match.params.id ? React.createElement(TestFormLayout, {\n            defaultValues: defaultValues,\n            title: \"Edit Post\",\n            changeRedirect: _this2.changeRedirect,\n            formProp: editformProp,\n            fields: fields,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          }) : React.createElement(Redirect, {\n            to: '/web/blog',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/web/blog/add\",\n        render: function render() {\n          return React.createElement(TestFormLayout, {\n            title: \"Add Post\",\n            changeRedirect: _this2.changeRedirect,\n            formProp: formProp,\n            fields: fields,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), this.state.redirect && React.createElement(Redirect, {\n        to: '/web/blog',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AddPost;\n}(React.Component);\n\nexport { AddPost as default };","map":{"version":3,"sources":["/home/shivam/WorkSpace/bk-erp-front/src/app/components/webAdmin/blog/AddPost.js"],"names":["Card","Form","Row","React","DATE_PICKER","SINGLE_IMAGE_UPLOAD_FIELD","INPUT_FIELD","QUILL_TEXT_FIELD","SUCCESS_MSG_TYPE","TEXT_FIELD","DynamicFieldsForm","displayMessage","getAPI","interpolate","BLOG_POST","SINGLE_POST","Route","Redirect","AddPost","props","state","editBlogData","redirectVar","redirect","setState","match","params","id","loadData","that","successFn","data","errorFn","fields","label","key","initialValue","title","type","domain","slug","featured_image","posted_on","format","meta_description","keywords","content","editformProp","console","log","action","method","TestFormLayout","create","formProp","defaultValues","changeRedirect","Component"],"mappings":"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","sourcesContent":["import { Card, Form,Row} from \"antd\";\nimport React from \"react\";\nimport {\n    DATE_PICKER, SINGLE_IMAGE_UPLOAD_FIELD,\n    INPUT_FIELD,\n    QUILL_TEXT_FIELD,\n    SUCCESS_MSG_TYPE,\n    TEXT_FIELD\n} from \"../../../constants/dataKeys\";\nimport DynamicFieldsForm from \"../../common/DynamicFieldsForm\";\nimport {displayMessage, getAPI, interpolate} from \"../../../utils/common\";\nimport {\n    BLOG_POST,\n    SINGLE_POST\n} from \"../../../constants/api\";\nimport {Route} from \"react-router\";\nimport {Redirect} from \"react-router-dom\";\n\n\nexport default class AddPost extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            editBlogData : this.props.editBlogData?this.props.editBlogData:null\n        }\n    }\n    changeRedirect(){\n        var redirectVar=this.state.redirect;\n        this.setState({\n            redirect:  !redirectVar,\n        })  ;\n    }\n\n    componentDidMount(){\n        if(this.props.match.params.id){\n            if(!this.state.editBlogData) {\n                this.loadData();\n            }\n        }\n    }\n\n    loadData(){\n        let that =this;\n        let successFn = function (data) {\n            that.setState({\n                editBlogData:data,\n            })\n        }\n        let errorFn = function () {\n\n        }\n        getAPI(interpolate(SINGLE_POST, [this.props.match.params.id]) ,successFn, errorFn);\n\n\n    }\n\n\n    render(){\n        const  fields= [{\n            label: \"Blog Title\",\n            key: \"title\",\n            initialValue:this.state.editBlogData?this.state.editBlogData.title:null,\n            type: INPUT_FIELD\n        },{\n            label: \"Blog Domain \",\n            key: \"domain\",\n            initialValue:this.state.editBlogData?this.state.editBlogData.domain:null,\n            type: INPUT_FIELD\n        },{\n            label: \"Blog URL \",\n            key: \"slug\",\n            initialValue:this.state.editBlogData?this.state.editBlogData.slug:null,\n            type: INPUT_FIELD\n        },{\n            label: \"Blog Image\",\n            key: \"featured_image\",\n            initialValue:this.state.editBlogData?this.state.editBlogData.featured_image:null,\n            type: SINGLE_IMAGE_UPLOAD_FIELD,\n        },{\n            label: \"Posted On\",\n            key: \"posted_on\",\n            initialValue:this.state.editBlogData?this.state.editBlogData.posted_on:null,\n            type: DATE_PICKER,\n            format:\"YYYY/MM/DD HH:mm\"\n\n        },{\n            label: \"SEO Description\",\n            key: \"meta_description\",\n            initialValue:this.state.editBlogData?this.state.editBlogData.meta_description:null,\n            type: INPUT_FIELD,\n        },{\n            label: \"SEO Keywords\",\n            key: \"keywords\",\n            initialValue:this.state.editBlogData?this.state.editBlogData.keywords:null,\n            type: TEXT_FIELD,\n        },{\n            label: \"Content\",\n            key: \"content\",\n            initialValue:this.state.editBlogData?this.state.editBlogData.content:null,\n            type: QUILL_TEXT_FIELD,\n        }, ];\n\n\n        let editformProp;\n        if(this.state.editBlogData) {\n            editformProp = {\n                successFn: function (data) {\n                    displayMessage(SUCCESS_MSG_TYPE, \"success\");\n                    console.log(data);\n                },\n                errorFn: function () {\n\n                },\n                action: interpolate(SINGLE_POST, [this.props.match.params.id]),\n                method: \"put\",\n\n            }\n        }\n        const TestFormLayout = Form.create()(DynamicFieldsForm);\n\n        const formProp={\n            successFn:function(data){\n                displayMessage(SUCCESS_MSG_TYPE, \"success\");\n\n                console.log(data);\n            },\n            errorFn:function(){\n\n            },\n            action:  BLOG_POST,\n            method: \"post\",\n        }\n        let defaultValues=[];\n\n        return <Row>\n            <Card>\n                <Route exact path='/web/blog/edit/:id'\n                       render={() => (this.props.match.params.id?<TestFormLayout defaultValues={defaultValues} title=\"Edit Post\" changeRedirect= {this.changeRedirect} formProp= {editformProp} fields={fields}/>: <Redirect to={'/web/blog'} />)}/>\n                <Route exact path='/web/blog/add'\n                       render={() =><TestFormLayout title=\"Add Post\" changeRedirect= {this.changeRedirect} formProp= {formProp} fields={fields}/>}/>\n\n\n            </Card>\n            {this.state.redirect&&    <Redirect to={'/web/blog'} />}\n        </Row>\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}