{"ast":null,"code":"import _classCallCheck from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/shivam/WorkSpace/bk-erp-front/src/app/components/settings/options/communication-settings/AppointmentSMS.js\";\nimport React from \"react\";\nimport DynamicFieldsForm from \"../../../common/DynamicFieldsForm\";\nimport { Form, Card } from \"antd\";\nimport { CHECKBOX_FIELD, SUCCESS_MSG_TYPE, TEXT_FIELD, INPUT_FIELD, RADIO_FIELD, SELECT_FIELD } from \"../../../../constants/dataKeys\";\nimport { COMMUNICATONS_API } from \"../../../../constants/api\";\nimport { Redirect } from 'react-router-dom';\nimport { getAPI, displayMessage, interpolate } from \"../../../../utils/common\";\n\nvar AppointmentSMS =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AppointmentSMS, _React$Component);\n\n  function AppointmentSMS(props) {\n    var _this;\n\n    _classCallCheck(this, AppointmentSMS);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AppointmentSMS).call(this, props));\n    _this.state = {\n      redirect: false,\n      data: null\n    };\n    _this.loadData = _this.loadData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AppointmentSMS, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadData();\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData() {\n      var that = this;\n\n      var successFn = function successFn(data) {\n        console.log(\"get table\");\n        that.setState({\n          data: data[0]\n        });\n      };\n\n      var errorFn = function errorFn() {};\n\n      getAPI(interpolate(COMMUNICATONS_API, [this.props.active_practiceId]), successFn, errorFn);\n    }\n  }, {\n    key: \"changeRedirect\",\n    value: function changeRedirect() {\n      var redirectVar = this.state.redirect;\n      this.setState({\n        redirect: !redirectVar\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.data);\n      var fields = [{\n        label: \"Contact Number\",\n        key: \"contact_number\",\n        initialValue: this.state.data ? this.state.data.contact_number : null,\n        extra: \"Maximum 15 characters & represented as {{CLINICCONTACTNUMBER}}\",\n        type: INPUT_FIELD\n      }, {\n        label: \"Email\",\n        key: \"email\",\n        initialValue: this.state.data ? this.state.data.email : null,\n        extra: \"All replies by Patients for emails will be sent to this address\",\n        type: INPUT_FIELD\n      }, {\n        label: \"SMS Language\",\n        key: \"sms_language\",\n        initialValue: this.state.data ? this.state.data.sms_language : null,\n        extra: \"SMS to Patients will be sent in this language\",\n        type: INPUT_FIELD\n      }, {\n        label: \"SMS clinic Name\",\n        key: \"sms_clinic_name\",\n        initialValue: this.state.data ? this.state.data.sms_clinic_name : null,\n        extra: \"{{CLINIC}} will use this name.\",\n        type: INPUT_FIELD\n      }, {\n        key: \"appointment_confirmation_sms\",\n        //    initialValue:  this.state.data?[this.state.data.appointment_confirmation_sms]:null,\n        type: CHECKBOX_FIELD,\n        extra: \"SMS is sent to the Patient on successfully adding an appointment\",\n        options: [{\n          label: \" APPOINTMENT CONFIRMATION SMS\",\n          value: true\n        }]\n      }, {\n        key: \"appointment_confirmation_text\",\n        initialValue: this.state.data ? this.state.data.appointment_confirmation_text : null,\n        minRows: 4,\n        disabled: true,\n        type: TEXT_FIELD\n      }, {\n        key: \"appointment_cancellation_sms\",\n        //  initialValue: this.state.data?[this.state.data.appointment_cancellation_sms]:null,\n        type: CHECKBOX_FIELD,\n        extra: \"SMS is sent to the Patient when the appointment is cancelled\",\n        options: [{\n          label: \"appointment_cancellation_sms\",\n          value: \"true\"\n        }]\n      }, {\n        key: \"appointment_cancellation_text\",\n        initialValue: this.state.data ? this.state.data.appointment_cancellation_text : null,\n        minRows: 4,\n        disabled: true,\n        type: TEXT_FIELD\n      }, {\n        label: \" \",\n        key: \"appointment_reminder_sms\",\n        //    initialValue:  this.state.data?this.state.data.sms_language:null,\n        type: CHECKBOX_FIELD,\n        extra: \"This SMS is automatically sent to the Patient at selected time & date before the appointment.\",\n        options: [{\n          label: \"appointment_reminder_sms\",\n          value: \"12\"\n        }]\n      }, {\n        key: \"appointment_reminder_text\",\n        initialValue: this.state.data ? this.state.data.appointment_reminder_text : null,\n        minRows: 4,\n        disabled: true,\n        type: TEXT_FIELD\n      }, {\n        key: \"send_on_day_of_appointment\",\n        //  initialValue:  this.state.data?this.state.data.sms_language:null,\n        type: CHECKBOX_FIELD,\n        options: [{\n          label: \"send_on_day_of_appointment\",\n          value: \"12\"\n        }]\n      }, {\n        key: \"send_on_day_of_appointment_time\",\n        initialValue: \"send_on_day_of_appointment_time\",\n        extra: \" Send reminder SMS on the day of appointment at\",\n        type: INPUT_FIELD\n      }, {\n        key: \"follow_up_reminder_sms\",\n        //  initialValue:  this.state.data?this.state.data.sms_language:null,\n        type: CHECKBOX_FIELD,\n        extra: \"This SMS is sent to the Patient on the morning of the followup sms.\",\n        options: [{\n          label: \"follow_up_reminder_sms\",\n          value: \"12\"\n        }]\n      }, {\n        key: \"follow_up_reminder_sms_text\",\n        initialValue: this.state.data ? this.state.data.follow_up_reminder_sms_text : null,\n        minRows: 4,\n        disabled: true,\n        type: TEXT_FIELD\n      }, {\n        key: \"send_follow_up_reminder_time\",\n        initialValue: this.state.data ? this.state.data.send_follow_up_reminder_time : null,\n        extra: \"Send follow-up SMS   after the last appointment.\",\n        type: INPUT_FIELD\n      }, {\n        key: \"payment_sms\",\n        //initialValue:  this.state.data?this.state.data.payment_sms:null,\n        type: CHECKBOX_FIELD,\n        extra: \"This SMS is sent to the Patient when payment is received.\",\n        options: [{\n          label: \"payment_sms\",\n          value: \"12\"\n        }]\n      }, {\n        key: \"payment_sms_text\",\n        initialValue: this.state.data ? this.state.data.payment_sms_text : null,\n        disabled: true,\n        minRows: 4,\n        type: TEXT_FIELD\n      }, {\n        key: \"lab_order_confirmation_sms\",\n        //  initialValue:  this.state.data?this.state.data.sms_language:null,\n        type: CHECKBOX_FIELD,\n        extra: \"This SMS is sent to the Patient when he is prescribed a lab order.\",\n        options: [{\n          label: \"lab_order_confirmation_sms\",\n          value: \"12\"\n        }]\n      }, {\n        key: \"lab_order_confirmation_text\",\n        initialValue: this.state.data ? this.state.data.lab_order_confirmation_text : null,\n        minRows: 4,\n        disabled: true,\n        type: TEXT_FIELD\n      }, {\n        label: \"\",\n        key: \"lab_order_due_on_sms\",\n        //  initialValue:  this.state.data?this.state.data.sms_language:null,\n        extra: \"This SMS is sent to the Patient informing lab order due date\",\n        type: CHECKBOX_FIELD,\n        options: [{\n          label: \"lab_order_due_on_sms\",\n          value: \"12\"\n        }]\n      }, {\n        key: \"lab_order_result_sms\",\n        //  initialValue:  this.state.data?this.state.data.sms_language:null,\n        extra: \"This SMS is sent to the Patient when lab order results are ready\",\n        type: CHECKBOX_FIELD,\n        options: [{\n          label: \"lab_order_result_sms\",\n          value: \"12\"\n        }]\n      }, {\n        key: \"lab_order_reminder_sms\",\n        //  initialValue:  this.state.data?this.state.data.sms_language:null,\n        type: CHECKBOX_FIELD,\n        extra: \"This reminder SMS is sent to the Patient\",\n        options: [{\n          label: \"lab_order_reminder_sms\",\n          value: \"12\"\n        }]\n      }];\n      var formProp = {\n        successFn: function successFn(data) {\n          displayMessage(SUCCESS_MSG_TYPE, \"success\");\n          console.log(data);\n        },\n        errorFn: function errorFn() {},\n        action: \"x\",\n        method: \"post\"\n      };\n      var defaultValues = [{\n        \"key\": \"practice\",\n        \"value\": this.props.active_practiceId\n      }, {\n        \"key\": \"id\",\n        \"value\": this.state.data ? this.state.data.id : null\n      }];\n      var TestFormLayout = Form.create()(DynamicFieldsForm);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(TestFormLayout, {\n        formProp: formProp,\n        defaultValues: defaultValues,\n        title: \"Communication Settings\",\n        fields: fields,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AppointmentSMS;\n}(React.Component);\n\nexport default AppointmentSMS;","map":{"version":3,"sources":["/home/shivam/WorkSpace/bk-erp-front/src/app/components/settings/options/communication-settings/AppointmentSMS.js"],"names":["React","DynamicFieldsForm","Form","Card","CHECKBOX_FIELD","SUCCESS_MSG_TYPE","TEXT_FIELD","INPUT_FIELD","RADIO_FIELD","SELECT_FIELD","COMMUNICATONS_API","Redirect","getAPI","displayMessage","interpolate","AppointmentSMS","props","state","redirect","data","loadData","bind","that","successFn","console","log","setState","errorFn","active_practiceId","redirectVar","fields","label","key","initialValue","contact_number","extra","type","email","sms_language","sms_clinic_name","options","value","appointment_confirmation_text","minRows","disabled","appointment_cancellation_text","appointment_reminder_text","follow_up_reminder_sms_text","send_follow_up_reminder_time","payment_sms_text","lab_order_confirmation_text","formProp","action","method","defaultValues","id","TestFormLayout","create","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport DynamicFieldsForm from \"../../../common/DynamicFieldsForm\";\nimport {Form , Card} from \"antd\";\nimport {CHECKBOX_FIELD, SUCCESS_MSG_TYPE,  TEXT_FIELD, INPUT_FIELD, RADIO_FIELD, SELECT_FIELD} from \"../../../../constants/dataKeys\";\nimport {COMMUNICATONS_API} from \"../../../../constants/api\"\nimport { Redirect } from 'react-router-dom'\nimport {getAPI, displayMessage, interpolate} from \"../../../../utils/common\";\n\n\nclass AppointmentSMS extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          redirect: false,\n          data:null,\n\n        }\n        this.loadData = this.loadData.bind(this);\n\n    }\n    componentDidMount(){\n      this.loadData();\n    }\n    loadData(){\n      var that = this;\n        let successFn = function (data) {\n          console.log(\"get table\");\n          that.setState({\n            data:data[0],\n          })\n        };\n        let errorFn = function () {\n        };\n       getAPI(interpolate( COMMUNICATONS_API, [this.props.active_practiceId]), successFn, errorFn);\n    }\n\n    changeRedirect(){\n      var redirectVar=this.state.redirect;\n    this.setState({\n      redirect:  !redirectVar,\n    })  ;\n    }\n\n    render() {\n\n      console.log(this.state.data);\n      const   fields= [{\n            label: \"Contact Number\",\n            key: \"contact_number\",\n            initialValue: this.state.data?this.state.data.contact_number:null,\n            extra:\"Maximum 15 characters & represented as {{CLINICCONTACTNUMBER}}\",\n            type: INPUT_FIELD\n        },{\n            label: \"Email\",\n            key: \"email\",\n            initialValue:  this.state.data?this.state.data.email:null,\n            extra: \"All replies by Patients for emails will be sent to this address\",\n            type: INPUT_FIELD\n        },{\n            label: \"SMS Language\",\n            key: \"sms_language\",\n            initialValue:  this.state.data?this.state.data.sms_language:null,\n            extra: \"SMS to Patients will be sent in this language\",\n            type: INPUT_FIELD\n        },{\n            label: \"SMS clinic Name\",\n            key: \"sms_clinic_name\",\n            initialValue: this.state.data?this.state.data.sms_clinic_name:null,\n            extra: \"{{CLINIC}} will use this name.\",\n            type: INPUT_FIELD,\n        },{\n            key: \"appointment_confirmation_sms\",\n        //    initialValue:  this.state.data?[this.state.data.appointment_confirmation_sms]:null,\n            type: CHECKBOX_FIELD,\n            extra:\"SMS is sent to the Patient on successfully adding an appointment\",\n            options: [{label: \" APPOINTMENT CONFIRMATION SMS\", value: true}]\n        },{\n            key: \"appointment_confirmation_text\",\n          initialValue:  this.state.data?this.state.data.appointment_confirmation_text:null,\n\n            minRows: 4,\n            disabled:true,\n            type: TEXT_FIELD,\n\n        },{\n            key: \"appointment_cancellation_sms\",\n          //  initialValue: this.state.data?[this.state.data.appointment_cancellation_sms]:null,\n            type: CHECKBOX_FIELD,\n            extra:\"SMS is sent to the Patient when the appointment is cancelled\",\n            options: [{label: \"appointment_cancellation_sms\", value: \"true\"}]\n        },{\n            key: \"appointment_cancellation_text\",\n            initialValue: this.state.data?this.state.data.appointment_cancellation_text:null,\n            minRows: 4,\n            disabled:true,\n            type: TEXT_FIELD,\n\n        },{\n            label:\" \",\n            key: \"appointment_reminder_sms\",\n      //    initialValue:  this.state.data?this.state.data.sms_language:null,\n            type: CHECKBOX_FIELD,\n            extra: \"This SMS is automatically sent to the Patient at selected time & date before the appointment.\",\n            options: [{label: \"appointment_reminder_sms\", value: \"12\"}]\n        },{\n            key: \"appointment_reminder_text\",\n            initialValue:  this.state.data?this.state.data.appointment_reminder_text:null,\n            minRows: 4,\n            disabled:true,\n            type: TEXT_FIELD,\n\n        },{\n            key: \"send_on_day_of_appointment\",\n          //  initialValue:  this.state.data?this.state.data.sms_language:null,\n            type: CHECKBOX_FIELD,\n            options: [{label: \"send_on_day_of_appointment\", value: \"12\"}]\n        },{\n            key: \"send_on_day_of_appointment_time\",\n            initialValue: \"send_on_day_of_appointment_time\",\n            extra:\" Send reminder SMS on the day of appointment at\",\n            type: INPUT_FIELD,\n        },{\n            key: \"follow_up_reminder_sms\",\n        //  initialValue:  this.state.data?this.state.data.sms_language:null,\n            type: CHECKBOX_FIELD,\n            extra:\"This SMS is sent to the Patient on the morning of the followup sms.\",\n            options: [{label: \"follow_up_reminder_sms\", value: \"12\"}]\n        },{\n            key: \"follow_up_reminder_sms_text\",\n            initialValue:  this.state.data?this.state.data.follow_up_reminder_sms_text:null,\n            minRows: 4,\n            disabled:true,\n            type: TEXT_FIELD,\n\n        },{\n            key: \"send_follow_up_reminder_time\",\n            initialValue:  this.state.data?this.state.data.send_follow_up_reminder_time:null,\n            extra:\"Send follow-up SMS   after the last appointment.\",\n            type: INPUT_FIELD,\n        },{\n            key: \"payment_sms\",\n            //initialValue:  this.state.data?this.state.data.payment_sms:null,\n            type: CHECKBOX_FIELD,\n            extra:\"This SMS is sent to the Patient when payment is received.\",\n            options: [{label: \"payment_sms\", value: \"12\"}]\n        },{\n            key: \"payment_sms_text\",\n            initialValue:  this.state.data?this.state.data.payment_sms_text:null,\n            disabled:true,\n            minRows:4,\n            type: TEXT_FIELD,\n        },{\n            key: \"lab_order_confirmation_sms\",\n          //  initialValue:  this.state.data?this.state.data.sms_language:null,\n            type: CHECKBOX_FIELD,\n            extra:\"This SMS is sent to the Patient when he is prescribed a lab order.\",\n            options: [{label: \"lab_order_confirmation_sms\", value: \"12\"}]\n        },\n        {\n            key: \"lab_order_confirmation_text\",\n            initialValue:  this.state.data?this.state.data.lab_order_confirmation_text:null,\n            minRows: 4,\n            disabled:true,\n            type: TEXT_FIELD,\n\n        },{\n          label:\"\",\n            key: \"lab_order_due_on_sms\",\n          //  initialValue:  this.state.data?this.state.data.sms_language:null,\n            extra:\"This SMS is sent to the Patient informing lab order due date\",\n            type: CHECKBOX_FIELD,\n            options: [{label: \"lab_order_due_on_sms\", value: \"12\"}]\n        },{\n            key: \"lab_order_result_sms\",\n          //  initialValue:  this.state.data?this.state.data.sms_language:null,\n            extra:\"This SMS is sent to the Patient when lab order results are ready\",\n            type: CHECKBOX_FIELD,\n            options: [{label: \"lab_order_result_sms\", value: \"12\"}]\n        },{\n            key: \"lab_order_reminder_sms\",\n          //  initialValue:  this.state.data?this.state.data.sms_language:null,\n            type: CHECKBOX_FIELD,\n            extra:\"This reminder SMS is sent to the Patient\",\n            options: [{label: \"lab_order_reminder_sms\", value: \"12\"}]\n        },];\n        const formProp={\n          successFn:function(data){\n            displayMessage(SUCCESS_MSG_TYPE, \"success\");\n            console.log(data);\n          },\n          errorFn:function(){\n\n          },\n          action: \"x\",\n          method: \"post\",\n        };\n        const defaultValues = [{\"key\":\"practice\", \"value\":this.props.active_practiceId}, {\"key\":\"id\", \"value\":this.state.data?this.state.data.id:null,}];\n\n        const TestFormLayout = Form.create()(DynamicFieldsForm);\n        return <div>\n            <TestFormLayout formProp={formProp} defaultValues={defaultValues}  title=\"Communication Settings\" fields={fields}/>\n        </div>\n    }\n}\n\nexport default AppointmentSMS;\n"]},"metadata":{},"sourceType":"module"}