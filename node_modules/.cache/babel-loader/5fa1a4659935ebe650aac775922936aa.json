{"ast":null,"code":"import _classCallCheck from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/shivam/WorkSpace/bk-erp-front/src/App.js\";\nimport React, { Component } from 'react';\nimport { Layout } from \"antd\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { loggedInUser, logInUser, logOutUser } from \"./app/utils/auth\";\nimport AppBase from \"./app/components/core/AppBase\";\nimport Auth from \"./app/components/auth/Auth\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      user: loggedInUser(),\n      redirect: false\n    };\n    _this.login = _this.login.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.logout = _this.logout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"login\",\n    value: function login(data) {\n      var that = this;\n\n      var successFn = function successFn() {\n        var user = loggedInUser();\n        that.setState({\n          user: user\n        });\n      };\n\n      var errorFn = function errorFn() {};\n\n      logInUser(data, successFn, errorFn);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var that = this;\n\n      var successFn = function successFn() {\n        that.setState({\n          user: null\n        });\n      };\n\n      var errorFn = function errorFn() {};\n\n      logOutUser(successFn, errorFn);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: function render() {\n          return React.createElement(Auth, Object.assign({}, _this2.state, {\n            login: _this2.login,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/password-reset/:token\",\n        render: function render(route) {\n          return React.createElement(Auth, Object.assign({}, route, _this2.state, {\n            login: _this2.login,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Route, {\n        render: function render() {\n          return _this2.state.user ? React.createElement(AppBase, Object.assign({}, _this2.state, {\n            logout: _this2.logout,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          })) : React.createElement(Auth, Object.assign({}, _this2.state, {\n            login: _this2.login,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/shivam/WorkSpace/bk-erp-front/src/App.js"],"names":["React","Component","Layout","Route","Switch","loggedInUser","logInUser","logOutUser","AppBase","Auth","App","props","state","user","redirect","login","bind","logout","data","that","successFn","setState","errorFn","route"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,MAAR,QAAqB,MAArB;AACA,SAAQC,KAAR,EAAeC,MAAf,QAA4B,kBAA5B;AACA,SACIC,YADJ,EAEIC,SAFJ,EAGIC,UAHJ,QAIO,kBAJP;AAKA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;;IAEMC,G;;;;;AACF,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAER,YAAY,EADT;AAETS,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIA,UAAKC,KAAL,GAAa,MAAKA,KAAL,CAAWC,IAAX,uDAAb;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,uDAAd;AAPe;AAQlB;;;;0BAEKE,I,EAAM;AACR,UAAIC,IAAI,GAAG,IAAX;;AACA,UAAIC,SAAS,GAAG,SAAZA,SAAY,GAAY;AACxB,YAAIP,IAAI,GAAGR,YAAY,EAAvB;AACAc,QAAAA,IAAI,CAACE,QAAL,CAAc;AACVR,UAAAA,IAAI,EAAEA;AADI,SAAd;AAIH,OAND;;AAOA,UAAIS,OAAO,GAAG,SAAVA,OAAU,GAAY,CAEzB,CAFD;;AAGAhB,MAAAA,SAAS,CAACY,IAAD,EAAOE,SAAP,EAAkBE,OAAlB,CAAT;AACH;;;6BAEQ;AACL,UAAIH,IAAI,GAAG,IAAX;;AACA,UAAIC,SAAS,GAAG,SAAZA,SAAY,GAAY;AACxBD,QAAAA,IAAI,CAACE,QAAL,CAAc;AACVR,UAAAA,IAAI,EAAE;AADI,SAAd;AAGH,OAJD;;AAKA,UAAIS,OAAO,GAAG,SAAVA,OAAU,GAAY,CACzB,CADD;;AAEAf,MAAAA,UAAU,CAACa,SAAD,EAAYE,OAAZ,CAAV;AACH;;;6BAEQ;AAAA;;AACL,aAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACH,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,QAAlB;AAA2B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD,oBAAU,MAAI,CAACV,KAAf;AAAsB,YAAA,KAAK,EAAE,MAAI,CAACG,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAN;AAAA,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,wBAAlB;AACO,QAAA,MAAM,EAAE,gBAACQ,KAAD;AAAA,iBAAW,oBAAC,IAAD,oBAAUA,KAAV,EAAqB,MAAI,CAACX,KAA1B;AAAiC,YAAA,KAAK,EAAE,MAAI,CAACG,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAX;AAAA,SADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAII,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE;AAAA,iBAAO,MAAI,CAACH,KAAL,CAAWC,IAAX,GAClB,oBAAC,OAAD,oBAAa,MAAI,CAACD,KAAlB;AAAyB,YAAA,MAAM,EAAE,MAAI,CAACK,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADkB,GAElB,oBAAC,IAAD,oBAAU,MAAI,CAACL,KAAf;AAAsB,YAAA,KAAK,EAAE,MAAI,CAACG,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFW;AAAA,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADG,CAAP;AAUH;;;;EAjDad,S;;AAoDlB,eAAeS,GAAf","sourcesContent":["import React, {Component} from 'react';\nimport {Layout} from \"antd\";\nimport {Route, Switch} from \"react-router-dom\";\nimport {\n    loggedInUser,\n    logInUser,\n    logOutUser,\n} from \"./app/utils/auth\";\nimport AppBase from \"./app/components/core/AppBase\";\nimport Auth from \"./app/components/auth/Auth\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: loggedInUser(),\n            redirect: false,\n        };\n        this.login = this.login.bind(this);\n        this.logout = this.logout.bind(this);\n    }\n\n    login(data) {\n        let that = this;\n        let successFn = function () {\n            let user = loggedInUser();\n            that.setState({\n                user: user,\n            });\n\n        };\n        let errorFn = function () {\n\n        };\n        logInUser(data, successFn, errorFn);\n    }\n\n    logout() {\n        let that = this;\n        let successFn = function () {\n            that.setState({\n                user: null\n            });\n        };\n        let errorFn = function () {\n        };\n        logOutUser(successFn, errorFn);\n    }\n\n    render() {\n        return <Layout>\n            <Switch>\n                <Route exact path=\"/login\" render={() => <Auth {...this.state} login={this.login}/>}/>\n                <Route exact path=\"/password-reset/:token\"\n                       render={(route) => <Auth {...route} {...this.state} login={this.login}/>}/>\n                <Route render={() => (this.state.user ?\n                    <AppBase {...this.state} logout={this.logout}/> :\n                    <Auth {...this.state} login={this.login}/>)}/>\n            </Switch>\n        </Layout>\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}