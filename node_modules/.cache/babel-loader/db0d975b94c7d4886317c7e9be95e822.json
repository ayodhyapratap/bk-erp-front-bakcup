{"ast":null,"code":"import _objectSpread from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from \"axios/index\";\nimport { message } from 'antd';\nimport { getAuthToken } from \"./auth\";\nimport CONFIG from \"../../app.config\";\nimport { API_URL } from \"../constants/api\";\nimport { ERROR_MESSAGE_404, ERROR_MESSAGE_500, PASS_DIGIT, PASS_LEN, PASS_LOWER, PASS_SPEC, PASS_UPPER } from \"../constants/messages\";\nimport { ERROR_MSG_TYPE, INFO_MSG_TYPE, SUCCESS_MSG_TYPE, WARNING_MSG_TYPE } from \"../constants/dataKeys\";\nexport var makeURL = function makeURL(URL) {\n  return API_URL + '/' + URL;\n};\nexport var putAPI = function putAPI(URL, data, successFn, errorFn) {\n  var headerConfig = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  // console.log(\"sending to \" + makeURL(URL), data);\n  axios({\n    method: 'put',\n    url: makeURL(URL),\n    data: data,\n    headers: _objectSpread({\n      Authorization: 'Token ' + getAuthToken()\n    }, headerConfig)\n  }).then(function (response) {\n    // console.log(response);\n    var data = response.data;\n    successFn(data);\n  }).catch(function (error) {\n    handleErrorResponse(error);\n    errorFn(data);\n  });\n};\nexport var postAPI = function postAPI(URL, data, successFn, errorFn) {\n  var headerConfig = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  // console.log(\"sending to \" + makeURL(URL), data);\n  axios({\n    method: 'post',\n    url: makeURL(URL),\n    data: data,\n    headers: _objectSpread({\n      Authorization: 'Token ' + getAuthToken()\n    }, headerConfig)\n  }).then(function (response) {\n    // console.log(response);\n    var data = response.data;\n    successFn(data);\n  }).catch(function (error) {\n    console.log(error);\n    handleErrorResponse(error);\n    errorFn();\n  });\n};\nexport var postOuterAPI = function postOuterAPI(URL, data, successFn, errorFn) {\n  var headerConfig = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  // console.log(\"sending to \" + makeURL(URL), data);\n  axios({\n    method: 'post',\n    url: URL,\n    data: data,\n    headers: _objectSpread({}, headerConfig)\n  }).then(function (response) {\n    // console.log(response);\n    var data = response.data;\n    successFn(data);\n  }).catch(function (error) {\n    console.log(error);\n    handleErrorResponse(error);\n    errorFn();\n  });\n};\nexport var patchAPI = function patchAPI(URL, data, successFn, errorFn) {\n  var headerConfig = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  // console.log(\"sending to \" + makeURL(URL), data);\n  axios({\n    method: 'patch',\n    url: makeURL(URL),\n    data: data,\n    headers: _objectSpread({\n      Authorization: 'Token ' + getAuthToken()\n    }, headerConfig)\n  }).then(function (response) {\n    // console.log(response);\n    var data = response.data;\n    successFn(data);\n  }).catch(function (error) {\n    console.log(error);\n    handleErrorResponse(error);\n    errorFn();\n  });\n};\nexport var getAPI = function getAPI(URL, successFn, errorFn) {\n  var params = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  // console.log(getAuthToken());\n  axios({\n    method: 'get',\n    url: makeURL(URL),\n    headers: {\n      Authorization: 'Token ' + getAuthToken()\n    },\n    params: params\n  }).then(function (response) {\n    console.log(response);\n    var data = response.data;\n    successFn(data);\n  }).catch(function (error) {\n    console.log(\"Error aa rhi \", error);\n    handleErrorResponse(error);\n    errorFn();\n  });\n};\nexport var deleteAPI = function deleteAPI(URL, successFn, errorFn) {\n  // console.log(getAuthToken());\n  axios({\n    method: 'delete',\n    url: makeURL(URL),\n    headers: {\n      Authorization: 'Token ' + getAuthToken()\n    }\n  }).then(function (response) {\n    console.log(response);\n    var data = response.data;\n    successFn(data);\n  }).catch(function (error) {\n    console.log(\"Error aa rhi \", error);\n    handleErrorResponse(error);\n    errorFn();\n  });\n};\nexport var handleErrorResponse = function handleErrorResponse(error) {\n  var response = error.response;\n\n  if (response) {\n    console.info(\"Error Response Recieved\", response);\n    var status = response.status;\n\n    if (status == 400) {\n      if (response.data.detail) {\n        message.error(response.data.detail);\n      }\n    } else if (status == 401) {\n      if (response.data.detail) {\n        message.error(response.data.detail);\n      }\n    } else if (status == 404) {\n      if (response.data.detail) {\n        message.error(response.data.detail);\n      } else {\n        message.error(ERROR_MESSAGE_404);\n      }\n    } else if (status == 500) {\n      message.error(ERROR_MESSAGE_500);\n    }\n  } else {\n    // message.error(ERROR_INTERNET_CONNECTIVITY);\n    console.error(response);\n  }\n};\nexport var interpolate = function interpolate(theString, argumentArray) {\n  var regex = /%s/;\n\n  var _r = function _r(p, c) {\n    return p.replace(regex, c);\n  };\n\n  return argumentArray.reduce(_r, theString);\n};\nexport var displayMessage = function displayMessage(type, msg) {\n  if (type == SUCCESS_MSG_TYPE) message.success(msg);else if (type == INFO_MSG_TYPE) message.info(msg);else if (type == WARNING_MSG_TYPE) message.warning(msg);else if (type == ERROR_MSG_TYPE) message.error(msg);\n};\nexport var startLoadingMessage = function startLoadingMessage(msg) {\n  return message.loading(msg, 0);\n};\nexport var stopLoadingMessage = function stopLoadingMessage(msgFn, finishMsgType, finishMsg) {\n  msgFn();\n  if (finishMsgType) displayMessage(finishMsgType, finishMsg);\n  return true;\n};\nexport var parseQueryString = function parseQueryString(query) {\n  var obj = {}; // console.log(query, query.length);\n\n  if (query.length) {\n    if (query[0] == '?' || query[0] == '#') {\n      query = query.substring(1, query.length);\n    }\n\n    var tempArr = query.split('&');\n    console.log(tempArr);\n    tempArr.forEach(function (str) {\n      var arr = str.split('=');\n\n      if (arr.length == 2) {\n        obj[arr[0]] = arr[1];\n      }\n    });\n  }\n\n  return obj;\n};\nexport var validatePassword = function validatePassword(rule, value, callback) {\n  if (value.length < 6 && value.length != 0) {\n    return PASS_LEN;\n  }\n\n  if (value == value.toLowerCase() && value.length != 0) {\n    return PASS_UPPER;\n  } else if (value == value.toUpperCase() && value.length != 0) {\n    return PASS_LOWER;\n  } else if (value.search(/[0-9]/) < 0 && value.length != 0) {\n    return PASS_DIGIT;\n  } else if (!(/^[a-zA-Z0-9 ]*$/.test(value) == true && value.length != 0)) {} else {\n    return PASS_SPEC;\n  }\n\n  return;\n};","map":{"version":3,"sources":["/home/shivam/WorkSpace/bk-erp-front/src/app/utils/common.js"],"names":["axios","message","getAuthToken","CONFIG","API_URL","ERROR_MESSAGE_404","ERROR_MESSAGE_500","PASS_DIGIT","PASS_LEN","PASS_LOWER","PASS_SPEC","PASS_UPPER","ERROR_MSG_TYPE","INFO_MSG_TYPE","SUCCESS_MSG_TYPE","WARNING_MSG_TYPE","makeURL","URL","putAPI","data","successFn","errorFn","headerConfig","method","url","headers","Authorization","then","response","catch","error","handleErrorResponse","postAPI","console","log","postOuterAPI","patchAPI","getAPI","params","deleteAPI","info","status","detail","interpolate","theString","argumentArray","regex","_r","p","c","replace","reduce","displayMessage","type","msg","success","warning","startLoadingMessage","loading","stopLoadingMessage","msgFn","finishMsgType","finishMsg","parseQueryString","query","obj","length","substring","tempArr","split","forEach","str","arr","validatePassword","rule","value","callback","toLowerCase","toUpperCase","search","test"],"mappings":"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","sourcesContent":["import axios from \"axios/index\";\nimport {message} from 'antd';\nimport {getAuthToken} from \"./auth\";\nimport CONFIG from \"../../app.config\";\nimport {API_URL} from \"../constants/api\";\n\nimport {\n    ERROR_MESSAGE_404,\n    ERROR_MESSAGE_500,\n    PASS_DIGIT,\n    PASS_LEN,\n    PASS_LOWER, PASS_SPEC,\n    PASS_UPPER\n} from \"../constants/messages\";\nimport {ERROR_MSG_TYPE, INFO_MSG_TYPE, SUCCESS_MSG_TYPE, WARNING_MSG_TYPE} from \"../constants/dataKeys\";\n\nexport const makeURL = function (URL) {\n    return API_URL + '/' + URL;\n};\n\nexport const putAPI = function (URL, data, successFn, errorFn, headerConfig = {}) {\n    // console.log(\"sending to \" + makeURL(URL), data);\n    axios({\n        method: 'put',\n        url: makeURL(URL),\n        data: data,\n        headers: {\n            Authorization: 'Token ' + getAuthToken(),\n            ...headerConfig\n        }\n    }).then(function (response) {\n        // console.log(response);\n        let data = response.data;\n        successFn(data);\n    }).catch(function (error) {\n        handleErrorResponse(error);\n        errorFn(data);\n    });\n};\n\nexport const postAPI = function (URL, data, successFn, errorFn, headerConfig = {}) {\n    // console.log(\"sending to \" + makeURL(URL), data);\n    axios({\n        method: 'post',\n        url: makeURL(URL),\n        data: data,\n        headers: {\n            Authorization: 'Token ' + getAuthToken(),\n            ...headerConfig\n        }\n    }).then(function (response) {\n        // console.log(response);\n        let data = response.data;\n        successFn(data);\n    }).catch(function (error) {\n        console.log(error);\n        handleErrorResponse(error);\n        errorFn();\n    });\n};\nexport const postOuterAPI = function (URL, data, successFn, errorFn, headerConfig = {}) {\n    // console.log(\"sending to \" + makeURL(URL), data);\n    axios({\n        method: 'post',\n        url: URL,\n        data: data,\n        headers: {\n            ...headerConfig\n        }\n    }).then(function (response) {\n        // console.log(response);\n        let data = response.data;\n        successFn(data);\n    }).catch(function (error) {\n        console.log(error);\n        handleErrorResponse(error);\n        errorFn();\n    });\n};\nexport const patchAPI = function (URL, data, successFn, errorFn, headerConfig = {}) {\n    // console.log(\"sending to \" + makeURL(URL), data);\n    axios({\n        method: 'patch',\n        url: makeURL(URL),\n        data: data,\n        headers: {\n            Authorization: 'Token ' + getAuthToken(),\n            ...headerConfig\n        }\n    }).then(function (response) {\n        // console.log(response);\n        let data = response.data;\n        successFn(data);\n    }).catch(function (error) {\n        console.log(error);\n        handleErrorResponse(error);\n        errorFn();\n    });\n};\nexport const getAPI = function (URL, successFn, errorFn, params = {}) {\n    // console.log(getAuthToken());\n    axios({\n        method: 'get',\n        url: makeURL(URL),\n        headers: {\n            Authorization: 'Token ' + getAuthToken()\n        },\n        params: params\n    }).then(function (response) {\n        console.log(response);\n        let data = response.data;\n        successFn(data);\n    }).catch(function (error) {\n        console.log(\"Error aa rhi \", error);\n        handleErrorResponse(error);\n        errorFn();\n    });\n};\nexport const deleteAPI = function (URL, successFn, errorFn) {\n    // console.log(getAuthToken());\n    axios({\n        method: 'delete',\n        url: makeURL(URL),\n        headers: {\n            Authorization: 'Token ' + getAuthToken()\n        }\n    }).then(function (response) {\n        console.log(response);\n        let data = response.data;\n        successFn(data);\n    }).catch(function (error) {\n        console.log(\"Error aa rhi \", error);\n        handleErrorResponse(error);\n        errorFn();\n    });\n};\n\nexport const handleErrorResponse = function (error) {\n    let response = error.response;\n    if (response) {\n        console.info(\"Error Response Recieved\", response);\n        let status = response.status;\n        if (status == 400) {\n            if (response.data.detail) {\n                message.error(response.data.detail);\n            }\n        } else if (status == 401) {\n            if (response.data.detail) {\n                message.error(response.data.detail);\n            }\n        } else if (status == 404) {\n            if (response.data.detail) {\n                message.error(response.data.detail);\n            } else {\n                message.error(ERROR_MESSAGE_404);\n            }\n        } else if (status == 500) {\n            message.error(ERROR_MESSAGE_500);\n        }\n    } else {\n        // message.error(ERROR_INTERNET_CONNECTIVITY);\n        console.error(response);\n    }\n};\n\nexport const interpolate = function (theString, argumentArray) {\n    var regex = /%s/;\n    var _r = function (p, c) {\n        return p.replace(regex, c);\n    };\n    return argumentArray.reduce(_r, theString);\n};\n\n\nexport const displayMessage = function (type, msg) {\n    if (type == SUCCESS_MSG_TYPE)\n        message.success(msg);\n    else if (type == INFO_MSG_TYPE)\n        message.info(msg);\n    else if (type == WARNING_MSG_TYPE)\n        message.warning(msg);\n    else if (type == ERROR_MSG_TYPE)\n        message.error(msg);\n};\n\nexport const startLoadingMessage = function (msg) {\n    return message.loading(msg, 0);\n};\nexport const stopLoadingMessage = function (msgFn, finishMsgType, finishMsg) {\n    msgFn();\n    if (finishMsgType)\n        displayMessage(finishMsgType, finishMsg);\n    return true;\n}\n\nexport const parseQueryString = function (query) {\n    var obj = {};\n    // console.log(query, query.length);\n    if (query.length) {\n        if (query[0] == '?' || query[0] == '#') {\n            query = query.substring(1, query.length)\n        }\n        var tempArr = query.split('&');\n        console.log(tempArr);\n        tempArr.forEach(function (str) {\n            var arr = str.split('=');\n            if (arr.length == 2) {\n                obj[arr[0]] = arr[1]\n            }\n        });\n    }\n    return obj;\n}\nexport const validatePassword = function (rule, value, callback) {\n\n    if (value.length < 6 && value.length != 0) {\n        return (PASS_LEN);\n    }\n    if (value == value.toLowerCase() && value.length != 0) {\n        return (PASS_UPPER);\n    }\n    else if (value == value.toUpperCase() && value.length != 0) {\n        return (PASS_LOWER);\n    }\n    else if (value.search(/[0-9]/) < 0 && value.length != 0) {\n        return (PASS_DIGIT);\n    }\n    else if (!(/^[a-zA-Z0-9 ]*$/.test(value) == true && value.length != 0)) {\n    } else {\n        return (PASS_SPEC);\n    }\n    return;\n}\n"]},"metadata":{},"sourceType":"module"}