{"ast":null,"code":"import _classCallCheck from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shivam/WorkSpace/bk-erp-front/src/app/components/inventory/manufacture/AddManufacture.js\";\nimport { Card, Form, Row } from \"antd\";\nimport React from \"react\";\nimport { INPUT_FIELD, SUCCESS_MSG_TYPE } from \"../../../constants/dataKeys\";\nimport DynamicFieldsForm from \"../../common/DynamicFieldsForm\";\nimport { displayMessage, getAPI, interpolate } from \"../../../utils/common\";\nimport { MANUFACTURER_API, SINGLE_MANUFACTURER_API, SINGLE_VENDOR_API } from \"../../../constants/api\";\nimport { Route } from \"react-router\";\nimport { Redirect } from \"react-router-dom\";\n\nvar AddManufacture =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddManufacture, _React$Component);\n\n  function AddManufacture(props) {\n    var _this;\n\n    _classCallCheck(this, AddManufacture);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddManufacture).call(this, props));\n\n    _this.changeRedirect = function () {\n      var redirectVar = _this.state.redirect;\n\n      _this.setState({\n        redirect: !redirectVar\n      });\n    };\n\n    _this.state = {\n      editData: _this.props.editData ? _this.props.editData : null\n    };\n    return _this;\n  }\n\n  _createClass(AddManufacture, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.match.params.id) {\n        if (!this.state.editData) {\n          this.loadData();\n        }\n      }\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData() {\n      var that = this;\n\n      var successFn = function successFn(data) {\n        that.setState({\n          editData: data\n        });\n      };\n\n      var errorFn = function errorFn() {};\n\n      getAPI(interpolate(SINGLE_VENDOR_API, [this.props.match.params.id]), successFn, errorFn);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var that = this;\n      var fields = [{\n        label: \"Name\",\n        key: \"name\",\n        initialValue: this.state.editData ? this.state.editData.name : null,\n        type: INPUT_FIELD\n      }];\n      var editformProp;\n\n      if (this.state.editData) {\n        editformProp = {\n          successFn: function successFn(data) {\n            displayMessage(SUCCESS_MSG_TYPE, \"success\");\n            that.props.loadData();\n            console.log(data);\n          },\n          errorFn: function errorFn() {},\n          action: interpolate(SINGLE_MANUFACTURER_API, [this.props.match.params.id]),\n          method: \"put\"\n        };\n      }\n\n      var TestFormLayout = Form.create()(DynamicFieldsForm);\n      var formProp = {\n        successFn: function successFn(data) {\n          displayMessage(SUCCESS_MSG_TYPE, \"success\");\n          that.props.loadData();\n          console.log(data);\n        },\n        errorFn: function errorFn() {},\n        action: MANUFACTURER_API,\n        method: \"post\"\n      };\n      var defaultValues = [{\n        \"key\": \"practice\",\n        \"value\": this.props.active_practiceId\n      }];\n      return React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/inventory/manufacture/edit/:id\",\n        render: function render() {\n          return _this2.props.match.params.id ? React.createElement(TestFormLayout, {\n            defaultValues: defaultValues,\n            title: \"Edit Manufacturer\",\n            changeRedirect: _this2.changeRedirect,\n            formProp: editformProp,\n            fields: fields,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }) : React.createElement(Redirect, {\n            to: '/inventory/manufacture',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/inventory/manufacture/add\",\n        render: function render() {\n          return React.createElement(TestFormLayout, {\n            title: \"Add Manufacturer\",\n            changeRedirect: _this2.changeRedirect,\n            formProp: formProp,\n            fields: fields,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), this.state.redirect && React.createElement(Redirect, {\n        to: '/inventory/manufacture',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AddManufacture;\n}(React.Component);\n\nexport { AddManufacture as default };","map":{"version":3,"sources":["/home/shivam/WorkSpace/bk-erp-front/src/app/components/inventory/manufacture/AddManufacture.js"],"names":["Card","Form","Row","React","INPUT_FIELD","SUCCESS_MSG_TYPE","DynamicFieldsForm","displayMessage","getAPI","interpolate","MANUFACTURER_API","SINGLE_MANUFACTURER_API","SINGLE_VENDOR_API","Route","Redirect","AddManufacture","props","changeRedirect","redirectVar","state","redirect","setState","editData","match","params","id","loadData","that","successFn","data","errorFn","fields","label","key","initialValue","name","type","editformProp","console","log","action","method","TestFormLayout","create","formProp","defaultValues","active_practiceId","Component"],"mappings":"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","sourcesContent":["import {Card, Form, Row} from \"antd\";\nimport React from \"react\";\nimport {\n    INPUT_FIELD,\n    SUCCESS_MSG_TYPE,\n} from \"../../../constants/dataKeys\";\nimport DynamicFieldsForm from \"../../common/DynamicFieldsForm\";\nimport {displayMessage, getAPI, interpolate} from \"../../../utils/common\";\nimport {\n    MANUFACTURER_API, SINGLE_MANUFACTURER_API, SINGLE_VENDOR_API\n} from \"../../../constants/api\";\nimport {Route} from \"react-router\";\nimport {Redirect} from \"react-router-dom\";\n\n\nexport default class AddManufacture extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            editData: this.props.editData ? this.props.editData : null\n        }\n    }\n\n    changeRedirect = () => {\n        var redirectVar = this.state.redirect;\n        this.setState({\n            redirect: !redirectVar,\n        });\n    }\n\n    componentDidMount() {\n        if (this.props.match.params.id) {\n            if (!this.state.editData) {\n                this.loadData();\n            }\n        }\n    }\n\n    loadData() {\n        let that = this;\n        let successFn = function (data) {\n            that.setState({\n                editData: data,\n            })\n        }\n        let errorFn = function () {\n\n        }\n        getAPI(interpolate(SINGLE_VENDOR_API, [this.props.match.params.id]), successFn, errorFn);\n\n\n    }\n\n\n    render() {\n        let that = this;\n        const fields = [{\n            label: \"Name\",\n            key: \"name\",\n            initialValue: this.state.editData ? this.state.editData.name : null,\n            type: INPUT_FIELD\n        },];\n\n\n        let editformProp;\n        if (this.state.editData) {\n            editformProp = {\n                successFn: function (data) {\n                    displayMessage(SUCCESS_MSG_TYPE, \"success\");\n                    that.props.loadData();\n                    console.log(data);\n                },\n                errorFn: function () {\n\n                },\n                action: interpolate(SINGLE_MANUFACTURER_API, [this.props.match.params.id]),\n                method: \"put\",\n\n            }\n        }\n        const TestFormLayout = Form.create()(DynamicFieldsForm);\n\n        const formProp = {\n            successFn: function (data) {\n                displayMessage(SUCCESS_MSG_TYPE, \"success\");\n                that.props.loadData();\n\n                console.log(data);\n            },\n            errorFn: function () {\n\n            },\n            action: MANUFACTURER_API,\n            method: \"post\",\n        }\n        const defaultValues = [{\"key\": \"practice\", \"value\": this.props.active_practiceId}];\n        return <Row>\n            <Card>\n                <Route exact path='/inventory/manufacture/edit/:id'\n                       render={() => (this.props.match.params.id ?\n                           <TestFormLayout defaultValues={defaultValues} title=\"Edit Manufacturer\"\n                                           changeRedirect={this.changeRedirect} formProp={editformProp}\n                                           fields={fields}/> : <Redirect to={'/inventory/manufacture'}/>)}/>\n                <Route exact path='/inventory/manufacture/add'\n                       render={() => <TestFormLayout title=\"Add Manufacturer\" changeRedirect={this.changeRedirect}\n                                                     formProp={formProp} fields={fields}/>}/>\n\n\n            </Card>\n            {this.state.redirect && <Redirect to={'/inventory/manufacture'}/>}\n        </Row>\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}