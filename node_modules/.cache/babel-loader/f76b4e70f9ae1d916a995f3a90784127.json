{"ast":null,"code":"import _classCallCheck from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/shivam/WorkSpace/bk-erp-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/shivam/WorkSpace/bk-erp-front/src/app/components/settings/options/loyalty/Offers.js\";\nimport React from \"react\";\nimport DynamicFieldsForm from \"../../../common/DynamicFieldsForm\";\nimport { Button, Card, Divider, Form, Icon, Popconfirm, Row, Table } from \"antd\";\nimport { CHECKBOX_FIELD, INPUT_FIELD, RADIO_FIELD, SELECT_FIELD } from \"../../../../constants/dataKeys\";\nimport { Link } from \"react-router-dom\";\nimport { ALL_PRACTICE, OFFERS } from \"../../../../constants/api\";\nimport { getAPI, deleteAPI, interpolate, postAPI } from \"../../../../utils/common\";\nimport CustomizedTable from \"../../../common/CustomizedTable\";\n\nvar Offers =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Offers, _React$Component);\n\n  function Offers(props) {\n    var _this;\n\n    _classCallCheck(this, Offers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Offers).call(this, props));\n    _this.state = {\n      offers: null\n    };\n    _this.loadData = _this.loadData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteObject = _this.deleteObject.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Offers, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.loadData();\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData() {\n      var that = this;\n\n      var successFn = function successFn(data) {\n        console.log(\"get table\");\n        that.setState({\n          offers: data\n        });\n      };\n\n      var errorFn = function errorFn() {};\n\n      getAPI(interpolate(OFFERS, [this.props.active_practiceId]), successFn, errorFn);\n    }\n  }, {\n    key: \"deleteObject\",\n    value: function deleteObject(record) {\n      var that = this;\n      var reqData = record;\n      reqData.is_active = false;\n\n      var successFn = function successFn(data) {\n        that.loadData();\n      };\n\n      var errorFn = function errorFn() {};\n\n      postAPI(interpolate(OFFERS, [this.props.active_practiceId]), reqData, successFn, errorFn);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var that = this;\n      var columns = [{\n        title: 'Name',\n        dataIndex: 'code',\n        key: 'code'\n      }, {\n        title: 'Description',\n        dataIndex: 'description',\n        key: 'description'\n      }, {\n        title: 'Discount',\n        dataIndex: 'discount',\n        key: 'discount'\n      }, {\n        title: 'Discount Unit',\n        dataIndex: 'unit',\n        key: 'unit'\n      }, {\n        title: 'Action',\n        key: 'action',\n        render: function render(text, record) {\n          return React.createElement(Popconfirm, {\n            title: \"Are you sure delete this prescription?\",\n            onConfirm: function onConfirm() {\n              return that.deleteObject(record);\n            },\n            okText: \"Yes\",\n            cancelText: \"No\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, \"Delete\"));\n        }\n      }];\n      return React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"All Offers\", React.createElement(Link, {\n        to: \"/settings/loyalty/add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        style: {\n          float: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), \"\\xA0Add\"))), React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(CustomizedTable, {\n        columns: columns,\n        dataSource: this.state.offers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Offers;\n}(React.Component);\n\nexport default Offers;","map":{"version":3,"sources":["/home/shivam/WorkSpace/bk-erp-front/src/app/components/settings/options/loyalty/Offers.js"],"names":["React","DynamicFieldsForm","Button","Card","Divider","Form","Icon","Popconfirm","Row","Table","CHECKBOX_FIELD","INPUT_FIELD","RADIO_FIELD","SELECT_FIELD","Link","ALL_PRACTICE","OFFERS","getAPI","deleteAPI","interpolate","postAPI","CustomizedTable","Offers","props","state","offers","loadData","bind","deleteObject","that","successFn","data","console","log","setState","errorFn","active_practiceId","record","reqData","is_active","columns","title","dataIndex","key","render","text","float","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport DynamicFieldsForm from \"../../../common/DynamicFieldsForm\";\nimport {Button, Card, Divider, Form, Icon, Popconfirm, Row, Table} from \"antd\";\nimport {CHECKBOX_FIELD, INPUT_FIELD, RADIO_FIELD, SELECT_FIELD} from \"../../../../constants/dataKeys\";\nimport {Link} from \"react-router-dom\";\nimport {ALL_PRACTICE, OFFERS} from \"../../../../constants/api\";\nimport {getAPI, deleteAPI, interpolate, postAPI} from \"../../../../utils/common\";\nimport CustomizedTable from \"../../../common/CustomizedTable\";\n\nclass Offers extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            offers: null\n        }\n        this.loadData = this.loadData.bind(this);\n        this.deleteObject = this.deleteObject.bind(this);\n    }\n\n    componentWillMount() {\n        this.loadData()\n    }\n\n    loadData() {\n        var that = this;\n        let successFn = function (data) {\n            console.log(\"get table\");\n            that.setState({\n                offers: data,\n            })\n        };\n        let errorFn = function () {\n        };\n        getAPI(interpolate(OFFERS, [this.props.active_practiceId]), successFn, errorFn);\n    }\n\n    deleteObject(record) {\n        let that = this;\n        let reqData = record;\n        reqData.is_active = false;\n        let successFn = function (data) {\n            that.loadData();\n        }\n        let errorFn = function () {\n        }\n        postAPI(interpolate(OFFERS, [this.props.active_practiceId]), reqData, successFn, errorFn);\n    }\n\n    render() {\n        let that = this;\n        const columns = [{\n            title: 'Name',\n            dataIndex: 'code',\n            key: 'code',\n        }, {\n            title: 'Description',\n            dataIndex: 'description',\n            key: 'description',\n        }, {\n            title: 'Discount',\n            dataIndex: 'discount',\n            key: 'discount',\n        }, {\n            title: 'Discount Unit',\n            dataIndex: 'unit',\n            key: 'unit'\n        }, {\n            title: 'Action',\n            key: 'action',\n            render: (text, record) => (\n                <Popconfirm title=\"Are you sure delete this prescription?\" onConfirm={() => that.deleteObject(record)}\n                            okText=\"Yes\" cancelText=\"No\">\n                    <a>\n                        Delete\n                    </a>\n                </Popconfirm>\n            ),\n        }];\n        return <Row>\n            <h2>All Offers\n                <Link to=\"/settings/loyalty/add\">\n                    <Button type=\"primary\" style={{float: 'right'}}>\n                        <Icon type=\"plus\"/>&nbsp;Add\n                    </Button>\n                </Link>\n            </h2>\n            <Card>\n                <CustomizedTable columns={columns} dataSource={this.state.offers}/>\n\n            </Card>\n        </Row>\n    }\n}\n\nexport default Offers;\n"]},"metadata":{},"sourceType":"module"}